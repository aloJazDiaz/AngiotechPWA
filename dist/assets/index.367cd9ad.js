var fy=Object.defineProperty;var py=(i,e,s)=>e in i?fy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var my=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var nm=(i,e,s)=>(py(i,typeof e!="symbol"?e+"":e,s),s),km=(i,e,s)=>{if(!e.has(i))throw TypeError("Cannot "+s)};var mp=(i,e,s)=>(km(i,e,"read from private field"),s?s.call(i):e.get(i)),Dp=(i,e,s)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,s)},Bp=(i,e,s,o)=>(km(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s),Om=(i,e,s,o)=>({set _(a){Bp(i,e,a,s)},get _(){return mp(i,e,o)}}),Mp=(i,e,s)=>(km(i,e,"access private method"),s);var gy=my((exports,module)=>{function _mergeNamespaces(i,e){for(var s=0;s<e.length;s++){const o=e[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerpolicy&&(c.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?c.credentials="include":a.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){var e=i.default;if(typeof e=="function"){var s=function(){return e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var a=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return i[o]}})}),s}var react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$3&&i[z$3]||i["@@iterator"],typeof i=="function"?i:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(i,e,s){this.props=i,this.context=e,this.refs=D$3,this.updater=s||B$3}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$2.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$3(i,e,s){this.props=i,this.context=e,this.refs=D$3,this.updater=s||B$3}var H$3=G$3.prototype=new F$1;H$3.constructor=G$3;C$3(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(i,e,s){var o,a={},c=null,d=null;if(e!=null)for(o in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(c=""+e.key),e)J$1.call(e,o)&&!L$3.hasOwnProperty(o)&&(a[o]=e[o]);var h=arguments.length-2;if(h===1)a.children=s;else if(1<h){for(var g=Array(h),_=0;_<h;_++)g[_]=arguments[_+2];a.children=g}if(i&&i.defaultProps)for(o in h=i.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$2,type:i,key:c,ref:d,props:a,_owner:K$3.current}}function N$3(i,e){return{$$typeof:l$2,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$3(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape$1(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return e[s]})}var P$3=/\/+/g;function Q$3(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):e.toString(36)}function R$2(i,e,s,o,a){var c=typeof i;(c==="undefined"||c==="boolean")&&(i=null);var d=!1;if(i===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(i.$$typeof){case l$2:case n$1:d=!0}}if(d)return d=i,a=a(d),i=o===""?"."+Q$3(d,0):o,I$2(a)?(s="",i!=null&&(s=i.replace(P$3,"$&/")+"/"),R$2(a,e,s,"",function(_){return _})):a!=null&&(O$3(a)&&(a=N$3(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$3,"$&/")+"/")+i)),e.push(a)),1;if(d=0,o=o===""?".":o+":",I$2(i))for(var h=0;h<i.length;h++){c=i[h];var g=o+Q$3(c,h);d+=R$2(c,e,s,g,a)}else if(g=A$2(i),typeof g=="function")for(i=g.call(i),h=0;!(c=i.next()).done;)c=c.value,g=o+Q$3(c,h++),d+=R$2(c,e,s,g,a);else if(c==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function S$3(i,e,s){if(i==null)return i;var o=[],a=0;return R$2(i,o,"","",function(c){return e.call(s,c,a++)}),o}function T$2(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(i,e,s){S$3(i,function(){e.apply(this,arguments)},s)},count:function(i){var e=0;return S$3(i,function(){e++}),e},toArray:function(i){return S$3(i,function(e){return e})||[]},only:function(i){if(!O$3(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(i,e,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$3({},i.props),a=i.key,c=i.ref,d=i._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,d=K$3.current),e.key!==void 0&&(a=""+e.key),i.type&&i.type.defaultProps)var h=i.type.defaultProps;for(g in e)J$1.call(e,g)&&!L$3.hasOwnProperty(g)&&(o[g]=e[g]===void 0&&h!==void 0?h[g]:e[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){h=Array(g);for(var _=0;_<g;_++)h[_]=arguments[_+2];o.children=h}return{$$typeof:l$2,type:i.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$3;react_production_min.createFactory=function(i){var e=M$3.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$2}};react_production_min.memo=function(i,e){return{$$typeof:x$2,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$3.transition;V$3.transition={};try{i()}finally{V$3.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,e){return U$3.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$3.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$3.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$3.current.useEffect(i,e)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(i,e,s){return U$3.current.useImperativeHandle(i,e,s)};react_production_min.useInsertionEffect=function(i,e){return U$3.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$3.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$3.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,s){return U$3.current.useReducer(i,e,s)};react_production_min.useRef=function(i){return U$3.current.useRef(i)};react_production_min.useState=function(i){return U$3.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,s){return U$3.current.useSyncExternalStore(i,e,s)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react$1);const React$6=getDefaultExportFromCjs(react$1.exports),React$7=_mergeNamespaces({__proto__:null,default:React$6},[react$1.exports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(up,$p){var yp=up.length;up.push($p);e:for(;0<yp;){var dp=yp-1>>>1,ep=up[dp];if(0<a(ep,$p))up[dp]=$p,up[yp]=ep,yp=dp;else break e}}function s(up){return up.length===0?null:up[0]}function o(up){if(up.length===0)return null;var $p=up[0],yp=up.pop();if(yp!==$p){up[0]=yp;e:for(var dp=0,ep=up.length,Ql=ep>>>1;dp<Ql;){var Jl=2*(dp+1)-1,np=up[Jl],cp=Jl+1,fp=up[cp];if(0>a(np,yp))cp<ep&&0>a(fp,np)?(up[dp]=fp,up[cp]=yp,dp=cp):(up[dp]=np,up[Jl]=yp,dp=Jl);else if(cp<ep&&0>a(fp,yp))up[dp]=fp,up[cp]=yp,dp=cp;else break e}}return $p}function a(up,$p){var yp=up.sortIndex-$p.sortIndex;return yp!==0?yp:up.id-$p.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var g=[],_=[],$l=1,Rl=null,Ml=3,Ul=!1,Fl=!1,Ll=!1,Bl=typeof setTimeout=="function"?setTimeout:null,zl=typeof clearTimeout=="function"?clearTimeout:null,Hl=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Wl(up){for(var $p=s(_);$p!==null;){if($p.callback===null)o(_);else if($p.startTime<=up)o(_),$p.sortIndex=$p.expirationTime,e(g,$p);else break;$p=s(_)}}function Yl(up){if(Ll=!1,Wl(up),!Fl)if(s(g)!==null)Fl=!0,gp(Xl);else{var $p=s(_);$p!==null&&rp(Yl,$p.startTime-up)}}function Xl(up,$p){Fl=!1,Ll&&(Ll=!1,zl(Kl),Kl=-1),Ul=!0;var yp=Ml;try{for(Wl($p),Rl=s(g);Rl!==null&&(!(Rl.expirationTime>$p)||up&&!tp());){var dp=Rl.callback;if(typeof dp=="function"){Rl.callback=null,Ml=Rl.priorityLevel;var ep=dp(Rl.expirationTime<=$p);$p=i.unstable_now(),typeof ep=="function"?Rl.callback=ep:Rl===s(g)&&o(g),Wl($p)}else o(g);Rl=s(g)}if(Rl!==null)var Ql=!0;else{var Jl=s(_);Jl!==null&&rp(Yl,Jl.startTime-$p),Ql=!1}return Ql}finally{Rl=null,Ml=yp,Ul=!1}}var Gl=!1,_d=null,Kl=-1,ru=5,Zl=-1;function tp(){return!(i.unstable_now()-Zl<ru)}function op(){if(_d!==null){var up=i.unstable_now();Zl=up;var $p=!0;try{$p=_d(!0,up)}finally{$p?bp():(Gl=!1,_d=null)}}else Gl=!1}var bp;if(typeof Hl=="function")bp=function(){Hl(op)};else if(typeof MessageChannel<"u"){var ap=new MessageChannel,hp=ap.port2;ap.port1.onmessage=op,bp=function(){hp.postMessage(null)}}else bp=function(){Bl(op,0)};function gp(up){_d=up,Gl||(Gl=!0,bp())}function rp(up,$p){Kl=Bl(function(){up(i.unstable_now())},$p)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(up){up.callback=null},i.unstable_continueExecution=function(){Fl||Ul||(Fl=!0,gp(Xl))},i.unstable_forceFrameRate=function(up){0>up||125<up?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ru=0<up?Math.floor(1e3/up):5},i.unstable_getCurrentPriorityLevel=function(){return Ml},i.unstable_getFirstCallbackNode=function(){return s(g)},i.unstable_next=function(up){switch(Ml){case 1:case 2:case 3:var $p=3;break;default:$p=Ml}var yp=Ml;Ml=$p;try{return up()}finally{Ml=yp}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(up,$p){switch(up){case 1:case 2:case 3:case 4:case 5:break;default:up=3}var yp=Ml;Ml=up;try{return $p()}finally{Ml=yp}},i.unstable_scheduleCallback=function(up,$p,yp){var dp=i.unstable_now();switch(typeof yp=="object"&&yp!==null?(yp=yp.delay,yp=typeof yp=="number"&&0<yp?dp+yp:dp):yp=dp,up){case 1:var ep=-1;break;case 2:ep=250;break;case 5:ep=1073741823;break;case 4:ep=1e4;break;default:ep=5e3}return ep=yp+ep,up={id:$l++,callback:$p,priorityLevel:up,startTime:yp,expirationTime:ep,sortIndex:-1},yp>dp?(up.sortIndex=yp,e(_,up),s(g)===null&&up===s(_)&&(Ll?(zl(Kl),Kl=-1):Ll=!0,rp(Yl,yp-dp))):(up.sortIndex=ep,e(g,up),Fl||Ul||(Fl=!0,gp(Xl))),up},i.unstable_shouldYield=tp,i.unstable_wrapCallback=function(up){var $p=Ml;return function(){var yp=Ml;Ml=$p;try{return up.apply(this,arguments)}finally{Ml=yp}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=react$1.exports,ca$2=scheduler.exports;function p$2(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$2={};function fa$2(i,e){ha$1(i,e),ha$1(i+"Capture",e)}function ha$1(i,e){for(ea$2[i]=e,i=0;i<e.length;i++)da$2.add(e[i])}var ia$2=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$2=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$2={};function oa$2(i){return ja$2.call(ma$2,i)?!0:ja$2.call(la$1,i)?!1:ka$1.test(i)?ma$2[i]=!0:(la$1[i]=!0,!1)}function pa$2(i,e,s,o){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa$2(i,e,s,o){if(e===null||typeof e>"u"||pa$2(i,e,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$2(i,e,s,o,a,c,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=i,this.type=e,this.sanitizeURL=c,this.removeEmptyString=d}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$2[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z$2[e]=new v$2(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$2[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$2[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$2[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$2[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$2[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$2[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$2[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra$2=/[\-:]([a-z])/g;function sa$2(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra$2,sa$2);z$2[e]=new v$2(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra$2,sa$2);z$2[e]=new v$2(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra$2,sa$2);z$2[e]=new v$2(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$2[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$2[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta$2(i,e,s,o){var a=z$2.hasOwnProperty(e)?z$2[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa$2(e,s,a,o)&&(s=null),o||a===null?oa$2(e)&&(s===null?i.removeAttribute(e):i.setAttribute(e,""+s)):a.mustUseProperty?i[a.propertyName]=s===null?a.type===3?!1:"":s:(e=a.attributeName,o=a.attributeNamespace,s===null?i.removeAttribute(e):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?i.setAttributeNS(o,e,s):i.setAttribute(e,s))))}var ua$2=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$2=Symbol.for("react.element"),wa$2=Symbol.for("react.portal"),ya$2=Symbol.for("react.fragment"),za$2=Symbol.for("react.strict_mode"),Aa$2=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$2=Symbol.for("react.suspense"),Fa$2=Symbol.for("react.suspense_list"),Ga$2=Symbol.for("react.memo"),Ha$2=Symbol.for("react.lazy"),Ia$2=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$2(i){return i===null||typeof i!="object"?null:(i=Ja$1&&i[Ja$1]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La$1;function Ma$2(i){if(La$1===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La$1=e&&e[1]||""}return`
`+La$1+i}var Na$2=!1;function Oa$2(i,e){if(!i||Na$2)return"";Na$2=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var o=_}Reflect.construct(i,[],e)}else{try{e.call()}catch(_){o=_}i.call(e.prototype)}else{try{throw Error()}catch(_){o=_}i()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return i.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",i.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na$2=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma$2(i):""}function Pa$2(i){switch(i.tag){case 5:return Ma$2(i.type);case 16:return Ma$2("Lazy");case 13:return Ma$2("Suspense");case 19:return Ma$2("SuspenseList");case 0:case 2:case 15:return i=Oa$2(i.type,!1),i;case 11:return i=Oa$2(i.type.render,!1),i;case 1:return i=Oa$2(i.type,!0),i;default:return""}}function Qa$2(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya$2:return"Fragment";case wa$2:return"Portal";case Aa$2:return"Profiler";case za$2:return"StrictMode";case Ea$2:return"Suspense";case Fa$2:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca$1:return(i.displayName||"Context")+".Consumer";case Ba$1:return(i._context.displayName||"Context")+".Provider";case Da$1:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga$2:return e=i.displayName||null,e!==null?e:Qa$2(i.type)||"Memo";case Ha$2:e=i._payload,i=i._init;try{return Qa$2(i(e))}catch{}}return null}function Ra$2(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$2(e);case 8:return e===za$2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa$2(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta$2(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua$2(i){var e=Ta$2(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),o=""+i[e];if(!i.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(i,e,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va$2(i){i._valueTracker||(i._valueTracker=Ua$2(i))}function Wa$2(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var s=e.getValue(),o="";return i&&(o=Ta$2(i)?i.checked?"true":"false":i.value),i=o,i!==s?(e.setValue(i),!0):!1}function Xa$2(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya$2(i,e){var s=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s!=null?s:i._wrapperState.initialChecked})}function Za$1(i,e){var s=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;s=Sa$2(e.value!=null?e.value:s),i._wrapperState={initialChecked:o,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab$1(i,e){e=e.checked,e!=null&&ta$2(i,"checked",e,!1)}function bb$1(i,e){ab$1(i,e);var s=Sa$2(e.value),o=e.type;if(s!=null)o==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb$1(i,e.type,s):e.hasOwnProperty("defaultValue")&&cb$1(i,e.type,Sa$2(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db$2(i,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,s||e===i.value||(i.value=e),i.defaultValue=e}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb$1(i,e,s){(e!=="number"||Xa$2(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb$1=Array.isArray;function fb$1(i,e,s,o){if(i=i.options,e){e={};for(var a=0;a<s.length;a++)e["$"+s[a]]=!0;for(s=0;s<i.length;s++)a=e.hasOwnProperty("$"+i[s].value),i[s].selected!==a&&(i[s].selected=a),a&&o&&(i[s].defaultSelected=!0)}else{for(s=""+Sa$2(s),e=null,a=0;a<i.length;a++){if(i[a].value===s){i[a].selected=!0,o&&(i[a].defaultSelected=!0);return}e!==null||i[a].disabled||(e=i[a])}e!==null&&(e.selected=!0)}}function gb$1(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb$1(i,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p$2(92));if(eb$1(s)){if(1<s.length)throw Error(p$2(93));s=s[0]}e=s}e==null&&(e=""),s=e}i._wrapperState={initialValue:Sa$2(s)}}function ib$1(i,e){var s=Sa$2(e.value),o=Sa$2(e.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),e.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),o!=null&&(i.defaultValue=""+o)}function jb$1(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb$1(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb$1(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb$1,nb$1=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,o,a){MSApp.execUnsafeLocalFunction(function(){return i(e,s,o,a)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb$1.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob$1(i,e){if(e){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=e;return}}i.textContent=e}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(i){qb$1.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb$1[e]=pb$1[i]})});function rb$1(i,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb$1.hasOwnProperty(i)&&pb$1[i]?(""+e).trim():e+"px"}function sb$1(i,e){i=i.style;for(var s in e)if(e.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb$1(s,e[s],o);s==="float"&&(s="cssFloat"),o?i.setProperty(s,a):i[s]=a}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb$1(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(i){if(i=Cb$1(i)){if(typeof yb$1!="function")throw Error(p$2(280));var e=i.stateNode;e&&(e=Db$1(e),yb$1(i.stateNode,i.type,e))}}function Eb$1(i){zb$1?Ab$1?Ab$1.push(i):Ab$1=[i]:zb$1=i}function Fb$1(){if(zb$1){var i=zb$1,e=Ab$1;if(Ab$1=zb$1=null,Bb$1(i),e)for(i=0;i<e.length;i++)Bb$1(e[i])}}function Gb$1(i,e){return i(e)}function Hb$1(){}var Ib$1=!1;function Jb$1(i,e,s){if(Ib$1)return i(e,s);Ib$1=!0;try{return Gb$1(i,e,s)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(i,e){var s=i.stateNode;if(s===null)return null;var o=Db$1(s);if(o===null)return null;s=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$2(231,e,typeof s));return s}var Lb$1=!1;if(ia$2)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(i,e,s,o,a,c,d,h,g){var _=Array.prototype.slice.call(arguments,3);try{e.apply(s,_)}catch($l){this.onError($l)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(i){Ob$1=!0,Pb$1=i}};function Tb$1(i,e,s,o,a,c,d,h,g){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(i,e,s,o,a,c,d,h,g){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var _=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$2(198));Qb$1||(Qb$1=!0,Rb$1=_)}}function Vb$1(i){var e=i,s=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,(e.flags&4098)!==0&&(s=e.return),i=e.return;while(i)}return e.tag===3?s:null}function Wb$1(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb$1(i){if(Vb$1(i)!==i)throw Error(p$2(188))}function Yb$1(i){var e=i.alternate;if(!e){if(e=Vb$1(i),e===null)throw Error(p$2(188));return e!==i?null:i}for(var s=i,o=e;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb$1(a),i;if(c===o)return Xb$1(a),e;c=c.sibling}throw Error(p$2(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===s){d=!0,s=a,o=c;break}if(h===o){d=!0,o=a,s=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===s){d=!0,s=c,o=a;break}if(h===o){d=!0,o=c,s=a;break}h=h.sibling}if(!d)throw Error(p$2(189))}}if(s.alternate!==o)throw Error(p$2(190))}if(s.tag!==3)throw Error(p$2(188));return s.stateNode.current===s?i:e}function Zb$1(i){return i=Yb$1(i),i!==null?$b$1(i):null}function $b$1(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b$1(i);if(e!==null)return e;i=i.sibling}return null}var ac$2=ca$2.unstable_scheduleCallback,bc$2=ca$2.unstable_cancelCallback,cc$2=ca$2.unstable_shouldYield,dc$2=ca$2.unstable_requestPaint,B$2=ca$2.unstable_now,ec$2=ca$2.unstable_getCurrentPriorityLevel,fc$2=ca$2.unstable_ImmediatePriority,gc$2=ca$2.unstable_UserBlockingPriority,hc$2=ca$2.unstable_NormalPriority,ic$2=ca$2.unstable_LowPriority,jc$2=ca$2.unstable_IdlePriority,kc$2=null,lc$2=null;function mc$2(i){if(lc$2&&typeof lc$2.onCommitFiberRoot=="function")try{lc$2.onCommitFiberRoot(kc$2,i,void 0,(i.current.flags&128)===128)}catch{}}var oc$2=Math.clz32?Math.clz32:nc$2,pc$2=Math.log,qc$2=Math.LN2;function nc$2(i){return i>>>=0,i===0?32:31-(pc$2(i)/qc$2|0)|0}var rc$2=64,sc$2=4194304;function tc$2(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc$2(i,e){var s=i.pendingLanes;if(s===0)return 0;var o=0,a=i.suspendedLanes,c=i.pingedLanes,d=s&268435455;if(d!==0){var h=d&~a;h!==0?o=tc$2(h):(c&=d,c!==0&&(o=tc$2(c)))}else d=s&~a,d!==0?o=tc$2(d):c!==0&&(o=tc$2(c));if(o===0)return 0;if(e!==0&&e!==o&&(e&a)===0&&(a=o&-o,c=e&-e,a>=c||a===16&&(c&4194240)!==0))return e;if((o&4)!==0&&(o|=s&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=o;0<e;)s=31-oc$2(e),a=1<<s,o|=i[s],e&=~a;return o}function vc$2(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$2(i,e){for(var s=i.suspendedLanes,o=i.pingedLanes,a=i.expirationTimes,c=i.pendingLanes;0<c;){var d=31-oc$2(c),h=1<<d,g=a[d];g===-1?((h&s)===0||(h&o)!==0)&&(a[d]=vc$2(h,e)):g<=e&&(i.expiredLanes|=h),c&=~h}}function xc$2(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc$2(){var i=rc$2;return rc$2<<=1,(rc$2&4194240)===0&&(rc$2=64),i}function zc$2(i){for(var e=[],s=0;31>s;s++)e.push(i);return e}function Ac$2(i,e,s){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc$2(e),i[e]=s}function Bc$2(i,e){var s=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<s;){var a=31-oc$2(s),c=1<<a;e[a]=0,o[a]=-1,i[a]=-1,s&=~c}}function Cc$2(i,e){var s=i.entangledLanes|=e;for(i=i.entanglements;s;){var o=31-oc$2(s),a=1<<o;a&e|i[o]&e&&(i[o]|=e),s&=~a}}var C$2=0;function Dc$2(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ec$2,Fc$2,Gc$2,Hc$2,Ic$2,Jc$2=!1,Kc$2=[],Lc$2=null,Mc$2=null,Nc$2=null,Oc$2=new Map,Pc$2=new Map,Qc$2=[],Rc$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$2(i,e){switch(i){case"focusin":case"focusout":Lc$2=null;break;case"dragenter":case"dragleave":Mc$2=null;break;case"mouseover":case"mouseout":Nc$2=null;break;case"pointerover":case"pointerout":Oc$2.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$2.delete(e.pointerId)}}function Tc$2(i,e,s,o,a,c){return i===null||i.nativeEvent!==c?(i={blockedOn:e,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},e!==null&&(e=Cb$1(e),e!==null&&Fc$2(e)),i):(i.eventSystemFlags|=o,e=i.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),i)}function Uc$2(i,e,s,o,a){switch(e){case"focusin":return Lc$2=Tc$2(Lc$2,i,e,s,o,a),!0;case"dragenter":return Mc$2=Tc$2(Mc$2,i,e,s,o,a),!0;case"mouseover":return Nc$2=Tc$2(Nc$2,i,e,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc$2.set(c,Tc$2(Oc$2.get(c)||null,i,e,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc$2.set(c,Tc$2(Pc$2.get(c)||null,i,e,s,o,a)),!0}return!1}function Vc$2(i){var e=Wc$2(i.target);if(e!==null){var s=Vb$1(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb$1(s),e!==null){i.blockedOn=e,Ic$2(i.priority,function(){Gc$2(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc$2(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var s=Yc$2(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var o=new s.constructor(s.type,s);wb$1=o,s.target.dispatchEvent(o),wb$1=null}else return e=Cb$1(s),e!==null&&Fc$2(e),i.blockedOn=s,!1;e.shift()}return!0}function Zc$2(i,e,s){Xc$2(i)&&s.delete(e)}function $c$2(){Jc$2=!1,Lc$2!==null&&Xc$2(Lc$2)&&(Lc$2=null),Mc$2!==null&&Xc$2(Mc$2)&&(Mc$2=null),Nc$2!==null&&Xc$2(Nc$2)&&(Nc$2=null),Oc$2.forEach(Zc$2),Pc$2.forEach(Zc$2)}function ad$1(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc$2||(Jc$2=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$2)))}function bd$1(i){function e(a){return ad$1(a,i)}if(0<Kc$2.length){ad$1(Kc$2[0],i);for(var s=1;s<Kc$2.length;s++){var o=Kc$2[s];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc$2!==null&&ad$1(Lc$2,i),Mc$2!==null&&ad$1(Mc$2,i),Nc$2!==null&&ad$1(Nc$2,i),Oc$2.forEach(e),Pc$2.forEach(e),s=0;s<Qc$2.length;s++)o=Qc$2[s],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc$2.length&&(s=Qc$2[0],s.blockedOn===null);)Vc$2(s),s.blockedOn===null&&Qc$2.shift()}var cd$1=ua$2.ReactCurrentBatchConfig,dd$1=!0;function ed$1(i,e,s,o){var a=C$2,c=cd$1.transition;cd$1.transition=null;try{C$2=1,fd$1(i,e,s,o)}finally{C$2=a,cd$1.transition=c}}function gd$1(i,e,s,o){var a=C$2,c=cd$1.transition;cd$1.transition=null;try{C$2=4,fd$1(i,e,s,o)}finally{C$2=a,cd$1.transition=c}}function fd$1(i,e,s,o){if(dd$1){var a=Yc$2(i,e,s,o);if(a===null)hd$1(i,e,o,id$1,s),Sc$2(i,o);else if(Uc$2(a,i,e,s,o))o.stopPropagation();else if(Sc$2(i,o),e&4&&-1<Rc$2.indexOf(i)){for(;a!==null;){var c=Cb$1(a);if(c!==null&&Ec$2(c),c=Yc$2(i,e,s,o),c===null&&hd$1(i,e,o,id$1,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd$1(i,e,o,null,s)}}var id$1=null;function Yc$2(i,e,s,o){if(id$1=null,i=xb$1(o),i=Wc$2(i),i!==null)if(e=Vb$1(i),e===null)i=null;else if(s=e.tag,s===13){if(i=Wb$1(e),i!==null)return i;i=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id$1=i,null}function jd$1(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$2()){case fc$2:return 1;case gc$2:return 4;case hc$2:case ic$2:return 16;case jc$2:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var i,e=ld$1,s=e.length,o,a="value"in kd$1?kd$1.value:kd$1.textContent,c=a.length;for(i=0;i<s&&e[i]===a[i];i++);var d=s-i;for(o=1;o<=d&&e[s-o]===a[c-o];o++);return md$1=a.slice(i,1<o?1-o:void 0)}function od$1(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(i){function e(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in i)i.hasOwnProperty(h)&&(s=i[h],this[h]=s?s(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),e}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$1({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$1({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd$1&&(yd$1&&i.type==="mousemove"?(wd$1=i.screenX-yd$1.screenX,xd$1=i.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=i),wd$1)},movementY:function(i){return"movementY"in i?i.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$1({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$1({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$1({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$1({},sd$1,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd=A$1({},sd$1,{data:0}),Ld=rd$1(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd$1(){return Pd}var Qd=A$1({},ud$1,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od$1(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(i){return i.type==="keypress"?od$1(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od$1(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd$1(Qd),Sd=A$1({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd$1(Sd),Ud=A$1({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd=rd$1(Ud),Wd=A$1({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd$1(Wd),Yd=A$1({},Ad$1,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd$1(Yd),$d=[9,13,27,32],ae$2=ia$2&&"CompositionEvent"in window,be$2=null;ia$2&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia$2&&"TextEvent"in window&&!be$2,de$2=ia$2&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=String.fromCharCode(32),fe$2=!1;function ge$2(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie$2=!1;function je$2(i,e){switch(i){case"compositionend":return he$2(e);case"keypress":return e.which!==32?null:(fe$2=!0,ee$1);case"textInput":return i=e.data,i===ee$1&&fe$2?null:i;default:return null}}function ke$2(i,e){if(ie$2)return i==="compositionend"||!ae$2&&ge$2(i,e)?(i=nd$1(),md$1=ld$1=kd$1=null,ie$2=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$2&&e.locale!=="ko"?null:e.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le$2[i.type]:e==="textarea"}function ne$1(i,e,s,o){Eb$1(o),e=oe$1(e,"onChange"),0<e.length&&(s=new td$1("onChange","change",null,s,o),i.push({event:s,listeners:e}))}var pe$2=null,qe$2=null;function re$1(i){se$2(i,0)}function te$1(i){var e=ue$2(i);if(Wa$2(e))return i}function ve$2(i,e){if(i==="change")return e}var we$2=!1;if(ia$2){var xe$2;if(ia$2){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$2=ye$2}else xe$2=!1;we$2=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$2),qe$2=pe$2=null)}function Be$2(i){if(i.propertyName==="value"&&te$1(qe$2)){var e=[];ne$1(e,qe$2,i,xb$1(i)),Jb$1(re$1,e)}}function Ce$2(i,e,s){i==="focusin"?(Ae$2(),pe$2=e,qe$2=s,pe$2.attachEvent("onpropertychange",Be$2)):i==="focusout"&&Ae$2()}function De$2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te$1(qe$2)}function Ee$2(i,e){if(i==="click")return te$1(e)}function Fe$2(i,e){if(i==="input"||i==="change")return te$1(e)}function Ge$2(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He$2=typeof Object.is=="function"?Object.is:Ge$2;function Ie$2(i,e){if(He$2(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja$2.call(e,a)||!He$2(i[a],e[a]))return!1}return!0}function Je$2(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke$2(i,e){var s=Je$2(i);i=0;for(var o;s;){if(s.nodeType===3){if(o=i+s.textContent.length,i<=e&&o>=e)return{node:s,offset:e-i};i=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je$2(s)}}function Le$2(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le$2(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me$2(){for(var i=window,e=Xa$2();e instanceof i.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)i=e.contentWindow;else break;e=Xa$2(i.document)}return e}function Ne$2(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe$2(i){var e=Me$2(),s=i.focusedElem,o=i.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le$2(s.ownerDocument.documentElement,s)){if(o!==null&&Ne$2(s)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(i,s.value.length);else if(i=(e=s.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!i.extend&&c>o&&(a=o,o=c,c=a),a=Ke$2(s,c);var d=Ke$2(s,o);a&&d&&(i.rangeCount!==1||i.anchorNode!==a.node||i.anchorOffset!==a.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),i.removeAllRanges(),c>o?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=s;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)i=e[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe$2=ia$2&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$2=null,Se$2=null,Te$2=!1;function Ue$2(i,e,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$2||Qe$1==null||Qe$1!==Xa$2(o)||(o=Qe$1,"selectionStart"in o&&Ne$2(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se$2&&Ie$2(Se$2,o)||(Se$2=o,o=oe$1(Re$2,"onSelect"),0<o.length&&(e=new td$1("onSelect","select",null,e,s),i.push({event:e,listeners:o}),e.target=Qe$1)))}function Ve$1(i,e){var s={};return s[i.toLowerCase()]=e.toLowerCase(),s["Webkit"+i]="webkit"+e,s["Moz"+i]="moz"+e,s}var We$2={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$2={},Ye$2={};ia$2&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$2.animationend.animation,delete We$2.animationiteration.animation,delete We$2.animationstart.animation),"TransitionEvent"in window||delete We$2.transitionend.transition);function Ze$2(i){if(Xe$2[i])return Xe$2[i];if(!We$2[i])return i;var e=We$2[i],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye$2)return Xe$2[i]=e[s];return i}var $e$2=Ze$2("animationend"),af=Ze$2("animationiteration"),bf=Ze$2("animationstart"),cf=Ze$2("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa$2(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$2("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,s){var o=i.type||"unknown-event";i.currentTarget=s,Ub$1(o,e,void 0,i),i.currentTarget=null}function se$2(i,e){e=(e&4)!==0;for(var s=0;s<i.length;s++){var o=i[s],a=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,_=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,_=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}}}if(Qb$1)throw i=Rb$1,Qb$1=!1,Rb$1=null,i}function D$2(i,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var o=i+"__bubble";s.has(o)||(pf(e,i,2,!1),s.add(o))}function qf(i,e,s){var o=0;e&&(o|=4),pf(s,i,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da$2.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,s,o){switch(jd$1(e)){case 1:var a=ed$1;break;case 4:a=gd$1;break;default:a=fd$1}s=a.bind(null,e,s,i),a=void 0,!Lb$1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?i.addEventListener(e,s,{capture:!0,passive:a}):i.addEventListener(e,s,!0):a!==void 0?i.addEventListener(e,s,{passive:a}):i.addEventListener(e,s,!1)}function hd$1(i,e,s,o,a){var c=o;if((e&1)===0&&(e&2)===0&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc$2(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb$1(function(){var _=c,$l=xb$1(s),Rl=[];e:{var Ml=df.get(i);if(Ml!==void 0){var Ul=td$1,Fl=i;switch(i){case"keypress":if(od$1(s)===0)break e;case"keydown":case"keyup":Ul=Rd;break;case"focusin":Fl="focus",Ul=Fd$1;break;case"focusout":Fl="blur",Ul=Fd$1;break;case"beforeblur":case"afterblur":Ul=Fd$1;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ul=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ul=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ul=Vd;break;case $e$2:case af:case bf:Ul=Hd$1;break;case cf:Ul=Xd;break;case"scroll":Ul=vd$1;break;case"wheel":Ul=Zd;break;case"copy":case"cut":case"paste":Ul=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ul=Td}var Ll=(e&4)!==0,Bl=!Ll&&i==="scroll",zl=Ll?Ml!==null?Ml+"Capture":null:Ml;Ll=[];for(var Hl=_,Wl;Hl!==null;){Wl=Hl;var Yl=Wl.stateNode;if(Wl.tag===5&&Yl!==null&&(Wl=Yl,zl!==null&&(Yl=Kb$1(Hl,zl),Yl!=null&&Ll.push(tf(Hl,Yl,Wl)))),Bl)break;Hl=Hl.return}0<Ll.length&&(Ml=new Ul(Ml,Fl,null,s,$l),Rl.push({event:Ml,listeners:Ll}))}}if((e&7)===0){e:{if(Ml=i==="mouseover"||i==="pointerover",Ul=i==="mouseout"||i==="pointerout",Ml&&s!==wb$1&&(Fl=s.relatedTarget||s.fromElement)&&(Wc$2(Fl)||Fl[uf]))break e;if((Ul||Ml)&&(Ml=$l.window===$l?$l:(Ml=$l.ownerDocument)?Ml.defaultView||Ml.parentWindow:window,Ul?(Fl=s.relatedTarget||s.toElement,Ul=_,Fl=Fl?Wc$2(Fl):null,Fl!==null&&(Bl=Vb$1(Fl),Fl!==Bl||Fl.tag!==5&&Fl.tag!==6)&&(Fl=null)):(Ul=null,Fl=_),Ul!==Fl)){if(Ll=Bd$1,Yl="onMouseLeave",zl="onMouseEnter",Hl="mouse",(i==="pointerout"||i==="pointerover")&&(Ll=Td,Yl="onPointerLeave",zl="onPointerEnter",Hl="pointer"),Bl=Ul==null?Ml:ue$2(Ul),Wl=Fl==null?Ml:ue$2(Fl),Ml=new Ll(Yl,Hl+"leave",Ul,s,$l),Ml.target=Bl,Ml.relatedTarget=Wl,Yl=null,Wc$2($l)===_&&(Ll=new Ll(zl,Hl+"enter",Fl,s,$l),Ll.target=Wl,Ll.relatedTarget=Bl,Yl=Ll),Bl=Yl,Ul&&Fl)t:{for(Ll=Ul,zl=Fl,Hl=0,Wl=Ll;Wl;Wl=vf(Wl))Hl++;for(Wl=0,Yl=zl;Yl;Yl=vf(Yl))Wl++;for(;0<Hl-Wl;)Ll=vf(Ll),Hl--;for(;0<Wl-Hl;)zl=vf(zl),Wl--;for(;Hl--;){if(Ll===zl||zl!==null&&Ll===zl.alternate)break t;Ll=vf(Ll),zl=vf(zl)}Ll=null}else Ll=null;Ul!==null&&wf(Rl,Ml,Ul,Ll,!1),Fl!==null&&Bl!==null&&wf(Rl,Bl,Fl,Ll,!0)}}e:{if(Ml=_?ue$2(_):window,Ul=Ml.nodeName&&Ml.nodeName.toLowerCase(),Ul==="select"||Ul==="input"&&Ml.type==="file")var Xl=ve$2;else if(me$2(Ml))if(we$2)Xl=Fe$2;else{Xl=De$2;var Gl=Ce$2}else(Ul=Ml.nodeName)&&Ul.toLowerCase()==="input"&&(Ml.type==="checkbox"||Ml.type==="radio")&&(Xl=Ee$2);if(Xl&&(Xl=Xl(i,_))){ne$1(Rl,Xl,s,$l);break e}Gl&&Gl(i,Ml,_),i==="focusout"&&(Gl=Ml._wrapperState)&&Gl.controlled&&Ml.type==="number"&&cb$1(Ml,"number",Ml.value)}switch(Gl=_?ue$2(_):window,i){case"focusin":(me$2(Gl)||Gl.contentEditable==="true")&&(Qe$1=Gl,Re$2=_,Se$2=null);break;case"focusout":Se$2=Re$2=Qe$1=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue$2(Rl,s,$l);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$2(Rl,s,$l)}var _d;if(ae$2)e:{switch(i){case"compositionstart":var Kl="onCompositionStart";break e;case"compositionend":Kl="onCompositionEnd";break e;case"compositionupdate":Kl="onCompositionUpdate";break e}Kl=void 0}else ie$2?ge$2(i,s)&&(Kl="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Kl="onCompositionStart");Kl&&(de$2&&s.locale!=="ko"&&(ie$2||Kl!=="onCompositionStart"?Kl==="onCompositionEnd"&&ie$2&&(_d=nd$1()):(kd$1=$l,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$2=!0)),Gl=oe$1(_,Kl),0<Gl.length&&(Kl=new Ld(Kl,i,null,s,$l),Rl.push({event:Kl,listeners:Gl}),_d?Kl.data=_d:(_d=he$2(s),_d!==null&&(Kl.data=_d)))),(_d=ce$2?je$2(i,s):ke$2(i,s))&&(_=oe$1(_,"onBeforeInput"),0<_.length&&($l=new Ld("onBeforeInput","beforeinput",null,s,$l),Rl.push({event:$l,listeners:_}),$l.data=_d))}se$2(Rl,e)})}function tf(i,e,s){return{instance:i,listener:e,currentTarget:s}}function oe$1(i,e){for(var s=e+"Capture",o=[];i!==null;){var a=i,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb$1(i,s),c!=null&&o.unshift(tf(i,c,a)),c=Kb$1(i,e),c!=null&&o.push(tf(i,c,a))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,s,o,a){for(var c=e._reactName,d=[];s!==null&&s!==o;){var h=s,g=h.alternate,_=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&_!==null&&(h=_,a?(g=Kb$1(s,c),g!=null&&d.unshift(tf(s,g,h))):a||(g=Kb$1(s,c),g!=null&&d.push(tf(s,g,h)))),s=s.return}d.length!==0&&i.push({event:e,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,s){if(e=zf(e),zf(i)!==e&&s)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var s=e,o=0;do{var a=s.nextSibling;if(i.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){i.removeChild(a),bd$1(e);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd$1(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return i;e--}else s==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$2(i){var e=i[Of];if(e)return e;for(var s=i.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return e}i=s,s=i.parentNode}return null}function Cb$1(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue$2(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db$1(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E$1(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var s=i.type.contextTypes;if(!s)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=e[c];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(i,e,s){if(H$2.current!==Vf)throw Error(p$2(168));G$2(H$2,e),G$2(Wf,s)}function bg(i,e,s){var o=i.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(p$2(108,Ra$2(i)||"Unknown",a));return A$1({},s,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,i),G$2(Wf,Wf.current),!0}function dg(i,e,s){var o=i.stateNode;if(!o)throw Error(p$2(169));s?(i=bg(i,e,Xf),o.__reactInternalMemoizedMergedChildContext=i,E$1(Wf),E$1(H$2),G$2(H$2,i)):E$1(Wf),G$2(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C$2;try{var s=eg;for(C$2=1;i<s.length;i++){var o=s[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(i+1)),ac$2(fc$2,jg),a}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var a=32-oc$2(o)-1;o&=~(1<<a),s+=1;var c=32-oc$2(e)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc$2(e)+a|s<<a|o,sg=c+i}else rg=1<<c|s<<a|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(i,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=i,e=i.deletions,e===null?(i.deletions=[s],i.flags|=16):e.push(s)}function Cg(i,e){switch(i.tag){case 5:var s=i.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I$1){var e=yg;if(e){var s=e;if(!Cg(i,e)){if(Dg(i))throw Error(p$2(418));e=Lf(s.nextSibling);var o=xg;e&&Cg(i,e)?Ag(o,s):(i.flags=i.flags&-4097|2,I$1=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I$1=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I$1)return Fg(i),I$1=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(e===0){yg=Lf(i.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(i,e){if(i&&i.defaultProps){e=A$1({},e),i=i.defaultProps;for(var s in i)e[s]===void 0&&(e[s]=i[s]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var e=Mg.current;E$1(Mg),i._currentValue=e}function Sg(i,e,s){for(;i!==null;){var o=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),i===s)break;i=i.return}}function Tg(i,e){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&e)!==0&&(Ug=!0),i.firstContext=null)}function Vg(i){var e=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return e}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,e,s,o){var a=e.interleaved;return a===null?(s.next=s,Xg(e)):(s.next=a.next,a.next=s),e.interleaved=s,Zg(i,o)}function Zg(i,e){i.lanes|=e;var s=i.alternate;for(s!==null&&(s.lanes|=e),s=i,i=i.return;i!==null;)i.childLanes|=e,s=i.alternate,s!==null&&(s.childLanes|=e),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah$1(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh$1(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch$1(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function dh$1(i,e,s){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,(K$2&2)!==0){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Zg(i,s)}return a=o.interleaved,a===null?(e.next=e,Xg(o)):(e.next=a.next,a.next=e),o.interleaved=e,Zg(i,s)}function eh$1(i,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc$2(i,s)}}function fh$1(i,e){var s=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=e:c=c.next=e}else a=c=e;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=e:i.next=e,s.lastBaseUpdate=e}function gh$1(i,e,s,o){var a=i.updateQueue;$g=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,_=g.next;g.next=null,d===null?c=_:d.next=_,d=g;var $l=i.alternate;$l!==null&&($l=$l.updateQueue,h=$l.lastBaseUpdate,h!==d&&(h===null?$l.firstBaseUpdate=_:h.next=_,$l.lastBaseUpdate=g))}if(c!==null){var Rl=a.baseState;d=0,$l=_=g=null,h=c;do{var Ml=h.lane,Ul=h.eventTime;if((o&Ml)===Ml){$l!==null&&($l=$l.next={eventTime:Ul,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var Fl=i,Ll=h;switch(Ml=e,Ul=s,Ll.tag){case 1:if(Fl=Ll.payload,typeof Fl=="function"){Rl=Fl.call(Ul,Rl,Ml);break e}Rl=Fl;break e;case 3:Fl.flags=Fl.flags&-65537|128;case 0:if(Fl=Ll.payload,Ml=typeof Fl=="function"?Fl.call(Ul,Rl,Ml):Fl,Ml==null)break e;Rl=A$1({},Rl,Ml);break e;case 2:$g=!0}}h.callback!==null&&h.lane!==0&&(i.flags|=64,Ml=a.effects,Ml===null?a.effects=[h]:Ml.push(h))}else Ul={eventTime:Ul,lane:Ml,tag:h.tag,payload:h.payload,callback:h.callback,next:null},$l===null?(_=$l=Ul,g=Rl):$l=$l.next=Ul,d|=Ml;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;Ml=h,h=Ml.next,Ml.next=null,a.lastBaseUpdate=Ml,a.shared.pending=null}}while(1);if($l===null&&(g=Rl),a.baseState=g,a.firstBaseUpdate=_,a.lastBaseUpdate=$l,e=a.shared.interleaved,e!==null){a=e;do d|=a.lane,a=a.next;while(a!==e)}else c===null&&(a.shared.lanes=0);hh$1|=d,i.lanes=d,i.memoizedState=Rl}}function ih$1(i,e,s){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var o=i[e],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p$2(191,a));a.call(o)}}}var jh$1=new aa$1.Component().refs;function kh$1(i,e,s,o){e=i.memoizedState,s=s(o,e),s=s==null?e:A$1({},e,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb$1(i)===i:!1},enqueueSetState:function(i,e,s){i=i._reactInternals;var o=L$2(),a=lh$1(i),c=ch$1(o,a);c.payload=e,s!=null&&(c.callback=s),e=dh$1(i,c,a),e!==null&&(mh$1(e,i,a,o),eh$1(e,i,a))},enqueueReplaceState:function(i,e,s){i=i._reactInternals;var o=L$2(),a=lh$1(i),c=ch$1(o,a);c.tag=1,c.payload=e,s!=null&&(c.callback=s),e=dh$1(i,c,a),e!==null&&(mh$1(e,i,a,o),eh$1(e,i,a))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var s=L$2(),o=lh$1(i),a=ch$1(s,o);a.tag=2,e!=null&&(a.callback=e),e=dh$1(i,a,o),e!==null&&(mh$1(e,i,o,s),eh$1(e,i,o))}};function oh$1(i,e,s,o,a,c,d){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,c,d):e.prototype&&e.prototype.isPureReactComponent?!Ie$2(s,o)||!Ie$2(a,c):!0}function ph$1(i,e,s){var o=!1,a=Vf,c=e.contextType;return typeof c=="object"&&c!==null?c=Vg(c):(a=Zf(e)?Xf:H$2.current,o=e.contextTypes,c=(o=o!=null)?Yf(i,a):Vf),e=new e(s,c),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,i.stateNode=e,e._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=c),e}function qh$1(i,e,s,o){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,o),e.state!==i&&nh.enqueueReplaceState(e,e.state,null)}function rh$1(i,e,s,o){var a=i.stateNode;a.props=s,a.state=i.memoizedState,a.refs=jh$1,ah$1(i);var c=e.contextType;typeof c=="object"&&c!==null?a.context=Vg(c):(c=Zf(e)?Xf:H$2.current,a.context=Yf(i,c)),a.state=i.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(kh$1(i,e,c,s),a.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&nh.enqueueReplaceState(a,a.state,null),gh$1(i,s,a,o),a.state=i.memoizedState),typeof a.componentDidMount=="function"&&(i.flags|=4194308)}function sh$1(i,e,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$2(309));var o=s.stateNode}if(!o)throw Error(p$2(147,i));var a=o,c=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(d){var h=a.refs;h===jh$1&&(h=a.refs={}),d===null?delete h[c]:h[c]=d},e._stringRef=c,e)}if(typeof i!="string")throw Error(p$2(284));if(!s._owner)throw Error(p$2(290,i))}return i}function th$1(i,e){throw i=Object.prototype.toString.call(e),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function uh$1(i){var e=i._init;return e(i._payload)}function vh$1(i){function e(zl,Hl){if(i){var Wl=zl.deletions;Wl===null?(zl.deletions=[Hl],zl.flags|=16):Wl.push(Hl)}}function s(zl,Hl){if(!i)return null;for(;Hl!==null;)e(zl,Hl),Hl=Hl.sibling;return null}function o(zl,Hl){for(zl=new Map;Hl!==null;)Hl.key!==null?zl.set(Hl.key,Hl):zl.set(Hl.index,Hl),Hl=Hl.sibling;return zl}function a(zl,Hl){return zl=wh$1(zl,Hl),zl.index=0,zl.sibling=null,zl}function c(zl,Hl,Wl){return zl.index=Wl,i?(Wl=zl.alternate,Wl!==null?(Wl=Wl.index,Wl<Hl?(zl.flags|=2,Hl):Wl):(zl.flags|=2,Hl)):(zl.flags|=1048576,Hl)}function d(zl){return i&&zl.alternate===null&&(zl.flags|=2),zl}function h(zl,Hl,Wl,Yl){return Hl===null||Hl.tag!==6?(Hl=xh$1(Wl,zl.mode,Yl),Hl.return=zl,Hl):(Hl=a(Hl,Wl),Hl.return=zl,Hl)}function g(zl,Hl,Wl,Yl){var Xl=Wl.type;return Xl===ya$2?$l(zl,Hl,Wl.props.children,Yl,Wl.key):Hl!==null&&(Hl.elementType===Xl||typeof Xl=="object"&&Xl!==null&&Xl.$$typeof===Ha$2&&uh$1(Xl)===Hl.type)?(Yl=a(Hl,Wl.props),Yl.ref=sh$1(zl,Hl,Wl),Yl.return=zl,Yl):(Yl=yh$1(Wl.type,Wl.key,Wl.props,null,zl.mode,Yl),Yl.ref=sh$1(zl,Hl,Wl),Yl.return=zl,Yl)}function _(zl,Hl,Wl,Yl){return Hl===null||Hl.tag!==4||Hl.stateNode.containerInfo!==Wl.containerInfo||Hl.stateNode.implementation!==Wl.implementation?(Hl=zh$1(Wl,zl.mode,Yl),Hl.return=zl,Hl):(Hl=a(Hl,Wl.children||[]),Hl.return=zl,Hl)}function $l(zl,Hl,Wl,Yl,Xl){return Hl===null||Hl.tag!==7?(Hl=Ah$1(Wl,zl.mode,Yl,Xl),Hl.return=zl,Hl):(Hl=a(Hl,Wl),Hl.return=zl,Hl)}function Rl(zl,Hl,Wl){if(typeof Hl=="string"&&Hl!==""||typeof Hl=="number")return Hl=xh$1(""+Hl,zl.mode,Wl),Hl.return=zl,Hl;if(typeof Hl=="object"&&Hl!==null){switch(Hl.$$typeof){case va$2:return Wl=yh$1(Hl.type,Hl.key,Hl.props,null,zl.mode,Wl),Wl.ref=sh$1(zl,null,Hl),Wl.return=zl,Wl;case wa$2:return Hl=zh$1(Hl,zl.mode,Wl),Hl.return=zl,Hl;case Ha$2:var Yl=Hl._init;return Rl(zl,Yl(Hl._payload),Wl)}if(eb$1(Hl)||Ka$2(Hl))return Hl=Ah$1(Hl,zl.mode,Wl,null),Hl.return=zl,Hl;th$1(zl,Hl)}return null}function Ml(zl,Hl,Wl,Yl){var Xl=Hl!==null?Hl.key:null;if(typeof Wl=="string"&&Wl!==""||typeof Wl=="number")return Xl!==null?null:h(zl,Hl,""+Wl,Yl);if(typeof Wl=="object"&&Wl!==null){switch(Wl.$$typeof){case va$2:return Wl.key===Xl?g(zl,Hl,Wl,Yl):null;case wa$2:return Wl.key===Xl?_(zl,Hl,Wl,Yl):null;case Ha$2:return Xl=Wl._init,Ml(zl,Hl,Xl(Wl._payload),Yl)}if(eb$1(Wl)||Ka$2(Wl))return Xl!==null?null:$l(zl,Hl,Wl,Yl,null);th$1(zl,Wl)}return null}function Ul(zl,Hl,Wl,Yl,Xl){if(typeof Yl=="string"&&Yl!==""||typeof Yl=="number")return zl=zl.get(Wl)||null,h(Hl,zl,""+Yl,Xl);if(typeof Yl=="object"&&Yl!==null){switch(Yl.$$typeof){case va$2:return zl=zl.get(Yl.key===null?Wl:Yl.key)||null,g(Hl,zl,Yl,Xl);case wa$2:return zl=zl.get(Yl.key===null?Wl:Yl.key)||null,_(Hl,zl,Yl,Xl);case Ha$2:var Gl=Yl._init;return Ul(zl,Hl,Wl,Gl(Yl._payload),Xl)}if(eb$1(Yl)||Ka$2(Yl))return zl=zl.get(Wl)||null,$l(Hl,zl,Yl,Xl,null);th$1(Hl,Yl)}return null}function Fl(zl,Hl,Wl,Yl){for(var Xl=null,Gl=null,_d=Hl,Kl=Hl=0,ru=null;_d!==null&&Kl<Wl.length;Kl++){_d.index>Kl?(ru=_d,_d=null):ru=_d.sibling;var Zl=Ml(zl,_d,Wl[Kl],Yl);if(Zl===null){_d===null&&(_d=ru);break}i&&_d&&Zl.alternate===null&&e(zl,_d),Hl=c(Zl,Hl,Kl),Gl===null?Xl=Zl:Gl.sibling=Zl,Gl=Zl,_d=ru}if(Kl===Wl.length)return s(zl,_d),I$1&&tg(zl,Kl),Xl;if(_d===null){for(;Kl<Wl.length;Kl++)_d=Rl(zl,Wl[Kl],Yl),_d!==null&&(Hl=c(_d,Hl,Kl),Gl===null?Xl=_d:Gl.sibling=_d,Gl=_d);return I$1&&tg(zl,Kl),Xl}for(_d=o(zl,_d);Kl<Wl.length;Kl++)ru=Ul(_d,zl,Kl,Wl[Kl],Yl),ru!==null&&(i&&ru.alternate!==null&&_d.delete(ru.key===null?Kl:ru.key),Hl=c(ru,Hl,Kl),Gl===null?Xl=ru:Gl.sibling=ru,Gl=ru);return i&&_d.forEach(function(tp){return e(zl,tp)}),I$1&&tg(zl,Kl),Xl}function Ll(zl,Hl,Wl,Yl){var Xl=Ka$2(Wl);if(typeof Xl!="function")throw Error(p$2(150));if(Wl=Xl.call(Wl),Wl==null)throw Error(p$2(151));for(var Gl=Xl=null,_d=Hl,Kl=Hl=0,ru=null,Zl=Wl.next();_d!==null&&!Zl.done;Kl++,Zl=Wl.next()){_d.index>Kl?(ru=_d,_d=null):ru=_d.sibling;var tp=Ml(zl,_d,Zl.value,Yl);if(tp===null){_d===null&&(_d=ru);break}i&&_d&&tp.alternate===null&&e(zl,_d),Hl=c(tp,Hl,Kl),Gl===null?Xl=tp:Gl.sibling=tp,Gl=tp,_d=ru}if(Zl.done)return s(zl,_d),I$1&&tg(zl,Kl),Xl;if(_d===null){for(;!Zl.done;Kl++,Zl=Wl.next())Zl=Rl(zl,Zl.value,Yl),Zl!==null&&(Hl=c(Zl,Hl,Kl),Gl===null?Xl=Zl:Gl.sibling=Zl,Gl=Zl);return I$1&&tg(zl,Kl),Xl}for(_d=o(zl,_d);!Zl.done;Kl++,Zl=Wl.next())Zl=Ul(_d,zl,Kl,Zl.value,Yl),Zl!==null&&(i&&Zl.alternate!==null&&_d.delete(Zl.key===null?Kl:Zl.key),Hl=c(Zl,Hl,Kl),Gl===null?Xl=Zl:Gl.sibling=Zl,Gl=Zl);return i&&_d.forEach(function(op){return e(zl,op)}),I$1&&tg(zl,Kl),Xl}function Bl(zl,Hl,Wl,Yl){if(typeof Wl=="object"&&Wl!==null&&Wl.type===ya$2&&Wl.key===null&&(Wl=Wl.props.children),typeof Wl=="object"&&Wl!==null){switch(Wl.$$typeof){case va$2:e:{for(var Xl=Wl.key,Gl=Hl;Gl!==null;){if(Gl.key===Xl){if(Xl=Wl.type,Xl===ya$2){if(Gl.tag===7){s(zl,Gl.sibling),Hl=a(Gl,Wl.props.children),Hl.return=zl,zl=Hl;break e}}else if(Gl.elementType===Xl||typeof Xl=="object"&&Xl!==null&&Xl.$$typeof===Ha$2&&uh$1(Xl)===Gl.type){s(zl,Gl.sibling),Hl=a(Gl,Wl.props),Hl.ref=sh$1(zl,Gl,Wl),Hl.return=zl,zl=Hl;break e}s(zl,Gl);break}else e(zl,Gl);Gl=Gl.sibling}Wl.type===ya$2?(Hl=Ah$1(Wl.props.children,zl.mode,Yl,Wl.key),Hl.return=zl,zl=Hl):(Yl=yh$1(Wl.type,Wl.key,Wl.props,null,zl.mode,Yl),Yl.ref=sh$1(zl,Hl,Wl),Yl.return=zl,zl=Yl)}return d(zl);case wa$2:e:{for(Gl=Wl.key;Hl!==null;){if(Hl.key===Gl)if(Hl.tag===4&&Hl.stateNode.containerInfo===Wl.containerInfo&&Hl.stateNode.implementation===Wl.implementation){s(zl,Hl.sibling),Hl=a(Hl,Wl.children||[]),Hl.return=zl,zl=Hl;break e}else{s(zl,Hl);break}else e(zl,Hl);Hl=Hl.sibling}Hl=zh$1(Wl,zl.mode,Yl),Hl.return=zl,zl=Hl}return d(zl);case Ha$2:return Gl=Wl._init,Bl(zl,Hl,Gl(Wl._payload),Yl)}if(eb$1(Wl))return Fl(zl,Hl,Wl,Yl);if(Ka$2(Wl))return Ll(zl,Hl,Wl,Yl);th$1(zl,Wl)}return typeof Wl=="string"&&Wl!==""||typeof Wl=="number"?(Wl=""+Wl,Hl!==null&&Hl.tag===6?(s(zl,Hl.sibling),Hl=a(Hl,Wl),Hl.return=zl,zl=Hl):(s(zl,Hl),Hl=xh$1(Wl,zl.mode,Yl),Hl.return=zl,zl=Hl),d(zl)):s(zl,Hl)}return Bl}var Bh$1=vh$1(!0),Ch$1=vh$1(!1),Dh$1={},Eh$1=Uf(Dh$1),Fh$1=Uf(Dh$1),Gh$1=Uf(Dh$1);function Hh$1(i){if(i===Dh$1)throw Error(p$2(174));return i}function Ih$1(i,e){switch(G$2(Gh$1,e),G$2(Fh$1,i),G$2(Eh$1,Dh$1),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb$1(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb$1(e,i)}E$1(Eh$1),G$2(Eh$1,e)}function Jh$1(){E$1(Eh$1),E$1(Fh$1),E$1(Gh$1)}function Kh$1(i){Hh$1(Gh$1.current);var e=Hh$1(Eh$1.current),s=lb$1(e,i.type);e!==s&&(G$2(Fh$1,i),G$2(Eh$1,s))}function Lh$1(i){Fh$1.current===i&&(E$1(Eh$1),E$1(Fh$1))}var M$2=Uf(0);function Mh$1(i){for(var e=i;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh$1=[];function Oh$1(){for(var i=0;i<Nh$1.length;i++)Nh$1[i]._workInProgressVersionPrimary=null;Nh$1.length=0}var Ph$1=ua$2.ReactCurrentDispatcher,Qh$1=ua$2.ReactCurrentBatchConfig,Rh$1=0,N$2=null,O$2=null,P$2=null,Sh$1=!1,Th$1=!1,Uh$1=0,Vh$1=0;function Q$2(){throw Error(p$2(321))}function Wh$1(i,e){if(e===null)return!1;for(var s=0;s<e.length&&s<i.length;s++)if(!He$2(i[s],e[s]))return!1;return!0}function Xh$1(i,e,s,o,a,c){if(Rh$1=c,N$2=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph$1.current=i===null||i.memoizedState===null?Yh$1:Zh$1,i=s(o,a),Th$1){c=0;do{if(Th$1=!1,Uh$1=0,25<=c)throw Error(p$2(301));c+=1,P$2=O$2=null,e.updateQueue=null,Ph$1.current=$h$1,i=s(o,a)}while(Th$1)}if(Ph$1.current=ai$1,e=O$2!==null&&O$2.next!==null,Rh$1=0,P$2=O$2=N$2=null,Sh$1=!1,e)throw Error(p$2(300));return i}function bi$1(){var i=Uh$1!==0;return Uh$1=0,i}function ci$1(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=i:P$2=P$2.next=i,P$2}function di$1(){if(O$2===null){var i=N$2.alternate;i=i!==null?i.memoizedState:null}else i=O$2.next;var e=P$2===null?N$2.memoizedState:P$2.next;if(e!==null)P$2=e,O$2=i;else{if(i===null)throw Error(p$2(310));O$2=i,i={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$2.memoizedState=P$2=i:P$2=P$2.next=i}return P$2}function ei$1(i,e){return typeof e=="function"?e(i):e}function fi$1(i){var e=di$1(),s=e.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=i;var o=O$2,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,_=c;do{var $l=_.lane;if((Rh$1&$l)===$l)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:i(o,_.action);else{var Rl={lane:$l,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(h=g=Rl,d=o):g=g.next=Rl,N$2.lanes|=$l,hh$1|=$l}_=_.next}while(_!==null&&_!==c);g===null?d=o:g.next=h,He$2(o,e.memoizedState)||(Ug=!0),e.memoizedState=o,e.baseState=d,e.baseQueue=g,s.lastRenderedState=o}if(i=s.interleaved,i!==null){a=i;do c=a.lane,N$2.lanes|=c,hh$1|=c,a=a.next;while(a!==i)}else a===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function gi$1(i){var e=di$1(),s=e.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=i;var o=s.dispatch,a=s.pending,c=e.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=i(c,d.action),d=d.next;while(d!==a);He$2(c,e.memoizedState)||(Ug=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),s.lastRenderedState=c}return[c,o]}function hi$1(){}function ii$1(i,e){var s=N$2,o=di$1(),a=e(),c=!He$2(o.memoizedState,a);if(c&&(o.memoizedState=a,Ug=!0),o=o.queue,ji$1(ki$1.bind(null,s,o,i),[i]),o.getSnapshot!==e||c||P$2!==null&&P$2.memoizedState.tag&1){if(s.flags|=2048,li$1(9,mi$1.bind(null,s,o,a,e),void 0,null),R$1===null)throw Error(p$2(349));(Rh$1&30)!==0||ni$1(s,e,a)}return a}function ni$1(i,e,s){i.flags|=16384,i={getSnapshot:e,value:s},e=N$2.updateQueue,e===null?(e={lastEffect:null,stores:null},N$2.updateQueue=e,e.stores=[i]):(s=e.stores,s===null?e.stores=[i]:s.push(i))}function mi$1(i,e,s,o){e.value=s,e.getSnapshot=o,oi$1(e)&&pi$1(i)}function ki$1(i,e,s){return s(function(){oi$1(e)&&pi$1(i)})}function oi$1(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!He$2(i,s)}catch{return!0}}function pi$1(i){var e=Zg(i,1);e!==null&&mh$1(e,i,1,-1)}function qi$1(i){var e=ci$1();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei$1,lastRenderedState:i},e.queue=i,i=i.dispatch=ri$1.bind(null,N$2,i),[e.memoizedState,i]}function li$1(i,e,s,o){return i={tag:i,create:e,destroy:s,deps:o,next:null},e=N$2.updateQueue,e===null?(e={lastEffect:null,stores:null},N$2.updateQueue=e,e.lastEffect=i.next=i):(s=e.lastEffect,s===null?e.lastEffect=i.next=i:(o=s.next,s.next=i,i.next=o,e.lastEffect=i)),i}function si$1(){return di$1().memoizedState}function ti$1(i,e,s,o){var a=ci$1();N$2.flags|=i,a.memoizedState=li$1(1|e,s,void 0,o===void 0?null:o)}function ui$1(i,e,s,o){var a=di$1();o=o===void 0?null:o;var c=void 0;if(O$2!==null){var d=O$2.memoizedState;if(c=d.destroy,o!==null&&Wh$1(o,d.deps)){a.memoizedState=li$1(e,s,c,o);return}}N$2.flags|=i,a.memoizedState=li$1(1|e,s,c,o)}function vi$1(i,e){return ti$1(8390656,8,i,e)}function ji$1(i,e){return ui$1(2048,8,i,e)}function wi$1(i,e){return ui$1(4,2,i,e)}function xi$1(i,e){return ui$1(4,4,i,e)}function yi$1(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function zi$1(i,e,s){return s=s!=null?s.concat([i]):null,ui$1(4,4,yi$1.bind(null,e,i),s)}function Ai$1(){}function Bi$1(i,e){var s=di$1();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh$1(e,o[1])?o[0]:(s.memoizedState=[i,e],i)}function Ci$1(i,e){var s=di$1();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Wh$1(e,o[1])?o[0]:(i=i(),s.memoizedState=[i,e],i)}function Di$1(i,e,s){return(Rh$1&21)===0?(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s):(He$2(s,e)||(s=yc$2(),N$2.lanes|=s,hh$1|=s,i.baseState=!0),e)}function Ei$1(i,e){var s=C$2;C$2=s!==0&&4>s?s:4,i(!0);var o=Qh$1.transition;Qh$1.transition={};try{i(!1),e()}finally{C$2=s,Qh$1.transition=o}}function Fi$1(){return di$1().memoizedState}function Gi$1(i,e,s){var o=lh$1(i);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi$1(i))Ii$1(e,s);else if(s=Yg(i,e,s,o),s!==null){var a=L$2();mh$1(s,i,o,a),Ji$1(s,e,o)}}function ri$1(i,e,s){var o=lh$1(i),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi$1(i))Ii$1(e,a);else{var c=i.alternate;if(i.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,h=c(d,s);if(a.hasEagerState=!0,a.eagerState=h,He$2(h,d)){var g=e.interleaved;g===null?(a.next=a,Xg(e)):(a.next=g.next,g.next=a),e.interleaved=a;return}}catch{}finally{}s=Yg(i,e,a,o),s!==null&&(a=L$2(),mh$1(s,i,o,a),Ji$1(s,e,o))}}function Hi$1(i){var e=i.alternate;return i===N$2||e!==null&&e===N$2}function Ii$1(i,e){Th$1=Sh$1=!0;var s=i.pending;s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e}function Ji$1(i,e,s){if((s&4194240)!==0){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc$2(i,s)}}var ai$1={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh$1={readContext:Vg,useCallback:function(i,e){return ci$1().memoizedState=[i,e===void 0?null:e],i},useContext:Vg,useEffect:vi$1,useImperativeHandle:function(i,e,s){return s=s!=null?s.concat([i]):null,ti$1(4194308,4,yi$1.bind(null,e,i),s)},useLayoutEffect:function(i,e){return ti$1(4194308,4,i,e)},useInsertionEffect:function(i,e){return ti$1(4,2,i,e)},useMemo:function(i,e){var s=ci$1();return e=e===void 0?null:e,i=i(),s.memoizedState=[i,e],i},useReducer:function(i,e,s){var o=ci$1();return e=s!==void 0?s(e):e,o.memoizedState=o.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},o.queue=i,i=i.dispatch=Gi$1.bind(null,N$2,i),[o.memoizedState,i]},useRef:function(i){var e=ci$1();return i={current:i},e.memoizedState=i},useState:qi$1,useDebugValue:Ai$1,useDeferredValue:function(i){return ci$1().memoizedState=i},useTransition:function(){var i=qi$1(!1),e=i[0];return i=Ei$1.bind(null,i[1]),ci$1().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,s){var o=N$2,a=ci$1();if(I$1){if(s===void 0)throw Error(p$2(407));s=s()}else{if(s=e(),R$1===null)throw Error(p$2(349));(Rh$1&30)!==0||ni$1(o,e,s)}a.memoizedState=s;var c={value:s,getSnapshot:e};return a.queue=c,vi$1(ki$1.bind(null,o,c,i),[i]),o.flags|=2048,li$1(9,mi$1.bind(null,o,c,s,e),void 0,null),s},useId:function(){var i=ci$1(),e=R$1.identifierPrefix;if(I$1){var s=sg,o=rg;s=(o&~(1<<32-oc$2(o)-1)).toString(32)+s,e=":"+e+"R"+s,s=Uh$1++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Vh$1++,e=":"+e+"r"+s.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Zh$1={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$1,useReducer:fi$1,useRef:si$1,useState:function(){return fi$1(ei$1)},useDebugValue:Ai$1,useDeferredValue:function(i){var e=di$1();return Di$1(e,O$2.memoizedState,i)},useTransition:function(){var i=fi$1(ei$1)[0],e=di$1().memoizedState;return[i,e]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1},$h$1={readContext:Vg,useCallback:Bi$1,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi$1,useMemo:Ci$1,useReducer:gi$1,useRef:si$1,useState:function(){return gi$1(ei$1)},useDebugValue:Ai$1,useDeferredValue:function(i){var e=di$1();return O$2===null?e.memoizedState=i:Di$1(e,O$2.memoizedState,i)},useTransition:function(){var i=gi$1(ei$1)[0],e=di$1().memoizedState;return[i,e]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi$1,unstable_isNewReconciler:!1};function Ki$1(i,e){try{var s="",o=e;do s+=Pa$2(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:i,source:e,stack:a,digest:null}}function Li$1(i,e,s){return{value:i,source:null,stack:s!=null?s:null,digest:e!=null?e:null}}function Mi$1(i,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Ni$1=typeof WeakMap=="function"?WeakMap:Map;function Oi$1(i,e,s){s=ch$1(-1,s),s.tag=3,s.payload={element:null};var o=e.value;return s.callback=function(){Pi$1||(Pi$1=!0,Qi$1=o),Mi$1(i,e)},s}function Ri$1(i,e,s){s=ch$1(-1,s),s.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;s.payload=function(){return o(a)},s.callback=function(){Mi$1(i,e)}}var c=i.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Mi$1(i,e),typeof o!="function"&&(Si$1===null?Si$1=new Set([this]):Si$1.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),s}function Ti$1(i,e,s){var o=i.pingCache;if(o===null){o=i.pingCache=new Ni$1;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(s)||(a.add(s),i=Ui$1.bind(null,i,e,s),e.then(i,i))}function Vi$1(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Wi$1(i,e,s,o,a){return(i.mode&1)===0?(i===e?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ch$1(-1,1),e.tag=2,dh$1(s,e,1))),s.lanes|=1),i):(i.flags|=65536,i.lanes=a,i)}var Xi$1=ua$2.ReactCurrentOwner,Ug=!1;function Yi$1(i,e,s,o){e.child=i===null?Ch$1(e,null,s,o):Bh$1(e,i.child,s,o)}function Zi$1(i,e,s,o,a){s=s.render;var c=e.ref;return Tg(e,a),o=Xh$1(i,e,s,o,c,a),s=bi$1(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,$i$1(i,e,a)):(I$1&&s&&vg(e),e.flags|=1,Yi$1(i,e,o,a),e.child)}function aj(i,e,s,o,a){if(i===null){var c=s.type;return typeof c=="function"&&!bj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=c,cj(i,e,c,o,a)):(i=yh$1(s.type,null,o,e,e.mode,a),i.ref=e.ref,i.return=e,e.child=i)}if(c=i.child,(i.lanes&a)===0){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie$2,s(d,o)&&i.ref===e.ref)return $i$1(i,e,a)}return e.flags|=1,i=wh$1(c,o),i.ref=e.ref,i.return=e,e.child=i}function cj(i,e,s,o,a){if(i!==null){var c=i.memoizedProps;if(Ie$2(c,o)&&i.ref===e.ref)if(Ug=!1,e.pendingProps=o=c,(i.lanes&a)!==0)(i.flags&131072)!==0&&(Ug=!0);else return e.lanes=i.lanes,$i$1(i,e,a)}return dj(i,e,s,o,a)}function ej(i,e,s){var o=e.pendingProps,a=o.children,c=i!==null?i.memoizedState:null;if(o.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(fj,gj),gj|=s;else{if((s&1073741824)===0)return i=c!==null?c.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G$2(fj,gj),gj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G$2(fj,gj),gj|=o}else c!==null?(o=c.baseLanes|s,e.memoizedState=null):o=s,G$2(fj,gj),gj|=o;return Yi$1(i,e,a,s),e.child}function hj(i,e){var s=e.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function dj(i,e,s,o,a){var c=Zf(s)?Xf:H$2.current;return c=Yf(e,c),Tg(e,a),s=Xh$1(i,e,s,o,c,a),o=bi$1(),i!==null&&!Ug?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,$i$1(i,e,a)):(I$1&&o&&vg(e),e.flags|=1,Yi$1(i,e,s,a),e.child)}function ij(i,e,s,o,a){if(Zf(s)){var c=!0;cg(e)}else c=!1;if(Tg(e,a),e.stateNode===null)jj(i,e),ph$1(e,s,o),rh$1(e,s,o,a),o=!0;else if(i===null){var d=e.stateNode,h=e.memoizedProps;d.props=h;var g=d.context,_=s.contextType;typeof _=="object"&&_!==null?_=Vg(_):(_=Zf(s)?Xf:H$2.current,_=Yf(e,_));var $l=s.getDerivedStateFromProps,Rl=typeof $l=="function"||typeof d.getSnapshotBeforeUpdate=="function";Rl||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==_)&&qh$1(e,d,o,_),$g=!1;var Ml=e.memoizedState;d.state=Ml,gh$1(e,o,d,a),g=e.memoizedState,h!==o||Ml!==g||Wf.current||$g?(typeof $l=="function"&&(kh$1(e,s,$l,o),g=e.memoizedState),(h=$g||oh$1(e,s,h,o,Ml,g,_))?(Rl||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=g),d.props=o,d.state=g,d.context=_,o=h):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{d=e.stateNode,bh$1(i,e),h=e.memoizedProps,_=e.type===e.elementType?h:Lg(e.type,h),d.props=_,Rl=e.pendingProps,Ml=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=Vg(g):(g=Zf(s)?Xf:H$2.current,g=Yf(e,g));var Ul=s.getDerivedStateFromProps;($l=typeof Ul=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==Rl||Ml!==g)&&qh$1(e,d,o,g),$g=!1,Ml=e.memoizedState,d.state=Ml,gh$1(e,o,d,a);var Fl=e.memoizedState;h!==Rl||Ml!==Fl||Wf.current||$g?(typeof Ul=="function"&&(kh$1(e,s,Ul,o),Fl=e.memoizedState),(_=$g||oh$1(e,s,_,o,Ml,Fl,g)||!1)?($l||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Fl,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Fl,g)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===i.memoizedProps&&Ml===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===i.memoizedProps&&Ml===i.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=Fl),d.props=o,d.state=Fl,d.context=g,o=_):(typeof d.componentDidUpdate!="function"||h===i.memoizedProps&&Ml===i.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===i.memoizedProps&&Ml===i.memoizedState||(e.flags|=1024),o=!1)}return kj(i,e,s,o,c,a)}function kj(i,e,s,o,a,c){hj(i,e);var d=(e.flags&128)!==0;if(!o&&!d)return a&&dg(e,s,!1),$i$1(i,e,c);o=e.stateNode,Xi$1.current=e;var h=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,i!==null&&d?(e.child=Bh$1(e,i.child,null,c),e.child=Bh$1(e,null,h,c)):Yi$1(i,e,h,c),e.memoizedState=o.state,a&&dg(e,s,!0),e.child}function lj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),Ih$1(i,e.containerInfo)}function mj(i,e,s,o,a){return Ig(),Jg(a),e.flags|=256,Yi$1(i,e,s,o),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,e,s){var o=e.pendingProps,a=M$2.current,c=!1,d=(e.flags&128)!==0,h;if((h=d)||(h=i!==null&&i.memoizedState===null?!1:(a&2)!==0),h?(c=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(a|=1),G$2(M$2,a&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((e.mode&1)===0?e.lanes=1:i.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(d=o.children,i=o.fallback,c?(o=e.mode,c=e.child,d={mode:"hidden",children:d},(o&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qj(d,o,0,null),i=Ah$1(i,o,s,null),c.return=e,i.return=e,c.sibling=i,e.child=c,e.child.memoizedState=oj(s),e.memoizedState=nj,i):rj(e,d));if(a=i.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return sj(i,e,d,o,h,a,s);if(c){c=o.fallback,d=e.mode,a=i.child,h=a.sibling;var g={mode:"hidden",children:o.children};return(d&1)===0&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=g,e.deletions=null):(o=wh$1(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=wh$1(h,c):(c=Ah$1(c,d,s,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,d=i.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=i.childLanes&~s,e.memoizedState=nj,o}return c=i.child,i=c.sibling,o=wh$1(c,{mode:"visible",children:o.children}),(e.mode&1)===0&&(o.lanes=s),o.return=e,o.sibling=null,i!==null&&(s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)),e.child=o,e.memoizedState=null,o}function rj(i,e){return e=qj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function tj(i,e,s,o){return o!==null&&Jg(o),Bh$1(e,i.child,null,s),i=rj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function sj(i,e,s,o,a,c,d){if(s)return e.flags&256?(e.flags&=-257,o=Li$1(Error(p$2(422))),tj(i,e,d,o)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(c=o.fallback,a=e.mode,o=qj({mode:"visible",children:o.children},a,0,null),c=Ah$1(c,a,d,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,(e.mode&1)!==0&&Bh$1(e,i.child,null,d),e.child.memoizedState=oj(d),e.memoizedState=nj,c);if((e.mode&1)===0)return tj(i,e,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p$2(419)),o=Li$1(c,o,void 0),tj(i,e,d,o)}if(h=(d&i.childLanes)!==0,Ug||h){if(o=R$1,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(o.suspendedLanes|d))!==0?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Zg(i,a),mh$1(o,i,a,-1))}return uj(),o=Li$1(Error(p$2(421))),tj(i,e,d,o)}return a.data==="$?"?(e.flags|=128,e.child=i.child,e=vj.bind(null,i),a._reactRetry=e,null):(i=c.treeContext,yg=Lf(a.nextSibling),xg=e,I$1=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=rj(e,o.children),e.flags|=4096,e)}function wj(i,e,s){i.lanes|=e;var o=i.alternate;o!==null&&(o.lanes|=e),Sg(i.return,e,s)}function xj(i,e,s,o,a){var c=i.memoizedState;c===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function yj(i,e,s){var o=e.pendingProps,a=o.revealOrder,c=o.tail;if(Yi$1(i,e,o.children,s),o=M$2.current,(o&2)!==0)o=o&1|2,e.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,e);else if(i.tag===19)wj(i,s,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G$2(M$2,o),(e.mode&1)===0)e.memoizedState=null;else switch(a){case"forwards":for(s=e.child,a=null;s!==null;)i=s.alternate,i!==null&&Mh$1(i)===null&&(a=s),s=s.sibling;s=a,s===null?(a=e.child,e.child=null):(a=s.sibling,s.sibling=null),xj(e,!1,a,s,c);break;case"backwards":for(s=null,a=e.child,e.child=null;a!==null;){if(i=a.alternate,i!==null&&Mh$1(i)===null){e.child=a;break}i=a.sibling,a.sibling=s,s=a,a=i}xj(e,!0,s,null,c);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(i,e){(e.mode&1)===0&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function $i$1(i,e,s){if(i!==null&&(e.dependencies=i.dependencies),hh$1|=e.lanes,(s&e.childLanes)===0)return null;if(i!==null&&e.child!==i.child)throw Error(p$2(153));if(e.child!==null){for(i=e.child,s=wh$1(i,i.pendingProps),e.child=s,s.return=e;i.sibling!==null;)i=i.sibling,s=s.sibling=wh$1(i,i.pendingProps),s.return=e;s.sibling=null}return e.child}function zj(i,e,s){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh$1(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih$1(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;G$2(Mg,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G$2(M$2,M$2.current&1),e.flags|=128,null):(s&e.child.childLanes)!==0?pj(i,e,s):(G$2(M$2,M$2.current&1),i=$i$1(i,e,s),i!==null?i.sibling:null);G$2(M$2,M$2.current&1);break;case 19:if(o=(s&e.childLanes)!==0,(i.flags&128)!==0){if(o)return yj(i,e,s);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G$2(M$2,M$2.current),o)break;return null;case 22:case 23:return e.lanes=0,ej(i,e,s)}return $i$1(i,e,s)}var Aj,Bj,Cj,Dj;Aj=function(i,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,e,s,o){var a=i.memoizedProps;if(a!==o){i=e.stateNode,Hh$1(Eh$1.current);var c=null;switch(s){case"input":a=Ya$2(i,a),o=Ya$2(i,o),c=[];break;case"select":a=A$1({},a,{value:void 0}),o=A$1({},o,{value:void 0}),c=[];break;case"textarea":a=gb$1(i,a),o=gb$1(i,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub$1(s,o);var d;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var h=a[_];for(d in h)h.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea$2.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in o){var g=o[_];if(h=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&g!==h&&(g!=null||h!=null))if(_==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(_,s)),s=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&D$2("scroll",i),c||h===g||(c=[])):(c=c||[]).push(_,g))}s&&(c=c||[]).push("style",s);var _=c;(e.updateQueue=_)&&(e.flags|=4)}};Dj=function(i,e,s,o){s!==o&&(e.flags|=4)};function Ej(i,e){if(!I$1)switch(i.tailMode){case"hidden":e=i.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S$2(i){var e=i.alternate!==null&&i.alternate.child===i.child,s=0,o=0;if(e)for(var a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=i,a=a.sibling;else for(a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=i,a=a.sibling;return i.subtreeFlags|=o,i.childLanes=s,e}function Fj(i,e,s){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(e),null;case 1:return Zf(e.type)&&$f(),S$2(e),null;case 3:return o=e.stateNode,Jh$1(),E$1(Wf),E$1(H$2),Oh$1(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,e),S$2(e),null;case 5:Lh$1(e);var a=Hh$1(Gh$1.current);if(s=e.type,i!==null&&e.stateNode!=null)Cj(i,e,s,o,a),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p$2(166));return S$2(e),null}if(i=Hh$1(Eh$1.current),Gg(e)){o=e.stateNode,s=e.type;var c=e.memoizedProps;switch(o[Of]=e,o[Pf]=c,i=(e.mode&1)!==0,s){case"dialog":D$2("cancel",o),D$2("close",o);break;case"iframe":case"object":case"embed":D$2("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D$2(lf[a],o);break;case"source":D$2("error",o);break;case"img":case"image":case"link":D$2("error",o),D$2("load",o);break;case"details":D$2("toggle",o);break;case"input":Za$1(o,c),D$2("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D$2("invalid",o);break;case"textarea":hb$1(o,c),D$2("invalid",o)}ub$1(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,i),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,i),a=["children",""+h]):ea$2.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D$2("scroll",o)}switch(s){case"input":Va$2(o),db$2(o,c,!0);break;case"textarea":Va$2(o),jb$1(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb$1(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=d.createElement(s,{is:o.is}):(i=d.createElement(s),s==="select"&&(d=i,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):i=d.createElementNS(i,s),i[Of]=e,i[Pf]=o,Aj(i,e,!1,!1),e.stateNode=i;e:{switch(d=vb$1(s,o),s){case"dialog":D$2("cancel",i),D$2("close",i),a=o;break;case"iframe":case"object":case"embed":D$2("load",i),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D$2(lf[a],i);a=o;break;case"source":D$2("error",i),a=o;break;case"img":case"image":case"link":D$2("error",i),D$2("load",i),a=o;break;case"details":D$2("toggle",i),a=o;break;case"input":Za$1(i,o),a=Ya$2(i,o),D$2("invalid",i);break;case"option":a=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},a=A$1({},o,{value:void 0}),D$2("invalid",i);break;case"textarea":hb$1(i,o),a=gb$1(i,o),D$2("invalid",i);break;default:a=o}ub$1(s,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb$1(i,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb$1(i,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob$1(i,g):typeof g=="number"&&ob$1(i,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea$2.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D$2("scroll",i):g!=null&&ta$2(i,c,g,d))}switch(s){case"input":Va$2(i),db$2(i,o,!1);break;case"textarea":Va$2(i),jb$1(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa$2(o.value));break;case"select":i.multiple=!!o.multiple,c=o.value,c!=null?fb$1(i,!!o.multiple,c,!1):o.defaultValue!=null&&fb$1(i,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$2(e),null;case 6:if(i&&e.stateNode!=null)Dj(i,e,i.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p$2(166));if(s=Hh$1(Gh$1.current),Hh$1(Eh$1.current),Gg(e)){if(o=e.stateNode,s=e.memoizedProps,o[Of]=e,(c=o.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(i.mode&1)!==0)}c&&(e.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S$2(e),null;case 13:if(E$1(M$2),o=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Hg(),Ig(),e.flags|=98560,c=!1;else if(c=Gg(e),o!==null&&o.dehydrated!==null){if(i===null){if(!c)throw Error(p$2(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p$2(317));c[Of]=e}else Ig(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;S$2(e),c=!1}else zg!==null&&(Gj(zg),zg=null),c=!0;if(!c)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=s,e):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(e.child.flags|=8192,(e.mode&1)!==0&&(i===null||(M$2.current&1)!==0?T$1===0&&(T$1=3):uj())),e.updateQueue!==null&&(e.flags|=4),S$2(e),null);case 4:return Jh$1(),Bj(i,e),i===null&&sf(e.stateNode.containerInfo),S$2(e),null;case 10:return Rg(e.type._context),S$2(e),null;case 17:return Zf(e.type)&&$f(),S$2(e),null;case 19:if(E$1(M$2),c=e.memoizedState,c===null)return S$2(e),null;if(o=(e.flags&128)!==0,d=c.rendering,d===null)if(o)Ej(c,!1);else{if(T$1!==0||i!==null&&(i.flags&128)!==0)for(i=e.child;i!==null;){if(d=Mh$1(i),d!==null){for(e.flags|=128,Ej(c,!1),o=d.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=s,s=e.child;s!==null;)c=s,i=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=i,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,i=d.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G$2(M$2,M$2.current&1|2),e.child}i=i.sibling}c.tail!==null&&B$2()>Hj&&(e.flags|=128,o=!0,Ej(c,!1),e.lanes=4194304)}else{if(!o)if(i=Mh$1(d),i!==null){if(e.flags|=128,o=!0,s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ej(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I$1)return S$2(e),null}else 2*B$2()-c.renderingStartTime>Hj&&s!==1073741824&&(e.flags|=128,o=!0,Ej(c,!1),e.lanes=4194304);c.isBackwards?(d.sibling=e.child,e.child=d):(s=c.last,s!==null?s.sibling=d:e.child=d,c.last=d)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=B$2(),e.sibling=null,s=M$2.current,G$2(M$2,o?s&1|2:s&1),e):(S$2(e),null);case 22:case 23:return Ij(),o=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(e.flags|=8192),o&&(e.mode&1)!==0?(gj&1073741824)!==0&&(S$2(e),e.subtreeFlags&6&&(e.flags|=8192)):S$2(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Jj(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Jh$1(),E$1(Wf),E$1(H$2),Oh$1(),i=e.flags,(i&65536)!==0&&(i&128)===0?(e.flags=i&-65537|128,e):null;case 5:return Lh$1(e),null;case 13:if(E$1(M$2),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E$1(M$2),null;case 4:return Jh$1(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(i,e){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W$2(i,e,o)}else s.current=null}function Nj(i,e,s){try{s()}catch(o){W$2(i,e,o)}}var Oj=!1;function Pj(i,e){if(Cf=dd$1,i=Me$2(),Ne$2(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,h=-1,g=-1,_=0,$l=0,Rl=i,Ml=null;t:for(;;){for(var Ul;Rl!==s||a!==0&&Rl.nodeType!==3||(h=d+a),Rl!==c||o!==0&&Rl.nodeType!==3||(g=d+o),Rl.nodeType===3&&(d+=Rl.nodeValue.length),(Ul=Rl.firstChild)!==null;)Ml=Rl,Rl=Ul;for(;;){if(Rl===i)break t;if(Ml===s&&++_===a&&(h=d),Ml===c&&++$l===o&&(g=d),(Ul=Rl.nextSibling)!==null)break;Rl=Ml,Ml=Rl.parentNode}Rl=Ul}s=h===-1||g===-1?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd$1=!1,V$2=e;V$2!==null;)if(e=V$2,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V$2=i;else for(;V$2!==null;){e=V$2;try{var Fl=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Fl!==null){var Ll=Fl.memoizedProps,Bl=Fl.memoizedState,zl=e.stateNode,Hl=zl.getSnapshotBeforeUpdate(e.elementType===e.type?Ll:Lg(e.type,Ll),Bl);zl.__reactInternalSnapshotBeforeUpdate=Hl}break;case 3:var Wl=e.stateNode.containerInfo;Wl.nodeType===1?Wl.textContent="":Wl.nodeType===9&&Wl.documentElement&&Wl.removeChild(Wl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Yl){W$2(e,e.return,Yl)}if(i=e.sibling,i!==null){i.return=e.return,V$2=i;break}V$2=e.return}return Fl=Oj,Oj=!1,Fl}function Qj(i,e,s){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&i)===i){var c=a.destroy;a.destroy=void 0,c!==void 0&&Nj(e,s,c)}a=a.next}while(a!==o)}}function Rj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&i)===i){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}}function Sj(i){var e=i.ref;if(e!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof e=="function"?e(i):e.current=i}}function Tj(i){var e=i.alternate;e!==null&&(i.alternate=null,Tj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(i,e):s.insertBefore(i,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(i,s)):(e=s,e.appendChild(i)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Wj(i,e,s),i=i.sibling;i!==null;)Wj(i,e,s),i=i.sibling}function Xj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.insertBefore(i,e):s.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Xj(i,e,s),i=i.sibling;i!==null;)Xj(i,e,s),i=i.sibling}var X$2=null,Yj=!1;function Zj(i,e,s){for(s=s.child;s!==null;)ak(i,e,s),s=s.sibling}function ak(i,e,s){if(lc$2&&typeof lc$2.onCommitFiberUnmount=="function")try{lc$2.onCommitFiberUnmount(kc$2,s)}catch{}switch(s.tag){case 5:U$2||Mj(s,e);case 6:var o=X$2,a=Yj;X$2=null,Zj(i,e,s),X$2=o,Yj=a,X$2!==null&&(Yj?(i=X$2,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X$2.removeChild(s.stateNode));break;case 18:X$2!==null&&(Yj?(i=X$2,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd$1(i)):Kf(X$2,s.stateNode));break;case 4:o=X$2,a=Yj,X$2=s.stateNode.containerInfo,Yj=!0,Zj(i,e,s),X$2=o,Yj=a;break;case 0:case 11:case 14:case 15:if(!U$2&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&((c&2)!==0||(c&4)!==0)&&Nj(s,e,d),a=a.next}while(a!==o)}Zj(i,e,s);break;case 1:if(!U$2&&(Mj(s,e),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(h){W$2(s,e,h)}Zj(i,e,s);break;case 21:Zj(i,e,s);break;case 22:s.mode&1?(U$2=(o=U$2)||s.memoizedState!==null,Zj(i,e,s),U$2=o):Zj(i,e,s);break;default:Zj(i,e,s)}}function bk(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),e.forEach(function(o){var a=ck.bind(null,i,o);s.has(o)||(s.add(o),o.then(a,a))})}}function dk(i,e){var s=e.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=i,d=e,h=d;e:for(;h!==null;){switch(h.tag){case 5:X$2=h.stateNode,Yj=!1;break e;case 3:X$2=h.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=h.stateNode.containerInfo,Yj=!0;break e}h=h.return}if(X$2===null)throw Error(p$2(160));ak(c,d,a),X$2=null,Yj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(_){W$2(a,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,i),e=e.sibling}function ek(i,e){var s=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(e,i),fk(i),o&4){try{Qj(3,i,i.return),Rj(3,i)}catch(Ll){W$2(i,i.return,Ll)}try{Qj(5,i,i.return)}catch(Ll){W$2(i,i.return,Ll)}}break;case 1:dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(e,i),fk(i),o&512&&s!==null&&Mj(s,s.return),i.flags&32){var a=i.stateNode;try{ob$1(a,"")}catch(Ll){W$2(i,i.return,Ll)}}if(o&4&&(a=i.stateNode,a!=null)){var c=i.memoizedProps,d=s!==null?s.memoizedProps:c,h=i.type,g=i.updateQueue;if(i.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab$1(a,c),vb$1(h,d);var _=vb$1(h,c);for(d=0;d<g.length;d+=2){var $l=g[d],Rl=g[d+1];$l==="style"?sb$1(a,Rl):$l==="dangerouslySetInnerHTML"?nb$1(a,Rl):$l==="children"?ob$1(a,Rl):ta$2(a,$l,Rl,_)}switch(h){case"input":bb$1(a,c);break;case"textarea":ib$1(a,c);break;case"select":var Ml=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var Ul=c.value;Ul!=null?fb$1(a,!!c.multiple,Ul,!1):Ml!==!!c.multiple&&(c.defaultValue!=null?fb$1(a,!!c.multiple,c.defaultValue,!0):fb$1(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(Ll){W$2(i,i.return,Ll)}}break;case 6:if(dk(e,i),fk(i),o&4){if(i.stateNode===null)throw Error(p$2(162));a=i.stateNode,c=i.memoizedProps;try{a.nodeValue=c}catch(Ll){W$2(i,i.return,Ll)}}break;case 3:if(dk(e,i),fk(i),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd$1(e.containerInfo)}catch(Ll){W$2(i,i.return,Ll)}break;case 4:dk(e,i),fk(i);break;case 13:dk(e,i),fk(i),a=i.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=B$2())),o&4&&bk(i);break;case 22:if($l=s!==null&&s.memoizedState!==null,i.mode&1?(U$2=(_=U$2)||$l,dk(e,i),U$2=_):dk(e,i),fk(i),o&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!$l&&(i.mode&1)!==0)for(V$2=i,$l=i.child;$l!==null;){for(Rl=V$2=$l;V$2!==null;){switch(Ml=V$2,Ul=Ml.child,Ml.tag){case 0:case 11:case 14:case 15:Qj(4,Ml,Ml.return);break;case 1:Mj(Ml,Ml.return);var Fl=Ml.stateNode;if(typeof Fl.componentWillUnmount=="function"){o=Ml,s=Ml.return;try{e=o,Fl.props=e.memoizedProps,Fl.state=e.memoizedState,Fl.componentWillUnmount()}catch(Ll){W$2(o,s,Ll)}}break;case 5:Mj(Ml,Ml.return);break;case 22:if(Ml.memoizedState!==null){hk(Rl);continue}}Ul!==null?(Ul.return=Ml,V$2=Ul):hk(Rl)}$l=$l.sibling}e:for($l=null,Rl=i;;){if(Rl.tag===5){if($l===null){$l=Rl;try{a=Rl.stateNode,_?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=Rl.stateNode,g=Rl.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb$1("display",d))}catch(Ll){W$2(i,i.return,Ll)}}}else if(Rl.tag===6){if($l===null)try{Rl.stateNode.nodeValue=_?"":Rl.memoizedProps}catch(Ll){W$2(i,i.return,Ll)}}else if((Rl.tag!==22&&Rl.tag!==23||Rl.memoizedState===null||Rl===i)&&Rl.child!==null){Rl.child.return=Rl,Rl=Rl.child;continue}if(Rl===i)break e;for(;Rl.sibling===null;){if(Rl.return===null||Rl.return===i)break e;$l===Rl&&($l=null),Rl=Rl.return}$l===Rl&&($l=null),Rl.sibling.return=Rl.return,Rl=Rl.sibling}}break;case 19:dk(e,i),fk(i),o&4&&bk(i);break;case 21:break;default:dk(e,i),fk(i)}}function fk(i){var e=i.flags;if(e&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p$2(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob$1(a,""),o.flags&=-33);var c=Vj(i);Xj(i,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Vj(i);Wj(i,h,d);break;default:throw Error(p$2(161))}}catch(g){W$2(i,i.return,g)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function ik(i,e,s){V$2=i,jk(i)}function jk(i,e,s){for(var o=(i.mode&1)!==0;V$2!==null;){var a=V$2,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Kj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U$2;h=Kj;var _=U$2;if(Kj=d,(U$2=g)&&!_)for(V$2=a;V$2!==null;)d=V$2,g=d.child,d.tag===22&&d.memoizedState!==null?kk(a):g!==null?(g.return=d,V$2=g):kk(a);for(;c!==null;)V$2=c,jk(c),c=c.sibling;V$2=a,Kj=h,U$2=_}lk(i)}else(a.subtreeFlags&8772)!==0&&c!==null?(c.return=a,V$2=c):lk(i)}}function lk(i){for(;V$2!==null;){var e=V$2;if((e.flags&8772)!==0){var s=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:U$2||Rj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U$2)if(s===null)o.componentDidMount();else{var a=e.elementType===e.type?s.memoizedProps:Lg(e.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&ih$1(e,c,o);break;case 3:var d=e.updateQueue;if(d!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}ih$1(e,d,s)}break;case 5:var h=e.stateNode;if(s===null&&e.flags&4){s=h;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var $l=_.memoizedState;if($l!==null){var Rl=$l.dehydrated;Rl!==null&&bd$1(Rl)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$2||e.flags&512&&Sj(e)}catch(Ml){W$2(e,e.return,Ml)}}if(e===i){V$2=null;break}if(s=e.sibling,s!==null){s.return=e.return,V$2=s;break}V$2=e.return}}function hk(i){for(;V$2!==null;){var e=V$2;if(e===i){V$2=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V$2=s;break}V$2=e.return}}function kk(i){for(;V$2!==null;){var e=V$2;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Rj(4,e)}catch(g){W$2(e,s,g)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(g){W$2(e,a,g)}}var c=e.return;try{Sj(e)}catch(g){W$2(e,c,g)}break;case 5:var d=e.return;try{Sj(e)}catch(g){W$2(e,d,g)}}}catch(g){W$2(e,e.return,g)}if(e===i){V$2=null;break}var h=e.sibling;if(h!==null){h.return=e.return,V$2=h;break}V$2=e.return}}var mk=Math.ceil,nk=ua$2.ReactCurrentDispatcher,ok=ua$2.ReactCurrentOwner,pk=ua$2.ReactCurrentBatchConfig,K$2=0,R$1=null,Y$2=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh$1=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi$1=!1,Qi$1=null,Si$1=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return(K$2&6)!==0?B$2():Bk!==-1?Bk:Bk=B$2()}function lh$1(i){return(i.mode&1)===0?1:(K$2&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc$2()),Ck):(i=C$2,i!==0||(i=window.event,i=i===void 0?16:jd$1(i.type)),i)}function mh$1(i,e,s,o){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac$2(i,s,o),((K$2&2)===0||i!==R$1)&&(i===R$1&&((K$2&2)===0&&(rk|=s),T$1===4&&Dk(i,Z$1)),Ek(i,o),s===1&&K$2===0&&(e.mode&1)===0&&(Hj=B$2()+500,fg&&jg()))}function Ek(i,e){var s=i.callbackNode;wc$2(i,e);var o=uc$2(i,i===R$1?Z$1:0);if(o===0)s!==null&&bc$2(s),i.callbackNode=null,i.callbackPriority=0;else if(e=o&-o,i.callbackPriority!==e){if(s!=null&&bc$2(s),e===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){(K$2&6)===0&&jg()}),s=null;else{switch(Dc$2(o)){case 1:s=fc$2;break;case 4:s=gc$2;break;case 16:s=hc$2;break;case 536870912:s=jc$2;break;default:s=hc$2}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=e,i.callbackNode=s}}function Hk(i,e){if(Bk=-1,Ck=0,(K$2&6)!==0)throw Error(p$2(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var o=uc$2(i,i===R$1?Z$1:0);if(o===0)return null;if((o&30)!==0||(o&i.expiredLanes)!==0||e)e=Jk(i,o);else{e=o;var a=K$2;K$2|=2;var c=Kk();(R$1!==i||Z$1!==e)&&(vk=null,Hj=B$2()+500,Lk(i,e));do try{Mk();break}catch(h){Nk(i,h)}while(1);Qg(),nk.current=c,K$2=a,Y$2!==null?e=0:(R$1=null,Z$1=0,e=T$1)}if(e!==0){if(e===2&&(a=xc$2(i),a!==0&&(o=a,e=Ok(i,a))),e===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B$2()),s;if(e===6)Dk(i,o);else{if(a=i.current.alternate,(o&30)===0&&!Pk(a)&&(e=Jk(i,o),e===2&&(c=xc$2(i),c!==0&&(o=c,e=Ok(i,c))),e===1))throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B$2()),s;switch(i.finishedWork=a,i.finishedLanes=o,e){case 0:case 1:throw Error(p$2(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,o),(o&130023424)===o&&(e=gk+500-B$2(),10<e)){if(uc$2(i,0)!==0)break;if(a=i.suspendedLanes,(a&o)!==o){L$2(),i.pingedLanes|=i.suspendedLanes&a;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),e);break}Qk(i,uk,vk);break;case 4:if(Dk(i,o),(o&4194240)===o)break;for(e=i.eventTimes,a=-1;0<o;){var d=31-oc$2(o);c=1<<d,d=e[d],d>a&&(a=d),o&=~c}if(o=a,o=B$2()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(i,B$2()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,e){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,e).flags|=256),i=Jk(i,e),i!==2&&(e=uk,uk=s,e!==null&&Gj(e)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var e=i;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He$2(c(),a))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(i,e){for(e&=~sk,e&=~rk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var s=31-oc$2(e),o=1<<s;i[s]=-1,e&=~o}}function Fk(i){if((K$2&6)!==0)throw Error(p$2(327));Ik();var e=uc$2(i,0);if((e&1)===0)return Ek(i,B$2()),null;var s=Jk(i,e);if(i.tag!==0&&s===2){var o=xc$2(i);o!==0&&(e=o,s=Ok(i,o))}if(s===1)throw s=qk,Lk(i,0),Dk(i,e),Ek(i,B$2()),s;if(s===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Qk(i,uk,vk),Ek(i,B$2()),null}function Rk(i,e){var s=K$2;K$2|=1;try{return i(e)}finally{K$2=s,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&(K$2&6)===0&&Ik();var e=K$2;K$2|=1;var s=pk.transition,o=C$2;try{if(pk.transition=null,C$2=1,i)return i()}finally{C$2=o,pk.transition=s,K$2=e,(K$2&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(i,e){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y$2!==null)for(s=Y$2.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh$1(),E$1(Wf),E$1(H$2),Oh$1();break;case 5:Lh$1(o);break;case 4:Jh$1();break;case 13:E$1(M$2);break;case 19:E$1(M$2);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R$1=i,Y$2=i=wh$1(i.current,null),Z$1=gj=e,T$1=0,qk=null,sk=rk=hh$1=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(s=Wg[e],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}Wg=null}return i}function Nk(i,e){do{var s=Y$2;try{if(Qg(),Ph$1.current=ai$1,Sh$1){for(var o=N$2.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Sh$1=!1}if(Rh$1=0,P$2=O$2=N$2=null,Th$1=!1,Uh$1=0,ok.current=null,s===null||s.return===null){T$1=1,qk=e,Y$2=null;break}e:{var c=i,d=s.return,h=s,g=e;if(e=Z$1,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,$l=h,Rl=$l.tag;if(($l.mode&1)===0&&(Rl===0||Rl===11||Rl===15)){var Ml=$l.alternate;Ml?($l.updateQueue=Ml.updateQueue,$l.memoizedState=Ml.memoizedState,$l.lanes=Ml.lanes):($l.updateQueue=null,$l.memoizedState=null)}var Ul=Vi$1(d);if(Ul!==null){Ul.flags&=-257,Wi$1(Ul,d,h,c,e),Ul.mode&1&&Ti$1(c,_,e),e=Ul,g=_;var Fl=e.updateQueue;if(Fl===null){var Ll=new Set;Ll.add(g),e.updateQueue=Ll}else Fl.add(g);break e}else{if((e&1)===0){Ti$1(c,_,e),uj();break e}g=Error(p$2(426))}}else if(I$1&&h.mode&1){var Bl=Vi$1(d);if(Bl!==null){(Bl.flags&65536)===0&&(Bl.flags|=256),Wi$1(Bl,d,h,c,e),Jg(Ki$1(g,h));break e}}c=g=Ki$1(g,h),T$1!==4&&(T$1=2),tk===null?tk=[c]:tk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var zl=Oi$1(c,g,e);fh$1(c,zl);break e;case 1:h=g;var Hl=c.type,Wl=c.stateNode;if((c.flags&128)===0&&(typeof Hl.getDerivedStateFromError=="function"||Wl!==null&&typeof Wl.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(Wl)))){c.flags|=65536,e&=-e,c.lanes|=e;var Yl=Ri$1(c,h,e);fh$1(c,Yl);break e}}c=c.return}while(c!==null)}Tk(s)}catch(Xl){e=Xl,Y$2===s&&s!==null&&(Y$2=s=s.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai$1,i===null?ai$1:i}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||(hh$1&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk(i,e){var s=K$2;K$2|=2;var o=Kk();(R$1!==i||Z$1!==e)&&(vk=null,Lk(i,e));do try{Uk();break}catch(a){Nk(i,a)}while(1);if(Qg(),K$2=s,nk.current=o,Y$2!==null)throw Error(p$2(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$2();)Vk(Y$2)}function Vk(i){var e=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,e===null?Tk(i):Y$2=e,ok.current=null}function Tk(i){var e=i;do{var s=e.alternate;if(i=e.return,(e.flags&32768)===0){if(s=Fj(s,e,gj),s!==null){Y$2=s;return}}else{if(s=Jj(s,e),s!==null){s.flags&=32767,Y$2=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T$1=6,Y$2=null;return}}if(e=e.sibling,e!==null){Y$2=e;return}Y$2=e=i}while(e!==null);T$1===0&&(T$1=5)}function Qk(i,e,s){var o=C$2,a=pk.transition;try{pk.transition=null,C$2=1,Xk(i,e,s,o)}finally{pk.transition=a,C$2=o}return null}function Xk(i,e,s,o){do Ik();while(xk!==null);if((K$2&6)!==0)throw Error(p$2(327));s=i.finishedWork;var a=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc$2(i,c),i===R$1&&(Y$2=R$1=null,Z$1=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||wk||(wk=!0,Gk(hc$2,function(){return Ik(),null})),c=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||c){c=pk.transition,pk.transition=null;var d=C$2;C$2=1;var h=K$2;K$2|=4,ok.current=null,Pj(i,s),ek(s,i),Oe$2(Df),dd$1=!!Cf,Df=Cf=null,i.current=s,ik(s),dc$2(),K$2=h,C$2=d,pk.transition=c}else i.current=s;if(wk&&(wk=!1,xk=i,yk=a),c=i.pendingLanes,c===0&&(Si$1=null),mc$2(s.stateNode),Ek(i,B$2()),e!==null)for(o=i.onRecoverableError,s=0;s<e.length;s++)a=e[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Pi$1)throw Pi$1=!1,i=Qi$1,Qi$1=null,i;return(yk&1)!==0&&i.tag!==0&&Ik(),c=i.pendingLanes,(c&1)!==0?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc$2(yk),e=pk.transition,s=C$2;try{if(pk.transition=null,C$2=16>i?16:i,xk===null)var o=!1;else{if(i=xk,xk=null,yk=0,(K$2&6)!==0)throw Error(p$2(331));var a=K$2;for(K$2|=4,V$2=i.current;V$2!==null;){var c=V$2,d=c.child;if((V$2.flags&16)!==0){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var _=h[g];for(V$2=_;V$2!==null;){var $l=V$2;switch($l.tag){case 0:case 11:case 15:Qj(8,$l,c)}var Rl=$l.child;if(Rl!==null)Rl.return=$l,V$2=Rl;else for(;V$2!==null;){$l=V$2;var Ml=$l.sibling,Ul=$l.return;if(Tj($l),$l===_){V$2=null;break}if(Ml!==null){Ml.return=Ul,V$2=Ml;break}V$2=Ul}}}var Fl=c.alternate;if(Fl!==null){var Ll=Fl.child;if(Ll!==null){Fl.child=null;do{var Bl=Ll.sibling;Ll.sibling=null,Ll=Bl}while(Ll!==null)}}V$2=c}}if((c.subtreeFlags&2064)!==0&&d!==null)d.return=c,V$2=d;else e:for(;V$2!==null;){if(c=V$2,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Qj(9,c,c.return)}var zl=c.sibling;if(zl!==null){zl.return=c.return,V$2=zl;break e}V$2=c.return}}var Hl=i.current;for(V$2=Hl;V$2!==null;){d=V$2;var Wl=d.child;if((d.subtreeFlags&2064)!==0&&Wl!==null)Wl.return=d,V$2=Wl;else e:for(d=Hl;V$2!==null;){if(h=V$2,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(Xl){W$2(h,h.return,Xl)}if(h===d){V$2=null;break e}var Yl=h.sibling;if(Yl!==null){Yl.return=h.return,V$2=Yl;break e}V$2=h.return}}if(K$2=a,jg(),lc$2&&typeof lc$2.onPostCommitFiberRoot=="function")try{lc$2.onPostCommitFiberRoot(kc$2,i)}catch{}o=!0}return o}finally{C$2=s,pk.transition=e}}return!1}function Yk(i,e,s){e=Ki$1(s,e),e=Oi$1(i,e,1),i=dh$1(i,e,1),e=L$2(),i!==null&&(Ac$2(i,1,e),Ek(i,e))}function W$2(i,e,s){if(i.tag===3)Yk(i,i,s);else for(;e!==null;){if(e.tag===3){Yk(e,i,s);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(o))){i=Ki$1(s,i),i=Ri$1(e,i,1),e=dh$1(e,i,1),i=L$2(),e!==null&&(Ac$2(e,1,i),Ek(e,i));break}}e=e.return}}function Ui$1(i,e,s){var o=i.pingCache;o!==null&&o.delete(e),e=L$2(),i.pingedLanes|=i.suspendedLanes&s,R$1===i&&(Z$1&s)===s&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(i,0):sk|=s),Ek(i,e)}function Zk(i,e){e===0&&((i.mode&1)===0?e=1:(e=sc$2,sc$2<<=1,(sc$2&130023424)===0&&(sc$2=4194304)));var s=L$2();i=Zg(i,e),i!==null&&(Ac$2(i,e,s),Ek(i,s))}function vj(i){var e=i.memoizedState,s=0;e!==null&&(s=e.retryLane),Zk(i,s)}function ck(i,e){var s=0;switch(i.tag){case 13:var o=i.stateNode,a=i.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p$2(314))}o!==null&&o.delete(e),Zk(i,s)}var Wk;Wk=function(i,e,s){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if((i.lanes&s)===0&&(e.flags&128)===0)return Ug=!1,zj(i,e,s);Ug=(i.flags&131072)!==0}else Ug=!1,I$1&&(e.flags&1048576)!==0&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;jj(i,e),i=e.pendingProps;var a=Yf(e,H$2.current);Tg(e,s),a=Xh$1(null,e,o,i,a,s);var c=bi$1();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(c=!0,cg(e)):c=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ah$1(e),a.updater=nh,e.stateNode=a,a._reactInternals=e,rh$1(e,o,i,s),e=kj(null,e,o,!0,c,s)):(e.tag=0,I$1&&c&&vg(e),Yi$1(null,e,a,s),e=e.child),e;case 16:o=e.elementType;e:{switch(jj(i,e),i=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=$k(o),i=Lg(o,i),a){case 0:e=dj(null,e,o,i,s);break e;case 1:e=ij(null,e,o,i,s);break e;case 11:e=Zi$1(null,e,o,i,s);break e;case 14:e=aj(null,e,o,Lg(o.type,i),s);break e}throw Error(p$2(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),dj(i,e,o,a,s);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),ij(i,e,o,a,s);case 3:e:{if(lj(e),i===null)throw Error(p$2(387));o=e.pendingProps,c=e.memoizedState,a=c.element,bh$1(i,e),gh$1(e,o,null,s);var d=e.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){a=Ki$1(Error(p$2(423)),e),e=mj(i,e,o,s,a);break e}else if(o!==a){a=Ki$1(Error(p$2(424)),e),e=mj(i,e,o,s,a);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,s=Ch$1(e,null,o,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){e=$i$1(i,e,s);break e}Yi$1(i,e,o,s)}e=e.child}return e;case 5:return Kh$1(e),i===null&&Eg(e),o=e.type,a=e.pendingProps,c=i!==null?i.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(e.flags|=32),hj(i,e),Yi$1(i,e,d,s),e.child;case 6:return i===null&&Eg(e),null;case 13:return pj(i,e,s);case 4:return Ih$1(e,e.stateNode.containerInfo),o=e.pendingProps,i===null?e.child=Bh$1(e,null,o,s):Yi$1(i,e,o,s),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),Zi$1(i,e,o,a,s);case 7:return Yi$1(i,e,e.pendingProps,s),e.child;case 8:return Yi$1(i,e,e.pendingProps.children,s),e.child;case 12:return Yi$1(i,e,e.pendingProps.children,s),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,c=e.memoizedProps,d=a.value,G$2(Mg,o._currentValue),o._currentValue=d,c!==null)if(He$2(c.value,d)){if(c.children===a.children&&!Wf.current){e=$i$1(i,e,s);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=ch$1(-1,s&-s),g.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var $l=_.pending;$l===null?g.next=g:(g.next=$l.next,$l.next=g),_.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),Sg(c.return,s,e),h.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===e.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p$2(341));d.lanes|=s,h=d.alternate,h!==null&&(h.lanes|=s),Sg(d,s,e),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Yi$1(i,e,a.children,s),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,Tg(e,s),a=Vg(a),o=o(a),e.flags|=1,Yi$1(i,e,o,s),e.child;case 14:return o=e.type,a=Lg(o,e.pendingProps),a=Lg(o.type,a),aj(i,e,o,a,s);case 15:return cj(i,e,e.type,e.pendingProps,s);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Lg(o,a),jj(i,e),e.tag=1,Zf(o)?(i=!0,cg(e)):i=!1,Tg(e,s),ph$1(e,o,a),rh$1(e,o,a,s),kj(null,e,o,!0,i,s);case 19:return yj(i,e,s);case 22:return ej(i,e,s)}throw Error(p$2(156,e.tag))};function Gk(i,e){return ac$2(i,e)}function al$1(i,e,s,o){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,s,o){return new al$1(i,e,s,o)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da$1)return 11;if(i===Ga$2)return 14}return 2}function wh$1(i,e){var s=i.alternate;return s===null?(s=Bg(i.tag,e,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=e,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh$1(i,e,s,o,a,c){var d=2;if(o=i,typeof i=="function")bj(i)&&(d=1);else if(typeof i=="string")d=5;else e:switch(i){case ya$2:return Ah$1(s.children,a,c,e);case za$2:d=8,a|=8;break;case Aa$2:return i=Bg(12,s,e,a|2),i.elementType=Aa$2,i.lanes=c,i;case Ea$2:return i=Bg(13,s,e,a),i.elementType=Ea$2,i.lanes=c,i;case Fa$2:return i=Bg(19,s,e,a),i.elementType=Fa$2,i.lanes=c,i;case Ia$2:return qj(s,a,c,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba$1:d=10;break e;case Ca$1:d=9;break e;case Da$1:d=11;break e;case Ga$2:d=14;break e;case Ha$2:d=16,o=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return e=Bg(d,s,e,a),e.elementType=i,e.type=o,e.lanes=c,e}function Ah$1(i,e,s,o){return i=Bg(7,i,o,e),i.lanes=s,i}function qj(i,e,s,o){return i=Bg(22,i,o,e),i.elementType=Ia$2,i.lanes=s,i.stateNode={isHidden:!1},i}function xh$1(i,e,s){return i=Bg(6,i,null,e),i.lanes=s,i}function zh$1(i,e,s){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=s,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function bl(i,e,s,o,a){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$2(0),this.expirationTimes=zc$2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$2(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl$1(i,e,s,o,a,c,d,h,g){return i=new bl(i,e,s,h,g),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Bg(3,null,null,e),i.current=c,c.stateNode=i,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah$1(c),i}function dl$1(i,e,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$2,key:o==null?null:""+o,children:i,containerInfo:e,implementation:s}}function el$1(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb$1(i)!==i||i.tag!==1)throw Error(p$2(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,e)}return e}function fl$1(i,e,s,o,a,c,d,h,g){return i=cl$1(s,o,!0,i,a,c,d,h,g),i.context=el$1(null),s=i.current,o=L$2(),a=lh$1(s),c=ch$1(o,a),c.callback=e!=null?e:null,dh$1(s,c,a),i.current.lanes=a,Ac$2(i,a,o),Ek(i,o),i}function gl$1(i,e,s,o){var a=e.current,c=L$2(),d=lh$1(a);return s=el$1(s),e.context===null?e.context=s:e.pendingContext=s,e=ch$1(c,d),e.payload={element:i},o=o===void 0?null:o,o!==null&&(e.callback=o),i=dh$1(a,e,d),i!==null&&(mh$1(i,a,d,c),eh$1(i,a,d)),d}function hl$1(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il$1(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<e?s:e}}function jl(i,e){il$1(i,e),(i=i.alternate)&&il$1(i,e)}function kl$1(){return null}var ll$1=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml$1(i){this._internalRoot=i}nl$1.prototype.render=ml$1.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p$2(409));gl$1(i,e,null,null)};nl$1.prototype.unmount=ml$1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Sk(function(){gl$1(null,i,null,null)}),e[uf]=null}};function nl$1(i){this._internalRoot=i}nl$1.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc$2();i={blockedOn:null,target:i,priority:e};for(var s=0;s<Qc$2.length&&e!==0&&e<Qc$2[s].priority;s++);Qc$2.splice(s,0,i),s===0&&Vc$2(i)}};function ol$1(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl$1(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl$1(i,e,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var _=hl$1(d);c.call(_)}}var d=fl$1(e,o,i,0,null,!1,!1,"",ql);return i._reactRootContainer=d,i[uf]=d.current,sf(i.nodeType===8?i.parentNode:i),Sk(),d}for(;a=i.lastChild;)i.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var _=hl$1(g);h.call(_)}}var g=cl$1(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=g,i[uf]=g.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl$1(e,g,s,o)}),g}function sl$1(i,e,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=hl$1(d);h.call(g)}}gl$1(e,d,i,a)}else d=rl$1(s,e,i,a,o);return hl$1(d)}Ec$2=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc$2(e.pendingLanes);s!==0&&(Cc$2(e,s|1),Ek(e,B$2()),(K$2&6)===0&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var o=Zg(i,1);if(o!==null){var a=L$2();mh$1(o,i,1,a)}}),jl(i,1)}};Fc$2=function(i){if(i.tag===13){var e=Zg(i,134217728);if(e!==null){var s=L$2();mh$1(e,i,134217728,s)}jl(i,134217728)}};Gc$2=function(i){if(i.tag===13){var e=lh$1(i),s=Zg(i,e);if(s!==null){var o=L$2();mh$1(s,i,e,o)}jl(i,e)}};Hc$2=function(){return C$2};Ic$2=function(i,e){var s=C$2;try{return C$2=i,e()}finally{C$2=s}};yb$1=function(i,e,s){switch(e){case"input":if(bb$1(i,s),e=s.name,s.type==="radio"&&e!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var o=s[e];if(o!==i&&o.form===i.form){var a=Db$1(o);if(!a)throw Error(p$2(90));Wa$2(o),bb$1(o,a)}}}break;case"textarea":ib$1(i,s);break;case"select":e=s.value,e!=null&&fb$1(i,!!s.multiple,e,!1)}};Gb$1=Rk;Hb$1=Sk;var tl$1={usingClientEntryPoint:!1,Events:[Cb$1,ue$2,Db$1,Eb$1,Fb$1,Rk]},ul$1={findFiberByHostInstance:Wc$2,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl$1={bundleType:ul$1.bundleType,version:ul$1.version,rendererPackageName:ul$1.rendererPackageName,rendererConfig:ul$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb$1(i),i===null?null:i.stateNode},findFiberByHostInstance:ul$1.findFiberByHostInstance||kl$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl$1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl$1.isDisabled&&wl$1.supportsFiber)try{kc$2=wl$1.inject(vl$1),lc$2=wl$1}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl$1;reactDom_production_min.createPortal=function(i,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol$1(e))throw Error(p$2(200));return dl$1(i,e,null,s)};reactDom_production_min.createRoot=function(i,e){if(!ol$1(i))throw Error(p$2(299));var s=!1,o="",a=ll$1;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=cl$1(i,1,!1,null,null,s,!1,o,a),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ml$1(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb$1(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,e,s){if(!pl$1(e))throw Error(p$2(200));return sl$1(null,i,e,!0,s)};reactDom_production_min.hydrateRoot=function(i,e,s){if(!ol$1(i))throw Error(p$2(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=ll$1;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),e=fl$1(e,null,i,1,s!=null?s:null,a,!1,c,d),i[uf]=e.current,sf(i),o)for(i=0;i<o.length;i++)s=o[i],a=s._getVersion,a=a(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,a]:e.mutableSourceEagerHydrationData.push(s,a);return new nl$1(e)};reactDom_production_min.render=function(i,e,s){if(!pl$1(e))throw Error(p$2(200));return sl$1(null,i,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl$1(i))throw Error(p$2(40));return i._reactRootContainer?(Sk(function(){sl$1(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,s,o){if(!pl$1(s))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return sl$1(i,e,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}e(),i.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDom.exports);var m$1=reactDom.exports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$3.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function e(o,a){let{pathname:c,search:d,hash:h}=o.location;return createLocation("",{pathname:c,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(e,s,null,i)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i){return{usr:i.state,key:i.key}}function createLocation(i,e,s,o){return s===void 0&&(s=null),_extends$3({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||o||createKey()})}function createPath(i){let{pathname:e="/",search:s="",hash:o=""}=i;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substr(s),i=i.substr(0,s));let o=i.indexOf("?");o>=0&&(e.search=i.substr(o),i=i.substr(0,o)),i&&(e.pathname=i)}return e}function createURL(i){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",s=typeof i=="string"?i:createPath(i);return new URL(s,e)}function getUrlBasedHistory(i,e,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,h=Action.Pop,g=null;function _(){h=Action.Pop,g&&g({action:h,location:Ml.location})}function $l(Ul,Fl){h=Action.Push;let Ll=createLocation(Ml.location,Ul,Fl);s&&s(Ll,Ul);let Bl=getHistoryState(Ll),zl=Ml.createHref(Ll);try{d.pushState(Bl,"",zl)}catch{a.location.assign(zl)}c&&g&&g({action:h,location:Ml.location})}function Rl(Ul,Fl){h=Action.Replace;let Ll=createLocation(Ml.location,Ul,Fl);s&&s(Ll,Ul);let Bl=getHistoryState(Ll),zl=Ml.createHref(Ll);d.replaceState(Bl,"",zl),c&&g&&g({action:h,location:Ml.location})}let Ml={get action(){return h},get location(){return i(a,d)},listen(Ul){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,_),g=Ul,()=>{a.removeEventListener(PopStateEventType,_),g=null}},createHref(Ul){return e(a,Ul)},encodeLocation(Ul){let Fl=createURL(createPath(Ul));return _extends$3({},Ul,{pathname:Fl.pathname,search:Fl.search,hash:Fl.hash})},push:$l,replace:Rl,go(Ul){return d.go(Ul)}};return Ml}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,e,s){s===void 0&&(s="/");let o=typeof e=="string"?parsePath(e):e,a=stripBasename(o.pathname||"/",s);if(a==null)return null;let c=flattenRoutes(i);rankRouteBranches(c);let d=null;for(let h=0;d==null&&h<c.length;++h)d=matchRouteBranch(c[h],safelyDecodeURI(a));return d}function flattenRoutes(i,e,s,o){return e===void 0&&(e=[]),s===void 0&&(s=[]),o===void 0&&(o=""),i.forEach((a,c)=>{let d={relativePath:a.path||"",caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(invariant$2(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let h=joinPaths([o,d.relativePath]),g=s.concat(d);a.children&&a.children.length>0&&(invariant$2(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),flattenRoutes(a.children,e,g,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:computeScore(h,a.index),routesMeta:g})}),e}function rankRouteBranches(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,e){let s=i.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(i,e){return i.length===e.length&&i.slice(0,-1).every((o,a)=>o===e[a])?i[i.length-1]-e[e.length-1]:0}function matchRouteBranch(i,e){let{routesMeta:s}=i,o={},a="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],g=d===s.length-1,_=a==="/"?e:e.slice(a.length)||"/",$l=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},_);if(!$l)return null;Object.assign(o,$l.params);let Rl=h.route;c.push({params:o,pathname:joinPaths([a,$l.pathname]),pathnameBase:normalizePathname(joinPaths([a,$l.pathnameBase])),route:Rl}),$l.pathnameBase!=="/"&&(a=joinPaths([a,$l.pathnameBase]))}return c}function matchPath(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=compilePath(i.path,i.caseSensitive,i.end),a=e.match(s);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:o.reduce((_,$l,Rl)=>{if($l==="*"){let Ml=h[Rl]||"";d=c.slice(0,c.length-Ml.length).replace(/(.)\/+$/,"$1")}return _[$l]=safelyDecodeURIComponent(h[Rl]||"",$l),_},{}),pathname:c,pathnameBase:d,pattern:i}}function compilePath(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning$2(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(d,h)=>(o.push(h),"([^\\/]+)"));return i.endsWith("*")?(o.push("*"),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function safelyDecodeURI(i){try{return decodeURI(i)}catch(e){return warning$2(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function safelyDecodeURIComponent(i,e){try{return decodeURIComponent(i)}catch(s){return warning$2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),i}}function stripBasename(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}function invariant$2(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function warning$2(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function resolvePath(i,e){e===void 0&&(e="/");let{pathname:s,search:o="",hash:a=""}=typeof i=="string"?parsePath(i):i;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(i,e,s,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function resolveTo(i,e,s,o){o===void 0&&(o=!1);let a;typeof i=="string"?a=parsePath(i):(a=_extends$3({},i),invariant$2(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$2(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$2(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=i===""||a.pathname==="",d=c?"/":a.pathname,h;if(o||d==null)h=s;else{let Rl=e.length-1;if(d.startsWith("..")){let Ml=d.split("/");for(;Ml[0]==="..";)Ml.shift(),Rl-=1;a.pathname=Ml.join("/")}h=Rl>=0?e[Rl]:"/"}let g=resolvePath(a,h),_=d&&d!=="/"&&d.endsWith("/"),$l=(c||d===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(_||$l)&&(g.pathname+="/"),g}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,json=function(e,s){s===void 0&&(s={});let o=typeof s=="number"?{status:s}:s,a=new Headers(o.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),_extends$3({},o,{headers:a}))};class ErrorResponse{constructor(e,s,o){this.status=e,this.statusText=s||"",this.data=o}}function isRouteErrorResponse(i){return i instanceof ErrorResponse}const validActionMethods=new Set(["POST","PUT","PATCH","DELETE"]);[...validActionMethods];var jsxRuntime$1={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react$1.exports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,e,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(d=e.ref);for(o in e)m.call(e,o)&&!p$1.hasOwnProperty(o)&&(a[o]=e[o]);if(i&&i.defaultProps)for(o in e=i.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:k$2,type:i,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(i){i.exports=reactJsxRuntime_production_min})(jsxRuntime$1);const Fragment=jsxRuntime$1.exports.Fragment,jsx=jsxRuntime$1.exports.jsx,jsxs=jsxRuntime$1.exports.jsxs,jsxRuntime=Object.freeze(Object.defineProperty({__proto__:null,Fragment,jsx,jsxs},Symbol.toStringTag,{value:"Module"}));/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$2.apply(this,arguments)}function isPolyfill(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}const is$1=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$7;function useSyncExternalStore$2(i,e,s){const o=e(),[{inst:a},c]=useState({inst:{value:o,getSnapshot:e}});return useLayoutEffect(()=>{a.value=o,a.getSnapshot=e,checkIfSnapshotChanged(a)&&c({inst:a})},[i,o,e]),useEffect(()=>(checkIfSnapshotChanged(a)&&c({inst:a}),i(()=>{checkIfSnapshotChanged(a)&&c({inst:a})})),[i]),useDebugValue(o),o}function checkIfSnapshotChanged(i){const e=i.getSnapshot,s=i.value;try{const o=e();return!is$1(s,o)}catch{return!0}}function useSyncExternalStore$1(i,e,s){return e()}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM$1,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$7&&(i=>i.useSyncExternalStore)(React$7);const DataStaticRouterContext=react$1.exports.createContext(null),DataRouterContext=react$1.exports.createContext(null),DataRouterStateContext=react$1.exports.createContext(null),NavigationContext=react$1.exports.createContext(null),LocationContext=react$1.exports.createContext(null),RouteContext=react$1.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react$1.exports.createContext(null);function useHref(i,e){let{relative:s}=e===void 0?{}:e;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:a}=react$1.exports.useContext(NavigationContext),{hash:c,pathname:d,search:h}=useResolvedPath(i,{relative:s}),g=d;return o!=="/"&&(g=d==="/"?o:joinPaths([o,d])),a.createHref({pathname:g,search:h,hash:c})}function useInRouterContext(){return react$1.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),react$1.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$2(!1);let{basename:i,navigator:e}=react$1.exports.useContext(NavigationContext),{matches:s}=react$1.exports.useContext(RouteContext),{pathname:o}=useLocation(),a=JSON.stringify(getPathContributingMatches(s).map(h=>h.pathnameBase)),c=react$1.exports.useRef(!1);return react$1.exports.useEffect(()=>{c.current=!0}),react$1.exports.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){e.go(h);return}let _=resolveTo(h,JSON.parse(a),o,g.relative==="path");i!=="/"&&(_.pathname=_.pathname==="/"?i:joinPaths([i,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[i,e,a,o])}function useResolvedPath(i,e){let{relative:s}=e===void 0?{}:e,{matches:o}=react$1.exports.useContext(RouteContext),{pathname:a}=useLocation(),c=JSON.stringify(getPathContributingMatches(o).map(d=>d.pathnameBase));return react$1.exports.useMemo(()=>resolveTo(i,JSON.parse(c),a,s==="path"),[i,c,a,s])}function useRoutes(i,e){useInRouterContext()||invariant$2(!1);let s=react$1.exports.useContext(DataRouterStateContext),{matches:o}=react$1.exports.useContext(RouteContext),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=useLocation(),g;if(e){var _;let Fl=typeof e=="string"?parsePath(e):e;d==="/"||((_=Fl.pathname)==null?void 0:_.startsWith(d))||invariant$2(!1),g=Fl}else g=h;let $l=g.pathname||"/",Rl=d==="/"?$l:$l.slice(d.length)||"/",Ml=matchRoutes(i,{pathname:Rl}),Ul=_renderMatches(Ml&&Ml.map(Fl=>Object.assign({},Fl,{params:Object.assign({},c,Fl.params),pathname:joinPaths([d,Fl.pathname]),pathnameBase:Fl.pathnameBase==="/"?d:joinPaths([d,Fl.pathnameBase])})),o,s||void 0);return e&&Ul?jsx(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Action.Pop},children:Ul}):Ul}function DefaultErrorElement(){let i=useRouteError(),e=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o};return jsxs(Fragment,{children:[jsx("h2",{children:"Unhandled Thrown Error!"}),jsx("h3",{style:{fontStyle:"italic"},children:e}),s?jsx("pre",{style:a,children:s}):null,jsx("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),jsxs("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",jsx("code",{style:c,children:"errorElement"})," props on\xA0",jsx("code",{style:c,children:"<Route>"})]})]})}class RenderErrorBoundary extends react$1.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location?{error:e.error,location:e.location}:{error:e.error||s.error,location:s.location}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error?jsx(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute(i){let{routeContext:e,match:s,children:o}=i,a=react$1.exports.useContext(DataStaticRouterContext);return a&&s.route.errorElement&&(a._deepestRenderedBoundaryId=s.route.id),jsx(RouteContext.Provider,{value:e,children:o})}function _renderMatches(i,e,s){if(e===void 0&&(e=[]),i==null)if(s!=null&&s.errors)i=s.matches;else return null;let o=i,a=s==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||invariant$2(!1),o=o.slice(0,Math.min(o.length,c+1))}return o.reduceRight((c,d,h)=>{let g=d.route.id?a==null?void 0:a[d.route.id]:null,_=s?d.route.errorElement||jsx(DefaultErrorElement,{}):null,$l=()=>jsx(RenderedRoute,{match:d,routeContext:{outlet:c,matches:e.concat(o.slice(0,h+1))},children:g?_:d.route.element!==void 0?d.route.element:c});return s&&(d.route.errorElement||h===0)?jsx(RenderErrorBoundary,{location:s.location,component:_,error:g,children:$l()}):$l()},null)}var DataRouterHook$1;(function(i){i.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(i){i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(i){let e=react$1.exports.useContext(DataRouterStateContext);return e||invariant$2(!1),e}function useRouteError(){var i;let e=react$1.exports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=react$1.exports.useContext(RouteContext),a=o.matches[o.matches.length-1];return e||(o||invariant$2(!1),a.route.id||invariant$2(!1),(i=s.errors)==null?void 0:i[a.route.id])}function Route(i){invariant$2(!1)}function Router(i){let{basename:e="/",children:s=null,location:o,navigationType:a=Action.Pop,navigator:c,static:d=!1}=i;useInRouterContext()&&invariant$2(!1);let h=e.replace(/^\/*/,"/"),g=react$1.exports.useMemo(()=>({basename:h,navigator:c,static:d}),[h,c,d]);typeof o=="string"&&(o=parsePath(o));let{pathname:_="/",search:$l="",hash:Rl="",state:Ml=null,key:Ul="default"}=o,Fl=react$1.exports.useMemo(()=>{let Ll=stripBasename(_,h);return Ll==null?null:{pathname:Ll,search:$l,hash:Rl,state:Ml,key:Ul}},[h,_,$l,Rl,Ml,Ul]);return Fl==null?null:jsx(NavigationContext.Provider,{value:g,children:jsx(LocationContext.Provider,{children:s,value:{location:Fl,navigationType:a}})})}function Routes(i){let{children:e,location:s}=i,o=react$1.exports.useContext(DataRouterContext),a=o&&!e?o.router.routes:createRoutesFromChildren(e);return useRoutes(a,s)}var AwaitRenderStatus;(function(i){i[i.pending=0]="pending",i[i.success=1]="success",i[i.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(i,e){e===void 0&&(e=[]);let s=[];return react$1.exports.Children.forEach(i,(o,a)=>{if(!react$1.exports.isValidElement(o))return;if(o.type===react$1.exports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,e));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let c=[...e,a],d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,hasErrorBoundary:o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _objectWithoutPropertiesLoose$2(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function isModifiedEvent$1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,e){return i.button===0&&(!e||e==="_self")&&!isModifiedEvent$1(i)}const _excluded$8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],_excluded2$2=["aria-current","caseSensitive","className","end","style","to","children"];function BrowserRouter(i){let{basename:e,children:s,window:o}=i,a=react$1.exports.useRef();a.current==null&&(a.current=createBrowserHistory({window:o,v5Compat:!0}));let c=a.current,[d,h]=react$1.exports.useState({action:c.action,location:c.location});return react$1.exports.useLayoutEffect(()=>c.listen(h),[c]),jsx(Router,{basename:e,children:s,location:d.location,navigationType:d.action,navigator:c})}const Link=react$1.exports.forwardRef(function(e,s){let{onClick:o,relative:a,reloadDocument:c,replace:d,state:h,target:g,to:_,preventScrollReset:$l}=e,Rl=_objectWithoutPropertiesLoose$2(e,_excluded$8),Ml=useHref(_,{relative:a}),Ul=useLinkClickHandler(_,{replace:d,state:h,target:g,preventScrollReset:$l,relative:a});function Fl(Ll){o&&o(Ll),Ll.defaultPrevented||Ul(Ll)}return jsx("a",{...Rl,href:Ml,onClick:c?o:Fl,ref:s,target:g})}),NavLink=react$1.exports.forwardRef(function(e,s){let{"aria-current":o="page",caseSensitive:a=!1,className:c="",end:d=!1,style:h,to:g,children:_}=e,$l=_objectWithoutPropertiesLoose$2(e,_excluded2$2),Rl=useResolvedPath(g,{relative:$l.relative}),Ml=useLocation(),Ul=react$1.exports.useContext(DataRouterStateContext),Fl=Rl.pathname,Ll=Ml.pathname,Bl=Ul&&Ul.navigation&&Ul.navigation.location?Ul.navigation.location.pathname:null;a||(Ll=Ll.toLowerCase(),Bl=Bl?Bl.toLowerCase():null,Fl=Fl.toLowerCase());let zl=Ll===Fl||!d&&Ll.startsWith(Fl)&&Ll.charAt(Fl.length)==="/",Hl=Bl!=null&&(Bl===Fl||!d&&Bl.startsWith(Fl)&&Bl.charAt(Fl.length)==="/"),Wl=zl?o:void 0,Yl;typeof c=="function"?Yl=c({isActive:zl,isPending:Hl}):Yl=[c,zl?"active":null,Hl?"pending":null].filter(Boolean).join(" ");let Xl=typeof h=="function"?h({isActive:zl,isPending:Hl}):h;return jsx(Link,{...$l,"aria-current":Wl,className:Yl,ref:s,style:Xl,to:g,children:typeof _=="function"?_({isActive:zl,isPending:Hl}):_})});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmitImpl="useSubmitImpl",i.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(i,e){let{target:s,replace:o,state:a,preventScrollReset:c,relative:d}=e===void 0?{}:e,h=useNavigate(),g=useLocation(),_=useResolvedPath(i,{relative:d});return react$1.exports.useCallback($l=>{if(shouldProcessLinkClick($l,s)){$l.preventDefault();let Rl=o!==void 0?o:createPath(g)===createPath(_);h(i,{replace:Rl,state:a,preventScrollReset:c,relative:d})}},[g,h,_,o,a,s,i,c,d])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(i){const e=[];let s=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?e[s++]=a:a<2048?(e[s++]=a>>6|192,e[s++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),e[s++]=a>>18|240,e[s++]=a>>12&63|128,e[s++]=a>>6&63|128,e[s++]=a&63|128):(e[s++]=a>>12|224,e[s++]=a>>6&63|128,e[s++]=a&63|128)}return e},byteArrayToString=function(i){const e=[];let s=0,o=0;for(;s<i.length;){const a=i[s++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[s++];e[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[s++],d=i[s++],h=i[s++],g=((a&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const c=i[s++],d=i[s++];e[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,h=d?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,$l=c>>2,Rl=(c&3)<<4|h>>4;let Ml=(h&15)<<2|_>>6,Ul=_&63;g||(Ul=64,d||(Ml=64)),o.push(s[$l],s[Rl],s[Ml],s[Ul])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(stringToByteArray$1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):byteArrayToString(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=s[i.charAt(a++)],h=a<i.length?s[i.charAt(a)]:0;++a;const _=a<i.length?s[i.charAt(a)]:64;++a;const Rl=a<i.length?s[i.charAt(a)]:64;if(++a,c==null||h==null||_==null||Rl==null)throw Error();const Ml=c<<2|h>>4;if(o.push(Ml),_!==64){const Ul=h<<4&240|_>>2;if(o.push(Ul),Rl!==64){const Fl=_<<6&192|Rl;o.push(Fl)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},base64Encode=function(i){const e=stringToByteArray$1(i);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(i){return base64Encode(i).replace(/\./g,"")},base64Decode=function(i){try{return base64.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function deepExtend$1(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!isValidKey(s)||(i[s]=deepExtend$1(i[s],e[s]));return i}function isValidKey(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowser$1(){return typeof self=="object"&&self.self===self}function isBrowserExtension(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const i=getUA();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((i,e)=>{try{let s=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),s||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{s=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){e(s)}})}function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&base64Decode(i[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},getDefaultAppConfig=()=>{var i;return(i=getDefaults())===null||i===void 0?void 0:i.config},getExperimentalSetting=i=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,o)=>{s?this.reject(s):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},o=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i),h="";return[base64urlEncodeWithoutPadding(JSON.stringify(s)),base64urlEncodeWithoutPadding(JSON.stringify(d)),h].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,s,o){super(s),this.code=e,this.customData=o,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,s,o){this.service=e,this.serviceName=s,this.errors=o}create(e,...s){const o=s[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?replaceTemplate(c,o):"Error",h=`${this.serviceName}: ${d} (${a}).`;return new FirebaseError(a,h,o)}}function replaceTemplate(i,e){return i.replace(PATTERN,(s,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains$2(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function isEmpty(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function deepEqual(i,e){if(i===e)return!0;const s=Object.keys(i),o=Object.keys(e);for(const a of s){if(!o.includes(a))return!1;const c=i[a],d=e[a];if(isObject$2(c)&&isObject$2(d)){if(!deepEqual(c,d))return!1}else if(c!==d)return!1}for(const a of o)if(!s.includes(a))return!1;return!0}function isObject$2(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(i){const e=[];for(const[s,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function querystringDecode(i){const e={};return i.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[a,c]=o.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function extractQuerystring(i){const e=i.indexOf("?");if(!e)return"";const s=i.indexOf("#",e);return i.substring(e,s>0?s:void 0)}function createSubscribe(i,e){const s=new ObserverProxy(i,e);return s.subscribe.bind(s)}class ObserverProxy{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,o){let a;if(e===void 0&&s===void 0&&o===void 0)throw new Error("Missing Observer.");implementsAnyMethods$1(e,["next","error","complete"])?a=e:a={next:e,error:s,complete:o},a.next===void 0&&(a.next=noop$2),a.error===void 0&&(a.error=noop$2),a.complete===void 0&&(a.complete=noop$2);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods$1(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function noop$2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(i){return i&&i._delegate?i._delegate:i}class Component{constructor(e,s,o){this.name=e,this.instanceFactory=s,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const o=new Deferred;if(this.instancesDeferred.set(s,o),this.isInitialized(s)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:s});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:s});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);o===h&&d.resolve(a)}return a}onInit(e,s){var o;const a=this.normalizeInstanceIdentifier(s),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const o=this.onInitCallbacks.get(s);if(!!o)for(const a of o)try{a(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:s}),this.instances.set(e,o),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(i){return i===DEFAULT_ENTRY_NAME$1?void 0:i}function isComponentEager(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Provider(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instances$1=[];var LogLevel;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(i,e,...s)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),a=ConsoleMethod[e];if(a)console[a](`[${o}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances$1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}function setLogLevel$2(i){instances$1.forEach(e=>{e.setLogLevel(i)})}function setUserLogHandler(i,e){for(const s of instances$1){let o=null;e&&e.level&&(o=levelStringToEnum[e.level]),i===null?s.userLogHandler=null:s.userLogHandler=(a,c,...d)=>{const h=d.map(g=>{if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch{return null}}).filter(g=>g).join(" ");c>=(o!=null?o:a.logLevel)&&i({level:LogLevel[c].toLowerCase(),message:h,args:d,type:a.name})}}}const instanceOfAny=(i,e)=>e.some(s=>i instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(i){const e=new Promise((s,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{s(wrap(i.result)),a()},d=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,i)}).catch(()=>{}),reverseTransformCache.set(e,i),e}function cacheDonePromiseForTransaction(i){if(transactionDoneMap.has(i))return;const e=new Promise((s,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{s(),a()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});transactionDoneMap.set(i,e)}let idbProxyTraps={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(i);if(e==="objectStoreNames")return i.objectStoreNames||transactionStoreNamesMap.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function replaceTraps(i){idbProxyTraps=i(idbProxyTraps)}function wrapFunction(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const o=i.call(unwrap$1(this),e,...s);return transactionStoreNamesMap.set(o,e.sort?e.sort():[e]),wrap(o)}:getCursorAdvanceMethods().includes(i)?function(...e){return i.apply(unwrap$1(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(i.apply(unwrap$1(this),e))}}function transformCachableValue(i){return typeof i=="function"?wrapFunction(i):(i instanceof IDBTransaction&&cacheDonePromiseForTransaction(i),instanceOfAny(i,getIdbProxyableTypes())?new Proxy(i,idbProxyTraps):i)}function wrap(i){if(i instanceof IDBRequest)return promisifyRequest(i);if(transformCache.has(i))return transformCache.get(i);const e=transformCachableValue(i);return e!==i&&(transformCache.set(i,e),reverseTransformCache.set(e,i)),e}const unwrap$1=i=>reverseTransformCache.get(i);function openDB(i,e,{blocked:s,upgrade:o,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),h=wrap(d);return o&&d.addEventListener("upgradeneeded",g=>{o(wrap(d.result),g.oldVersion,g.newVersion,wrap(d.transaction))}),s&&d.addEventListener("blocked",()=>s()),h.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",()=>a())}).catch(()=>{}),h}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const s=e.replace(/FromIndex$/,""),o=e!==s,a=writeMethods.includes(s);if(!(s in(o?IDBIndex:IDBObjectStore).prototype)||!(a||readMethods.includes(s)))return;const c=async function(d,...h){const g=this.transaction(d,a?"readwrite":"readonly");let _=g.store;return o&&(_=_.index(h.shift())),(await Promise.all([_[s](...h),a&&g.done]))[0]};return cachedMethods.set(e,c),c}replaceTraps(i=>({...i,get:(e,s,o)=>getMethod(e,s)||i.get(e,s,o),has:(e,s)=>!!getMethod(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(isVersionServiceProvider(s)){const o=s.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(s=>s).join(" ")}}function isVersionServiceProvider(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4$1="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$5="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4$1]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(i,e){try{i.container.addComponent(e)}catch(s){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function _addOrOverwriteComponent(i,e){i.container.addOrOverwriteComponent(e)}function _registerComponent(i){const e=i.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,i);for(const s of _apps.values())_addComponent(s,i);return!0}function _getProvider(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function _removeServiceInstance(i,e,s=DEFAULT_ENTRY_NAME){_getProvider(i,e).clearInstance(s)}function _clearComponents(){_components.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY$1=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl$1{constructor(e,s,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$1.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$5;function initializeApp(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw ERROR_FACTORY$1.create("bad-app-name",{appName:String(a)});if(s||(s=getDefaultAppConfig()),!s)throw ERROR_FACTORY$1.create("no-options");const c=_apps.get(a);if(c){if(deepEqual(s,c.options)&&deepEqual(o,c.config))return c;throw ERROR_FACTORY$1.create("duplicate-app",{appName:a})}const d=new ComponentContainer(a);for(const g of _components.values())d.addComponent(g);const h=new FirebaseAppImpl$1(s,o,d);return _apps.set(a,h),h}function getApp(i=DEFAULT_ENTRY_NAME){const e=_apps.get(i);if(!e&&i===DEFAULT_ENTRY_NAME)return initializeApp();if(!e)throw ERROR_FACTORY$1.create("no-app",{appName:i});return e}function getApps(){return Array.from(_apps.values())}async function deleteApp(i){const e=i.name;_apps.has(e)&&(_apps.delete(e),await Promise.all(i.container.getProviders().map(s=>s.delete())),i.isDeleted=!0)}function registerVersion(i,e,s){var o;let a=(o=PLATFORM_LOG_STRING[i])!==null&&o!==void 0?o:i;s&&(a+=`-${s}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const h=[`Unable to register library "${a}" with version "${e}":`];c&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(h.join(" "));return}_registerComponent(new Component(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function onLog(i,e){if(i!==null&&typeof i!="function")throw ERROR_FACTORY$1.create("invalid-log-argument");setUserLogHandler(i,e)}function setLogLevel$1(i){setLogLevel$2(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(STORE_NAME)}}}).catch(i=>{throw ERROR_FACTORY$1.create("idb-open",{originalErrorMessage:i.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(i){var e;try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(i))}catch(s){if(s instanceof FirebaseError)logger$1.warn(s.message);else{const o=ERROR_FACTORY$1.create("idb-get",{originalErrorMessage:(e=s)===null||e===void 0?void 0:e.message});logger$1.warn(o.message)}}}async function writeHeartbeatsToIndexedDB(i,e){var s;try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await a.objectStore(STORE_NAME).put(e,computeKey(i)),a.done}catch(o){if(o instanceof FirebaseError)logger$1.warn(o.message);else{const a=ERROR_FACTORY$1.create("idb-set",{originalErrorMessage:(s=o)===null||s===void 0?void 0:s.message});logger$1.warn(a.message)}}}function computeKey(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(s),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:s,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),a=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(i,e=MAX_HEADER_BYTES){const s=[];let o=i.slice();for(const a of i){const c=s.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),countBytes(s)>e){c.dates.pop();break}}else if(s.push({agent:a.agent,dates:[a.date]}),countBytes(s)>e){s.pop();break}o=o.slice(1)}return{heartbeatsToSend:s,unsentEntries:o}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function countBytes(i){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents$1(i){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,i),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents$1("");const modularAPIs=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION,_DEFAULT_ENTRY_NAME:DEFAULT_ENTRY_NAME,_addComponent,_addOrOverwriteComponent,_apps,_clearComponents,_components,_getProvider,_registerComponent,_removeServiceInstance,deleteApp,getApp,getApps,initializeApp,onLog,registerVersion,setLogLevel:setLogLevel$1,FirebaseError},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,s){this._delegate=e,this.firebase=s,_addComponent(e,new Component("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),deleteApp(this._delegate)))}_getService(e,s=DEFAULT_ENTRY_NAME){var o;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((o=a.getComponent())===null||o===void 0?void 0:o.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:s})}_removeServiceInstance(e,s=DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(s)}_addComponent(e){_addComponent(this._delegate,e)}_addOrOverwriteComponent(e){_addOrOverwriteComponent(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},ERROR_FACTORY=new ErrorFactory("app-compat","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(i){const e={},s={__esModule:!0,initializeApp:c,app:a,registerVersion,setLogLevel:setLogLevel$1,onLog,apps:null,SDK_VERSION,INTERNAL:{registerComponent:h,removeApp:o,useAsService:g,modularAPIs}};s.default=s,Object.defineProperty(s,"apps",{get:d});function o(_){delete e[_]}function a(_){if(_=_||DEFAULT_ENTRY_NAME,!contains$2(e,_))throw ERROR_FACTORY.create("no-app",{appName:_});return e[_]}a.App=i;function c(_,$l={}){const Rl=initializeApp(_,$l);if(contains$2(e,Rl.name))return e[Rl.name];const Ml=new i(Rl,s);return e[Rl.name]=Ml,Ml}function d(){return Object.keys(e).map(_=>e[_])}function h(_){const $l=_.name,Rl=$l.replace("-compat","");if(_registerComponent(_)&&_.type==="PUBLIC"){const Ml=(Ul=a())=>{if(typeof Ul[Rl]!="function")throw ERROR_FACTORY.create("invalid-app-argument",{appName:$l});return Ul[Rl]()};_.serviceProps!==void 0&&deepExtend$1(Ml,_.serviceProps),s[Rl]=Ml,i.prototype[Rl]=function(...Ul){return this._getService.bind(this,$l).apply(this,_.multipleInstances?Ul:[])}}return _.type==="PUBLIC"?s[Rl]:null}function g(_,$l){return $l==="serverAuth"?null:$l}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespace(){const i=createFirebaseNamespaceCore(FirebaseAppImpl);i.INTERNAL=Object.assign(Object.assign({},i.INTERNAL),{createFirebaseNamespace,extendNamespace:e,createSubscribe,ErrorFactory,deepExtend:deepExtend$1});function e(s){deepExtend$1(i,s)}return i}const firebase$1=createFirebaseNamespace();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app-compat"),name$4="@firebase/app-compat",version$4="0.1.39";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(i){registerVersion(name$4,version$4,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(isBrowser$1()&&self.firebase!==void 0){logger.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const i=self.firebase.SDK_VERSION;i&&i.indexOf("LITE")>=0&&logger.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const firebase=firebase$1;registerCoreComponents();var name$3="firebase",version$3="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */firebase.registerVersion(name$3,version$3,"app-compat");function __rest(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s}const ProviderId={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ActionCodeOperation={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _debugErrorMap(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const debugErrorMap=_debugErrorMap,prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(i,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(i,...e){throw createErrorInternal(i,...e)}function _createError(i,...e){return createErrorInternal(i,...e)}function _errorWithCustomMessage(i,e,s){const o=Object.assign(Object.assign({},prodErrorMap()),{[e]:s});return new ErrorFactory("auth","Firebase",o).create(e,{appName:i.name})}function _assertInstanceOf(i,e,s){const o=s;if(!(e instanceof o))throw o.name!==e.constructor.name&&_fail(i,"argument-error"),_errorWithCustomMessage(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(i,...e){if(typeof i!="string"){const s=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=i.name),i._errorFactory.create(s,...o)}return _DEFAULT_AUTH_ERROR_FACTORY.create(i,...e)}function _assert$4(i,e,...s){if(!i)throw createErrorInternal(e,...s)}function debugFail(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _logError(e),new Error(e)}function debugAssert(i,e){i||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(i){debugAssert(i instanceof Function,"Expected a class definition");let e=instanceCache.get(i);return e?(debugAssert(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,instanceCache.set(i,e),e)}function _initializeAuthInstance(i,e){const s=(e==null?void 0:e.persistence)||[],o=(Array.isArray(s)?s:[s]).map(_getInstance);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function _isHttpOrHttps$1(){return _getCurrentScheme$1()==="http:"||_getCurrentScheme$1()==="https:"}function _getCurrentScheme$1(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps$1()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,s){this.shortDelay=e,this.longDelay=s,debugAssert(s>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(i,e){debugAssert(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,s,o){this.fetchImpl=e,s&&(this.headersImpl=s),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function _performApiRequest(i,e,s,o,a={}){return _performFetchWithErrorHandling(i,a,async()=>{let c={},d={};o&&(e==="GET"?d=o:c={body:JSON.stringify(o)});const h=querystring(Object.assign({key:i.config.apiKey},d)).slice(1),g=await i._getAdditionalHeaders();return g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode),FetchProvider.fetch()(_getFinalTarget(i,i.config.apiHost,s,h),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},c))})}async function _performFetchWithErrorHandling(i,e,s){i._canInitEmulator=!1;const o=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const a=new NetworkTimeout(i),c=await Promise.race([s(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _makeTaggedError(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const h=c.ok?d.errorMessage:d.error.message,[g,_]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw _makeTaggedError(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw _makeTaggedError(i,"user-disabled",d);const $l=o[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw _errorWithCustomMessage(i,$l,_);_fail(i,$l)}}catch(a){if(a instanceof FirebaseError)throw a;_fail(i,"network-request-failed")}}async function _performSignInRequest(i,e,s,o,a={}){const c=await _performApiRequest(i,e,s,o,a);return"mfaPendingCredential"in c&&_fail(i,"multi-factor-auth-required",{_serverResponse:c}),c}function _getFinalTarget(i,e,s,o){const a=`${e}${s}?${o}`;return i.config.emulator?_emulatorUrl(i.config,a):`${i.config.apiScheme}://${a}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,o)=>{this.timer=setTimeout(()=>o(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(i,e,s){const o={appName:i.name};s.email&&(o.email=s.email),s.phoneNumber&&(o.phoneNumber=s.phoneNumber);const a=_createError(i,e,o);return a.customData._tokenResponse=s,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(i,e){return _performApiRequest(i,"POST","/v1/accounts:delete",e)}async function deleteLinkedAccounts(i,e){return _performApiRequest(i,"POST","/v1/accounts:update",e)}async function getAccountInfo(i,e){return _performApiRequest(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(i){if(!!i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(i,e=!1){const s=getModularInstance(i),o=await s.getIdToken(e),a=_parseToken(o);_assert$4(a&&a.exp&&a.auth_time&&a.iat,s.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:a,token:o,authTime:utcTimestampToDateString(secondsStringToMilliseconds(a.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(a.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(a.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function secondsStringToMilliseconds(i){return Number(i)*1e3}function _parseToken(i){var e;const[s,o,a]=i.split(".");if(s===void 0||o===void 0||a===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const c=base64Decode(o);return c?JSON.parse(c):(_logError("Failed to decode base64 JWT payload"),null)}catch(c){return _logError("Caught error parsing JWT payload as JSON",(e=c)===null||e===void 0?void 0:e.toString()),null}}function _tokenExpiresIn(i){const e=_parseToken(i);return _assert$4(e,"internal-error"),_assert$4(typeof e.exp<"u","internal-error"),_assert$4(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(i,e,s=!1){if(s)return e;try{return await e}catch(o){throw o instanceof FirebaseError&&isUserInvalidated(o)&&i.auth.currentUser===i&&await i.auth.signOut(),o}}function isUserInvalidated({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(s){((e=s)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(i){var e;const s=i.auth,o=await i.getIdToken(),a=await _logoutIfInvalidated(i,getAccountInfo(s,{idToken:o}));_assert$4(a==null?void 0:a.users.length,s,"internal-error");const c=a.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(c.providerUserInfo):[],h=mergeProviderData(i.providerData,d),g=i.isAnonymous,_=!(i.email&&c.passwordHash)&&!(h!=null&&h.length),$l=g?_:!1,Rl={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new UserMetadata(c.createdAt,c.lastLoginAt),isAnonymous:$l};Object.assign(i,Rl)}async function reload(i){const e=getModularInstance(i);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(i,e){return[...i.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function extractProviderData(i){return i.map(e=>{var{providerId:s}=e,o=__rest(e,["providerId"]);return{providerId:s,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(i,e){const s=await _performFetchWithErrorHandling(i,{},async()=>{const o=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=i.config,d=_getFinalTarget(i,a,"/v1/token",`key=${c}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(d,{method:"POST",headers:h,body:o})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert$4(e.idToken,"internal-error"),_assert$4(typeof e.idToken<"u","internal-error"),_assert$4(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}async getToken(e,s=!1){return _assert$4(!this.accessToken||this.refreshToken,e,"user-token-expired"),!s&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:o,refreshToken:a,expiresIn:c}=await requestStsToken(e,s);this.updateTokensAndExpiration(o,a,Number(c))}updateTokensAndExpiration(e,s,o){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,s){const{refreshToken:o,accessToken:a,expirationTime:c}=s,d=new StsTokenManager;return o&&(_assert$4(typeof o=="string","internal-error",{appName:e}),d.refreshToken=o),a&&(_assert$4(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),c&&(_assert$4(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(i,e){_assert$4(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:s,auth:o,stsTokenManager:a}=e,c=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new UserMetadata(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const s=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert$4(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert$4(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert$4(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),s&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var o,a,c,d,h,g,_,$l;const Rl=(o=s.displayName)!==null&&o!==void 0?o:void 0,Ml=(a=s.email)!==null&&a!==void 0?a:void 0,Ul=(c=s.phoneNumber)!==null&&c!==void 0?c:void 0,Fl=(d=s.photoURL)!==null&&d!==void 0?d:void 0,Ll=(h=s.tenantId)!==null&&h!==void 0?h:void 0,Bl=(g=s._redirectEventId)!==null&&g!==void 0?g:void 0,zl=(_=s.createdAt)!==null&&_!==void 0?_:void 0,Hl=($l=s.lastLoginAt)!==null&&$l!==void 0?$l:void 0,{uid:Wl,emailVerified:Yl,isAnonymous:Xl,providerData:Gl,stsTokenManager:_d}=s;_assert$4(Wl&&_d,e,"internal-error");const Kl=StsTokenManager.fromJSON(this.name,_d);_assert$4(typeof Wl=="string",e,"internal-error"),assertStringOrUndefined(Rl,e.name),assertStringOrUndefined(Ml,e.name),_assert$4(typeof Yl=="boolean",e,"internal-error"),_assert$4(typeof Xl=="boolean",e,"internal-error"),assertStringOrUndefined(Ul,e.name),assertStringOrUndefined(Fl,e.name),assertStringOrUndefined(Ll,e.name),assertStringOrUndefined(Bl,e.name),assertStringOrUndefined(zl,e.name),assertStringOrUndefined(Hl,e.name);const ru=new UserImpl({uid:Wl,auth:e,email:Ml,emailVerified:Yl,displayName:Rl,isAnonymous:Xl,photoURL:Fl,phoneNumber:Ul,tenantId:Ll,stsTokenManager:Kl,createdAt:zl,lastLoginAt:Hl});return Gl&&Array.isArray(Gl)&&(ru.providerData=Gl.map(Zl=>Object.assign({},Zl))),Bl&&(ru._redirectEventId=Bl),ru}static async _fromIdTokenResponse(e,s,o=!1){const a=new StsTokenManager;a.updateFromServerResponse(s);const c=new UserImpl({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await _reloadWithoutSaving(c),c}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(i,e,s){return`firebase:${i}:${e}:${s}`}class PersistenceUserManager{constructor(e,s,o){this.persistence=e,this.auth=s,this.userKey=o;const{config:a,name:c}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,a.apiKey,c),this.fullPersistenceKey=_persistenceKeyName("persistence",a.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,o="authUser"){if(!s.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,o);const a=(await Promise.all(s.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=a[0]||_getInstance(inMemoryPersistence);const d=_persistenceKeyName(o,e.config.apiKey,e.name);let h=null;for(const _ of s)try{const $l=await _._get(d);if($l){const Rl=UserImpl._fromJSON(e,$l);_!==c&&(h=Rl),c=_;break}}catch{}const g=a.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new PersistenceUserManager(c,e,o):(c=g[0],h&&await c._set(d,h.toJSON()),await Promise.all(s.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new PersistenceUserManager(c,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=i.match(s);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function _isFirefox(i=getUA()){return/firefox\//i.test(i)}function _isSafari(i=getUA()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(i=getUA()){return/crios\//i.test(i)}function _isIEMobile(i=getUA()){return/iemobile/i.test(i)}function _isAndroid(i=getUA()){return/android/i.test(i)}function _isBlackBerry(i=getUA()){return/blackberry/i.test(i)}function _isWebOS(i=getUA()){return/webos/i.test(i)}function _isIOS(i=getUA()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _isIOS7Or8(i=getUA()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(i)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(i)}function _isIOSStandalone(i=getUA()){var e;return _isIOS(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(i=getUA()){return _isIOS(i)||_isAndroid(i)||_isWebOS(i)||_isBlackBerry(i)||/windows phone/i.test(i)||_isIEMobile(i)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(i,e=[]){let s;switch(i){case"Browser":s=_getBrowserName(getUA());break;case"Worker":s=`${_getBrowserName(getUA())}-${i}`;break;default:s=i}const o=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${SDK_VERSION}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const o=c=>new Promise((d,h)=>{try{const g=e(c);d(g)}catch(g){h(g)}});o.onAbort=s,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){var s;if(this.auth.currentUser===e)return;const o=[];try{for(const a of this.queue)await a(e),a.onAbort&&o.push(a.onAbort)}catch(a){o.reverse();for(const c of o)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(s=a)===null||s===void 0?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,s,o){this.app=e,this.heartbeatServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=_getInstance(s)),this._initializationPromise=this.queue(async()=>{var o,a;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var s;const o=await this.assertedPersistence.getCurrentUser();let a=o,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,h=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===h)&&(g==null?void 0:g.user)&&(a=g.user,c=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _assert$4(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){var s;try{await _reloadWithoutSaving(e)}catch(o){if(((s=o)===null||s===void 0?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const s=e?getModularInstance(e):null;return s&&_assert$4(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&_assert$4(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,s,o){return this.registerStateListener(this.authStateSubscription,e,s,o)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,o){return this.registerStateListener(this.idTokenSubscription,e,s,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const o=await this.getOrInitRedirectPersistenceManager(s);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&_getInstance(e)||this._popupRedirectResolver;_assert$4(s,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,o;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,o,a){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s),d=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert$4(d,this,"internal-error"),d.then(()=>c(this.currentUser)),typeof s=="function"?e.addObserver(s,o,a):e.addObserver(s)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert$4(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return o&&(s["X-Firebase-Client"]=o),s}}function _castAuth(i){return getModularInstance(i)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(s=>this.observer=s)}get next(){return _assert$4(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(i,e,s){const o=_castAuth(i);_assert$4(o._canInitEmulator,o,"emulator-config-failed"),_assert$4(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!!(s!=null&&s.disableWarnings),c=extractProtocol(e),{host:d,port:h}=extractHostAndPort(e),g=h===null?"":`:${h}`;o.config.emulator={url:`${c}//${d}${g}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:d,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||emitEmulatorWarning()}function extractProtocol(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function extractHostAndPort(i){const e=extractProtocol(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const o=s[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const c=a[1];return{host:c,port:parsePort(o.substr(c.length+1))}}else{const[c,d]=o.split(":");return{host:c,port:parsePort(d)}}}function parsePort(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function emitEmulatorWarning(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,s){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function resetPassword(i,e){return _performApiRequest(i,"POST","/v1/accounts:resetPassword",_addTidIfNecessary(i,e))}async function updateEmailPassword(i,e){return _performApiRequest(i,"POST","/v1/accounts:update",e)}async function applyActionCode$1(i,e){return _performApiRequest(i,"POST","/v1/accounts:update",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(i,e))}async function sendOobCode(i,e){return _performApiRequest(i,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(i,e))}async function sendEmailVerification$1(i,e){return sendOobCode(i,e)}async function sendPasswordResetEmail$1(i,e){return sendOobCode(i,e)}async function sendSignInLinkToEmail$1(i,e){return sendOobCode(i,e)}async function verifyAndChangeEmail(i,e){return sendOobCode(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(i,e))}async function signInWithEmailLinkForLinking(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,s,o,a=null){super("password",o),this._email=e,this._password=s,this._tenantId=a}static _fromEmailAndPassword(e,s){return new EmailAuthCredential(e,s,"password")}static _fromEmailAndCode(e,s,o=null){return new EmailAuthCredential(e,s,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if((s==null?void 0:s.email)&&(s==null?void 0:s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return signInWithPassword(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":return updateEmailPassword(e,{idToken:s,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:s,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):_fail("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=s,c=__rest(s,["providerId","signInMethod"]);if(!o||!a)return null;const d=new OAuthCredential(o,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return signInWithIdp(e,s)}_linkToIdToken(e,s){const o=this.buildRequest();return o.idToken=s,signInWithIdp(e,o)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,signInWithIdp(e,s)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=querystring(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPhoneVerificationCode(i,e){return _performApiRequest(i,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(i,e))}async function signInWithPhoneNumber$1(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(i,e))}async function linkWithPhoneNumber$1(i,e){const s=await _performSignInRequest(i,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(i,e));if(s.temporaryProof)throw _makeTaggedError(i,"account-exists-with-different-credential",s);return s}const VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_={USER_NOT_FOUND:"user-not-found"};async function verifyPhoneNumberForExisting(i,e){const s=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _performSignInRequest(i,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(i,s),VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthCredential extends AuthCredential{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,s){return new PhoneAuthCredential({verificationId:e,verificationCode:s})}static _fromTokenResponse(e,s){return new PhoneAuthCredential({phoneNumber:e,temporaryProof:s})}_getIdTokenResponse(e){return signInWithPhoneNumber$1(e,this._makeVerificationRequest())}_linkToIdToken(e,s){return linkWithPhoneNumber$1(e,Object.assign({idToken:s},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return verifyPhoneNumberForExisting(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:s,verificationId:o,verificationCode:a}=this.params;return e&&s?{temporaryProof:e,phoneNumber:s}:{sessionInfo:o,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:s,verificationCode:o,phoneNumber:a,temporaryProof:c}=e;return!o&&!s&&!a&&!c?null:new PhoneAuthCredential({verificationId:s,verificationCode:o,phoneNumber:a,temporaryProof:c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(i){const e=querystringDecode(extractQuerystring(i)).link,s=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,o=querystringDecode(extractQuerystring(i)).deep_link_id;return(o?querystringDecode(extractQuerystring(o)).link:null)||o||s||e||i}class ActionCodeURL{constructor(e){var s,o,a,c,d,h;const g=querystringDecode(extractQuerystring(e)),_=(s=g.apiKey)!==null&&s!==void 0?s:null,$l=(o=g.oobCode)!==null&&o!==void 0?o:null,Rl=parseMode((a=g.mode)!==null&&a!==void 0?a:null);_assert$4(_&&$l&&Rl,"argument-error"),this.apiKey=_,this.operation=Rl,this.code=$l,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=g.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(h=g.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const s=parseDeepLink(e);try{return new ActionCodeURL(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,s){return EmailAuthCredential._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const o=ActionCodeURL.parseLink(s);return _assert$4(o,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,o.code,o.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class OAuthProvider extends BaseOAuthProvider{static credentialFromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;return _assert$4("providerId"in s&&"signInMethod"in s,"argument-error"),OAuthCredential._fromParams(s)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _assert$4(e.idToken||e.accessToken,"argument-error"),OAuthCredential._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return OAuthProvider.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return OAuthProvider.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:c,nonce:d,providerId:h}=e;if(!o&&!a&&!s&&!c||!h)return null;try{return new OAuthProvider(h)._credential({idToken:s,accessToken:o,nonce:d,pendingToken:c})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:o}=e;if(!s&&!o)return null;try{return GoogleAuthProvider.credential(s,o)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI="http://localhost";class SAMLAuthCredential extends AuthCredential{constructor(e,s){super(e,e),this.pendingToken=s}_getIdTokenResponse(e){const s=this.buildRequest();return signInWithIdp(e,s)}_linkToIdToken(e,s){const o=this.buildRequest();return o.idToken=s,signInWithIdp(e,o)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,signInWithIdp(e,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a,pendingToken:c}=s;return!o||!a||!c||o!==a?null:new SAMLAuthCredential(o,c)}static _create(e,s){return new SAMLAuthCredential(e,s)}buildRequest(){return{requestUri:IDP_REQUEST_URI,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAML_PROVIDER_PREFIX="saml.";class SAMLAuthProvider extends FederatedAuthProvider{constructor(e){_assert$4(e.startsWith(SAML_PROVIDER_PREFIX),"argument-error"),super(e)}static credentialFromResult(e){return SAMLAuthProvider.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return SAMLAuthProvider.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const s=SAMLAuthCredential.fromJSON(e);return _assert$4(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:s,providerId:o}=e;if(!s||!o)return null;try{return SAMLAuthCredential._create(o,s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,s){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:o}=e;if(!s||!o)return null;try{return TwitterAuthProvider.credential(s,o)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signUp",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,o,a=!1){const c=await UserImpl._fromIdTokenResponse(e,o,a),d=providerIdForResponse(o);return new UserCredentialImpl({user:c,providerId:d,_tokenResponse:o,operationType:s})}static async _forOperation(e,s,o){await e._updateTokensIfNecessary(o,!0);const a=providerIdForResponse(o);return new UserCredentialImpl({user:e,providerId:a,_tokenResponse:o,operationType:s})}}function providerIdForResponse(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInAnonymously(i){var e;const s=_castAuth(i);if(await s._initializationPromise,!((e=s.currentUser)===null||e===void 0)&&e.isAnonymous)return new UserCredentialImpl({user:s.currentUser,providerId:null,operationType:"signIn"});const o=await signUp(s,{returnSecureToken:!0}),a=await UserCredentialImpl._fromIdTokenResponse(s,"signIn",o,!0);return await s._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,s,o,a){var c;super(s.code,s.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:s.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,s,o,a){return new MultiFactorError(e,s,o,a)}}function _processCredentialSavingMfaContextIfNecessary(i,e,s,o){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(i,c,e,o):c})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function providerDataAsNames(i){return new Set(i.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function unlink(i,e){const s=getModularInstance(i);await _assertLinkedStatus(!0,s,e);const{providerUserInfo:o}=await deleteLinkedAccounts(s.auth,{idToken:await s.getIdToken(),deleteProvider:[e]}),a=providerDataAsNames(o||[]);return s.providerData=s.providerData.filter(c=>a.has(c.providerId)),a.has("phone")||(s.phoneNumber=null),await s.auth._persistUserIfCurrent(s),s}async function _link$1(i,e,s=!1){const o=await _logoutIfInvalidated(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return UserCredentialImpl._forOperation(i,"link",o)}async function _assertLinkedStatus(i,e,s){await _reloadWithoutSaving(e);const o=providerDataAsNames(e.providerData),a=i===!1?"provider-already-linked":"no-such-provider";_assert$4(o.has(s)===i,e.auth,a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(i,e,s=!1){var o;const{auth:a}=i,c="reauthenticate";try{const d=await _logoutIfInvalidated(i,_processCredentialSavingMfaContextIfNecessary(a,c,e,i),s);_assert$4(d.idToken,a,"internal-error");const h=_parseToken(d.idToken);_assert$4(h,a,"internal-error");const{sub:g}=h;return _assert$4(i.uid===g,a,"user-mismatch"),UserCredentialImpl._forOperation(i,c,d)}catch(d){throw((o=d)===null||o===void 0?void 0:o.code)==="auth/user-not-found"&&_fail(a,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(i,e,s=!1){const o="signIn",a=await _processCredentialSavingMfaContextIfNecessary(i,o,e),c=await UserCredentialImpl._fromIdTokenResponse(i,o,a);return s||await i._updateCurrentUser(c.user),c}async function signInWithCredential(i,e){return _signInWithCredential(_castAuth(i),e)}async function linkWithCredential(i,e){const s=getModularInstance(i);return await _assertLinkedStatus(!1,s,e.providerId),_link$1(s,e)}async function reauthenticateWithCredential(i,e){return _reauthenticate(getModularInstance(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken$1(i,e){return _performSignInRequest(i,"POST","/v1/accounts:signInWithCustomToken",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken(i,e){const s=_castAuth(i),o=await signInWithCustomToken$1(s,{token:e,returnSecureToken:!0}),a=await UserCredentialImpl._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorInfoImpl{constructor(e,s){this.factorId=e,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(e,s){return"phoneInfo"in s?PhoneMultiFactorInfoImpl._fromServerResponse(e,s):_fail(e,"internal-error")}}class PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,s){return new PhoneMultiFactorInfoImpl(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _setActionCodeSettingsOnRequest(i,e,s){var o;_assert$4(((o=s.url)===null||o===void 0?void 0:o.length)>0,i,"invalid-continue-uri"),_assert$4(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),e.continueUrl=s.url,e.dynamicLinkDomain=s.dynamicLinkDomain,e.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(_assert$4(s.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=s.iOS.bundleId),s.android&&(_assert$4(s.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=s.android.installApp,e.androidMinimumVersionCode=s.android.minimumVersion,e.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPasswordResetEmail(i,e,s){const o=getModularInstance(i),a={requestType:"PASSWORD_RESET",email:e};s&&_setActionCodeSettingsOnRequest(o,a,s),await sendPasswordResetEmail$1(o,a)}async function confirmPasswordReset(i,e,s){await resetPassword(getModularInstance(i),{oobCode:e,newPassword:s})}async function applyActionCode(i,e){await applyActionCode$1(getModularInstance(i),{oobCode:e})}async function checkActionCode(i,e){const s=getModularInstance(i),o=await resetPassword(s,{oobCode:e}),a=o.requestType;switch(_assert$4(a,s,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_assert$4(o.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_assert$4(o.mfaInfo,s,"internal-error");default:_assert$4(o.email,s,"internal-error")}let c=null;return o.mfaInfo&&(c=MultiFactorInfoImpl._fromServerResponse(_castAuth(s),o.mfaInfo)),{data:{email:(o.requestType==="VERIFY_AND_CHANGE_EMAIL"?o.newEmail:o.email)||null,previousEmail:(o.requestType==="VERIFY_AND_CHANGE_EMAIL"?o.email:o.newEmail)||null,multiFactorInfo:c},operation:a}}async function verifyPasswordResetCode(i,e){const{data:s}=await checkActionCode(getModularInstance(i),e);return s.email}async function createUserWithEmailAndPassword(i,e,s){const o=_castAuth(i),a=await signUp(o,{returnSecureToken:!0,email:e,password:s}),c=await UserCredentialImpl._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(c.user),c}function signInWithEmailAndPassword(i,e,s){return signInWithCredential(getModularInstance(i),EmailAuthProvider.credential(e,s))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendSignInLinkToEmail(i,e,s){const o=getModularInstance(i),a={requestType:"EMAIL_SIGNIN",email:e};_assert$4(s.handleCodeInApp,o,"argument-error"),s&&_setActionCodeSettingsOnRequest(o,a,s),await sendSignInLinkToEmail$1(o,a)}function isSignInWithEmailLink(i,e){const s=ActionCodeURL.parseLink(e);return(s==null?void 0:s.operation)==="EMAIL_SIGNIN"}async function signInWithEmailLink(i,e,s){const o=getModularInstance(i),a=EmailAuthProvider.credentialWithLink(e,s||_getCurrentUrl());return _assert$4(a._tenantId===(o.tenantId||null),o,"tenant-id-mismatch"),signInWithCredential(o,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(i,e){return _performApiRequest(i,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(i,e){const s=_isHttpOrHttps$1()?_getCurrentUrl():"http://localhost",o={identifier:e,continueUri:s},{signinMethods:a}=await createAuthUri(getModularInstance(i),o);return a||[]}async function sendEmailVerification(i,e){const s=getModularInstance(i),a={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()};e&&_setActionCodeSettingsOnRequest(s.auth,a,e);const{email:c}=await sendEmailVerification$1(s.auth,a);c!==i.email&&await i.reload()}async function verifyBeforeUpdateEmail(i,e,s){const o=getModularInstance(i),c={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await i.getIdToken(),newEmail:e};s&&_setActionCodeSettingsOnRequest(o.auth,c,s);const{email:d}=await verifyAndChangeEmail(o.auth,c);d!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(i,e){return _performApiRequest(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(i,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const o=getModularInstance(i),c={idToken:await o.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},d=await _logoutIfInvalidated(o,updateProfile$1(o.auth,c));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;const h=o.providerData.find(({providerId:g})=>g==="password");h&&(h.displayName=o.displayName,h.photoURL=o.photoURL),await o._updateTokensIfNecessary(d)}function updateEmail(i,e){return updateEmailOrPassword(getModularInstance(i),e,null)}function updatePassword(i,e){return updateEmailOrPassword(getModularInstance(i),null,e)}async function updateEmailOrPassword(i,e,s){const{auth:o}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(c.email=e),s&&(c.password=s);const d=await _logoutIfInvalidated(i,updateEmailPassword(o,c));await i._updateTokensIfNecessary(d,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fromIdTokenResponse(i){var e,s;if(!i)return null;const{providerId:o}=i,a=i.rawUserInfo?JSON.parse(i.rawUserInfo):{},c=i.isNewUser||i.kind==="identitytoolkit#SignupNewUserResponse";if(!o&&(i==null?void 0:i.idToken)){const d=(s=(e=_parseToken(i.idToken))===null||e===void 0?void 0:e.firebase)===null||s===void 0?void 0:s.sign_in_provider;if(d){const h=d!=="anonymous"&&d!=="custom"?d:null;return new GenericAdditionalUserInfo(c,h)}}if(!o)return null;switch(o){case"facebook.com":return new FacebookAdditionalUserInfo(c,a);case"github.com":return new GithubAdditionalUserInfo(c,a);case"google.com":return new GoogleAdditionalUserInfo(c,a);case"twitter.com":return new TwitterAdditionalUserInfo(c,a,i.screenName||null);case"custom":case"anonymous":return new GenericAdditionalUserInfo(c,null);default:return new GenericAdditionalUserInfo(c,o,a)}}class GenericAdditionalUserInfo{constructor(e,s,o={}){this.isNewUser=e,this.providerId=s,this.profile=o}}class FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo{constructor(e,s,o,a){super(e,s,o),this.username=a}}class FacebookAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(e,s){super(e,"facebook.com",s)}}class GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(e,s){super(e,"github.com",s,typeof(s==null?void 0:s.login)=="string"?s==null?void 0:s.login:null)}}class GoogleAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(e,s){super(e,"google.com",s)}}class TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(e,s,o){super(e,"twitter.com",s,o)}}function getAdditionalUserInfo(i){const{user:e,_tokenResponse:s}=i;return e.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:_fromIdTokenResponse(s)}class MultiFactorSessionImpl{constructor(e,s,o){this.type=e,this.credential=s,this.auth=o}static _fromIdtoken(e,s){return new MultiFactorSessionImpl("enroll",e,s)}static _fromMfaPendingCredential(e){return new MultiFactorSessionImpl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var s,o;if(e!=null&&e.multiFactorSession){if(!((s=e.multiFactorSession)===null||s===void 0)&&s.pendingCredential)return MultiFactorSessionImpl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((o=e.multiFactorSession)===null||o===void 0)&&o.idToken)return MultiFactorSessionImpl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorResolverImpl{constructor(e,s,o){this.session=e,this.hints=s,this.signInResolver=o}static _fromError(e,s){const o=_castAuth(e),a=s.customData._serverResponse,c=(a.mfaInfo||[]).map(h=>MultiFactorInfoImpl._fromServerResponse(o,h));_assert$4(a.mfaPendingCredential,o,"internal-error");const d=MultiFactorSessionImpl._fromMfaPendingCredential(a.mfaPendingCredential);return new MultiFactorResolverImpl(d,c,async h=>{const g=await h._process(o,d);delete a.mfaInfo,delete a.mfaPendingCredential;const _=Object.assign(Object.assign({},a),{idToken:g.idToken,refreshToken:g.refreshToken});switch(s.operationType){case"signIn":const $l=await UserCredentialImpl._fromIdTokenResponse(o,s.operationType,_);return await o._updateCurrentUser($l.user),$l;case"reauthenticate":return _assert$4(s.user,o,"internal-error"),UserCredentialImpl._forOperation(s.user,s.operationType,_);default:_fail(o,"internal-error")}})}async resolveSignIn(e){const s=e;return this.signInResolver(s)}}function getMultiFactorResolver(i,e){var s;const o=getModularInstance(i),a=e;return _assert$4(e.customData.operationType,o,"argument-error"),_assert$4((s=a.customData._serverResponse)===null||s===void 0?void 0:s.mfaPendingCredential,o,"argument-error"),MultiFactorResolverImpl._fromError(o,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startEnrollPhoneMfa(i,e){return _performApiRequest(i,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(i,e))}function finalizeEnrollPhoneMfa(i,e){return _performApiRequest(i,"POST","/v2/accounts/mfaEnrollment:finalize",_addTidIfNecessary(i,e))}function withdrawMfa(i,e){return _performApiRequest(i,"POST","/v2/accounts/mfaEnrollment:withdraw",_addTidIfNecessary(i,e))}class MultiFactorUserImpl{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(o=>MultiFactorInfoImpl._fromServerResponse(e.auth,o)))})}static _fromUser(e){return new MultiFactorUserImpl(e)}async getSession(){return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,s){const o=e,a=await this.getSession(),c=await _logoutIfInvalidated(this.user,o._process(this.user.auth,a,s));return await this.user._updateTokensIfNecessary(c),this.user.reload()}async unenroll(e){var s;const o=typeof e=="string"?e:e.uid,a=await this.user.getIdToken(),c=await _logoutIfInvalidated(this.user,withdrawMfa(this.user.auth,{idToken:a,mfaEnrollmentId:o}));this.enrolledFactors=this.enrolledFactors.filter(({uid:d})=>d!==o),await this.user._updateTokensIfNecessary(c);try{await this.user.reload()}catch(d){if(((s=d)===null||s===void 0?void 0:s.code)!=="auth/user-token-expired")throw d}}}const multiFactorUserCache=new WeakMap;function multiFactor(i){const e=getModularInstance(i);return multiFactorUserCache.has(e)||multiFactorUserCache.set(e,MultiFactorUserImpl._fromUser(e)),multiFactorUserCache.get(e)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const i=getUA();return _isSafari(i)||_isIOS(i)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const o=this.storage.getItem(s),a=this.localCache[s];o!==a&&e(s,a,o)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,h,g)=>{this.notifyListeners(d,g)});return}const o=e.key;if(s?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(o);if(e.newValue!==d)e.newValue!==null?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!s)return}const a=()=>{const d=this.storage.getItem(o);!s&&this.localCache[o]===d||this.notifyListeners(o,d)},c=this.storage.getItem(o);_isIE10()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,IE10_LOCAL_STORAGE_SYNC_DELAY):a()}notifyListeners(e,s){this.localCache[e]=s;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:o}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(a=>a.isListeningto(e));if(s)return s;const o=new Receiver(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:o,eventType:a,data:c}=s.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;s.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const h=Array.from(d).map(async _=>_(s.origin,c)),g=await _allSettled(h);s.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:g})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(i="",e=10){let s="";for(let o=0;o<e;o++)s+=Math.floor(Math.random()*10);return i+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((h,g)=>{const _=_generateEventId("",20);a.port1.start();const $l=setTimeout(()=>{g(new Error("unsupported_event"))},o);d={messageChannel:a,onMessage(Rl){const Ml=Rl;if(Ml.data.eventId===_)switch(Ml.data.status){case"ack":clearTimeout($l),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(Ml.data.response);break;default:clearTimeout($l),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:s},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(i){_window().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker$1(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function _getWorkerGlobalScope(){return _isWorker$1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function getObjectStore(i,e){return i.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const i=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(i).toPromise()}function _openDatabase(){const i=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const o=i.result;try{o.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(a){s(a)}}),i.addEventListener("success",async()=>{const o=i.result;o.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(o):(o.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(i,e,s){const o=getObjectStore(i,!0).put({[DB_DATA_KEYPATH]:e,value:s});return new DBPromise(o).toPromise()}async function getObject(i,e){const s=getObjectStore(i,!1).get(e),o=await new DBPromise(s).toPromise();return o===void 0?null:o.value}function _deleteObject(i,e){const s=getObjectStore(i,!0).delete(e);return new DBPromise(s).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let s=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(s++>_TRANSACTION_RETRY_COUNT)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker$1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);!o||((e=o[0])===null||e===void 0?void 0:e.fulfilled)&&((s=o[0])===null||s===void 0?void 0:s.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(o=>_putObject(o,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(o=>getObject(o,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>_deleteObject(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=getObjectStore(a,!1).getAll();return new DBPromise(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],o=new Set;for(const{fbase_key:a,value:c}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),s.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),s.push(a));return s}notifyListeners(e,s){this.localCache[e]=s;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startSignInPhoneMfa(i,e){return _performApiRequest(i,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(i,e))}function finalizeSignInPhoneMfa(i,e){return _performApiRequest(i,"POST","/v2/accounts/mfaSignIn:finalize",_addTidIfNecessary(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getRecaptchaParams(i){return(await _performApiRequest(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}function _loadJS(i){return new Promise((e,s)=>{const o=document.createElement("script");o.setAttribute("src",i),o.onload=e,o.onerror=a=>{const c=_createError("internal-error");c.customData=a,s(c)},o.type="text/javascript",o.charset="UTF-8",getScriptParentElement().appendChild(o)})}function _generateCallbackName(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _SOLVE_TIME_MS=500,_EXPIRATION_TIME_MS=6e4,_WIDGET_ID_START=1e12;class MockReCaptcha{constructor(e){this.auth=e,this.counter=_WIDGET_ID_START,this._widgets=new Map}render(e,s){const o=this.counter;return this._widgets.set(o,new MockWidget(e,this.auth.name,s||{})),this.counter++,o}reset(e){var s;const o=e||_WIDGET_ID_START;(s=this._widgets.get(o))===null||s===void 0||s.delete(),this._widgets.delete(o)}getResponse(e){var s;const o=e||_WIDGET_ID_START;return((s=this._widgets.get(o))===null||s===void 0?void 0:s.getResponse())||""}async execute(e){var s;const o=e||_WIDGET_ID_START;return(s=this._widgets.get(o))===null||s===void 0||s.execute(),""}}class MockWidget{constructor(e,s,o){this.params=o,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;_assert$4(a,"argument-error",{appName:s}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=generateRandomAlphaNumericString(50);const{callback:e,"expired-callback":s}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},_EXPIRATION_TIME_MS)},_SOLVE_TIME_MS))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function generateRandomAlphaNumericString(i){const e=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let o=0;o<i;o++)e.push(s.charAt(Math.floor(Math.random()*s.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _JSLOAD_CALLBACK=_generateCallbackName("rcb"),NETWORK_TIMEOUT_DELAY=new Delay(3e4,6e4),RECAPTCHA_BASE="https://www.google.com/recaptcha/api.js?";class ReCaptchaLoaderImpl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=_window().grecaptcha)===null||e===void 0)&&e.render)}load(e,s=""){return _assert$4(isHostLanguageValid(s),e,"argument-error"),this.shouldResolveImmediately(s)?Promise.resolve(_window().grecaptcha):new Promise((o,a)=>{const c=_window().setTimeout(()=>{a(_createError(e,"network-request-failed"))},NETWORK_TIMEOUT_DELAY.get());_window()[_JSLOAD_CALLBACK]=()=>{_window().clearTimeout(c),delete _window()[_JSLOAD_CALLBACK];const h=_window().grecaptcha;if(!h){a(_createError(e,"internal-error"));return}const g=h.render;h.render=(_,$l)=>{const Rl=g(_,$l);return this.counter++,Rl},this.hostLanguage=s,o(h)};const d=`${RECAPTCHA_BASE}?${querystring({onload:_JSLOAD_CALLBACK,render:"explicit",hl:s})}`;_loadJS(d).catch(()=>{clearTimeout(c),a(_createError(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var s;return!!(!((s=_window().grecaptcha)===null||s===void 0)&&s.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function isHostLanguageValid(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class MockReCaptchaLoaderImpl{async load(e){return new MockReCaptcha(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECAPTCHA_VERIFIER_TYPE="recaptcha",DEFAULT_PARAMS={theme:"light",type:"image"};class RecaptchaVerifier$1{constructor(e,s=Object.assign({},DEFAULT_PARAMS),o){this.parameters=s,this.type=RECAPTCHA_VERIFIER_TYPE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_castAuth(o),this.isInvisible=this.parameters.size==="invisible",_assert$4(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof e=="string"?document.getElementById(e):e;_assert$4(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MockReCaptchaLoaderImpl:new ReCaptchaLoaderImpl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),s=this.getAssertedRecaptcha(),o=s.getResponse(e);return o||new Promise(a=>{const c=d=>{!d||(this.tokenChangeListeners.delete(c),a(d))};this.tokenChangeListeners.add(c),this.isInvisible&&s.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_assert$4(!this.parameters.sitekey,this.auth,"argument-error"),_assert$4(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_assert$4(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return s=>{if(this.tokenChangeListeners.forEach(o=>o(s)),typeof e=="function")e(s);else if(typeof e=="string"){const o=_window()[e];typeof o=="function"&&o(s)}}}assertNotDestroyed(){_assert$4(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const s=document.createElement("div");e.appendChild(s),e=s}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_assert$4(_isHttpOrHttps$1()&&!_isWorker$1(),this.auth,"internal-error"),await domReady(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await getRecaptchaParams(this.auth);_assert$4(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _assert$4(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function domReady(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ConfirmationResultImpl{constructor(e,s){this.verificationId=e,this.onConfirmation=s}confirm(e){const s=PhoneAuthCredential._fromVerification(this.verificationId,e);return this.onConfirmation(s)}}async function signInWithPhoneNumber(i,e,s){const o=_castAuth(i),a=await _verifyPhoneNumber(o,e,getModularInstance(s));return new ConfirmationResultImpl(a,c=>signInWithCredential(o,c))}async function linkWithPhoneNumber(i,e,s){const o=getModularInstance(i);await _assertLinkedStatus(!1,o,"phone");const a=await _verifyPhoneNumber(o.auth,e,getModularInstance(s));return new ConfirmationResultImpl(a,c=>linkWithCredential(o,c))}async function reauthenticateWithPhoneNumber(i,e,s){const o=getModularInstance(i),a=await _verifyPhoneNumber(o.auth,e,getModularInstance(s));return new ConfirmationResultImpl(a,c=>reauthenticateWithCredential(o,c))}async function _verifyPhoneNumber(i,e,s){var o;const a=await s.verify();try{_assert$4(typeof a=="string",i,"argument-error"),_assert$4(s.type===RECAPTCHA_VERIFIER_TYPE,i,"argument-error");let c;if(typeof e=="string"?c={phoneNumber:e}:c=e,"session"in c){const d=c.session;if("phoneNumber"in c)return _assert$4(d.type==="enroll",i,"internal-error"),(await startEnrollPhoneMfa(i,{idToken:d.credential,phoneEnrollmentInfo:{phoneNumber:c.phoneNumber,recaptchaToken:a}})).phoneSessionInfo.sessionInfo;{_assert$4(d.type==="signin",i,"internal-error");const h=((o=c.multiFactorHint)===null||o===void 0?void 0:o.uid)||c.multiFactorUid;return _assert$4(h,i,"missing-multi-factor-info"),(await startSignInPhoneMfa(i,{mfaPendingCredential:d.credential,mfaEnrollmentId:h,phoneSignInInfo:{recaptchaToken:a}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:d}=await sendPhoneVerificationCode(i,{phoneNumber:c.phoneNumber,recaptchaToken:a});return d}}finally{s._reset()}}async function updatePhoneNumber(i,e){await _link$1(getModularInstance(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthProvider$1{constructor(e){this.providerId=PhoneAuthProvider$1.PROVIDER_ID,this.auth=_castAuth(e)}verifyPhoneNumber(e,s){return _verifyPhoneNumber(this.auth,e,getModularInstance(s))}static credential(e,s){return PhoneAuthCredential._fromVerification(e,s)}static credentialFromResult(e){const s=e;return PhoneAuthProvider$1.credentialFromTaggedObject(s)}static credentialFromError(e){return PhoneAuthProvider$1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:s,temporaryProof:o}=e;return s&&o?PhoneAuthCredential._fromTokenResponse(s,o):null}}PhoneAuthProvider$1.PROVIDER_ID="phone";PhoneAuthProvider$1.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(i,e){return e?_getInstance(e):(_assert$4(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,s){return signInWithIdp(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function _signIn(i){return _signInWithCredential(i.auth,new IdpCredential(i),i.bypassAuthState)}function _reauth(i){const{auth:e,user:s}=i;return _assert$4(s,e,"internal-error"),_reauthenticate(s,new IdpCredential(i),i.bypassAuthState)}async function _link(i){const{auth:e,user:s}=i;return _assert$4(s,e,"internal-error"),_link$1(s,new IdpCredential(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,s,o,a,c=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:o,postBody:a,tenantId:c,error:d,type:h}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:s,sessionId:o,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(i,e,s){const o=_castAuth(i);_assertInstanceOf(i,e,FederatedAuthProvider);const a=_withDefaultResolver(o,s);return new PopupOperation(o,"signInViaPopup",e,a).executeNotNull()}async function reauthenticateWithPopup(i,e,s){const o=getModularInstance(i);_assertInstanceOf(o.auth,e,FederatedAuthProvider);const a=_withDefaultResolver(o.auth,s);return new PopupOperation(o.auth,"reauthViaPopup",e,a,o).executeNotNull()}async function linkWithPopup(i,e,s){const o=getModularInstance(i);_assertInstanceOf(o.auth,e,FederatedAuthProvider);const a=_withDefaultResolver(o.auth,s);return new PopupOperation(o.auth,"linkViaPopup",e,a,o).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,s,o,a,c){super(e,s,a,c),this.provider=o,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert$4(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,o;if(!((o=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,s,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,o),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const o=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(s){e=()=>Promise.reject(s)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(i,e){const s=pendingRedirectKey(e),o=resolverPersistence(i);if(!await o._isAvailable())return!1;const a=await o._get(s)==="true";return await o._remove(s),a}async function _setPendingRedirectStatus(i,e){return resolverPersistence(i)._set(pendingRedirectKey(e),"true")}function _clearRedirectOutcomes(){redirectOutcomeMap.clear()}function _overrideRedirectResult(i,e){redirectOutcomeMap.set(i._key(),e)}function resolverPersistence(i){return _getInstance(i._redirectPersistence)}function pendingRedirectKey(i){return _persistenceKeyName(PENDING_REDIRECT_KEY,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function signInWithRedirect(i,e,s){return _signInWithRedirect(i,e,s)}async function _signInWithRedirect(i,e,s){const o=_castAuth(i);_assertInstanceOf(i,e,FederatedAuthProvider);const a=_withDefaultResolver(o,s);return await _setPendingRedirectStatus(a,o),a._openRedirect(o,e,"signInViaRedirect")}function reauthenticateWithRedirect(i,e,s){return _reauthenticateWithRedirect(i,e,s)}async function _reauthenticateWithRedirect(i,e,s){const o=getModularInstance(i);_assertInstanceOf(o.auth,e,FederatedAuthProvider);const a=_withDefaultResolver(o.auth,s);await _setPendingRedirectStatus(a,o.auth);const c=await prepareUserForRedirect(o);return a._openRedirect(o.auth,e,"reauthViaRedirect",c)}function linkWithRedirect(i,e,s){return _linkWithRedirect(i,e,s)}async function _linkWithRedirect(i,e,s){const o=getModularInstance(i);_assertInstanceOf(o.auth,e,FederatedAuthProvider);const a=_withDefaultResolver(o.auth,s);await _assertLinkedStatus(!1,o,e.providerId),await _setPendingRedirectStatus(a,o.auth);const c=await prepareUserForRedirect(o);return a._openRedirect(o.auth,e,"linkViaRedirect",c)}async function getRedirectResult(i,e){return await _castAuth(i)._initializationPromise,_getRedirectResult(i,e,!1)}async function _getRedirectResult(i,e,s=!1){const o=_castAuth(i),a=_withDefaultResolver(o,e),d=await new RedirectAction(o,a,s).execute();return d&&!s&&(delete d.user._redirectEventId,await o._persistUserIfCurrent(d.user),await o._setRedirectUser(null,e)),d}async function prepareUserForRedirect(i){const e=_generateEventId(`${i.uid}:::`);return i._redirectEventId=e,await i.auth._setRedirectUser(i),await i.auth._persistUserIfCurrent(i),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(s=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var o;if(e.error&&!isNullRedirectEvent(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";s.onError(_createError(this.auth,a))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const o=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(i,e={}){return _performApiRequest(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin$1(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(i);for(const s of e)try{if(matchDomain(s))return}catch{}_fail(i,"unauthorized-domain")}function matchDomain(i){const e=_getCurrentUrl(),{protocol:s,hostname:o}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&o===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===o}if(!HTTP_REGEX.test(s))return!1;if(IP_ADDRESS_REGEX.test(i))return o===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const i=_window().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function loadGapi(i){return new Promise((e,s)=>{var o,a,c;function d(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),s(_createError(i,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((a=(o=_window().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((c=_window().gapi)===null||c===void 0)&&c.load)d();else{const h=_generateCallbackName("iframefcb");return _window()[h]=()=>{gapi.load?d():s(_createError(i,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${h}`).catch(g=>s(g))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(i){return cachedGApiLoader=cachedGApiLoader||loadGapi(i),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(i){const e=i.config;_assert$4(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${i.config.authDomain}/${IFRAME_PATH}`,o={apiKey:e.apiKey,appName:i.name,v:SDK_VERSION},a=EID_FROM_APIHOST.get(i.config.apiHost);a&&(o.eid=a);const c=i._getFrameworks();return c.length&&(o.fw=c.join(",")),`${s}?${querystring(o).slice(1)}`}async function _openIframe(i){const e=await _loadGapi(i),s=_window().gapi;return _assert$4(s,i,"internal-error"),e.open({where:document.body,url:getIframeUrl(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},o=>new Promise(async(a,c)=>{await o.restyle({setHideOnLeave:!1});const d=_createError(i,"network-request-failed"),h=_window().setTimeout(()=>{c(d)},PING_TIMEOUT.get());function g(){_window().clearTimeout(h),a(o)}o.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(i,e,s,o=DEFAULT_WIDTH,a=DEFAULT_HEIGHT){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-o)/2,0).toString();let h="";const g=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:o.toString(),height:a.toString(),top:c,left:d}),_=getUA().toLowerCase();s&&(h=_isChromeIOS(_)?TARGET_BLANK:s),_isFirefox(_)&&(e=e||FIREFOX_EMPTY_URL,g.scrollbars="yes");const $l=Object.entries(g).reduce((Ml,[Ul,Fl])=>`${Ml}${Ul}=${Fl},`,"");if(_isIOSStandalone(_)&&h!=="_self")return openAsNewWindowIOS(e||"",h),new AuthPopup(null);const Rl=window.open(e||"",h,$l);_assert$4(Rl,i,"popup-blocked");try{Rl.focus()}catch{}return new AuthPopup(Rl)}function openAsNewWindowIOS(i,e){const s=document.createElement("a");s.href=i,s.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(i,e,s,o,a,c){_assert$4(i.config.authDomain,i,"auth-domain-config-required"),_assert$4(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:o,v:SDK_VERSION,eventId:a};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(c||{}))d[g]=_}if(e instanceof BaseOAuthProvider){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(d.scopes=g.join(","))}i.tenantId&&(d.tid=i.tenantId);const h=d;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];return`${getHandlerBase(i)}?${querystring(h).slice(1)}`}function getHandlerBase({config:i}){return i.emulator?_emulatorUrl(i,EMULATOR_WIDGET_PATH):`https://${i.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,s,o,a){var c;debugAssert((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=_getRedirectUrl(e,s,o,_getCurrentUrl(),a);return _open(e,d,_generateEventId())}async _openRedirect(e,s,o,a){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,s,o,_getCurrentUrl(),a)),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:a,promise:c}=this.eventManagers[s];return a?Promise.resolve(a):(debugAssert(c,"If manager is not set, promise should be"),c)}const o=this.initAndGetManager(e);return this.eventManagers[s]={promise:o},o.catch(()=>{delete this.eventManagers[s]}),o}async initAndGetManager(e){const s=await _openIframe(e),o=new AuthEventManager(e);return s.register("authEvent",a=>(_assert$4(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=s,o}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},a=>{var c;const d=(c=a==null?void 0:a[0])===null||c===void 0?void 0:c[WEB_STORAGE_SUPPORT_KEY];d!==void 0&&s(!!d),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=_validateOrigin$1(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;class MultiFactorAssertionImpl{constructor(e){this.factorId=e}_process(e,s,o){switch(s.type){case"enroll":return this._finalizeEnroll(e,s.credential,o);case"signin":return this._finalizeSignIn(e,s.credential);default:return debugFail("unexpected MultiFactorSessionType")}}}class PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new PhoneMultiFactorAssertionImpl(e)}_finalizeEnroll(e,s,o){return finalizeEnrollPhoneMfa(e,{idToken:s,displayName:o,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,s){return finalizeSignInPhoneMfa(e,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class PhoneMultiFactorGenerator{constructor(){}static assertion(e){return PhoneMultiFactorAssertionImpl._fromCredential(e)}}PhoneMultiFactorGenerator.FACTOR_ID="phone";var name$2="@firebase/auth",version$2="0.20.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(o=>{var a;e(((a=o)===null||a===void 0?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);!s||(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert$4(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(i){_registerComponent(new Component("auth",(e,{options:s})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:c,authDomain:d}=o.options;return((h,g)=>{_assert$4(c&&!c.includes(":"),"invalid-api-key",{appName:h.name}),_assert$4(!(d!=null&&d.includes(":")),"argument-error",{appName:h.name});const _={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(i)},$l=new AuthImpl(h,g,_);return _initializeAuthInstance($l,s),$l})(o,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,o)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const s=_castAuth(e.getProvider("auth").getImmediate());return(o=>new AuthInterop(o))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(i)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60;getExperimentalSetting("authIdTokenMaxAge");registerAuth("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _cordovaWindow(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const REDIRECT_TIMEOUT_MS=2e3;async function _generateHandlerUrl(i,e,s){var o;const{BuildInfo:a}=_cordovaWindow();debugAssert(e.sessionId,"AuthEvent did not contain a session ID");const c=await computeSha256(e.sessionId),d={};return _isIOS()?d.ibi=a.packageName:_isAndroid()?d.apn=a.packageName:_fail(i,"operation-not-supported-in-this-environment"),a.displayName&&(d.appDisplayName=a.displayName),d.sessionId=c,_getRedirectUrl(i,s,e.type,void 0,(o=e.eventId)!==null&&o!==void 0?o:void 0,d)}async function _validateOrigin(i){const{BuildInfo:e}=_cordovaWindow(),s={};_isIOS()?s.iosBundleId=e.packageName:_isAndroid()?s.androidPackageName=e.packageName:_fail(i,"operation-not-supported-in-this-environment"),await _getProjectConfig(i,s)}function _performRedirect(i){const{cordova:e}=_cordovaWindow();return new Promise(s=>{e.plugins.browsertab.isAvailable(o=>{let a=null;o?e.plugins.browsertab.openUrl(i):a=e.InAppBrowser.open(i,_isIOS7Or8()?"_blank":"_system","location=yes"),s(a)})})}async function _waitForAppResume(i,e,s){const{cordova:o}=_cordovaWindow();let a=()=>{};try{await new Promise((c,d)=>{let h=null;function g(){var Rl;c();const Ml=(Rl=o.plugins.browsertab)===null||Rl===void 0?void 0:Rl.close;typeof Ml=="function"&&Ml(),typeof(s==null?void 0:s.close)=="function"&&s.close()}function _(){h||(h=window.setTimeout(()=>{d(_createError(i,"redirect-cancelled-by-user"))},REDIRECT_TIMEOUT_MS))}function $l(){(document==null?void 0:document.visibilityState)==="visible"&&_()}e.addPassiveListener(g),document.addEventListener("resume",_,!1),_isAndroid()&&document.addEventListener("visibilitychange",$l,!1),a=()=>{e.removePassiveListener(g),document.removeEventListener("resume",_,!1),document.removeEventListener("visibilitychange",$l,!1),h&&window.clearTimeout(h)}})}finally{a()}}function _checkCordovaConfiguration(i){var e,s,o,a,c,d,h,g,_,$l;const Rl=_cordovaWindow();_assert$4(typeof((e=Rl==null?void 0:Rl.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_assert$4(typeof((s=Rl==null?void 0:Rl.BuildInfo)===null||s===void 0?void 0:s.packageName)<"u",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_assert$4(typeof((c=(a=(o=Rl==null?void 0:Rl.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||c===void 0?void 0:c.openUrl)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_assert$4(typeof((g=(h=(d=Rl==null?void 0:Rl.cordova)===null||d===void 0?void 0:d.plugins)===null||h===void 0?void 0:h.browsertab)===null||g===void 0?void 0:g.isAvailable)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_assert$4(typeof(($l=(_=Rl==null?void 0:Rl.cordova)===null||_===void 0?void 0:_.InAppBrowser)===null||$l===void 0?void 0:$l.open)=="function",i,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function computeSha256(i){const e=stringToArrayBuffer(i),s=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}function stringToArrayBuffer(i){if(debugAssert(/[0-9a-zA-Z]+/.test(i),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(i);const e=new ArrayBuffer(i.length),s=new Uint8Array(e);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SESSION_ID_LENGTH=20;class CordovaAuthEventManager extends AuthEventManager{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(s=>s(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function _generateNewEvent(i,e,s=null){return{type:e,eventId:s,urlResponse:null,sessionId:generateSessionId(),postBody:null,tenantId:i.tenantId,error:_createError(i,"no-auth-event")}}function _savePartialEvent(i,e){return storage()._set(persistenceKey(i),e)}async function _getAndRemoveEvent(i){const e=await storage()._get(persistenceKey(i));return e&&await storage()._remove(persistenceKey(i)),e}function _eventFromPartialAndUrl(i,e){var s,o;const a=_getDeepLinkFromCallback(e);if(a.includes("/__/auth/callback")){const c=searchParamsOrEmpty(a),d=c.firebaseError?parseJsonOrNull(decodeURIComponent(c.firebaseError)):null,h=(o=(s=d==null?void 0:d.code)===null||s===void 0?void 0:s.split("auth/"))===null||o===void 0?void 0:o[1],g=h?_createError(h):null;return g?{type:i.type,eventId:i.eventId,tenantId:i.tenantId,error:g,urlResponse:null,sessionId:null,postBody:null}:{type:i.type,eventId:i.eventId,tenantId:i.tenantId,sessionId:i.sessionId,urlResponse:a,postBody:null}}return null}function generateSessionId(){const i=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<SESSION_ID_LENGTH;s++){const o=Math.floor(Math.random()*e.length);i.push(e.charAt(o))}return i.join("")}function storage(){return _getInstance(browserLocalPersistence)}function persistenceKey(i){return _persistenceKeyName("authEvent",i.config.apiKey,i.name)}function parseJsonOrNull(i){try{return JSON.parse(i)}catch{return null}}function _getDeepLinkFromCallback(i){const e=searchParamsOrEmpty(i),s=e.link?decodeURIComponent(e.link):void 0,o=searchParamsOrEmpty(s).link,a=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return searchParamsOrEmpty(a).link||a||o||s||i}function searchParamsOrEmpty(i){if(!(i!=null&&i.includes("?")))return{};const[e,...s]=i.split("?");return querystringDecode(s.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INITIAL_EVENT_TIMEOUT_MS=500;class CordovaPopupRedirectResolver{constructor(){this._redirectPersistence=browserSessionPersistence,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _initialize(e){const s=e._key();let o=this.eventManagers.get(s);return o||(o=new CordovaAuthEventManager(e),this.eventManagers.set(s,o),this.attachCallbackListeners(e,o)),o}_openPopup(e){_fail(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,s,o,a){_checkCordovaConfiguration(e);const c=await this._initialize(e);await c.initialized(),c.resetRedirect(),_clearRedirectOutcomes(),await this._originValidation(e);const d=_generateNewEvent(e,o,a);await _savePartialEvent(e,d);const h=await _generateHandlerUrl(e,d,s),g=await _performRedirect(h);return _waitForAppResume(e,c,g)}_isIframeWebStorageSupported(e,s){throw new Error("Method not implemented.")}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=_validateOrigin(e)),this.originValidationPromises[s]}attachCallbackListeners(e,s){const{universalLinks:o,handleOpenURL:a,BuildInfo:c}=_cordovaWindow(),d=setTimeout(async()=>{await _getAndRemoveEvent(e),s.onEvent(generateNoEvent())},INITIAL_EVENT_TIMEOUT_MS),h=async $l=>{clearTimeout(d);const Rl=await _getAndRemoveEvent(e);let Ml=null;Rl&&($l==null?void 0:$l.url)&&(Ml=_eventFromPartialAndUrl(Rl,$l.url)),s.onEvent(Ml||generateNoEvent())};typeof o<"u"&&typeof o.subscribe=="function"&&o.subscribe(null,h);const g=a,_=`${c.packageName.toLowerCase()}://`;_cordovaWindow().handleOpenURL=async $l=>{if($l.toLowerCase().startsWith(_)&&h({url:$l}),typeof g=="function")try{g($l)}catch(Rl){console.error(Rl)}}}}const cordovaPopupRedirectResolver=CordovaPopupRedirectResolver;function generateNoEvent(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_createError("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function addFrameworkForLogging(i,e){_castAuth(i)._logFramework(e)}var name$1="@firebase/auth-compat",version$1="0.2.24";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CORDOVA_ONDEVICEREADY_TIMEOUT_MS=1e3;function _getCurrentScheme(){var i;return((i=self==null?void 0:self.location)===null||i===void 0?void 0:i.protocol)||null}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _isAndroidOrIosCordovaScheme(i=getUA()){return!!((_getCurrentScheme()==="file:"||_getCurrentScheme()==="ionic:"||_getCurrentScheme()==="capacitor:")&&i.toLowerCase().match(/iphone|ipad|ipod|android/))}function _isNativeEnvironment(){return isReactNative()||isNode()}function _isIe11(){return isIE()&&(document==null?void 0:document.documentMode)===11}function _isEdge(i=getUA()){return/Edge\/\d+/.test(i)}function _isLocalStorageNotSynchronized(i=getUA()){return _isIe11()||_isEdge(i)}function _isWebStorageSupported(){try{const i=self.localStorage,e=_generateEventId();if(i)return i.setItem(e,"1"),i.removeItem(e),_isLocalStorageNotSynchronized()?isIndexedDBAvailable():!0}catch{return _isWorker()&&isIndexedDBAvailable()}return!1}function _isWorker(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _isPopupRedirectSupported(){return(_isHttpOrHttps()||isBrowserExtension()||_isAndroidOrIosCordovaScheme())&&!_isNativeEnvironment()&&_isWebStorageSupported()&&!_isWorker()}function _isLikelyCordova(){return _isAndroidOrIosCordovaScheme()&&typeof document<"u"}async function _isCordova(){return _isLikelyCordova()?new Promise(i=>{const e=setTimeout(()=>{i(!1)},CORDOVA_ONDEVICEREADY_TIMEOUT_MS);document.addEventListener("deviceready",()=>{clearTimeout(e),i(!0)})}):!1}function _getSelfWindow(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Persistence={LOCAL:"local",NONE:"none",SESSION:"session"},_assert$3=_assert$4,PERSISTENCE_KEY="persistence";function _validatePersistenceArgument(i,e){if(_assert$3(Object.values(Persistence).includes(e),i,"invalid-persistence-type"),isReactNative()){_assert$3(e!==Persistence.SESSION,i,"unsupported-persistence-type");return}if(isNode()){_assert$3(e===Persistence.NONE,i,"unsupported-persistence-type");return}if(_isWorker()){_assert$3(e===Persistence.NONE||e===Persistence.LOCAL&&isIndexedDBAvailable(),i,"unsupported-persistence-type");return}_assert$3(e===Persistence.NONE||_isWebStorageSupported(),i,"unsupported-persistence-type")}async function _savePersistenceForRedirect(i){await i._initializationPromise;const e=getSessionStorageIfAvailable(),s=_persistenceKeyName(PERSISTENCE_KEY,i.config.apiKey,i.name);e&&e.setItem(s,i._getPersistence())}function _getPersistencesFromRedirect(i,e){const s=getSessionStorageIfAvailable();if(!s)return[];const o=_persistenceKeyName(PERSISTENCE_KEY,i,e);switch(s.getItem(o)){case Persistence.NONE:return[inMemoryPersistence];case Persistence.LOCAL:return[indexedDBLocalPersistence,browserSessionPersistence];case Persistence.SESSION:return[browserSessionPersistence];default:return[]}}function getSessionStorageIfAvailable(){var i;try{return((i=_getSelfWindow())===null||i===void 0?void 0:i.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert$2=_assert$4;class CompatPopupRedirectResolver{constructor(){this.browserResolver=_getInstance(browserPopupRedirectResolver),this.cordovaResolver=_getInstance(cordovaPopupRedirectResolver),this.underlyingResolver=null,this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,s,o,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,s,o,a)}async _openRedirect(e,s,o,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,s,o,a)}_isIframeWebStorageSupported(e,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,s)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _isLikelyCordova()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _assert$2(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await _isCordova();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function unwrap(i){return i.unwrap()}function wrapped(i){return i.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function credentialFromResponse(i){return credentialFromObject(i)}function attachExtraErrorFields(i,e){var s,o;const a=(s=e.customData)===null||s===void 0?void 0:s._tokenResponse;if(((o=e)===null||o===void 0?void 0:o.code)==="auth/multi-factor-auth-required"){const c=e;c.resolver=new MultiFactorResolver(i,getMultiFactorResolver(i,e))}else if(a){const c=credentialFromObject(e),d=e;c&&(d.credential=c,d.tenantId=a.tenantId||void 0,d.email=a.email||void 0,d.phoneNumber=a.phoneNumber||void 0)}}function credentialFromObject(i){const{_tokenResponse:e}=i instanceof FirebaseError?i.customData:i;if(!e)return null;if(!(i instanceof FirebaseError)&&"temporaryProof"in e&&"phoneNumber"in e)return PhoneAuthProvider$1.credentialFromResult(i);const s=e.providerId;if(!s||s===ProviderId.PASSWORD)return null;let o;switch(s){case ProviderId.GOOGLE:o=GoogleAuthProvider;break;case ProviderId.FACEBOOK:o=FacebookAuthProvider;break;case ProviderId.GITHUB:o=GithubAuthProvider;break;case ProviderId.TWITTER:o=TwitterAuthProvider;break;default:const{oauthIdToken:a,oauthAccessToken:c,oauthTokenSecret:d,pendingToken:h,nonce:g}=e;return!c&&!d&&!a&&!h?null:h?s.startsWith("saml.")?SAMLAuthCredential._create(s,h):OAuthCredential._fromParams({providerId:s,signInMethod:s,pendingToken:h,idToken:a,accessToken:c}):new OAuthProvider(s).credential({idToken:a,accessToken:c,rawNonce:g})}return i instanceof FirebaseError?o.credentialFromError(i):o.credentialFromResult(i)}function convertCredential(i,e){return e.catch(s=>{throw s instanceof FirebaseError&&attachExtraErrorFields(i,s),s}).then(s=>{const o=s.operationType,a=s.user;return{operationType:o,credential:credentialFromResponse(s),additionalUserInfo:getAdditionalUserInfo(s),user:User.getOrCreate(a)}})}async function convertConfirmationResult(i,e){const s=await e;return{verificationId:s.verificationId,confirm:o=>convertCredential(i,s.confirm(o))}}class MultiFactorResolver{constructor(e,s){this.resolver=s,this.auth=wrapped(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return convertCredential(unwrap(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this._delegate=e,this.multiFactor=multiFactor(e)}static getOrCreate(e){return User.USER_MAP.has(e)||User.USER_MAP.set(e,new User(e)),User.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return convertCredential(this.auth,linkWithCredential(this._delegate,e))}async linkWithPhoneNumber(e,s){return convertConfirmationResult(this.auth,linkWithPhoneNumber(this._delegate,e,s))}async linkWithPopup(e){return convertCredential(this.auth,linkWithPopup(this._delegate,e,CompatPopupRedirectResolver))}async linkWithRedirect(e){return await _savePersistenceForRedirect(_castAuth(this.auth)),linkWithRedirect(this._delegate,e,CompatPopupRedirectResolver)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return convertCredential(this.auth,reauthenticateWithCredential(this._delegate,e))}reauthenticateWithPhoneNumber(e,s){return convertConfirmationResult(this.auth,reauthenticateWithPhoneNumber(this._delegate,e,s))}reauthenticateWithPopup(e){return convertCredential(this.auth,reauthenticateWithPopup(this._delegate,e,CompatPopupRedirectResolver))}async reauthenticateWithRedirect(e){return await _savePersistenceForRedirect(_castAuth(this.auth)),reauthenticateWithRedirect(this._delegate,e,CompatPopupRedirectResolver)}sendEmailVerification(e){return sendEmailVerification(this._delegate,e)}async unlink(e){return await unlink(this._delegate,e),this}updateEmail(e){return updateEmail(this._delegate,e)}updatePassword(e){return updatePassword(this._delegate,e)}updatePhoneNumber(e){return updatePhoneNumber(this._delegate,e)}updateProfile(e){return updateProfile(this._delegate,e)}verifyBeforeUpdateEmail(e,s){return verifyBeforeUpdateEmail(this._delegate,e,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}User.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert$1=_assert$4;class Auth{constructor(e,s){if(this.app=e,s.isInitialized()){this._delegate=s.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:o}=e.options;_assert$1(o,"invalid-api-key",{appName:e.name}),_assert$1(o,"invalid-api-key",{appName:e.name});const a=typeof window<"u"?CompatPopupRedirectResolver:void 0;this._delegate=s.initialize({options:{persistence:buildPersistenceHierarchy(o,e.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(debugErrorMap),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?User.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,s){connectAuthEmulator(this._delegate,e,s)}applyActionCode(e){return applyActionCode(this._delegate,e)}checkActionCode(e){return checkActionCode(this._delegate,e)}confirmPasswordReset(e,s){return confirmPasswordReset(this._delegate,e,s)}async createUserWithEmailAndPassword(e,s){return convertCredential(this._delegate,createUserWithEmailAndPassword(this._delegate,e,s))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return fetchSignInMethodsForEmail(this._delegate,e)}isSignInWithEmailLink(e){return isSignInWithEmailLink(this._delegate,e)}async getRedirectResult(){_assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment");const e=await getRedirectResult(this._delegate,CompatPopupRedirectResolver);return e?convertCredential(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){addFrameworkForLogging(this._delegate,e)}onAuthStateChanged(e,s,o){const{next:a,error:c,complete:d}=wrapObservers(e,s,o);return this._delegate.onAuthStateChanged(a,c,d)}onIdTokenChanged(e,s,o){const{next:a,error:c,complete:d}=wrapObservers(e,s,o);return this._delegate.onIdTokenChanged(a,c,d)}sendSignInLinkToEmail(e,s){return sendSignInLinkToEmail(this._delegate,e,s)}sendPasswordResetEmail(e,s){return sendPasswordResetEmail(this._delegate,e,s||void 0)}async setPersistence(e){_validatePersistenceArgument(this._delegate,e);let s;switch(e){case Persistence.SESSION:s=browserSessionPersistence;break;case Persistence.LOCAL:s=await _getInstance(indexedDBLocalPersistence)._isAvailable()?indexedDBLocalPersistence:browserLocalPersistence;break;case Persistence.NONE:s=inMemoryPersistence;break;default:return _fail("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(s)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return convertCredential(this._delegate,signInAnonymously(this._delegate))}signInWithCredential(e){return convertCredential(this._delegate,signInWithCredential(this._delegate,e))}signInWithCustomToken(e){return convertCredential(this._delegate,signInWithCustomToken(this._delegate,e))}signInWithEmailAndPassword(e,s){return convertCredential(this._delegate,signInWithEmailAndPassword(this._delegate,e,s))}signInWithEmailLink(e,s){return convertCredential(this._delegate,signInWithEmailLink(this._delegate,e,s))}signInWithPhoneNumber(e,s){return convertConfirmationResult(this._delegate,signInWithPhoneNumber(this._delegate,e,s))}async signInWithPopup(e){return _assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment"),convertCredential(this._delegate,signInWithPopup(this._delegate,e,CompatPopupRedirectResolver))}async signInWithRedirect(e){return _assert$1(_isPopupRedirectSupported(),this._delegate,"operation-not-supported-in-this-environment"),await _savePersistenceForRedirect(this._delegate),signInWithRedirect(this._delegate,e,CompatPopupRedirectResolver)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return verifyPasswordResetCode(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Auth.Persistence=Persistence;function wrapObservers(i,e,s){let o=i;typeof i!="function"&&({next:o,error:e,complete:s}=i);const a=o;return{next:d=>a(d&&User.getOrCreate(d)),error:e,complete:s}}function buildPersistenceHierarchy(i,e){const s=_getPersistencesFromRedirect(i,e);if(typeof self<"u"&&!s.includes(indexedDBLocalPersistence)&&s.push(indexedDBLocalPersistence),typeof window<"u")for(const o of[browserLocalPersistence,browserSessionPersistence])s.includes(o)||s.push(o);return s.includes(inMemoryPersistence)||s.push(inMemoryPersistence),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PhoneAuthProvider{constructor(){this.providerId="phone",this._delegate=new PhoneAuthProvider$1(unwrap(firebase.auth()))}static credential(e,s){return PhoneAuthProvider$1.credential(e,s)}verifyPhoneNumber(e,s){return this._delegate.verifyPhoneNumber(e,s)}unwrap(){return this._delegate}}PhoneAuthProvider.PHONE_SIGN_IN_METHOD=PhoneAuthProvider$1.PHONE_SIGN_IN_METHOD;PhoneAuthProvider.PROVIDER_ID=PhoneAuthProvider$1.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _assert=_assert$4;class RecaptchaVerifier{constructor(e,s,o=firebase.app()){var a;_assert((a=o.options)===null||a===void 0?void 0:a.apiKey,"invalid-api-key",{appName:o.name}),this._delegate=new RecaptchaVerifier$1(e,s,o.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_TYPE="auth-compat";function registerAuthCompat(i){i.INTERNAL.registerComponent(new Component(AUTH_TYPE,e=>{const s=e.getProvider("app-compat").getImmediate(),o=e.getProvider("auth");return new Auth(s,o)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ActionCodeOperation.EMAIL_SIGNIN,PASSWORD_RESET:ActionCodeOperation.PASSWORD_RESET,RECOVER_EMAIL:ActionCodeOperation.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ActionCodeOperation.VERIFY_EMAIL}},EmailAuthProvider,FacebookAuthProvider,GithubAuthProvider,GoogleAuthProvider,OAuthProvider,SAMLAuthProvider,PhoneAuthProvider,PhoneMultiFactorGenerator,RecaptchaVerifier,TwitterAuthProvider,Auth,AuthCredential,Error:FirebaseError}).setInstantiationMode("LAZY").setMultipleInstances(!1)),i.registerVersion(name$1,version$1)}registerAuthCompat(firebase);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k$1,goog=goog||{},l=commonjsGlobal||self;function aa(){}function ba$1(i){var e=typeof i;return e=e!="object"?e:i?Array.isArray(i)?"array":e:"null",e=="array"||e=="object"&&typeof i.length=="number"}function p(i){var e=typeof i;return e=="object"&&i!=null||e=="function"}function ca$1(i){return Object.prototype.hasOwnProperty.call(i,da$1)&&i[da$1]||(i[da$1]=++ea$1)}var da$1="closure_uid_"+(1e9*Math.random()>>>0),ea$1=0;function fa$1(i,e,s){return i.call.apply(i.bind,arguments)}function ha(i,e,s){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function q$1(i,e,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$1=fa$1:q$1=ha,q$1.apply(null,arguments)}function ia$1(i,e){var s=Array.prototype.slice.call(arguments,1);return function(){var o=s.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function t(i,e){function s(){}s.prototype=e.prototype,i.X=e.prototype,i.prototype=new s,i.prototype.constructor=i,i.Wb=function(o,a,c){for(var d=Array(arguments.length-2),h=2;h<arguments.length;h++)d[h-2]=arguments[h];return e.prototype[a].apply(o,d)}}function v$1(){this.s=this.s,this.o=this.o}var ja$1=0;v$1.prototype.s=!1;v$1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ja$1!=0)&&ca$1(this)};v$1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const la=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if(typeof i=="string")return typeof e!="string"||e.length!=1?-1:i.indexOf(e,0);for(let s=0;s<i.length;s++)if(s in i&&i[s]===e)return s;return-1};function ma$1(i){const e=i.length;if(0<e){const s=Array(e);for(let o=0;o<e;o++)s[o]=i[o];return s}return[]}function na$1(i,e){for(let s=1;s<arguments.length;s++){const o=arguments[s];if(ba$1(o)){const a=i.length||0,c=o.length||0;i.length=a+c;for(let d=0;d<c;d++)i[a+d]=o[d]}else i.push(o)}}function w(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var oa$1=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{l.addEventListener("test",aa,e),l.removeEventListener("test",aa,e)}catch{}return i}();function pa$1(i){return/^[\s\xa0]*$/.test(i)}var qa$1=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ra$1(i,e){return i<e?-1:i>e?1:0}function sa$1(){var i=l.navigator;return i&&(i=i.userAgent)?i:""}function x$1(i){return sa$1().indexOf(i)!=-1}function ta$1(i){return ta$1[" "](i),i}ta$1[" "]=aa;function ua$1(i){var e=va$1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}var wa$1=x$1("Opera"),y=x$1("Trident")||x$1("MSIE"),xa$1=x$1("Edge"),ya$1=xa$1||y,za$1=x$1("Gecko")&&!(sa$1().toLowerCase().indexOf("webkit")!=-1&&!x$1("Edge"))&&!(x$1("Trident")||x$1("MSIE"))&&!x$1("Edge"),Aa$1=sa$1().toLowerCase().indexOf("webkit")!=-1&&!x$1("Edge");function Ba(){var i=l.document;return i?i.documentMode:void 0}var Ea$1;e:{var Fa$1="",Ga$1=function(){var i=sa$1();if(za$1)return/rv:([^\);]+)(\)|;)/.exec(i);if(xa$1)return/Edge\/([\d\.]+)/.exec(i);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(Aa$1)return/WebKit\/(\S+)/.exec(i);if(wa$1)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Ga$1&&(Fa$1=Ga$1?Ga$1[1]:""),y){var Ha$1=Ba();if(Ha$1!=null&&Ha$1>parseFloat(Fa$1)){Ea$1=String(Ha$1);break e}}Ea$1=Fa$1}var va$1={};function Ia$1(){return ua$1(function(){let i=0;const e=qa$1(String(Ea$1)).split("."),s=qa$1("9").split("."),o=Math.max(e.length,s.length);for(let d=0;i==0&&d<o;d++){var a=e[d]||"",c=s[d]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;i=ra$1(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||ra$1(a[2].length==0,c[2].length==0)||ra$1(a[2],c[2]),a=a[3],c=c[3]}while(i==0)}return 0<=i})}var Ja;if(l.document&&y){var Ka$1=Ba();Ja=Ka$1||parseInt(Ea$1,10)||void 0}else Ja=void 0;var La=Ja;function z$1(i,e){if(w.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var s=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(za$1){e:{try{ta$1(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else s=="mouseover"?e=i.fromElement:s=="mouseout"&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:Ma$1[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&z$1.X.h.call(this)}}t(z$1,w);var Ma$1={2:"touch",3:"pen",4:"mouse"};z$1.prototype.h=function(){z$1.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var A="closure_listenable_"+(1e6*Math.random()|0),Na$1=0;function Oa$1(i,e,s,o,a){this.listener=i,this.proxy=null,this.src=e,this.type=s,this.capture=!!o,this.ha=a,this.key=++Na$1,this.ba=this.ea=!1}function Pa$1(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Qa$1(i,e,s){for(const o in i)e.call(s,i[o],o,i)}function Ra$1(i){const e={};for(const s in i)e[s]=i[s];return e}const Sa$1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta$1(i,e){let s,o;for(let a=1;a<arguments.length;a++){o=arguments[a];for(s in o)i[s]=o[s];for(let c=0;c<Sa$1.length;c++)s=Sa$1[c],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}}function Ua$1(i){this.src=i,this.g={},this.h=0}Ua$1.prototype.add=function(i,e,s,o,a){var c=i.toString();i=this.g[c],i||(i=this.g[c]=[],this.h++);var d=Va$1(i,e,o,a);return-1<d?(e=i[d],s||(e.ea=!1)):(e=new Oa$1(e,this.src,c,!!o,a),e.ea=s,i.push(e)),e};function Wa$1(i,e){var s=e.type;if(s in i.g){var o=i.g[s],a=la(o,e),c;(c=0<=a)&&Array.prototype.splice.call(o,a,1),c&&(Pa$1(e),i.g[s].length==0&&(delete i.g[s],i.h--))}}function Va$1(i,e,s,o){for(var a=0;a<i.length;++a){var c=i[a];if(!c.ba&&c.listener==e&&c.capture==!!s&&c.ha==o)return a}return-1}var Xa$1="closure_lm_"+(1e6*Math.random()|0),Ya$1={};function $a$1(i,e,s,o,a){if(o&&o.once)return ab(i,e,s,o,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)$a$1(i,e[c],s,o,a);return null}return s=bb(s),i&&i[A]?i.N(e,s,p(o)?!!o.capture:!!o,a):cb(i,e,s,!1,o,a)}function cb(i,e,s,o,a,c){if(!e)throw Error("Invalid event type");var d=p(a)?!!a.capture:!!a,h=db$1(i);if(h||(i[Xa$1]=h=new Ua$1(i)),s=h.add(e,s,o,d,c),s.proxy)return s;if(o=eb(),s.proxy=o,o.src=i,o.listener=s,i.addEventListener)oa$1||(a=d),a===void 0&&(a=!1),i.addEventListener(e.toString(),o,a);else if(i.attachEvent)i.attachEvent(fb(e.toString()),o);else if(i.addListener&&i.removeListener)i.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return s}function eb(){function i(s){return e.call(i.src,i.listener,s)}const e=gb;return i}function ab(i,e,s,o,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)ab(i,e[c],s,o,a);return null}return s=bb(s),i&&i[A]?i.O(e,s,p(o)?!!o.capture:!!o,a):cb(i,e,s,!0,o,a)}function hb(i,e,s,o,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)hb(i,e[c],s,o,a);else o=p(o)?!!o.capture:!!o,s=bb(s),i&&i[A]?(i=i.i,e=String(e).toString(),e in i.g&&(c=i.g[e],s=Va$1(c,s,o,a),-1<s&&(Pa$1(c[s]),Array.prototype.splice.call(c,s,1),c.length==0&&(delete i.g[e],i.h--)))):i&&(i=db$1(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Va$1(e,s,o,a)),(s=-1<i?e[i]:null)&&ib(s))}function ib(i){if(typeof i!="number"&&i&&!i.ba){var e=i.src;if(e&&e[A])Wa$1(e.i,i);else{var s=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(s,o,i.capture):e.detachEvent?e.detachEvent(fb(s),o):e.addListener&&e.removeListener&&e.removeListener(o),(s=db$1(e))?(Wa$1(s,i),s.h==0&&(s.src=null,e[Xa$1]=null)):Pa$1(i)}}}function fb(i){return i in Ya$1?Ya$1[i]:Ya$1[i]="on"+i}function gb(i,e){if(i.ba)i=!0;else{e=new z$1(e,this);var s=i.listener,o=i.ha||i.src;i.ea&&ib(i),i=s.call(o,e)}return i}function db$1(i){return i=i[Xa$1],i instanceof Ua$1?i:null}var jb="__closure_events_fn_"+(1e9*Math.random()>>>0);function bb(i){return typeof i=="function"?i:(i[jb]||(i[jb]=function(e){return i.handleEvent(e)}),i[jb])}function B$1(){v$1.call(this),this.i=new Ua$1(this),this.P=this,this.I=null}t(B$1,v$1);B$1.prototype[A]=!0;B$1.prototype.removeEventListener=function(i,e,s,o){hb(this,i,e,s,o)};function C$1(i,e){var s,o=i.I;if(o)for(s=[];o;o=o.I)s.push(o);if(i=i.P,o=e.type||e,typeof e=="string")e=new w(e,i);else if(e instanceof w)e.target=e.target||i;else{var a=e;e=new w(o,i),Ta$1(e,a)}if(a=!0,s)for(var c=s.length-1;0<=c;c--){var d=e.g=s[c];a=kb(d,o,!0,e)&&a}if(d=e.g=i,a=kb(d,o,!0,e)&&a,a=kb(d,o,!1,e)&&a,s)for(c=0;c<s.length;c++)d=e.g=s[c],a=kb(d,o,!1,e)&&a}B$1.prototype.M=function(){if(B$1.X.M.call(this),this.i){var i=this.i,e;for(e in i.g){for(var s=i.g[e],o=0;o<s.length;o++)Pa$1(s[o]);delete i.g[e],i.h--}}this.I=null};B$1.prototype.N=function(i,e,s,o){return this.i.add(String(i),e,!1,s,o)};B$1.prototype.O=function(i,e,s,o){return this.i.add(String(i),e,!0,s,o)};function kb(i,e,s,o){if(e=i.i.g[String(e)],!e)return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ba&&d.capture==s){var h=d.listener,g=d.ha||d.src;d.ea&&Wa$1(i.i,d),a=h.call(g,o)!==!1&&a}}return a&&!o.defaultPrevented}var lb=l.JSON.stringify;function mb(){var i=nb;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}class ob{constructor(){this.h=this.g=null}add(e,s){const o=pb.get();o.set(e,s),this.h?this.h.next=o:this.g=o,this.h=o}}var pb=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new qb,i=>i.reset());class qb{constructor(){this.next=this.g=this.h=null}set(e,s){this.h=e,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function rb(i){l.setTimeout(()=>{throw i},0)}function sb(i,e){ub||vb(),wb||(ub(),wb=!0),nb.add(i,e)}var ub;function vb(){var i=l.Promise.resolve(void 0);ub=function(){i.then(xb)}}var wb=!1,nb=new ob;function xb(){for(var i;i=mb();){try{i.h.call(i.g)}catch(s){rb(s)}var e=pb;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}wb=!1}function yb(i,e){B$1.call(this),this.h=i||1,this.g=e||l,this.j=q$1(this.lb,this),this.l=Date.now()}t(yb,B$1);k$1=yb.prototype;k$1.ca=!1;k$1.R=null;k$1.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),C$1(this,"tick"),this.ca&&(zb(this),this.start()))}};k$1.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zb(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}k$1.M=function(){yb.X.M.call(this),zb(this),delete this.g};function Ab(i,e,s){if(typeof i=="function")s&&(i=q$1(i,s));else if(i&&typeof i.handleEvent=="function")i=q$1(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:l.setTimeout(i,e||0)}function Bb(i){i.g=Ab(()=>{i.g=null,i.i&&(i.i=!1,Bb(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}class Cb extends v$1{constructor(e,s){super(),this.m=e,this.j=s,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D$1(i){v$1.call(this),this.h=i,this.g={}}t(D$1,v$1);var Db=[];function Eb(i,e,s,o){Array.isArray(s)||(s&&(Db[0]=s.toString()),s=Db);for(var a=0;a<s.length;a++){var c=$a$1(e,s[a],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Fb(i){Qa$1(i.g,function(e,s){this.g.hasOwnProperty(s)&&ib(e)},i),i.g={}}D$1.prototype.M=function(){D$1.X.M.call(this),Fb(this)};D$1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Aa=function(){this.g=!1};function Hb(i,e,s,o,a,c){i.info(function(){if(i.g)if(c)for(var d="",h=c.split("&"),g=0;g<h.length;g++){var _=h[g].split("=");if(1<_.length){var $l=_[0];_=_[1];var Rl=$l.split("_");d=2<=Rl.length&&Rl[1]=="type"?d+($l+"="+_+"&"):d+($l+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+`
`+s+`
`+d})}function Ib(i,e,s,o,a,c,d){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+`
`+s+`
`+c+" "+d})}function E(i,e,s,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+Jb(i,s)+(o?" "+o:"")})}function Kb(i,e){i.info(function(){return"TIMEOUT: "+e})}Gb.prototype.info=function(){};function Jb(i,e){if(!i.g)return e;if(!e)return null;try{var s=JSON.parse(e);if(s){for(i=0;i<s.length;i++)if(Array.isArray(s[i])){var o=s[i];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if(c!="noop"&&c!="stop"&&c!="close")for(var d=1;d<a.length;d++)a[d]=""}}}}return lb(s)}catch{return e}}var G$1={},Lb=null;function Mb(){return Lb=Lb||new B$1}G$1.Pa="serverreachability";function Nb(i){w.call(this,G$1.Pa,i)}t(Nb,w);function H$1(i){const e=Mb();C$1(e,new Nb(e))}G$1.STAT_EVENT="statevent";function Ob(i,e){w.call(this,G$1.STAT_EVENT,i),this.stat=e}t(Ob,w);function I(i){const e=Mb();C$1(e,new Ob(e,i))}G$1.Qa="timingevent";function Pb(i,e){w.call(this,G$1.Qa,i),this.size=e}t(Pb,w);function J(i,e){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){i()},e)}var Qb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sb(){}Sb.prototype.h=null;function Tb(i){return i.h||(i.h=i.i())}function Ub(){}var K$1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vb(){w.call(this,"d")}t(Vb,w);function Wb(){w.call(this,"c")}t(Wb,w);var Xb;function Yb(){}t(Yb,Sb);Yb.prototype.g=function(){return new XMLHttpRequest};Yb.prototype.i=function(){return{}};Xb=new Yb;function L$1(i,e,s,o){this.l=i,this.j=e,this.m=s,this.U=o||1,this.S=new D$1(this),this.O=Zb,i=ya$1?125:void 0,this.T=new yb(i),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $b}function $b(){this.i=null,this.g="",this.h=!1}var Zb=45e3,ac$1={},bc$1={};k$1=L$1.prototype;k$1.setTimeout=function(i){this.O=i};function cc$1(i,e,s){i.K=1,i.v=dc$1(M$1(e)),i.s=s,i.P=!0,ec$1(i,null)}function ec$1(i,e){i.F=Date.now(),N$1(i),i.A=M$1(i.v);var s=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),fc$1(s.i,"t",o),i.C=0,s=i.l.H,i.h=new $b,i.g=gc$1(i.l,s?e:null,!i.s),0<i.N&&(i.L=new Cb(q$1(i.La,i,i.g),i.N)),Eb(i.S,i.g,"readystatechange",i.ib),e=i.H?Ra$1(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),H$1(),Hb(i.j,i.u,i.A,i.m,i.U,i.s)}k$1.ib=function(i){i=i.target;const e=this.L;e&&O$1(i)==3?e.l():this.La(i)};k$1.La=function(i){try{if(i==this.g)e:{const $l=O$1(this.g);var e=this.g.Ea();const Rl=this.g.aa();if(!(3>$l)&&($l!=3||ya$1||this.g&&(this.h.h||this.g.fa()||hc$1(this.g)))){this.I||$l!=4||e==7||(e==8||0>=Rl?H$1(3):H$1(2)),ic$1(this);var s=this.g.aa();this.Y=s;t:if(jc$1(this)){var o=hc$1(this.g);i="";var a=o.length,c=O$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){P$1(this),Q$1(this);var d="";break t}this.h.i=new l.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==a-1});o.splice(0,a),this.h.g+=i,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=s==200,Ib(this.j,this.u,this.A,this.m,this.U,$l,s),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pa$1(h)){var _=h;break t}}_=null}if(s=_)E(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kc$1(this,s);else{this.i=!1,this.o=3,I(12),P$1(this),Q$1(this);break e}}this.P?(lc$1(this,$l,d),ya$1&&this.i&&$l==3&&(Eb(this.S,this.T,"tick",this.hb),this.T.start())):(E(this.j,this.m,d,null),kc$1(this,d)),$l==4&&P$1(this),this.i&&!this.I&&($l==4?mc$1(this.l,this):(this.i=!1,N$1(this)))}else s==400&&0<d.indexOf("Unknown SID")?(this.o=3,I(12)):(this.o=0,I(13)),P$1(this),Q$1(this)}}}catch{}finally{}};function jc$1(i){return i.g?i.u=="GET"&&i.K!=2&&i.l.Da:!1}function lc$1(i,e,s){let o=!0,a;for(;!i.I&&i.C<s.length;)if(a=nc$1(i,s),a==bc$1){e==4&&(i.o=4,I(14),o=!1),E(i.j,i.m,null,"[Incomplete Response]");break}else if(a==ac$1){i.o=4,I(15),E(i.j,i.m,s,"[Invalid Chunk]"),o=!1;break}else E(i.j,i.m,a,null),kc$1(i,a);jc$1(i)&&a!=bc$1&&a!=ac$1&&(i.h.g="",i.C=0),e!=4||s.length!=0||i.h.h||(i.o=1,I(16),o=!1),i.i=i.i&&o,o?0<s.length&&!i.$&&(i.$=!0,e=i.l,e.g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),oc$1(e),e.K=!0,I(11))):(E(i.j,i.m,s,"[Invalid Chunked Response]"),P$1(i),Q$1(i))}k$1.hb=function(){if(this.g){var i=O$1(this.g),e=this.g.fa();this.C<e.length&&(ic$1(this),lc$1(this,i,e),this.i&&i!=4&&N$1(this))}};function nc$1(i,e){var s=i.C,o=e.indexOf(`
`,s);return o==-1?bc$1:(s=Number(e.substring(s,o)),isNaN(s)?ac$1:(o+=1,o+s>e.length?bc$1:(e=e.substr(o,s),i.C=o+s,e)))}k$1.cancel=function(){this.I=!0,P$1(this)};function N$1(i){i.V=Date.now()+i.O,pc$1(i,i.O)}function pc$1(i,e){if(i.B!=null)throw Error("WatchDog timer not null");i.B=J(q$1(i.gb,i),e)}function ic$1(i){i.B&&(l.clearTimeout(i.B),i.B=null)}k$1.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(Kb(this.j,this.A),this.K!=2&&(H$1(),I(17)),P$1(this),this.o=2,Q$1(this)):pc$1(this,this.V-i)};function Q$1(i){i.l.G==0||i.I||mc$1(i.l,i)}function P$1(i){ic$1(i);var e=i.L;e&&typeof e.na=="function"&&e.na(),i.L=null,zb(i.T),Fb(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function kc$1(i,e){try{var s=i.l;if(s.G!=0&&(s.g==i||qc$1(s.h,i))){if(!i.J&&qc$1(s.h,i)&&s.G==3){try{var o=s.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&o.length==3){var a=o;if(a[0]==0){e:if(!s.u){if(s.g)if(s.g.F+3e3<i.F)rc$1(s),sc$1(s);else break e;tc$1(s),I(18)}}else s.Ba=a[1],0<s.Ba-s.T&&37500>a[2]&&s.L&&s.A==0&&!s.v&&(s.v=J(q$1(s.cb,s),6e3));if(1>=uc$1(s.h)&&s.ja){try{s.ja()}catch{}s.ja=void 0}}else R(s,11)}else if((i.J||s.g==i)&&rc$1(s),!pa$1(e))for(a=s.Fa.g.parse(e),e=0;e<a.length;e++){let _=a[e];if(s.T=_[0],_=_[1],s.G==2)if(_[0]=="c"){s.I=_[1],s.ka=_[2];const $l=_[3];$l!=null&&(s.ma=$l,s.j.info("VER="+s.ma));const Rl=_[4];Rl!=null&&(s.Ca=Rl,s.j.info("SVER="+s.Ca));const Ml=_[5];Ml!=null&&typeof Ml=="number"&&0<Ml&&(o=1.5*Ml,s.J=o,s.j.info("backChannelRequestTimeoutMs_="+o)),o=s;const Ul=i.g;if(Ul){const Fl=Ul.g?Ul.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fl){var c=o.h;c.g||Fl.indexOf("spdy")==-1&&Fl.indexOf("quic")==-1&&Fl.indexOf("h2")==-1||(c.j=c.l,c.g=new Set,c.h&&(vc$1(c,c.h),c.h=null))}if(o.D){const Ll=Ul.g?Ul.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(o.za=Ll,S$1(o.F,o.D,Ll))}}s.G=3,s.l&&s.l.xa(),s.$&&(s.P=Date.now()-i.F,s.j.info("Handshake RTT: "+s.P+"ms")),o=s;var d=i;if(o.sa=wc$1(o,o.H?o.ka:null,o.V),d.J){xc$1(o.h,d);var h=d,g=o.J;g&&h.setTimeout(g),h.B&&(ic$1(h),N$1(h)),o.g=d}else yc$1(o);0<s.i.length&&zc$1(s)}else _[0]!="stop"&&_[0]!="close"||R(s,7);else s.G==3&&(_[0]=="stop"||_[0]=="close"?_[0]=="stop"?R(s,7):Ac$1(s):_[0]!="noop"&&s.l&&s.l.wa(_),s.A=0)}}H$1(4)}catch{}}function Bc$1(i){if(i.W&&typeof i.W=="function")return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(ba$1(i)){for(var e=[],s=i.length,o=0;o<s;o++)e.push(i[o]);return e}e=[],s=0;for(o in i)e[s++]=i[o];return e}function Cc$1(i){if(i.oa&&typeof i.oa=="function")return i.oa();if(!i.W||typeof i.W!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ba$1(i)||typeof i=="string"){var e=[];i=i.length;for(var s=0;s<i;s++)e.push(s);return e}e=[],s=0;for(const o in i)e[s++]=o;return e}}}function Dc$1(i,e){if(i.forEach&&typeof i.forEach=="function")i.forEach(e,void 0);else if(ba$1(i)||typeof i=="string")Array.prototype.forEach.call(i,e,void 0);else for(var s=Cc$1(i),o=Bc$1(i),a=o.length,c=0;c<a;c++)e.call(void 0,o[c],s&&s[c],i)}var Ec$1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc$1(i,e){if(i){i=i.split("&");for(var s=0;s<i.length;s++){var o=i[s].indexOf("="),a=null;if(0<=o){var c=i[s].substring(0,o);a=i[s].substring(o+1)}else c=i[s];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function T(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof T){this.h=e!==void 0?e:i.h,Gc$1(this,i.j),this.s=i.s,this.g=i.g,Hc$1(this,i.m),this.l=i.l,e=i.i;var s=new Ic$1;s.i=e.i,e.g&&(s.g=new Map(e.g),s.h=e.h),Jc$1(this,s),this.o=i.o}else i&&(s=String(i).match(Ec$1))?(this.h=!!e,Gc$1(this,s[1]||"",!0),this.s=Kc$1(s[2]||""),this.g=Kc$1(s[3]||"",!0),Hc$1(this,s[4]),this.l=Kc$1(s[5]||"",!0),Jc$1(this,s[6]||"",!0),this.o=Kc$1(s[7]||"")):(this.h=!!e,this.i=new Ic$1(null,this.h))}T.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Lc$1(e,Mc$1,!0),":");var s=this.g;return(s||e=="file")&&(i.push("//"),(e=this.s)&&i.push(Lc$1(e,Mc$1,!0),"@"),i.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.m,s!=null&&i.push(":",String(s))),(s=this.l)&&(this.g&&s.charAt(0)!="/"&&i.push("/"),i.push(Lc$1(s,s.charAt(0)=="/"?Nc$1:Oc$1,!0))),(s=this.i.toString())&&i.push("?",s),(s=this.o)&&i.push("#",Lc$1(s,Pc$1)),i.join("")};function M$1(i){return new T(i)}function Gc$1(i,e,s){i.j=s?Kc$1(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Hc$1(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Jc$1(i,e,s){e instanceof Ic$1?(i.i=e,Qc$1(i.i,i.h)):(s||(e=Lc$1(e,Rc$1)),i.i=new Ic$1(e,i.h))}function S$1(i,e,s){i.i.set(e,s)}function dc$1(i){return S$1(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Kc$1(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Lc$1(i,e,s){return typeof i=="string"?(i=encodeURI(i).replace(e,Sc$1),s&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Sc$1(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Mc$1=/[#\/\?@]/g,Oc$1=/[#\?:]/g,Nc$1=/[#\?]/g,Rc$1=/[#\?@]/g,Pc$1=/#/g;function Ic$1(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function U$1(i){i.g||(i.g=new Map,i.h=0,i.i&&Fc$1(i.i,function(e,s){i.add(decodeURIComponent(e.replace(/\+/g," ")),s)}))}k$1=Ic$1.prototype;k$1.add=function(i,e){U$1(this),this.i=null,i=V$1(this,i);var s=this.g.get(i);return s||this.g.set(i,s=[]),s.push(e),this.h+=1,this};function Tc$1(i,e){U$1(i),e=V$1(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Uc$1(i,e){return U$1(i),e=V$1(i,e),i.g.has(e)}k$1.forEach=function(i,e){U$1(this),this.g.forEach(function(s,o){s.forEach(function(a){i.call(e,a,o,this)},this)},this)};k$1.oa=function(){U$1(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),s=[];for(let o=0;o<e.length;o++){const a=i[o];for(let c=0;c<a.length;c++)s.push(e[o])}return s};k$1.W=function(i){U$1(this);let e=[];if(typeof i=="string")Uc$1(this,i)&&(e=e.concat(this.g.get(V$1(this,i))));else{i=Array.from(this.g.values());for(let s=0;s<i.length;s++)e=e.concat(i[s])}return e};k$1.set=function(i,e){return U$1(this),this.i=null,i=V$1(this,i),Uc$1(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this};k$1.get=function(i,e){return i?(i=this.W(i),0<i.length?String(i[0]):e):e};function fc$1(i,e,s){Tc$1(i,e),0<s.length&&(i.i=null,i.g.set(V$1(i,e),ma$1(s)),i.h+=s.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var s=0;s<e.length;s++){var o=e[s];const c=encodeURIComponent(String(o)),d=this.W(o);for(o=0;o<d.length;o++){var a=c;d[o]!==""&&(a+="="+encodeURIComponent(String(d[o]))),i.push(a)}}return this.i=i.join("&")};function V$1(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Qc$1(i,e){e&&!i.j&&(U$1(i),i.i=null,i.g.forEach(function(s,o){var a=o.toLowerCase();o!=a&&(Tc$1(this,o),fc$1(this,a,s))},i)),i.j=e}var Vc$1=class{constructor(i,e){this.h=i,this.g=e}};function Wc$1(i){this.l=i||Xc$1,l.PerformanceNavigationTiming?(i=l.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(l.g&&l.g.Ga&&l.g.Ga()&&l.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xc$1=10;function Yc$1(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function uc$1(i){return i.h?1:i.g?i.g.size:0}function qc$1(i,e){return i.h?i.h==e:i.g?i.g.has(e):!1}function vc$1(i,e){i.g?i.g.add(e):i.h=e}function xc$1(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}Wc$1.prototype.cancel=function(){if(this.i=Zc$1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const i of this.g.values())i.cancel();this.g.clear()}};function Zc$1(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let e=i.i;for(const s of i.g.values())e=e.concat(s.D);return e}return ma$1(i.i)}function $c$1(){}$c$1.prototype.stringify=function(i){return l.JSON.stringify(i,void 0)};$c$1.prototype.parse=function(i){return l.JSON.parse(i,void 0)};function ad(){this.g=new $c$1}function bd(i,e,s){const o=s||"";try{Dc$1(i,function(a,c){let d=a;p(a)&&(d=lb(a)),e.push(o+c+"="+encodeURIComponent(d))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function cd(i,e){const s=new Gb;if(l.Image){const o=new Image;o.onload=ia$1(dd,s,o,"TestLoadImage: loaded",!0,e),o.onerror=ia$1(dd,s,o,"TestLoadImage: error",!1,e),o.onabort=ia$1(dd,s,o,"TestLoadImage: abort",!1,e),o.ontimeout=ia$1(dd,s,o,"TestLoadImage: timeout",!1,e),l.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}function dd(i,e,s,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function ed(i){this.l=i.ac||null,this.j=i.jb||!1}t(ed,Sb);ed.prototype.g=function(){return new fd(this.l,this.j)};ed.prototype.i=function(i){return function(){return i}}({});function fd(i,e){B$1.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t(fd,B$1);var gd=0;k$1=fd.prototype;k$1.open=function(i,e){if(this.readyState!=gd)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,hd(this)};k$1.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||l).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,id(this)),this.readyState=gd};k$1.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jd(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))};function jd(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}k$1.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?id(this):hd(this),this.readyState==3&&jd(this)}};k$1.Va=function(i){this.g&&(this.response=this.responseText=i,id(this))};k$1.Ua=function(i){this.g&&(this.response=i,id(this))};k$1.ga=function(){this.g&&id(this)};function id(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hd(i)}k$1.setRequestHeader=function(i,e){this.v.append(i,e)};k$1.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""};k$1.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var s=e.next();!s.done;)s=s.value,i.push(s[0]+": "+s[1]),s=e.next();return i.join(`\r
`)};function hd(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});var kd=l.JSON.parse;function W$1(i){B$1.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ld,this.K=this.L=!1}t(W$1,B$1);var ld="",md=/^https?$/i,nd=["POST","PUT"];k$1=W$1.prototype;k$1.Ka=function(i){this.L=i};k$1.da=function(i,e,s,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xb.g(),this.C=this.u?Tb(this.u):Tb(Xb),this.g.onreadystatechange=q$1(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){od(this,c);return}if(i=s||"",s=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)s.set(a,o[a]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const c of o.keys())s.set(c,o.get(c));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(s.keys()).find(c=>c.toLowerCase()=="content-type"),a=l.FormData&&i instanceof l.FormData,!(0<=la(nd,e))||o||a||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of s)this.g.setRequestHeader(c,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pd(this),0<this.B&&((this.K=qd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$1(this.qa,this)):this.A=Ab(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){od(this,c)}};function qd(i){return y&&Ia$1()&&typeof i.timeout=="number"&&i.ontimeout!==void 0}k$1.qa=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function od(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,rd(i),sd(i)}function rd(i){i.D||(i.D=!0,C$1(i,"complete"),C$1(i,"error"))}k$1.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,C$1(this,"complete"),C$1(this,"abort"),sd(this))};k$1.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),W$1.X.M.call(this)};k$1.Ha=function(){this.s||(this.F||this.v||this.l?td(this):this.fb())};k$1.fb=function(){td(this)};function td(i){if(i.h&&typeof goog<"u"&&(!i.C[1]||O$1(i)!=4||i.aa()!=2)){if(i.v&&O$1(i)==4)Ab(i.Ha,0,i);else if(C$1(i,"readystatechange"),O$1(i)==4){i.h=!1;try{const h=i.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var s;if(!(s=e)){var o;if(o=h===0){var a=String(i.H).match(Ec$1)[1]||null;if(!a&&l.self&&l.self.location){var c=l.self.location.protocol;a=c.substr(0,c.length-1)}o=!md.test(a?a.toLowerCase():"")}s=o}if(s)C$1(i,"complete"),C$1(i,"success");else{i.m=6;try{var d=2<O$1(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.aa()+"]",rd(i)}}finally{sd(i)}}}}function sd(i,e){if(i.g){pd(i);const s=i.g,o=i.C[0]?aa:null;i.g=null,i.C=null,e||C$1(i,"ready");try{s.onreadystatechange=o}catch{}}}function pd(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(l.clearTimeout(i.A),i.A=null)}function O$1(i){return i.g?i.g.readyState:0}k$1.aa=function(){try{return 2<O$1(this)?this.g.status:-1}catch{return-1}};k$1.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$1.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&e.indexOf(i)==0&&(e=e.substring(i.length)),kd(e)}};function hc$1(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ld:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}k$1.Ea=function(){return this.m};k$1.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ud(i){let e="";return Qa$1(i,function(s,o){e+=o,e+=":",e+=s,e+=`\r
`}),e}function vd(i,e,s){e:{for(o in s){var o=!1;break e}o=!0}o||(s=ud(s),typeof i=="string"?s!=null&&encodeURIComponent(String(s)):S$1(i,e,s))}function wd(i,e,s){return s&&s.internalChannelParams&&s.internalChannelParams[i]||e}function xd(i){this.Ca=0,this.i=[],this.j=new Gb,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wd("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wd("baseRetryDelayMs",5e3,i),this.bb=wd("retryDelaySeedMs",1e4,i),this.$a=wd("forwardChannelMaxRetries",2,i),this.ta=wd("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Wc$1(i&&i.concurrentRequestLimit),this.Fa=new ad,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}k$1=xd.prototype;k$1.ma=8;k$1.G=1;function Ac$1(i){if(yd(i),i.G==3){var e=i.U++,s=M$1(i.F);S$1(s,"SID",i.I),S$1(s,"RID",e),S$1(s,"TYPE","terminate"),zd(i,s),e=new L$1(i,i.j,e,void 0),e.K=2,e.v=dc$1(M$1(s)),s=!1,l.navigator&&l.navigator.sendBeacon&&(s=l.navigator.sendBeacon(e.v.toString(),"")),!s&&l.Image&&(new Image().src=e.v,s=!0),s||(e.g=gc$1(e.l,null),e.g.da(e.v)),e.F=Date.now(),N$1(e)}Ad(i)}function sc$1(i){i.g&&(oc$1(i),i.g.cancel(),i.g=null)}function yd(i){sc$1(i),i.u&&(l.clearTimeout(i.u),i.u=null),rc$1(i),i.h.cancel(),i.m&&(typeof i.m=="number"&&l.clearTimeout(i.m),i.m=null)}function zc$1(i){Yc$1(i.h)||i.m||(i.m=!0,sb(i.Ja,i),i.C=0)}function Bd(i,e){return uc$1(i.h)>=i.h.j-(i.m?1:0)?!1:i.m?(i.i=e.D.concat(i.i),!0):i.G==1||i.G==2||i.C>=(i.Za?0:i.$a)?!1:(i.m=J(q$1(i.Ja,i,e),Cd(i,i.C)),i.C++,!0)}k$1.Ja=function(i){if(this.m)if(this.m=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const a=new L$1(this,this.j,i,void 0);let c=this.s;if(this.S&&(c?(c=Ra$1(c),Ta$1(c,this.S)):c=this.S),this.o!==null||this.N||(a.H=c,c=null),this.O)e:{for(var e=0,s=0;s<this.i.length;s++){t:{var o=this.i[s];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(e+=o,4096<e){e=s;break e}if(e===4096||s===this.i.length-1){e=s+1;break e}}e=1e3}else e=1e3;e=Dd(this,a,e),s=M$1(this.F),S$1(s,"RID",i),S$1(s,"CVER",22),this.D&&S$1(s,"X-HTTP-Session-Id",this.D),zd(this,s),c&&(this.N?e="headers="+encodeURIComponent(String(ud(c)))+"&"+e:this.o&&vd(s,this.o,c)),vc$1(this.h,a),this.Ya&&S$1(s,"TYPE","init"),this.O?(S$1(s,"$req",e),S$1(s,"SID","null"),a.Z=!0,cc$1(a,s,null)):cc$1(a,s,e),this.G=2}}else this.G==3&&(i?Ed(this,i):this.i.length==0||Yc$1(this.h)||Ed(this))};function Ed(i,e){var s;e?s=e.m:s=i.U++;const o=M$1(i.F);S$1(o,"SID",i.I),S$1(o,"RID",s),S$1(o,"AID",i.T),zd(i,o),i.o&&i.s&&vd(o,i.o,i.s),s=new L$1(i,i.j,s,i.C+1),i.o===null&&(s.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Dd(i,s,1e3),s.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),vc$1(i.h,s),cc$1(s,o,e)}function zd(i,e){i.ia&&Qa$1(i.ia,function(s,o){S$1(e,o,s)}),i.l&&Dc$1({},function(s,o){S$1(e,o,s)})}function Dd(i,e,s){s=Math.min(i.i.length,s);var o=i.l?q$1(i.l.Ra,i.l,i):null;e:{var a=i.i;let c=-1;for(;;){const d=["count="+s];c==-1?0<s?(c=a[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let h=!0;for(let g=0;g<s;g++){let _=a[g].h;const $l=a[g].g;if(_-=c,0>_)c=Math.max(0,a[g].h-100),h=!1;else try{bd($l,d,"req"+_+"_")}catch{o&&o($l)}}if(h){o=d.join("&");break e}}}return i=i.i.splice(0,s),e.D=i,o}function yc$1(i){i.g||i.u||(i.Z=1,sb(i.Ia,i),i.A=0)}function tc$1(i){return i.g||i.u||3<=i.A?!1:(i.Z++,i.u=J(q$1(i.Ia,i),Cd(i,i.A)),i.A++,!0)}k$1.Ia=function(){if(this.u=null,Fd(this),this.$&&!(this.K||this.g==null||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=J(q$1(this.eb,this),i)}};k$1.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,I(10),sc$1(this),Fd(this))};function oc$1(i){i.B!=null&&(l.clearTimeout(i.B),i.B=null)}function Fd(i){i.g=new L$1(i,i.j,"rpc",i.Z),i.o===null&&(i.g.H=i.s),i.g.N=0;var e=M$1(i.sa);S$1(e,"RID","rpc"),S$1(e,"SID",i.I),S$1(e,"CI",i.L?"0":"1"),S$1(e,"AID",i.T),S$1(e,"TYPE","xmlhttp"),zd(i,e),i.o&&i.s&&vd(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var s=i.g;i=i.ka,s.K=1,s.v=dc$1(M$1(e)),s.s=null,s.P=!0,ec$1(s,i)}k$1.cb=function(){this.v!=null&&(this.v=null,sc$1(this),tc$1(this),I(19))};function rc$1(i){i.v!=null&&(l.clearTimeout(i.v),i.v=null)}function mc$1(i,e){var s=null;if(i.g==e){rc$1(i),oc$1(i),i.g=null;var o=2}else if(qc$1(i.h,e))s=e.D,xc$1(i.h,e),o=1;else return;if(i.G!=0){if(i.pa=e.Y,e.i)if(o==1){s=e.s?e.s.length:0,e=Date.now()-e.F;var a=i.C;o=Mb(),C$1(o,new Pb(o,s)),zc$1(i)}else yc$1(i);else if(a=e.o,a==3||a==0&&0<i.pa||!(o==1&&Bd(i,e)||o==2&&tc$1(i)))switch(s&&0<s.length&&(e=i.h,e.i=e.i.concat(s)),a){case 1:R(i,5);break;case 4:R(i,10);break;case 3:R(i,6);break;default:R(i,2)}}}function Cd(i,e){let s=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(s*=2),s*e}function R(i,e){if(i.j.info("Error code "+e),e==2){var s=null;i.l&&(s=null);var o=q$1(i.kb,i);s||(s=new T("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gc$1(s,"https"),dc$1(s)),cd(s.toString(),o)}else I(2);i.G=0,i.l&&i.l.va(e),Ad(i),yd(i)}k$1.kb=function(i){i?(this.j.info("Successfully pinged google.com"),I(2)):(this.j.info("Failed to ping google.com"),I(1))};function Ad(i){if(i.G=0,i.la=[],i.l){const e=Zc$1(i.h);(e.length!=0||i.i.length!=0)&&(na$1(i.la,e),na$1(i.la,i.i),i.h.i.length=0,ma$1(i.i),i.i.length=0),i.l.ua()}}function wc$1(i,e,s){var o=s instanceof T?M$1(s):new T(s,void 0);if(o.g!="")e&&(o.g=e+"."+o.g),Hc$1(o,o.m);else{var a=l.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new T(null,void 0);o&&Gc$1(c,o),e&&(c.g=e),a&&Hc$1(c,a),s&&(c.l=s),o=c}return s=i.D,e=i.za,s&&e&&S$1(o,s,e),S$1(o,"VER",i.ma),zd(i,o),o}function gc$1(i,e,s){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=s&&i.Da&&!i.ra?new W$1(new ed({jb:!0})):new W$1(i.ra),e.Ka(i.H),e}function Gd(){}k$1=Gd.prototype;k$1.xa=function(){};k$1.wa=function(){};k$1.va=function(){};k$1.ua=function(){};k$1.Ra=function(){};function Hd(){if(y&&!(10<=Number(La)))throw Error("Environmental error: no available transport.")}Hd.prototype.g=function(i,e){return new X$1(i,e)};function X$1(i,e){B$1.call(this),this.g=new xd(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!pa$1(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pa$1(e)&&(this.g.D=e,i=this.h,i!==null&&e in i&&(i=this.h,e in i&&delete i[e])),this.j=new Y$1(this)}t(X$1,B$1);X$1.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,s=this.h||void 0;I(0),i.V=e,i.ia=s||{},i.L=i.Y,i.F=wc$1(i,null,i.V),zc$1(i)};X$1.prototype.close=function(){Ac$1(this.g)};X$1.prototype.u=function(i){var e=this.g;if(typeof i=="string"){var s={};s.__data__=i,i=s}else this.v&&(s={},s.__data__=lb(i),i=s);e.i.push(new Vc$1(e.ab++,i)),e.G==3&&zc$1(e)};X$1.prototype.M=function(){this.g.l=null,delete this.j,Ac$1(this.g),delete this.g,X$1.X.M.call(this)};function Id(i){Vb.call(this);var e=i.__sm__;if(e){e:{for(const s in e){i=s;break e}i=void 0}(this.i=i)&&(i=this.i,e=e!==null&&i in e?e[i]:void 0),this.data=e}else this.data=i}t(Id,Vb);function Jd(){Wb.call(this),this.status=1}t(Jd,Wb);function Y$1(i){this.g=i}t(Y$1,Gd);Y$1.prototype.xa=function(){C$1(this.g,"a")};Y$1.prototype.wa=function(i){C$1(this.g,new Id(i))};Y$1.prototype.va=function(i){C$1(this.g,new Jd)};Y$1.prototype.ua=function(){C$1(this.g,"b")};Hd.prototype.createWebChannel=Hd.prototype.g;X$1.prototype.send=X$1.prototype.u;X$1.prototype.open=X$1.prototype.m;X$1.prototype.close=X$1.prototype.close;Qb.NO_ERROR=0;Qb.TIMEOUT=8;Qb.HTTP_ERROR=6;Rb.COMPLETE="complete";Ub.EventType=K$1;K$1.OPEN="a";K$1.CLOSE="b";K$1.ERROR="c";K$1.MESSAGE="d";B$1.prototype.listen=B$1.prototype.N;W$1.prototype.listenOnce=W$1.prototype.O;W$1.prototype.getLastError=W$1.prototype.Oa;W$1.prototype.getLastErrorCode=W$1.prototype.Ea;W$1.prototype.getStatus=W$1.prototype.aa;W$1.prototype.getResponseJson=W$1.prototype.Sa;W$1.prototype.getResponseText=W$1.prototype.fa;W$1.prototype.send=W$1.prototype.da;W$1.prototype.setWithCredentials=W$1.prototype.Ka;var createWebChannelTransport=function(){return new Hd},getStatEventTarget=function(){return Mb()},ErrorCode=Qb,EventType=Rb,Event$2=G$1,Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},FetchXmlHttpFactory=ed,WebChannel=Ub,XhrIo=W$1;const b="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}P.UNAUTHENTICATED=new P(null),P.GOOGLE_CREDENTIALS=new P("google-credentials-uid"),P.FIRST_PARTY=new P("first-party-uid"),P.MOCK_USER=new P("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v="9.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=new Logger("@firebase/firestore");function S(){return V.logLevel}function D(i){V.setLogLevel(i)}function C(i,...e){if(V.logLevel<=LogLevel.DEBUG){const s=e.map(k);V.debug(`Firestore (${v}): ${i}`,...s)}}function x(i,...e){if(V.logLevel<=LogLevel.ERROR){const s=e.map(k);V.error(`Firestore (${v}): ${i}`,...s)}}function N(i,...e){if(V.logLevel<=LogLevel.WARN){const s=e.map(k);V.warn(`Firestore (${v}): ${i}`,...s)}}function k(i){if(typeof i=="string")return i;try{return e=i,JSON.stringify(e)}catch{return i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(i="Unexpected state"){const e=`FIRESTORE (${v}) INTERNAL ASSERTION FAILED: `+i;throw x(e),new Error(e)}function M(i,e){i||O()}function F(i,e){i||O()}function $(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends FirebaseError{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(P.UNAUTHENTICATED))}shutdown(){}}class G{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Q{constructor(e){this.t=e,this.currentUser=P.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){let o=this.i;const a=g=>this.i!==o?(o=this.i,s(g)):Promise.resolve();let c=new U;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new U,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},h=g=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>h(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new U)}},0),d()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(o=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(M(typeof o.accessToken=="string"),new q(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return M(e===null||typeof e=="string"),new P(e)}}class j{constructor(e,s,o,a){this.h=e,this.l=s,this.m=o,this.g=a,this.type="FirstParty",this.user=P.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(M(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class W{constructor(e,s,o,a){this.h=e,this.l=s,this.m=o,this.g=a}getToken(){return Promise.resolve(new j(this.h,this.l,this.m,this.g))}start(e,s){e.enqueueRetryable(()=>s(P.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,s){const o=c=>{c.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.A;return this.A=c.token,C("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?s(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const a=c=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?a(c):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(M(typeof s.token=="string"),this.A=s.token,new z(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let o=0;o<i;o++)s[o]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=Y(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<s&&(o+=e.charAt(a[c]%e.length))}return o}}function Z(i,e){return i<e?-1:i>e?1:0}function tt$1(i,e,s){return i.length===e.length&&i.every((o,a)=>s(o,e[a]))}function et$1(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt$1{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new L(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new L(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new L(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt$1.fromMillis(Date.now())}static fromDate(e){return nt$1.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*s));return new nt$1(s,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st$1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st$1(e)}static min(){return new st$1(new nt$1(0,0))}static max(){return new st$1(new nt$1(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it$1{constructor(e,s,o){s===void 0?s=0:s>e.length&&O(),o===void 0?o=e.length-s:o>e.length-s&&O(),this.segments=e,this.offset=s,this.len=o}get length(){return this.len}isEqual(e){return it$1.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof it$1?e.forEach(o=>{s.push(o)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,o=this.limit();s<o;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const o=Math.min(e.length,s.length);for(let a=0;a<o;a++){const c=e.get(a),d=s.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class rt$1 extends it$1{construct(e,s,o){return new rt$1(e,s,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const s=[];for(const o of e){if(o.indexOf("//")>=0)throw new L(B.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);s.push(...o.split("/").filter(a=>a.length>0))}return new rt$1(s)}static emptyPath(){return new rt$1([])}}const ot$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut$1 extends it$1{construct(e,s,o){return new ut$1(e,s,o)}static isValidIdentifier(e){return ot$1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut$1(["__name__"])}static fromServerFormat(e){const s=[];let o="",a=0;const c=()=>{if(o.length===0)throw new L(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(o),o=""};let d=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new L(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new L(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,a+=2}else h==="`"?(d=!d,a++):h!=="."||d?(o+=h,a++):(c(),a++)}if(c(),d)throw new L(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut$1(s)}static emptyPath(){return new ut$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct$1{constructor(e){this.path=e}static fromPath(e){return new ct$1(rt$1.fromString(e))}static fromName(e){return new ct$1(rt$1.fromString(e).popFirst(5))}static empty(){return new ct$1(rt$1.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt$1.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return rt$1.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct$1(new rt$1(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at$1{constructor(e,s,o,a){this.indexId=e,this.collectionGroup=s,this.fields=o,this.indexState=a}}function ht$1(i){return i.fields.find(e=>e.kind===2)}function lt$2(i){return i.fields.filter(e=>e.kind!==2)}at$1.UNKNOWN_ID=-1;class dt$1{constructor(e,s){this.fieldPath=e,this.kind=s}}class wt$1{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new wt$1(0,yt$1.min())}}function mt$1(i,e){const s=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=st$1.fromTimestamp(o===1e9?new nt$1(s+1,0):new nt$1(s,o));return new yt$1(a,ct$1.empty(),e)}function gt$2(i){return new yt$1(i.readTime,i.key,-1)}class yt$1{constructor(e,s,o){this.readTime=e,this.documentKey=s,this.largestBatchId=o}static min(){return new yt$1(st$1.min(),ct$1.empty(),-1)}static max(){return new yt$1(st$1.max(),ct$1.empty(),-1)}}function pt$1(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=ct$1.comparator(i.documentKey,e.documentKey),s!==0?s:Z(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tt$1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Et$1(i){if(i.code!==B.FAILED_PRECONDITION||i.message!==It$1)throw i;C("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At$1{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new At$1((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(s,c).next(o,a)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof At$1?s:At$1.resolve(s)}catch(s){return At$1.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):At$1.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):At$1.reject(s)}static resolve(e){return new At$1((s,o)=>{s(e)})}static reject(e){return new At$1((s,o)=>{o(e)})}static waitFor(e){return new At$1((s,o)=>{let a=0,c=0,d=!1;e.forEach(h=>{++a,h.next(()=>{++c,d&&c===a&&s()},g=>o(g))}),d=!0,c===a&&s()})}static or(e){let s=At$1.resolve(!1);for(const o of e)s=s.next(a=>a?At$1.resolve(a):o());return s}static forEach(e,s){const o=[];return e.forEach((a,c)=>{o.push(s.call(this,a,c))}),this.waitFor(o)}static mapArray(e,s){return new At$1((o,a)=>{const c=e.length,d=new Array(c);let h=0;for(let g=0;g<c;g++){const _=g;s(e[_]).next($l=>{d[_]=$l,++h,h===c&&o(d)},$l=>a($l))}})}static doWhile(e,s){return new At$1((o,a)=>{const c=()=>{e()===!0?s().next(()=>{c()},a):o()};c()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt$1{constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.P=new U,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{s.error?this.P.reject(new vt$1(e,s.error)):this.P.resolve()},this.transaction.onerror=o=>{const a=xt$1(o.target.error);this.P.reject(new vt$1(e,a))}}static open(e,s,o,a){try{return new Rt$1(s,e.transaction(a,o))}catch(c){throw new vt$1(s,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(C("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const s=this.transaction.objectStore(e);return new St$1(s)}}class bt$1{constructor(e,s,o){this.name=e,this.version=s,this.S=o,bt$1.D(getUA())===12.2&&x("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return C("SimpleDb","Removing database:",e),Dt$1(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!isIndexedDBAvailable())return!1;if(bt$1.N())return!0;const e=getUA(),s=bt$1.D(e),o=0<s&&s<10,a=bt$1.k(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||c)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,s){return e.store(s)}static D(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const s=e.match(/Android ([\d.]+)/i),o=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(o)}async F(e){return this.db||(C("SimpleDb","Opening database:",this.name),this.db=await new Promise((s,o)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=c=>{const d=c.target.result;s(d)},a.onblocked=()=>{o(new vt$1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const d=c.target.error;d.name==="VersionError"?o(new L(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):d.name==="InvalidStateError"?o(new L(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d)):o(new vt$1(e,d))},a.onupgradeneeded=c=>{C("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',c.oldVersion);const d=c.target.result;this.S.$(d,a.transaction,c.oldVersion,this.version).next(()=>{C("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=s=>this.B(s)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=s=>e(s))}async runTransaction(e,s,o,a){const c=s==="readonly";let d=0;for(;;){++d;try{this.db=await this.F(e);const h=Rt$1.open(this.db,e,c?"readonly":"readwrite",o),g=a(h).next(_=>(h.V(),_)).catch(_=>(h.abort(_),At$1.reject(_))).toPromise();return g.catch(()=>{}),await h.v,g}catch(h){const g=h,_=g.name!=="FirebaseError"&&d<3;if(C("SimpleDb","Transaction failed with error:",g.message,"Retrying:",_),this.close(),!_)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Pt$1{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Dt$1(this.U.delete())}}class vt$1 extends L{constructor(e,s){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function Vt(i){return i.name==="IndexedDbTransactionError"}class St$1{constructor(e){this.store=e}put(e,s){let o;return s!==void 0?(C("SimpleDb","PUT",this.store.name,e,s),o=this.store.put(s,e)):(C("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Dt$1(o)}add(e){return C("SimpleDb","ADD",this.store.name,e,e),Dt$1(this.store.add(e))}get(e){return Dt$1(this.store.get(e)).next(s=>(s===void 0&&(s=null),C("SimpleDb","GET",this.store.name,e,s),s))}delete(e){return C("SimpleDb","DELETE",this.store.name,e),Dt$1(this.store.delete(e))}count(){return C("SimpleDb","COUNT",this.store.name),Dt$1(this.store.count())}W(e,s){const o=this.options(e,s);if(o.index||typeof this.store.getAll!="function"){const a=this.cursor(o),c=[];return this.H(a,(d,h)=>{c.push(h)}).next(()=>c)}{const a=this.store.getAll(o.range);return new At$1((c,d)=>{a.onerror=h=>{d(h.target.error)},a.onsuccess=h=>{c(h.target.result)}})}}J(e,s){const o=this.store.getAll(e,s===null?void 0:s);return new At$1((a,c)=>{o.onerror=d=>{c(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}Y(e,s){C("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,s);o.X=!1;const a=this.cursor(o);return this.H(a,(c,d,h)=>h.delete())}Z(e,s){let o;s?o=e:(o={},s=e);const a=this.cursor(o);return this.H(a,s)}tt(e){const s=this.cursor({});return new At$1((o,a)=>{s.onerror=c=>{const d=xt$1(c.target.error);a(d)},s.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(h=>{h?d.continue():o()}):o()}})}H(e,s){const o=[];return new At$1((a,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const h=d.target.result;if(!h)return void a();const g=new Pt$1(h),_=s(h.primaryKey,h.value,g);if(_ instanceof At$1){const $l=_.catch(Rl=>(g.done(),At$1.reject(Rl)));o.push($l)}g.isDone?a():g.G===null?h.continue():h.continue(g.G)}}).next(()=>At$1.waitFor(o))}options(e,s){let o;return e!==void 0&&(typeof e=="string"?o=e:s=e),{index:o,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,s):o.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function Dt$1(i){return new At$1((e,s)=>{i.onsuccess=o=>{const a=o.target.result;e(a)},i.onerror=o=>{const a=xt$1(o.target.error);s(a)}})}let Ct$1=!1;function xt$1(i){const e=bt$1.D(getUA());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(s)>=0){const o=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ct$1||(Ct$1=!0,setTimeout(()=>{throw o},0)),o}}return i}class Nt$1{constructor(e,s){this.asyncQueue=e,this.et=s,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){C("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{C("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(s){Vt(s)?C("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):await Et$1(s)}await this.nt(6e4)})}}class kt$1{constructor(e,s){this.localStore=e,this.persistence=s}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>this.it(s,e))}it(e,s){const o=new Set;let a=s,c=!0;return At$1.doWhile(()=>c===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(d!==null&&!o.has(d))return C("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,a).next(h=>{a-=h,o.add(d)});c=!1})).next(()=>s-a)}rt(e,s,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next(a=>this.localStore.localDocuments.getNextDocuments(e,s,a,o).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(a,c)).next(h=>(C("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,s,h))).next(()=>d.size)}))}ot(e,s){let o=e;return s.changes.forEach((a,c)=>{const d=gt$2(c);pt$1(d,o)>0&&(o=d)}),new yt$1(o.readTime,o.documentKey,Math.max(s.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot$1{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>s.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt$1(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Ft$1(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function $t(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot$1.at=-1;class Bt$1{constructor(e,s){this.comparator=e,this.root=s||Ut.EMPTY}insert(e,s){return new Bt$1(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Bt$1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return s.value;o<0?s=s.left:o>0&&(s=s.right)}return null}indexOf(e){let s=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return s+o.left.size;a<0?o=o.left:(s+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,o)=>(e(s,o),!1))}toString(){const e=[];return this.inorderTraversal((s,o)=>(e.push(`${s}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lt$1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lt$1(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lt$1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lt$1(this.root,e,this.comparator,!0)}}class Lt$1{constructor(e,s,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=s?o(e.key,s):1,s&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,s,o,a,c){this.key=e,this.value=s,this.color=o!=null?o:Ut.RED,this.left=a!=null?a:Ut.EMPTY,this.right=c!=null?c:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,o,a,c){return new Ut(e!=null?e:this.key,s!=null?s:this.value,o!=null?o:this.color,a!=null?a:this.left,c!=null?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,o){let a=this;const c=o(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,s,o),null):c===0?a.copy(null,s,null,null,null):a.copy(null,null,null,null,a.right.insert(e,s,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let o,a=this;if(s(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),s(e,a.key)===0){if(a.right.isEmpty())return Ut.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(i,e,s,o,a){return this}insert(i,e,s){return new Ut(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Bt$1(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,o)=>(e(s),!1))}forEachInRange(e,s){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;s(a.key)}}forEachWhile(e,s){let o;for(o=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Kt$1(this.data.getIterator())}getIteratorFrom(e){return new Kt$1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(o=>{s=s.add(o)}),s}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const s=this.data.getIterator(),o=e.data.getIterator();for(;s.hasNext();){const a=s.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new qt(this.comparator);return s.data=e,s}}class Kt$1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gt(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(ut$1.comparator)}static empty(){return new Qt([])}unionWith(e){let s=new qt(ut$1.comparator);for(const o of this.fields)s=s.add(o);for(const o of e)s=s.add(o);return new Qt(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return tt$1(this.fields,e.fields,(s,o)=>s.isEqual(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt$1(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt$1{constructor(e){this.binaryString=e}static fromBase64String(e){const s=atob(e);return new Wt$1(s)}static fromUint8Array(e){const s=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Wt$1(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt$1.EMPTY_BYTE_STRING=new Wt$1("");const zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ht$1(i){if(M(!!i),typeof i=="string"){let e=0;const s=zt.exec(i);if(M(!!s),s[1]){let a=s[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Jt(i.seconds),nanos:Jt(i.nanos)}}function Jt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yt$1(i){return typeof i=="string"?Wt$1.fromBase64String(i):Wt$1.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(i){var e,s;return((s=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function Zt(i){const e=i.mapValue.fields.__previous_value__;return Xt(e)?Zt(e):e}function te(i){const e=Ht$1(i.mapValue.fields.__local_write_time__.timestampValue);return new nt$1(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,s,o,a,c,d,h,g){this.databaseId=e,this.appId=s,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class ne{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new ne("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ne&&e.projectId===this.projectId&&e.database===this.database}}function se$1(i){return i==null}function ie$1(i){return i===0&&1/i==-1/0}function re(i){return typeof i=="number"&&Number.isInteger(i)&&!ie$1(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ue$1={nullValue:"NULL_VALUE"};function ce$1(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xt(i)?4:Ee$1(i)?9007199254740991:10:O()}function ae$1(i,e){if(i===e)return!0;const s=ce$1(i);if(s!==ce$1(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return te(i).isEqual(te(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ht$1(o.timestampValue),d=Ht$1(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,a){return Yt$1(o.bytesValue).isEqual(Yt$1(a.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,a){return Jt(o.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(o.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(i,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Jt(o.integerValue)===Jt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Jt(o.doubleValue),d=Jt(a.doubleValue);return c===d?ie$1(c)===ie$1(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return tt$1(i.arrayValue.values||[],e.arrayValue.values||[],ae$1);case 10:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Mt$1(c)!==Mt$1(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ae$1(c[h],d[h])))return!1;return!0}(i,e);default:return O()}}function he$1(i,e){return(i.values||[]).find(s=>ae$1(s,e))!==void 0}function le$1(i,e){if(i===e)return 0;const s=ce$1(i),o=ce$1(e);if(s!==o)return Z(s,o);switch(s){case 0:case 9007199254740991:return 0;case 1:return Z(i.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Jt(a.integerValue||a.doubleValue),h=Jt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(i,e);case 3:return fe$1(i.timestampValue,e.timestampValue);case 4:return fe$1(te(i),te(e));case 5:return Z(i.stringValue,e.stringValue);case 6:return function(a,c){const d=Yt$1(a),h=Yt$1(c);return d.compareTo(h)}(i.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),h=c.split("/");for(let g=0;g<d.length&&g<h.length;g++){const _=Z(d[g],h[g]);if(_!==0)return _}return Z(d.length,h.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Z(Jt(a.latitude),Jt(c.latitude));return d!==0?d:Z(Jt(a.longitude),Jt(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,c){const d=a.values||[],h=c.values||[];for(let g=0;g<d.length&&g<h.length;++g){const _=le$1(d[g],h[g]);if(_)return _}return Z(d.length,h.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===oe.mapValue&&c===oe.mapValue)return 0;if(a===oe.mapValue)return 1;if(c===oe.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),g=c.fields||{},_=Object.keys(g);h.sort(),_.sort();for(let $l=0;$l<h.length&&$l<_.length;++$l){const Rl=Z(h[$l],_[$l]);if(Rl!==0)return Rl;const Ml=le$1(d[h[$l]],g[_[$l]]);if(Ml!==0)return Ml}return Z(h.length,_.length)}(i.mapValue,e.mapValue);default:throw O()}}function fe$1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Z(i,e);const s=Ht$1(i),o=Ht$1(e),a=Z(s.seconds,o.seconds);return a!==0?a:Z(s.nanos,o.nanos)}function de$1(i){return _e$1(i)}function _e$1(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const a=Ht$1(o);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Yt$1(i.bytesValue).toBase64():"referenceValue"in i?(s=i.referenceValue,ct$1.fromName(s).toString()):"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let a="[",c=!0;for(const d of o.values||[])c?c=!1:a+=",",a+=_e$1(d);return a+"]"}(i.arrayValue):"mapValue"in i?function(o){const a=Object.keys(o.fields||{}).sort();let c="{",d=!0;for(const h of a)d?d=!1:c+=",",c+=`${h}:${_e$1(o.fields[h])}`;return c+"}"}(i.mapValue):O();var e,s}function we$1(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function me$1(i){return!!i&&"integerValue"in i}function ge$1(i){return!!i&&"arrayValue"in i}function ye$1(i){return!!i&&"nullValue"in i}function pe$1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ie$1(i){return!!i&&"mapValue"in i}function Te$1(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ft$1(i.mapValue.fields,(s,o)=>e.mapValue.fields[s]=Te$1(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Te$1(i.arrayValue.values[s]);return e}return Object.assign({},i)}function Ee$1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Ae$1(i){return"nullValue"in i?ue$1:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?we$1(ne.empty(),ct$1.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:O()}function Re$1(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?we$1(ne.empty(),ct$1.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?oe:O()}function be$1(i,e){const s=le$1(i.value,e.value);return s!==0?s:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Pe$1(i,e){const s=le$1(i.value,e.value);return s!==0?s:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve$1{constructor(e){this.value=e}static empty(){return new ve$1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let o=0;o<e.length-1;++o)if(s=(s.mapValue.fields||{})[e.get(o)],!Ie$1(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Te$1(s)}setAll(e){let s=ut$1.emptyPath(),o={},a=[];e.forEach((d,h)=>{if(!s.isImmediateParentOf(h)){const g=this.getFieldsMap(s);this.applyChanges(g,o,a),o={},a=[],s=h.popLast()}d?o[h.lastSegment()]=Te$1(d):a.push(h.lastSegment())});const c=this.getFieldsMap(s);this.applyChanges(c,o,a)}delete(e){const s=this.field(e.popLast());Ie$1(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return ae$1(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=s.mapValue.fields[e.get(o)];Ie$1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},s.mapValue.fields[e.get(o)]=a),s=a}return s.mapValue.fields}applyChanges(e,s,o){Ft$1(s,(a,c)=>e[a]=c);for(const a of o)delete e[a]}clone(){return new ve$1(Te$1(this.value))}}function Ve(i){const e=[];return Ft$1(i.fields,(s,o)=>{const a=new ut$1([s]);if(Ie$1(o)){const c=Ve(o.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se$1{constructor(e,s,o,a,c,d){this.key=e,this.documentType=s,this.version=o,this.readTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Se$1(e,0,st$1.min(),st$1.min(),ve$1.empty(),0)}static newFoundDocument(e,s,o){return new Se$1(e,1,s,st$1.min(),o,0)}static newNoDocument(e,s){return new Se$1(e,2,s,st$1.min(),ve$1.empty(),0)}static newUnknownDocument(e,s){return new Se$1(e,3,s,st$1.min(),ve$1.empty(),2)}convertToFoundDocument(e,s){return this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ve$1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ve$1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st$1.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Se$1&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Se$1(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De$1{constructor(e,s=null,o=[],a=[],c=null,d=null,h=null){this.path=e,this.collectionGroup=s,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=d,this.endAt=h,this.ht=null}}function Ce$1(i,e=null,s=[],o=[],a=null,c=null,d=null){return new De$1(i,e,s,o,a,c,d)}function xe$1(i){const e=$(i);if(e.ht===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(o=>{return(a=o).field.canonicalString()+a.op.toString()+de$1(a.value);var a}).join(","),s+="|ob:",s+=e.orderBy.map(o=>function(a){return a.field.canonicalString()+a.dir}(o)).join(","),se$1(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>de$1(o)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>de$1(o)).join(",")),e.ht=s}return e.ht}function Ne$1(i){let e=i.path.canonicalString();return i.collectionGroup!==null&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(s=>{return`${(o=s).field.canonicalString()} ${o.op} ${de$1(o.value)}`;var o}).join(", ")}]`),se$1(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(s=>de$1(s)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(s=>de$1(s)).join(",")),`Target(${e})`}function ke$1(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!Je$1(i.orderBy[a],e.orderBy[a]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if(s=i.filters[a],o=e.filters[a],s.op!==o.op||!s.field.isEqual(o.field)||!ae$1(s.value,o.value))return!1;var s,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Xe$1(i.startAt,e.startAt)&&Xe$1(i.endAt,e.endAt)}function Oe$1(i){return ct$1.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function Me$1(i,e){return i.filters.filter(s=>s instanceof Be$1&&s.field.isEqual(e))}function Fe$1(i,e,s){let o=ue$1,a=!0;for(const c of Me$1(i,e)){let d=ue$1,h=!0;switch(c.op){case"<":case"<=":d=Ae$1(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,h=!1;break;case"!=":case"not-in":d=ue$1}be$1({value:o,inclusive:a},{value:d,inclusive:h})<0&&(o=d,a=h)}if(s!==null){for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const d=s.position[c];be$1({value:o,inclusive:a},{value:d,inclusive:s.inclusive})<0&&(o=d,a=s.inclusive);break}}return{value:o,inclusive:a}}function $e$1(i,e,s){let o=oe,a=!0;for(const c of Me$1(i,e)){let d=oe,h=!0;switch(c.op){case">=":case">":d=Re$1(c.value),h=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,h=!1;break;case"!=":case"not-in":d=oe}Pe$1({value:o,inclusive:a},{value:d,inclusive:h})>0&&(o=d,a=h)}if(s!==null){for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const d=s.position[c];Pe$1({value:o,inclusive:a},{value:d,inclusive:s.inclusive})>0&&(o=d,a=s.inclusive);break}}return{value:o,inclusive:a}}class Be$1 extends class{}{constructor(e,s,o){super(),this.field=e,this.op=s,this.value=o}static create(e,s,o){return e.isKeyField()?s==="in"||s==="not-in"?this.lt(e,s,o):new Le$1(e,s,o):s==="array-contains"?new Ge$1(e,o):s==="in"?new Qe(e,o):s==="not-in"?new je$1(e,o):s==="array-contains-any"?new We$1(e,o):new Be$1(e,s,o)}static lt(e,s,o){return s==="in"?new Ue$1(e,o):new qe$1(e,o)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&this.ft(le$1(s,this.value)):s!==null&&ce$1(this.value)===ce$1(s)&&this.ft(le$1(s,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Le$1 extends Be$1{constructor(e,s,o){super(e,s,o),this.key=ct$1.fromName(o.referenceValue)}matches(e){const s=ct$1.comparator(e.key,this.key);return this.ft(s)}}class Ue$1 extends Be$1{constructor(e,s){super(e,"in",s),this.keys=Ke$1("in",s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class qe$1 extends Be$1{constructor(e,s){super(e,"not-in",s),this.keys=Ke$1("not-in",s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Ke$1(i,e){var s;return(((s=e.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(o=>ct$1.fromName(o.referenceValue))}class Ge$1 extends Be$1{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return ge$1(s)&&he$1(s.arrayValue,this.value)}}class Qe extends Be$1{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&he$1(this.value.arrayValue,s)}}class je$1 extends Be$1{constructor(e,s){super(e,"not-in",s)}matches(e){if(he$1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&!he$1(this.value.arrayValue,s)}}class We$1 extends Be$1{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!ge$1(s)||!s.arrayValue.values)&&s.arrayValue.values.some(o=>he$1(this.value.arrayValue,o))}}class ze$1{constructor(e,s){this.position=e,this.inclusive=s}}class He$1{constructor(e,s="asc"){this.field=e,this.dir=s}}function Je$1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ye$1(i,e,s){let o=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?o=ct$1.comparator(ct$1.fromName(d.referenceValue),s.key):o=le$1(d,s.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Xe$1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!ae$1(i.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze$1{constructor(e,s=null,o=[],a=[],c=null,d="F",h=null,g=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=d,this.startAt=h,this.endAt=g,this._t=null,this.wt=null,this.startAt,this.endAt}}function tn(i,e,s,o,a,c,d,h){return new Ze$1(i,e,s,o,a,c,d,h)}function en(i){return new Ze$1(i)}function nn(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sn(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function rn(i){for(const e of i.filters)if(e.dt())return e.field;return null}function on(i){return i.collectionGroup!==null}function un(i){const e=$(i);if(e._t===null){e._t=[];const s=rn(e),o=sn(e);if(s!==null&&o===null)s.isKeyField()||e._t.push(new He$1(s)),e._t.push(new He$1(ut$1.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new He$1(ut$1.keyField(),c))}}}return e._t}function cn(i){const e=$(i);if(!e.wt)if(e.limitType==="F")e.wt=Ce$1(e.path,e.collectionGroup,un(e),e.filters,e.limit,e.startAt,e.endAt);else{const s=[];for(const c of un(e)){const d=c.dir==="desc"?"asc":"desc";s.push(new He$1(c.field,d))}const o=e.endAt?new ze$1(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ze$1(e.startAt.position,e.startAt.inclusive):null;e.wt=Ce$1(e.path,e.collectionGroup,s,e.filters,e.limit,o,a)}return e.wt}function an(i,e,s){return new Ze$1(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function hn(i,e){return ke$1(cn(i),cn(e))&&i.limitType===e.limitType}function ln(i){return`${xe$1(cn(i))}|lt:${i.limitType}`}function fn(i){return`Query(target=${Ne$1(cn(i))}; limitType=${i.limitType})`}function dn(i,e){return e.isFoundDocument()&&function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):ct$1.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(i,e)&&function(s,o){for(const a of s.explicitOrderBy)if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(a,c,d){const h=Ye$1(a,c,d);return a.inclusive?h<=0:h<0}(s.startAt,un(s),o)||s.endAt&&!function(a,c,d){const h=Ye$1(a,c,d);return a.inclusive?h>=0:h>0}(s.endAt,un(s),o))}(i,e)}function _n(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wn(i){return(e,s)=>{let o=!1;for(const a of un(i)){const c=mn(a,e,s);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function mn(i,e,s){const o=i.field.isKeyField()?ct$1.comparator(e.key,s.key):function(a,c,d){const h=c.data.field(a),g=d.data.field(a);return h!==null&&g!==null?le$1(h,g):O()}(i.field,e,s);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return O()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ie$1(e)?"-0":e}}function yn(i){return{integerValue:""+i}}function pn(i,e){return re(e)?yn(e):gn(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this._=void 0}}function Tn(i,e,s){return i instanceof Rn?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(s,e):i instanceof bn?Pn(i,e):i instanceof vn?Vn(i,e):function(o,a){const c=An(o,a),d=Dn(c)+Dn(o.yt);return me$1(c)&&me$1(o.yt)?yn(d):gn(o.It,d)}(i,e)}function En(i,e,s){return i instanceof bn?Pn(i,e):i instanceof vn?Vn(i,e):s}function An(i,e){return i instanceof Sn?me$1(s=e)||function(o){return!!o&&"doubleValue"in o}(s)?e:{integerValue:0}:null;var s}class Rn extends In{}class bn extends In{constructor(e){super(),this.elements=e}}function Pn(i,e){const s=Cn(e);for(const o of i.elements)s.some(a=>ae$1(a,o))||s.push(o);return{arrayValue:{values:s}}}class vn extends In{constructor(e){super(),this.elements=e}}function Vn(i,e){let s=Cn(e);for(const o of i.elements)s=s.filter(a=>!ae$1(a,o));return{arrayValue:{values:s}}}class Sn extends In{constructor(e,s){super(),this.It=e,this.yt=s}}function Dn(i){return Jt(i.integerValue||i.doubleValue)}function Cn(i){return ge$1(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,s){this.field=e,this.transform=s}}function Nn(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof bn&&o instanceof bn||s instanceof vn&&o instanceof vn?tt$1(s.elements,o.elements,ae$1):s instanceof Sn&&o instanceof Sn?ae$1(s.yt,o.yt):s instanceof Rn&&o instanceof Rn}(i.transform,e.transform)}class kn{constructor(e,s){this.version=e,this.transformResults=s}}class On{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mn(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fn{}function $n(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zn(i.key,On.none()):new Kn(i.key,i.data,On.none());{const s=i.data,o=ve$1.empty();let a=new qt(ut$1.comparator);for(let c of e.fields)if(!a.has(c)){let d=s.field(c);d===null&&c.length>1&&(c=c.popLast(),d=s.field(c)),d===null?o.delete(c):o.set(c,d),a=a.add(c)}return new Gn(i.key,o,new Qt(a.toArray()),On.none())}}function Bn(i,e,s){i instanceof Kn?function(o,a,c){const d=o.value.clone(),h=jn(o.fieldTransforms,a,c.transformResults);d.setAll(h),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,s):i instanceof Gn?function(o,a,c){if(!Mn(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=jn(o.fieldTransforms,a,c.transformResults),h=a.data;h.setAll(Qn(o)),h.setAll(d),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(i,e,s):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,s)}function Ln(i,e,s,o){return i instanceof Kn?function(a,c,d,h){if(!Mn(a.precondition,c))return d;const g=a.value.clone(),_=Wn(a.fieldTransforms,h,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(i,e,s,o):i instanceof Gn?function(a,c,d,h){if(!Mn(a.precondition,c))return d;const g=Wn(a.fieldTransforms,h,c),_=c.data;return _.setAll(Qn(a)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map($l=>$l.field))}(i,e,s,o):function(a,c,d){return Mn(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,s)}function Un(i,e){let s=null;for(const o of i.fieldTransforms){const a=e.data.field(o.field),c=An(o.transform,a||null);c!=null&&(s===null&&(s=ve$1.empty()),s.set(o.field,c))}return s||null}function qn(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&tt$1(s,o,(a,c)=>Nn(a,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Kn extends Fn{constructor(e,s,o,a=[]){super(),this.key=e,this.value=s,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gn extends Fn{constructor(e,s,o,a,c=[]){super(),this.key=e,this.data=s,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Qn(i){const e=new Map;return i.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const o=i.data.field(s);e.set(s,o)}}),e}function jn(i,e,s){const o=new Map;M(i.length===s.length);for(let a=0;a<s.length;a++){const c=i[a],d=c.transform,h=e.data.field(c.field);o.set(c.field,En(d,h,s[a]))}return o}function Wn(i,e,s){const o=new Map;for(const a of i){const c=a.transform,d=s.data.field(a.field);o.set(a.field,Tn(c,d,e))}return o}class zn extends Fn{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hn extends Fn{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,Xn;function Zn(i){switch(i){default:return O();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function ts(i){if(i===void 0)return x("GRPC error has no .code"),B.UNKNOWN;switch(i){case Yn.OK:return B.OK;case Yn.CANCELLED:return B.CANCELLED;case Yn.UNKNOWN:return B.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return B.INTERNAL;case Yn.UNAVAILABLE:return B.UNAVAILABLE;case Yn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Yn.NOT_FOUND:return B.NOT_FOUND;case Yn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Yn.ABORTED:return B.ABORTED;case Yn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Yn.DATA_LOSS:return B.DATA_LOSS;default:return O()}}(Xn=Yn||(Yn={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),o=this.inner[s];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,s){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,s]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,s]);a.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[s]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ft$1(this.inner,(s,o)=>{for(const[a,c]of o)e(a,c)})}isEmpty(){return $t(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Bt$1(ct$1.comparator);function ss(){return ns}const is=new Bt$1(ct$1.comparator);function rs(...i){let e=is;for(const s of i)e=e.insert(s.key,s);return e}function os(i){let e=is;return i.forEach((s,o)=>e=e.insert(s,o.overlayedDocument)),e}function us(){return as$1()}function cs(){return as$1()}function as$1(){return new es(i=>i.toString(),(i,e)=>i.isEqual(e))}const hs=new Bt$1(ct$1.comparator),ls=new qt(ct$1.comparator);function fs(...i){let e=ls;for(const s of i)e=e.add(s);return e}const ds=new qt(Z);function _s(){return ds}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,s,o,a,c){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,s,o){const a=new Map;return a.set(e,ms.createSynthesizedTargetChangeForCurrentChange(e,s,o)),new ws(st$1.min(),a,_s(),ss(),fs())}}class ms{constructor(e,s,o,a,c){this.resumeToken=e,this.current=s,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,s,o){return new ms(o,s,fs(),fs(),fs())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,s,o,a){this.Tt=e,this.removedTargetIds=s,this.key=o,this.Et=a}}class ys{constructor(e,s){this.targetId=e,this.At=s}}class ps{constructor(e,s,o=Wt$1.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=s,this.resumeToken=o,this.cause=a}}class Is{constructor(){this.Rt=0,this.bt=As(),this.Pt=Wt$1.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=fs(),s=fs(),o=fs();return this.bt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:s=s.add(a);break;case 1:o=o.add(a);break;default:O()}}),new ms(this.Pt,this.vt,e,s,o)}Nt(){this.Vt=!1,this.bt=As()}kt(e,s){this.Vt=!0,this.bt=this.bt.insert(e,s)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ts{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ss(),this.qt=Es(),this.Kt=new qt(Z)}Gt(e){for(const s of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(s,e.Et):this.jt(s,e.key,e.Et);for(const s of e.removedTargetIds)this.jt(s,e.key,e.Et)}Wt(e){this.forEachTarget(e,s=>{const o=this.zt(s);switch(e.state){case 0:this.Ht(s)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(s);break;case 3:this.Ht(s)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(s)&&(this.Jt(s),o.Ct(e.resumeToken));break;default:O()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Lt.forEach((o,a)=>{this.Ht(a)&&s(a)})}Yt(e){const s=e.targetId,o=e.At.count,a=this.Xt(s);if(a){const c=a.target;if(Oe$1(c))if(o===0){const d=new ct$1(c.path);this.jt(s,d,Se$1.newNoDocument(d,st$1.min()))}else M(o===1);else this.Zt(s)!==o&&(this.Jt(s),this.Kt=this.Kt.add(s))}}te(e){const s=new Map;this.Lt.forEach((c,d)=>{const h=this.Xt(d);if(h){if(c.current&&Oe$1(h.target)){const g=new ct$1(h.target.path);this.Ut.get(g)!==null||this.ee(d,g)||this.jt(d,g,Se$1.newNoDocument(g,e))}c.Dt&&(s.set(d,c.xt()),c.Nt())}});let o=fs();this.qt.forEach((c,d)=>{let h=!0;d.forEachWhile(g=>{const _=this.Xt(g);return!_||_.purpose===2||(h=!1,!1)}),h&&(o=o.add(c))}),this.Ut.forEach((c,d)=>d.setReadTime(e));const a=new ws(e,s,this.Kt,this.Ut,o);return this.Ut=ss(),this.qt=Es(),this.Kt=new qt(Z),a}Qt(e,s){if(!this.Ht(e))return;const o=this.ee(e,s.key)?2:0;this.zt(e).kt(s.key,o),this.Ut=this.Ut.insert(s.key,s),this.qt=this.qt.insert(s.key,this.ne(s.key).add(e))}jt(e,s,o){if(!this.Ht(e))return;const a=this.zt(e);this.ee(e,s)?a.kt(s,1):a.Ot(s),this.qt=this.qt.insert(s,this.ne(s).delete(e)),o&&(this.Ut=this.Ut.insert(s,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const s=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let s=this.Lt.get(e);return s||(s=new Is,this.Lt.set(e,s)),s}ne(e){let s=this.qt.get(e);return s||(s=new qt(Z),this.qt=this.qt.insert(e,s)),s}Ht(e){const s=this.Xt(e)!==null;return s||C("WatchChangeAggregator","Detected inactive target",e),s}Xt(e){const s=this.Lt.get(e);return s&&s.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Is),this.Bt.getRemoteKeysForTarget(e).forEach(s=>{this.jt(e,s,null)})}ee(e,s){return this.Bt.getRemoteKeysForTarget(e).has(s)}}function Es(){return new Bt$1(ct$1.comparator)}function As(){return new Bt$1(ct$1.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bs=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Ps{constructor(e,s){this.databaseId=e,this.gt=s}}function vs(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vs(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Ss(i,e){return vs(i,e.toTimestamp())}function Ds(i){return M(!!i),st$1.fromTimestamp(function(e){const s=Ht$1(e);return new nt$1(s.seconds,s.nanos)}(i))}function Cs(i,e){return function(s){return new rt$1(["projects",s.projectId,"databases",s.database])}(i).child("documents").child(e).canonicalString()}function xs(i){const e=rt$1.fromString(i);return M(ii(e)),e}function Ns(i,e){return Cs(i.databaseId,e.path)}function ks(i,e){const s=xs(e);if(s.get(1)!==i.databaseId.projectId)throw new L(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new L(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new ct$1($s(s))}function Os(i,e){return Cs(i.databaseId,e)}function Ms(i){const e=xs(i);return e.length===4?rt$1.emptyPath():$s(e)}function Fs(i){return new rt$1(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function $s(i){return M(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Bs(i,e,s){return{name:Ns(i,e),fields:s.value.mapValue.fields}}function Ls(i,e,s){const o=ks(i,e.name),a=Ds(e.updateTime),c=new ve$1({mapValue:{fields:e.fields}}),d=Se$1.newFoundDocument(o,a,c);return s&&d.setHasCommittedMutations(),s?d.setHasCommittedMutations():d}function Us(i,e){return"found"in e?function(s,o){M(!!o.found),o.found.name,o.found.updateTime;const a=ks(s,o.found.name),c=Ds(o.found.updateTime),d=new ve$1({mapValue:{fields:o.found.fields}});return Se$1.newFoundDocument(a,c,d)}(i,e):"missing"in e?function(s,o){M(!!o.missing),M(!!o.readTime);const a=ks(s,o.missing),c=Ds(o.readTime);return Se$1.newNoDocument(a,c)}(i,e):O()}function qs(i,e){let s;if("targetChange"in e){e.targetChange;const o=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(g,_){return g.gt?(M(_===void 0||typeof _=="string"),Wt$1.fromBase64String(_||"")):(M(_===void 0||_ instanceof Uint8Array),Wt$1.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,h=d&&function(g){const _=g.code===void 0?B.UNKNOWN:ts(g.code);return new L(_,g.message||"")}(d);s=new ps(o,a,c,h||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=ks(i,o.document.name),c=Ds(o.document.updateTime),d=new ve$1({mapValue:{fields:o.document.fields}}),h=Se$1.newFoundDocument(a,c,d),g=o.targetIds||[],_=o.removedTargetIds||[];s=new gs(g,_,h.key,h)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=ks(i,o.document),c=o.readTime?Ds(o.readTime):st$1.min(),d=Se$1.newNoDocument(a,c),h=o.removedTargetIds||[];s=new gs([],h,d.key,d)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=ks(i,o.document),c=o.removedTargetIds||[];s=new gs([],c,a,null)}else{if(!("filter"in e))return O();{e.filter;const o=e.filter;o.targetId;const a=o.count||0,c=new Jn(a),d=o.targetId;s=new ys(d,c)}}return s}function Ks(i,e){let s;if(e instanceof Kn)s={update:Bs(i,e.key,e.value)};else if(e instanceof zn)s={delete:Ns(i,e.key)};else if(e instanceof Gn)s={update:Bs(i,e.key,e.data),updateMask:si(e.fieldMask)};else{if(!(e instanceof Hn))return O();s={verify:Ns(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(o=>function(a,c){const d=c.transform;if(d instanceof Rn)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bn)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vn)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sn)return{fieldPath:c.field.canonicalString(),increment:d.yt};throw O()}(0,o))),e.precondition.isNone||(s.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Ss(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:O()}(i,e.precondition)),s}function Gs(i,e){const s=e.currentDocument?function(a){return a.updateTime!==void 0?On.updateTime(Ds(a.updateTime)):a.exists!==void 0?On.exists(a.exists):On.none()}(e.currentDocument):On.none(),o=e.updateTransforms?e.updateTransforms.map(a=>function(c,d){let h=null;if("setToServerValue"in d)M(d.setToServerValue==="REQUEST_TIME"),h=new Rn;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];h=new bn(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];h=new vn(_)}else"increment"in d?h=new Sn(c,d.increment):O();const g=ut$1.fromServerFormat(d.fieldPath);return new xn(g,h)}(i,a)):[];if(e.update){e.update.name;const a=ks(i,e.update.name),c=new ve$1({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=function(h){const g=h.fieldPaths||[];return new Qt(g.map(_=>ut$1.fromServerFormat(_)))}(e.updateMask);return new Gn(a,c,d,s,o)}return new Kn(a,c,s,o)}if(e.delete){const a=ks(i,e.delete);return new zn(a,s)}if(e.verify){const a=ks(i,e.verify);return new Hn(a,s)}return O()}function Qs(i,e){return i&&i.length>0?(M(e!==void 0),i.map(s=>function(o,a){let c=o.updateTime?Ds(o.updateTime):Ds(a);return c.isEqual(st$1.min())&&(c=Ds(a)),new kn(c,o.transformResults||[])}(s,e))):[]}function js(i,e){return{documents:[Os(i,e.path)]}}function Ws(i,e){const s={structuredQuery:{}},o=e.path;e.collectionGroup!==null?(s.parent=Os(i,o),s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s.parent=Os(i,o.popLast()),s.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(g){if(g.length===0)return;const _=g.map($l=>function(Rl){if(Rl.op==="=="){if(pe$1(Rl.value))return{unaryFilter:{field:Zs(Rl.field),op:"IS_NAN"}};if(ye$1(Rl.value))return{unaryFilter:{field:Zs(Rl.field),op:"IS_NULL"}}}else if(Rl.op==="!="){if(pe$1(Rl.value))return{unaryFilter:{field:Zs(Rl.field),op:"IS_NOT_NAN"}};if(ye$1(Rl.value))return{unaryFilter:{field:Zs(Rl.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(Rl.field),op:Xs(Rl.op),value:Rl.value}}}($l));return _.length===1?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);a&&(s.structuredQuery.where=a);const c=function(g){if(g.length!==0)return g.map(_=>function($l){return{field:Zs($l.field),direction:Ys($l.dir)}}(_))}(e.orderBy);c&&(s.structuredQuery.orderBy=c);const d=function(g,_){return g.gt||se$1(_)?_:{value:_}}(i,e.limit);var h;return d!==null&&(s.structuredQuery.limit=d),e.startAt&&(s.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(s.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),s}function zs(i){let e=Ms(i.parent);const s=i.structuredQuery,o=s.from?s.from.length:0;let a=null;if(o>0){M(o===1);const $l=s.from[0];$l.allDescendants?a=$l.collectionId:e=e.child($l.collectionId)}let c=[];s.where&&(c=Js(s.where));let d=[];s.orderBy&&(d=s.orderBy.map($l=>function(Rl){return new He$1(ti(Rl.field),function(Ml){switch(Ml){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Rl.direction))}($l)));let h=null;s.limit&&(h=function($l){let Rl;return Rl=typeof $l=="object"?$l.value:$l,se$1(Rl)?null:Rl}(s.limit));let g=null;s.startAt&&(g=function($l){const Rl=!!$l.before,Ml=$l.values||[];return new ze$1(Ml,Rl)}(s.startAt));let _=null;return s.endAt&&(_=function($l){const Rl=!$l.before,Ml=$l.values||[];return new ze$1(Ml,Rl)}(s.endAt)),tn(e,a,d,c,h,"F",g,_)}function Hs(i,e){const s=function(o,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return s==null?null:{"goog-listen-tags":s}}function Js(i){return i?i.unaryFilter!==void 0?[ni(i)]:i.fieldFilter!==void 0?[ei(i)]:i.compositeFilter!==void 0?i.compositeFilter.filters.map(e=>Js(e)).reduce((e,s)=>e.concat(s)):O():[]}function Ys(i){return Rs[i]}function Xs(i){return bs[i]}function Zs(i){return{fieldPath:i.canonicalString()}}function ti(i){return ut$1.fromServerFormat(i.fieldPath)}function ei(i){return Be$1.create(ti(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(i.fieldFilter.op),i.fieldFilter.value)}function ni(i){switch(i.unaryFilter.op){case"IS_NAN":const e=ti(i.unaryFilter.field);return Be$1.create(e,"==",{doubleValue:NaN});case"IS_NULL":const s=ti(i.unaryFilter.field);return Be$1.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ti(i.unaryFilter.field);return Be$1.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ti(i.unaryFilter.field);return Be$1.create(a,"!=",{nullValue:"NULL_VALUE"});default:return O()}}function si(i){const e=[];return i.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function ii(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=ui(e)),e=oi(i.get(s),e);return ui(e)}function oi(i,e){let s=e;const o=i.length;for(let a=0;a<o;a++){const c=i.charAt(a);switch(c){case"\0":s+="";break;case"":s+="";break;default:s+=c}}return s}function ui(i){return i+""}function ci(i){const e=i.length;if(M(e>=2),e===2)return M(i.charAt(0)===""&&i.charAt(1)===""),rt$1.emptyPath();const s=e-2,o=[];let a="";for(let c=0;c<e;){const d=i.indexOf("",c);switch((d<0||d>s)&&O(),i.charAt(d+1)){case"":const h=i.substring(c,d);let g;a.length===0?g=h:(a+=h,g=a,a=""),o.push(g);break;case"":a+=i.substring(c,d),a+="\0";break;case"":a+=i.substring(c,d+1);break;default:O()}c=d+2}return new rt$1(o)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(i,e){return[i,ri(e)]}function li(i,e,s){return[i,ri(e),s]}const fi={},di=["prefixPath","collectionGroup","readTime","documentId"],_i=["prefixPath","collectionGroup","documentId"],wi=["collectionGroup","readTime","prefixPath","documentId"],mi=["canonicalId","targetId"],gi=["targetId","path"],yi=["path","targetId"],pi=["collectionId","parent"],Ii=["indexId","uid"],Ti=["uid","sequenceNumber"],Ei=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ai=["indexId","uid","orderedDocumentKey"],Ri=["userId","collectionPath","documentId"],bi=["userId","collectionPath","largestBatchId"],Pi=["userId","collectionGroup","largestBatchId"],vi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vi=[...vi,"documentOverlays"],Si=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Di=Si,Ci=[...Di,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Tt$1{constructor(e,s){super(),this.ie=e,this.currentSequenceNumber=s}}function Ni(i,e){const s=$(i);return bt$1.M(s.ie,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,s,o,a){this.batchId=e,this.localWriteTime=s,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,s){const o=s.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Bn(c,e,o[a])}}applyToLocalView(e,s){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(s=Ln(o,e,s,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(s=Ln(o,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const o=cs();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let h=this.applyToLocalView(d,c.mutatedFields);h=s.has(a.key)?null:h;const g=$n(d,h);g!==null&&o.set(a.key,g),d.isValidDocument()||d.convertToNoDocument(st$1.min())}),o}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),fs())}isEqual(e){return this.batchId===e.batchId&&tt$1(this.mutations,e.mutations,(s,o)=>qn(s,o))&&tt$1(this.baseMutations,e.baseMutations,(s,o)=>qn(s,o))}}class Oi{constructor(e,s,o,a){this.batch=e,this.commitVersion=s,this.mutationResults=o,this.docVersions=a}static from(e,s,o){M(e.mutations.length===o.length);let a=hs;const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,o[d].version);return new Oi(e,s,o,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,s,o,a,c=st$1.min(),d=st$1.min(),h=Wt$1.EMPTY_BYTE_STRING){this.target=e,this.targetId=s,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,s){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.re=e}}function Bi(i,e){let s;if(e.document)s=Ls(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=ct$1.fromSegments(e.noDocument.path),a=Ki(e.noDocument.readTime);s=Se$1.newNoDocument(o,a),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return O();{const o=ct$1.fromSegments(e.unknownDocument.path),a=Ki(e.unknownDocument.version);s=Se$1.newUnknownDocument(o,a)}}return e.readTime&&s.setReadTime(function(o){const a=new nt$1(o[0],o[1]);return st$1.fromTimestamp(a)}(e.readTime)),s}function Li(i,e){const s=e.key,o={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Ui(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document=function(a,c){return{name:Ns(a,c.key),fields:c.data.value.mapValue.fields,updateTime:vs(a,c.version.toTimestamp())}}(i.re,e);else if(e.isNoDocument())o.noDocument={path:s.path.toArray(),readTime:qi(e.version)};else{if(!e.isUnknownDocument())return O();o.unknownDocument={path:s.path.toArray(),version:qi(e.version)}}return o}function Ui(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function qi(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ki(i){const e=new nt$1(i.seconds,i.nanoseconds);return st$1.fromTimestamp(e)}function Gi(i,e){const s=(e.baseMutations||[]).map(c=>Gs(i.re,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];if(c+1<e.mutations.length&&e.mutations[c+1].transform!==void 0){const h=e.mutations[c+1];d.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(c+1,1),++c}}const o=e.mutations.map(c=>Gs(i.re,c)),a=nt$1.fromMillis(e.localWriteTimeMs);return new ki(e.batchId,a,s,o)}function Qi(i){const e=Ki(i.readTime),s=i.lastLimboFreeSnapshotVersion!==void 0?Ki(i.lastLimboFreeSnapshotVersion):st$1.min();let o;var a;return i.query.documents!==void 0?(M((a=i.query).documents.length===1),o=cn(en(Ms(a.documents[0])))):o=function(c){return cn(zs(c))}(i.query),new Fi(o,i.targetId,0,i.lastListenSequenceNumber,e,s,Wt$1.fromBase64String(i.resumeToken))}function ji(i,e){const s=qi(e.snapshotVersion),o=qi(e.lastLimboFreeSnapshotVersion);let a;a=Oe$1(e.target)?js(i.re,e.target):Ws(i.re,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xe$1(e.target),readTime:s,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function Wi(i){const e=zs({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?an(e,e.limit,"L"):e}function zi(i,e){return new Mi(e.largestBatchId,Gs(i.re,e.overlayMutation))}function Hi(i,e){const s=e.path.lastSegment();return[i,ri(e.path.popLast()),s]}function Ji(i,e,s,o){return{indexId:i,uid:e.uid||"",sequenceNumber:s,readTime:qi(o.readTime),documentKey:ri(o.documentKey.path),largestBatchId:o.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{getBundleMetadata(e,s){return Xi(e).get(s).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Ki(a.createTime),version:a.version};var a})}saveBundleMetadata(e,s){return Xi(e).put({bundleId:(o=s).id,createTime:qi(Ds(o.createTime)),version:o.version});var o}getNamedQuery(e,s){return Zi(e).get(s).next(o=>{if(o)return{name:(a=o).name,query:Wi(a.bundledQuery),readTime:Ki(a.readTime)};var a})}saveNamedQuery(e,s){return Zi(e).put(function(o){return{name:o.name,readTime:qi(Ds(o.readTime)),bundledQuery:o.bundledQuery}}(s))}}function Xi(i){return Ni(i,"bundles")}function Zi(i){return Ni(i,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,s){this.It=e,this.userId=s}static oe(e,s){const o=s.uid||"";return new tr(e,o)}getOverlay(e,s){return er(e).get(Hi(this.userId,s)).next(o=>o?zi(this.It,o):null)}getOverlays(e,s){const o=us();return At$1.forEach(s,a=>this.getOverlay(e,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(e,s,o){const a=[];return o.forEach((c,d)=>{const h=new Mi(s,d);a.push(this.ue(e,h))}),At$1.waitFor(a)}removeOverlaysForBatchId(e,s,o){const a=new Set;s.forEach(d=>a.add(ri(d.getCollectionPath())));const c=[];return a.forEach(d=>{const h=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,o+1],!1,!0);c.push(er(e).Y("collectionPathOverlayIndex",h))}),At$1.waitFor(c)}getOverlaysForCollection(e,s,o){const a=us(),c=ri(s),d=IDBKeyRange.bound([this.userId,c,o],[this.userId,c,Number.POSITIVE_INFINITY],!0);return er(e).W("collectionPathOverlayIndex",d).next(h=>{for(const g of h){const _=zi(this.It,g);a.set(_.getKey(),_)}return a})}getOverlaysForCollectionGroup(e,s,o,a){const c=us();let d;const h=IDBKeyRange.bound([this.userId,s,o],[this.userId,s,Number.POSITIVE_INFINITY],!0);return er(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,_,$l)=>{const Rl=zi(this.It,_);c.size()<a||Rl.largestBatchId===d?(c.set(Rl.getKey(),Rl),d=Rl.largestBatchId):$l.done()}).next(()=>c)}ue(e,s){return er(e).put(function(o,a,c){const[d,h,g]=Hi(a,c.mutation.key);return{userId:a,collectionPath:h,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ks(o.re,c.mutation)}}(this.It,this.userId,s))}}function er(i){return Ni(i,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){}ce(e,s){this.ae(e,s),s.he()}ae(e,s){if("nullValue"in e)this.le(s,5);else if("booleanValue"in e)this.le(s,10),s.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(s,15),s.fe(Jt(e.integerValue));else if("doubleValue"in e){const o=Jt(e.doubleValue);isNaN(o)?this.le(s,13):(this.le(s,15),ie$1(o)?s.fe(0):s.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(s,20),typeof o=="string"?s.de(o):(s.de(`${o.seconds||""}`),s.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,s),this.we(s);else if("bytesValue"in e)this.le(s,30),s.me(Yt$1(e.bytesValue)),this.we(s);else if("referenceValue"in e)this.ge(e.referenceValue,s);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(s,45),s.fe(o.latitude||0),s.fe(o.longitude||0)}else"mapValue"in e?Ee$1(e)?this.le(s,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,s),this.we(s)):"arrayValue"in e?(this.pe(e.arrayValue,s),this.we(s)):O()}_e(e,s){this.le(s,25),this.Ie(e,s)}Ie(e,s){s.de(e)}ye(e,s){const o=e.fields||{};this.le(s,55);for(const a of Object.keys(o))this._e(a,s),this.ae(o[a],s)}pe(e,s){const o=e.values||[];this.le(s,50);for(const a of o)this.ae(a,s)}ge(e,s){this.le(s,37),ct$1.fromName(e).path.forEach(o=>{this.le(s,60),this.Ie(o,s)})}le(e,s){e.fe(s)}we(e){e.fe(2)}}nr.Te=new nr;function sr(i){if(i===0)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ir(i){const e=64-function(s){let o=0;for(let a=0;a<8;++a){const c=sr(255&s[a]);if(o+=c,c!==8)break}return o}(i);return Math.ceil(e/8)}class rr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const s=e[Symbol.iterator]();let o=s.next();for(;!o.done;)this.Ae(o.value),o=s.next();this.Re()}be(e){const s=e[Symbol.iterator]();let o=s.next();for(;!o.done;)this.Pe(o.value),o=s.next();this.ve()}Ve(e){for(const s of e){const o=s.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(s<"\uD800"||"\uDBFF"<s)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const a=s.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}Se(e){for(const s of e){const o=s.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(s<"\uD800"||"\uDBFF"<s)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const a=s.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}this.ve()}De(e){const s=this.Ce(e),o=ir(s);this.xe(1+o),this.buffer[this.position++]=255&o;for(let a=s.length-o;a<s.length;++a)this.buffer[this.position++]=255&s[a]}Ne(e){const s=this.Ce(e),o=ir(s);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let a=s.length-o;a<s.length;++a)this.buffer[this.position++]=~(255&s[a])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const s=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),o=(128&s[0])!=0;s[0]^=o?255:128;for(let a=1;a<s.length;++a)s[a]^=o?255:0;return s}Ae(e){const s=255&e;s===0?(this.Oe(0),this.Oe(255)):s===255?(this.Oe(255),this.Oe(0)):this.Oe(s)}Pe(e){const s=255&e;s===0?(this.Fe(0),this.Fe(255)):s===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const s=e+this.position;if(s<=this.buffer.length)return;let o=2*this.buffer.length;o<s&&(o=s);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class or{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class ur{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class cr{constructor(){this.Be=new rr,this.Le=new or(this.Be),this.Ue=new ur(this.Be)}seed(e){this.Be.seed(e)}qe(e){return e===0?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,s,o,a){this.indexId=e,this.documentKey=s,this.arrayValue=o,this.directionalValue=a}Ke(){const e=this.directionalValue.length,s=e===0||this.directionalValue[e-1]===255?e+1:e,o=new Uint8Array(s);return o.set(this.directionalValue,0),s!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ar(this.indexId,this.documentKey,this.arrayValue,o)}}function hr(i,e){let s=i.indexId-e.indexId;return s!==0?s:(s=lr(i.arrayValue,e.arrayValue),s!==0?s:(s=lr(i.directionalValue,e.directionalValue),s!==0?s:ct$1.comparator(i.documentKey,e.documentKey)))}function lr(i,e){for(let s=0;s<i.length&&s<e.length;++s){const o=i[s]-e[s];if(o!==0)return o}return i.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const s of e.filters){const o=s;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const s=ht$1(e);if(s!==void 0&&!this.ze(s))return!1;const o=lt$2(e);let a=0,c=0;for(;a<o.length&&this.ze(o[a]);++a);if(a===o.length)return!0;if(this.je!==void 0){const d=o[a];if(!this.He(this.je,d)||!this.Je(this.Ge[c++],d))return!1;++a}for(;a<o.length;++a){const d=o[a];if(c>=this.Ge.length||!this.Je(this.Ge[c++],d))return!1}return!0}ze(e){for(const s of this.Qe)if(this.He(s,e))return!0;return!1}He(e,s){if(e===void 0||!e.field.isEqual(s.fieldPath))return!1;const o=e.op==="array-contains"||e.op==="array-contains-any";return s.kind===2===o}Je(e,s){return!!e.field.isEqual(s.fieldPath)&&(s.kind===0&&e.dir==="asc"||s.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.Ye=new _r}addToCollectionParentIndex(e,s){return this.Ye.add(s),At$1.resolve()}getCollectionParents(e,s){return At$1.resolve(this.Ye.getEntries(s))}addFieldIndex(e,s){return At$1.resolve()}deleteFieldIndex(e,s){return At$1.resolve()}getDocumentsMatchingTarget(e,s){return At$1.resolve(null)}getIndexType(e,s){return At$1.resolve(0)}getFieldIndexes(e,s){return At$1.resolve([])}getNextCollectionGroupToUpdate(e){return At$1.resolve(null)}getMinOffset(e,s){return At$1.resolve(yt$1.min())}getMinOffsetFromCollectionGroup(e,s){return At$1.resolve(yt$1.min())}updateCollectionGroup(e,s,o){return At$1.resolve()}updateIndexEntries(e,s){return At$1.resolve()}}class _r{constructor(){this.index={}}add(e){const s=e.lastSegment(),o=e.popLast(),a=this.index[s]||new qt(rt$1.comparator),c=!a.has(o);return this.index[s]=a.add(o),c}has(e){const s=e.lastSegment(),o=e.popLast(),a=this.index[s];return a&&a.has(o)}getEntries(e){return(this.index[e]||new qt(rt$1.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Uint8Array(0);class mr{constructor(e,s){this.user=e,this.databaseId=s,this.Xe=new _r,this.Ze=new es(o=>xe$1(o),(o,a)=>ke$1(o,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.Xe.has(s)){const o=s.lastSegment(),a=s.popLast();e.addOnCommittedListener(()=>{this.Xe.add(s)});const c={collectionId:o,parent:ri(a)};return gr(e).put(c)}return At$1.resolve()}getCollectionParents(e,s){const o=[],a=IDBKeyRange.bound([s,""],[et$1(s),""],!1,!0);return gr(e).W(a).next(c=>{for(const d of c){if(d.collectionId!==s)break;o.push(ci(d.parent))}return o})}addFieldIndex(e,s){const o=pr(e),a=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])}}(s);delete a.indexId;const c=o.add(a);if(s.indexState){const d=Ir(e);return c.next(h=>{d.put(Ji(h,this.user,s.indexState.sequenceNumber,s.indexState.offset))})}return c.next()}deleteFieldIndex(e,s){const o=pr(e),a=Ir(e),c=yr(e);return o.delete(s.indexId).next(()=>a.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,s){const o=yr(e);let a=!0;const c=new Map;return At$1.forEach(this.tn(s),d=>this.en(e,d).next(h=>{a&&(a=!!h),c.set(d,h)})).next(()=>{if(a){let d=fs();const h=[];return At$1.forEach(c,(g,_)=>{var $l;C("IndexedDbIndexManager",`Using index ${$l=g,`id=${$l.indexId}|cg=${$l.collectionGroup}|f=${$l.fields.map(Wl=>`${Wl.fieldPath}:${Wl.kind}`).join(",")}`} to execute ${xe$1(s)}`);const Rl=function(Wl,Yl){const Xl=ht$1(Yl);if(Xl===void 0)return null;for(const Gl of Me$1(Wl,Xl.fieldPath))switch(Gl.op){case"array-contains-any":return Gl.value.arrayValue.values||[];case"array-contains":return[Gl.value]}return null}(_,g),Ml=function(Wl,Yl){const Xl=new Map;for(const Gl of lt$2(Yl))for(const _d of Me$1(Wl,Gl.fieldPath))switch(_d.op){case"==":case"in":Xl.set(Gl.fieldPath.canonicalString(),_d.value);break;case"not-in":case"!=":return Xl.set(Gl.fieldPath.canonicalString(),_d.value),Array.from(Xl.values())}return null}(_,g),Ul=function(Wl,Yl){const Xl=[];let Gl=!0;for(const _d of lt$2(Yl)){const Kl=_d.kind===0?Fe$1(Wl,_d.fieldPath,Wl.startAt):$e$1(Wl,_d.fieldPath,Wl.startAt);Xl.push(Kl.value),Gl&&(Gl=Kl.inclusive)}return new ze$1(Xl,Gl)}(_,g),Fl=function(Wl,Yl){const Xl=[];let Gl=!0;for(const _d of lt$2(Yl)){const Kl=_d.kind===0?$e$1(Wl,_d.fieldPath,Wl.endAt):Fe$1(Wl,_d.fieldPath,Wl.endAt);Xl.push(Kl.value),Gl&&(Gl=Kl.inclusive)}return new ze$1(Xl,Gl)}(_,g),Ll=this.nn(g,_,Ul),Bl=this.nn(g,_,Fl),zl=this.sn(g,_,Ml),Hl=this.rn(g.indexId,Rl,Ll,Ul.inclusive,Bl,Fl.inclusive,zl);return At$1.forEach(Hl,Wl=>o.J(Wl,s.limit).next(Yl=>{Yl.forEach(Xl=>{const Gl=ct$1.fromSegments(Xl.documentKey);d.has(Gl)||(d=d.add(Gl),h.push(Gl))})}))}).next(()=>h)}return At$1.resolve(null)})}tn(e){let s=this.Ze.get(e);return s||(s=[e],this.Ze.set(e,s),s)}rn(e,s,o,a,c,d,h){const g=(s!=null?s.length:1)*Math.max(o.length,c.length),_=g/(s!=null?s.length:1),$l=[];for(let Rl=0;Rl<g;++Rl){const Ml=s?this.on(s[Rl/_]):wr,Ul=this.un(e,Ml,o[Rl%_],a),Fl=this.cn(e,Ml,c[Rl%_],d),Ll=h.map(Bl=>this.un(e,Ml,Bl,!0));$l.push(...this.createRange(Ul,Fl,Ll))}return $l}un(e,s,o,a){const c=new ar(e,ct$1.empty(),s,o);return a?c:c.Ke()}cn(e,s,o,a){const c=new ar(e,ct$1.empty(),s,o);return a?c.Ke():c}en(e,s){const o=new fr(s),a=s.collectionGroup!=null?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let d=null;for(const h of c)o.We(h)&&(!d||h.fields.length>d.fields.length)&&(d=h);return d})}getIndexType(e,s){let o=2;return At$1.forEach(this.tn(s),a=>this.en(e,a).next(c=>{c?o!==0&&c.fields.length<function(d){let h=new qt(ut$1.comparator),g=!1;for(const _ of d.filters){const $l=_;$l.field.isKeyField()||($l.op==="array-contains"||$l.op==="array-contains-any"?g=!0:h=h.add($l.field))}for(const _ of d.orderBy)_.field.isKeyField()||(h=h.add(_.field));return h.size+(g?1:0)}(a)&&(o=1):o=0})).next(()=>o)}an(e,s){const o=new cr;for(const a of lt$2(e)){const c=s.data.field(a.fieldPath);if(c==null)return null;const d=o.qe(a.kind);nr.Te.ce(c,d)}return o.$e()}on(e){const s=new cr;return nr.Te.ce(e,s.qe(0)),s.$e()}hn(e,s){const o=new cr;return nr.Te.ce(we$1(this.databaseId,s),o.qe(function(a){const c=lt$2(a);return c.length===0?0:c[c.length-1].kind}(e))),o.$e()}sn(e,s,o){if(o===null)return[];let a=[];a.push(new cr);let c=0;for(const d of lt$2(e)){const h=o[c++];for(const g of a)if(this.ln(s,d.fieldPath)&&ge$1(h))a=this.fn(a,d,h);else{const _=g.qe(d.kind);nr.Te.ce(h,_)}}return this.dn(a)}nn(e,s,o){return this.sn(e,s,o.position)}dn(e){const s=[];for(let o=0;o<e.length;++o)s[o]=e[o].$e();return s}fn(e,s,o){const a=[...e],c=[];for(const d of o.arrayValue.values||[])for(const h of a){const g=new cr;g.seed(h.$e()),nr.Te.ce(d,g.qe(s.kind)),c.push(g)}return c}ln(e,s){return!!e.filters.find(o=>o instanceof Be$1&&o.field.isEqual(s)&&(o.op==="in"||o.op==="not-in"))}getFieldIndexes(e,s){const o=pr(e),a=Ir(e);return(s?o.W("collectionGroupIndex",IDBKeyRange.bound(s,s)):o.W()).next(c=>{const d=[];return At$1.forEach(c,h=>a.get([h.indexId,this.uid]).next(g=>{d.push(function(_,$l){const Rl=$l?new wt$1($l.sequenceNumber,new yt$1(Ki($l.readTime),new ct$1(ci($l.documentKey)),$l.largestBatchId)):wt$1.empty(),Ml=_.fields.map(([Ul,Fl])=>new dt$1(ut$1.fromServerFormat(Ul),Fl));return new at$1(_.indexId,_.collectionGroup,Ml,Rl)}(h,g))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(s=>s.length===0?null:(s.sort((o,a)=>{const c=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return c!==0?c:Z(o.collectionGroup,a.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(e,s,o){const a=pr(e),c=Ir(e);return this._n(e).next(d=>a.W("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(h=>At$1.forEach(h,g=>c.put(Ji(g.indexId,this.user,d,o)))))}updateIndexEntries(e,s){const o=new Map;return At$1.forEach(s,(a,c)=>{const d=o.get(a.collectionGroup);return(d?At$1.resolve(d):this.getFieldIndexes(e,a.collectionGroup)).next(h=>(o.set(a.collectionGroup,h),At$1.forEach(h,g=>this.wn(e,a,g).next(_=>{const $l=this.mn(c,g);return _.isEqual($l)?At$1.resolve():this.gn(e,c,g,_,$l)}))))})}yn(e,s,o,a){return yr(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.hn(o,s.key),documentKey:s.key.path.toArray()})}pn(e,s,o,a){return yr(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.hn(o,s.key),s.key.path.toArray()])}wn(e,s,o){const a=yr(e);let c=new qt(hr);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,s)])},(d,h)=>{c=c.add(new ar(o.indexId,s,h.arrayValue,h.directionalValue))}).next(()=>c)}mn(e,s){let o=new qt(hr);const a=this.an(s,e);if(a==null)return o;const c=ht$1(s);if(c!=null){const d=e.data.field(c.fieldPath);if(ge$1(d))for(const h of d.arrayValue.values||[])o=o.add(new ar(s.indexId,e.key,this.on(h),a))}else o=o.add(new ar(s.indexId,e.key,wr,a));return o}gn(e,s,o,a,c){C("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const d=[];return function(h,g,_,$l,Rl){const Ml=h.getIterator(),Ul=g.getIterator();let Fl=Gt(Ml),Ll=Gt(Ul);for(;Fl||Ll;){let Bl=!1,zl=!1;if(Fl&&Ll){const Hl=_(Fl,Ll);Hl<0?zl=!0:Hl>0&&(Bl=!0)}else Fl!=null?zl=!0:Bl=!0;Bl?($l(Ll),Ll=Gt(Ul)):zl?(Rl(Fl),Fl=Gt(Ml)):(Fl=Gt(Ml),Ll=Gt(Ul))}}(a,c,hr,h=>{d.push(this.yn(e,s,o,h))},h=>{d.push(this.pn(e,s,o,h))}),At$1.waitFor(d)}_n(e){let s=1;return Ir(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,c)=>{c.done(),s=a.sequenceNumber+1}).next(()=>s)}createRange(e,s,o){o=o.sort((d,h)=>hr(d,h)).filter((d,h,g)=>!h||hr(d,g[h-1])!==0);const a=[];a.push(e);for(const d of o){const h=hr(d,e),g=hr(d,s);if(h===0)a[0]=e.Ke();else if(h>0&&g<0)a.push(d),a.push(d.Ke());else if(g>0)break}a.push(s);const c=[];for(let d=0;d<a.length;d+=2)c.push(IDBKeyRange.bound([a[d].indexId,this.uid,a[d].arrayValue,a[d].directionalValue,wr,[]],[a[d+1].indexId,this.uid,a[d+1].arrayValue,a[d+1].directionalValue,wr,[]]));return c}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(Tr)}getMinOffset(e,s){return At$1.mapArray(this.tn(s),o=>this.en(e,o).next(a=>a||O())).next(Tr)}}function gr(i){return Ni(i,"collectionParents")}function yr(i){return Ni(i,"indexEntries")}function pr(i){return Ni(i,"indexConfiguration")}function Ir(i){return Ni(i,"indexState")}function Tr(i){M(i.length!==0);let e=i[0].indexState.offset,s=e.largestBatchId;for(let o=1;o<i.length;o++){const a=i[o].indexState.offset;pt$1(a,e)<0&&(e=a),s<a.largestBatchId&&(s=a.largestBatchId)}return new yt$1(e.readTime,e.documentKey,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ar{constructor(e,s,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(i,e,s){const o=i.store("mutations"),a=i.store("documentMutations"),c=[],d=IDBKeyRange.only(s.batchId);let h=0;const g=o.Z({range:d},($l,Rl,Ml)=>(h++,Ml.delete()));c.push(g.next(()=>{M(h===1)}));const _=[];for(const $l of s.mutations){const Rl=li(e,$l.key.path,s.batchId);c.push(a.delete(Rl)),_.push($l.key)}return At$1.waitFor(c).next(()=>_)}function br(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw O();e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(41943040,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);class Pr{constructor(e,s,o,a){this.userId=e,this.It=s,this.indexManager=o,this.referenceDelegate=a,this.In={}}static oe(e,s,o,a){M(e.uid!=="");const c=e.isAuthenticated()?e.uid:"";return new Pr(c,s,o,a)}checkEmpty(e){let s=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).Z({index:"userMutationsIndex",range:o},(a,c,d)=>{s=!1,d.done()}).next(()=>s)}addMutationBatch(e,s,o,a){const c=Sr(e),d=Vr(e);return d.add({}).next(h=>{M(typeof h=="number");const g=new ki(h,s,o,a),_=function(Ml,Ul,Fl){const Ll=Fl.baseMutations.map(zl=>Ks(Ml.re,zl)),Bl=Fl.mutations.map(zl=>Ks(Ml.re,zl));return{userId:Ul,batchId:Fl.batchId,localWriteTimeMs:Fl.localWriteTime.toMillis(),baseMutations:Ll,mutations:Bl}}(this.It,this.userId,g),$l=[];let Rl=new qt((Ml,Ul)=>Z(Ml.canonicalString(),Ul.canonicalString()));for(const Ml of a){const Ul=li(this.userId,Ml.key.path,h);Rl=Rl.add(Ml.key.path.popLast()),$l.push(d.put(_)),$l.push(c.put(Ul,fi))}return Rl.forEach(Ml=>{$l.push(this.indexManager.addToCollectionParentIndex(e,Ml))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),At$1.waitFor($l).next(()=>g)})}lookupMutationBatch(e,s){return Vr(e).get(s).next(o=>o?(M(o.userId===this.userId),Gi(this.It,o)):null)}Tn(e,s){return this.In[s]?At$1.resolve(this.In[s]):this.lookupMutationBatch(e,s).next(o=>{if(o){const a=o.keys();return this.In[s]=a,a}return null})}getNextMutationBatchAfterBatchId(e,s){const o=s+1,a=IDBKeyRange.lowerBound([this.userId,o]);let c=null;return Vr(e).Z({index:"userMutationsIndex",range:a},(d,h,g)=>{h.userId===this.userId&&(M(h.batchId>=o),c=Gi(this.It,h)),g.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Vr(e).Z({index:"userMutationsIndex",range:s,reverse:!0},(a,c,d)=>{o=c.batchId,d.done()}).next(()=>o)}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vr(e).W("userMutationsIndex",s).next(o=>o.map(a=>Gi(this.It,a)))}getAllMutationBatchesAffectingDocumentKey(e,s){const o=hi(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=[];return Sr(e).Z({range:a},(d,h,g)=>{const[_,$l,Rl]=d,Ml=ci($l);if(_===this.userId&&s.path.isEqual(Ml))return Vr(e).get(Rl).next(Ul=>{if(!Ul)throw O();M(Ul.userId===this.userId),c.push(Gi(this.It,Ul))});g.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,s){let o=new qt(Z);const a=[];return s.forEach(c=>{const d=hi(this.userId,c.path),h=IDBKeyRange.lowerBound(d),g=Sr(e).Z({range:h},(_,$l,Rl)=>{const[Ml,Ul,Fl]=_,Ll=ci(Ul);Ml===this.userId&&c.path.isEqual(Ll)?o=o.add(Fl):Rl.done()});a.push(g)}),At$1.waitFor(a).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,s){const o=s.path,a=o.length+1,c=hi(this.userId,o),d=IDBKeyRange.lowerBound(c);let h=new qt(Z);return Sr(e).Z({range:d},(g,_,$l)=>{const[Rl,Ml,Ul]=g,Fl=ci(Ml);Rl===this.userId&&o.isPrefixOf(Fl)?Fl.length===a&&(h=h.add(Ul)):$l.done()}).next(()=>this.En(e,h))}En(e,s){const o=[],a=[];return s.forEach(c=>{a.push(Vr(e).get(c).next(d=>{if(d===null)throw O();M(d.userId===this.userId),o.push(Gi(this.It,d))}))}),At$1.waitFor(a).next(()=>o)}removeMutationBatch(e,s){return Rr(e.ie,this.userId,s).next(o=>(e.addOnCommittedListener(()=>{this.An(s.batchId)}),At$1.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(s=>{if(!s)return At$1.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Sr(e).Z({range:o},(c,d,h)=>{if(c[0]===this.userId){const g=ci(c[1]);a.push(g)}else h.done()}).next(()=>{M(a.length===0)})})}containsKey(e,s){return vr(e,this.userId,s)}Rn(e){return Dr(e).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function vr(i,e,s){const o=hi(e,s.path),a=o[1],c=IDBKeyRange.lowerBound(o);let d=!1;return Sr(i).Z({range:c,X:!0},(h,g,_)=>{const[$l,Rl,Ml]=h;$l===e&&Rl===a&&(d=!0),_.done()}).next(()=>d)}function Vr(i){return Ni(i,"mutations")}function Sr(i){return Ni(i,"documentMutations")}function Dr(i){return Ni(i,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Cr(0)}static vn(){return new Cr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,s){this.referenceDelegate=e,this.It=s}allocateTargetId(e){return this.Vn(e).next(s=>{const o=new Cr(s.highestTargetId);return s.highestTargetId=o.next(),this.Sn(e,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(s=>st$1.fromTimestamp(new nt$1(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(e,s,o){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=s,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),s>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=s),this.Sn(e,a)))}addTargetData(e,s){return this.Dn(e,s).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(s,o),this.Sn(e,o))))}updateTargetData(e,s){return this.Dn(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next(()=>Nr(e).delete(s.targetId)).next(()=>this.Vn(e)).next(o=>(M(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,s,o){let a=0;const c=[];return Nr(e).Z((d,h)=>{const g=Qi(h);g.sequenceNumber<=s&&o.get(g.targetId)===null&&(a++,c.push(this.removeTargetData(e,g)))}).next(()=>At$1.waitFor(c)).next(()=>a)}forEachTarget(e,s){return Nr(e).Z((o,a)=>{const c=Qi(a);s(c)})}Vn(e){return kr(e).get("targetGlobalKey").next(s=>(M(s!==null),s))}Sn(e,s){return kr(e).put("targetGlobalKey",s)}Dn(e,s){return Nr(e).put(ji(this.It,s))}Cn(e,s){let o=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,o=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(s=>s.targetCount)}getTargetData(e,s){const o=xe$1(s),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let c=null;return Nr(e).Z({range:a,index:"queryTargetsIndex"},(d,h,g)=>{const _=Qi(h);ke$1(s,_.target)&&(c=_,g.done())}).next(()=>c)}addMatchingKeys(e,s,o){const a=[],c=Or(e);return s.forEach(d=>{const h=ri(d.path);a.push(c.put({targetId:o,path:h})),a.push(this.referenceDelegate.addReference(e,o,d))}),At$1.waitFor(a)}removeMatchingKeys(e,s,o){const a=Or(e);return At$1.forEach(s,c=>{const d=ri(c.path);return At$1.waitFor([a.delete([o,d]),this.referenceDelegate.removeReference(e,o,c)])})}removeMatchingKeysForTargetId(e,s){const o=Or(e),a=IDBKeyRange.bound([s],[s+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(e,s){const o=IDBKeyRange.bound([s],[s+1],!1,!0),a=Or(e);let c=fs();return a.Z({range:o,X:!0},(d,h,g)=>{const _=ci(d[1]),$l=new ct$1(_);c=c.add($l)}).next(()=>c)}containsKey(e,s){const o=ri(s.path),a=IDBKeyRange.bound([o],[et$1(o)],!1,!0);let c=0;return Or(e).Z({index:"documentTargetsIndex",X:!0,range:a},([d,h],g,_)=>{d!==0&&(c++,_.done())}).next(()=>c>0)}se(e,s){return Nr(e).get(s).next(o=>o?Qi(o):null)}}function Nr(i){return Ni(i,"targets")}function kr(i){return Ni(i,"targetGlobal")}function Or(i){return Ni(i,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr([i,e],[s,o]){const a=Z(i,s);return a===0?Z(e,o):a}class Fr{constructor(e){this.xn=e,this.buffer=new qt(Mr),this.Nn=0}kn(){return++this.Nn}On(e){const s=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(s);else{const o=this.buffer.last();Mr(s,o)<0&&(this.buffer=this.buffer.delete(o).add(s))}}get maxValue(){return this.buffer.last()[0]}}class $r{constructor(e,s,o){this.garbageCollector=e,this.asyncQueue=s,this.localStore=o,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){C("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Vt(s)?C("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):await Et$1(s)}await this.Fn(3e5)})}}class Br{constructor(e,s){this.$n=e,this.params=s}calculateTargetCount(e,s){return this.$n.Bn(e).next(o=>Math.floor(s/100*o))}nthSequenceNumber(e,s){if(s===0)return At$1.resolve(Ot$1.at);const o=new Fr(s);return this.$n.forEachTarget(e,a=>o.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>o.On(a))).next(()=>o.maxValue)}removeTargets(e,s,o){return this.$n.removeTargets(e,s,o)}removeOrphanedDocuments(e,s){return this.$n.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(C("LruGarbageCollector","Garbage collection skipped; disabled"),At$1.resolve(Er)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Er):this.Un(e,s))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,s){let o,a,c,d,h,g,_;const $l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Rl=>(Rl>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Rl}`),a=this.params.maximumSequenceNumbersToCollect):a=Rl,d=Date.now(),this.nthSequenceNumber(e,a))).next(Rl=>(o=Rl,h=Date.now(),this.removeTargets(e,o,s))).next(Rl=>(c=Rl,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(Rl=>(_=Date.now(),S()<=LogLevel.DEBUG&&C("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-$l}ms
	Determined least recently used ${a} in `+(h-d)+`ms
	Removed ${c} targets in `+(g-h)+`ms
	Removed ${Rl} documents in `+(_-g)+`ms
Total Duration: ${_-$l}ms`),At$1.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:Rl})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,s){this.db=e,this.garbageCollector=function(o,a){return new Br(o,a)}(this,s)}Bn(e){const s=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>s.next(a=>o+a))}qn(e){let s=0;return this.Ln(e,o=>{s++}).next(()=>s)}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}Ln(e,s){return this.Kn(e,(o,a)=>s(a))}addReference(e,s,o){return Ur(e,o)}removeReference(e,s,o){return Ur(e,o)}removeTargets(e,s,o){return this.db.getTargetCache().removeTargets(e,s,o)}markPotentiallyOrphaned(e,s){return Ur(e,s)}Gn(e,s){return function(o,a){let c=!1;return Dr(o).tt(d=>vr(o,d,a).next(h=>(h&&(c=!0),At$1.resolve(!h)))).next(()=>c)}(e,s)}removeOrphanedDocuments(e,s){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Kn(e,(d,h)=>{if(h<=s){const g=this.Gn(e,d).next(_=>{if(!_)return c++,o.getEntry(e,d).next(()=>(o.removeEntry(d,st$1.min()),Or(e).delete([0,ri(d.path)])))});a.push(g)}}).next(()=>At$1.waitFor(a)).next(()=>o.apply(e)).next(()=>c)}removeTarget(e,s){const o=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,s){return Ur(e,s)}Kn(e,s){const o=Or(e);let a,c=Ot$1.at;return o.Z({index:"documentTargetsIndex"},([d,h],{path:g,sequenceNumber:_})=>{d===0?(c!==Ot$1.at&&s(new ct$1(ci(a)),c),c=_,a=g):c=Ot$1.at}).next(()=>{c!==Ot$1.at&&s(new ct$1(ci(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ur(i,e){return Or(i).put(function(s,o){return{targetId:0,path:ri(s.path),sequenceNumber:o}}(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.changes=new es(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Se$1.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const o=this.changes.get(s);return o!==void 0?At$1.resolve(o):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,o){return Wr(e).put(o)}removeEntry(e,s,o){return Wr(e).delete(function(a,c){const d=a.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ui(c),d[d.length-1]]}(s,o))}updateMetadata(e,s){return this.getMetadata(e).next(o=>(o.byteSize+=s,this.Qn(e,o)))}getEntry(e,s){let o=Se$1.newInvalidDocument(s);return Wr(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zr(s))},(a,c)=>{o=this.jn(s,c)}).next(()=>o)}Wn(e,s){let o={size:0,document:Se$1.newInvalidDocument(s)};return Wr(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zr(s))},(a,c)=>{o={document:this.jn(s,c),size:br(c)}}).next(()=>o)}getEntries(e,s){let o=ss();return this.zn(e,s,(a,c)=>{const d=this.jn(a,c);o=o.insert(a,d)}).next(()=>o)}Hn(e,s){let o=ss(),a=new Bt$1(ct$1.comparator);return this.zn(e,s,(c,d)=>{const h=this.jn(c,d);o=o.insert(c,h),a=a.insert(c,br(d))}).next(()=>({documents:o,Jn:a}))}zn(e,s,o){if(s.isEmpty())return At$1.resolve();let a=new qt(Jr);s.forEach(g=>a=a.add(g));const c=IDBKeyRange.bound(zr(a.first()),zr(a.last())),d=a.getIterator();let h=d.getNext();return Wr(e).Z({index:"documentKeyIndex",range:c},(g,_,$l)=>{const Rl=ct$1.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&Jr(h,Rl)<0;)o(h,null),h=d.getNext();h&&h.isEqual(Rl)&&(o(h,_),h=d.hasNext()?d.getNext():null),h?$l.j(zr(h)):$l.done()}).next(()=>{for(;h;)o(h,null),h=d.hasNext()?d.getNext():null})}getAllFromCollection(e,s,o){const a=[s.popLast().toArray(),s.lastSegment(),Ui(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wr(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{let h=ss();for(const g of d){const _=this.jn(ct$1.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(_.key,_)}return h})}getAllFromCollectionGroup(e,s,o,a){let c=ss();const d=Hr(s,o),h=Hr(s,yt$1.max());return Wr(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,h,!0)},(g,_,$l)=>{const Rl=this.jn(ct$1.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);c=c.insert(Rl.key,Rl),c.size===a&&$l.done()}).next(()=>c)}newChangeBuffer(e){return new Qr(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(s=>s.byteSize)}getMetadata(e){return jr(e).get("remoteDocumentGlobalKey").next(s=>(M(!!s),s))}Qn(e,s){return jr(e).put("remoteDocumentGlobalKey",s)}jn(e,s){if(s){const o=Bi(this.It,s);if(!(o.isNoDocument()&&o.version.isEqual(st$1.min())))return o}return Se$1.newInvalidDocument(e)}}function Gr(i){return new Kr(i)}class Qr extends qr{constructor(e,s){super(),this.Yn=e,this.trackRemovals=s,this.Xn=new es(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(e){const s=[];let o=0,a=new qt((c,d)=>Z(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const h=this.Xn.get(c);if(s.push(this.Yn.removeEntry(e,c,h.readTime)),d.isValidDocument()){const g=Li(this.Yn.It,d);a=a.add(c.path.popLast());const _=br(g);o+=_-h.size,s.push(this.Yn.addEntry(e,c,g))}else if(o-=h.size,this.trackRemovals){const g=Li(this.Yn.It,d.convertToNoDocument(st$1.min()));s.push(this.Yn.addEntry(e,c,g))}}),a.forEach(c=>{s.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),s.push(this.Yn.updateMetadata(e,o)),At$1.waitFor(s)}getFromCache(e,s){return this.Yn.Wn(e,s).next(o=>(this.Xn.set(s,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,s){return this.Yn.Hn(e,s).next(({documents:o,Jn:a})=>(a.forEach((c,d)=>{this.Xn.set(c,{size:d,readTime:o.get(c).readTime})}),o))}}function jr(i){return Ni(i,"remoteDocumentGlobal")}function Wr(i){return Ni(i,"remoteDocumentsV14")}function zr(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hr(i,e){const s=e.documentKey.path.toArray();return[i,Ui(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function Jr(i,e){const s=i.path.toArray(),o=e.path.toArray();let a=0;for(let c=0;c<s.length-2&&c<o.length-2;++c)if(a=Z(s[c],o[c]),a)return a;return a=Z(s.length,o.length),a||(a=Z(s[s.length-2],o[o.length-2]),a||Z(s[s.length-1],o[o.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,s,o,a){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,s){let o=null;return this.documentOverlayCache.getOverlay(e,s).next(a=>(o=a,this.getBaseDocument(e,s,o))).next(a=>(o!==null&&Ln(o.mutation,a,Qt.empty(),nt$1.now()),a))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(o=>this.getLocalViewOfDocuments(e,o,fs()).next(()=>o))}getLocalViewOfDocuments(e,s,o=fs()){const a=us();return this.populateOverlays(e,a,s).next(()=>this.computeViews(e,s,a,o).next(c=>{let d=rs();return c.forEach((h,g)=>{d=d.insert(h,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,s){const o=us();return this.populateOverlays(e,o,s).next(()=>this.computeViews(e,s,o,fs()))}populateOverlays(e,s,o){const a=[];return o.forEach(c=>{s.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,h)=>{s.set(d,h)})})}computeViews(e,s,o,a){let c=ss();const d=as$1(),h=as$1();return s.forEach((g,_)=>{const $l=o.get(_.key);a.has(_.key)&&($l===void 0||$l.mutation instanceof Gn)?c=c.insert(_.key,_):$l!==void 0&&(d.set(_.key,$l.mutation.getFieldMask()),Ln($l.mutation,_,$l.mutation.getFieldMask(),nt$1.now()))}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,$l)=>d.set(_,$l)),s.forEach((_,$l)=>{var Rl;return h.set(_,new Yr($l,(Rl=d.get(_))!==null&&Rl!==void 0?Rl:null))}),h))}recalculateAndSaveOverlays(e,s){const o=as$1();let a=new Bt$1((d,h)=>d-h),c=fs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(d=>{for(const h of d)h.keys().forEach(g=>{const _=s.get(g);if(_===null)return;let $l=o.get(g)||Qt.empty();$l=h.applyToLocalView(_,$l),o.set(g,$l);const Rl=(a.get(h.batchId)||fs()).add(g);a=a.insert(h.batchId,Rl)})}).next(()=>{const d=[],h=a.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),_=g.key,$l=g.value,Rl=cs();$l.forEach(Ml=>{if(!c.has(Ml)){const Ul=$n(s.get(Ml),o.get(Ml));Ul!==null&&Rl.set(Ml,Ul),c=c.add(Ml)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,Rl))}return At$1.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,s,o){return function(a){return ct$1.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):on(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,o):this.getDocumentsMatchingCollectionQuery(e,s,o)}getNextDocuments(e,s,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,o,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,o.largestBatchId,a-c.size):At$1.resolve(us());let h=-1,g=c;return d.next(_=>At$1.forEach(_,($l,Rl)=>(h<Rl.largestBatchId&&(h=Rl.largestBatchId),c.get($l)?At$1.resolve():this.getBaseDocument(e,$l,Rl).next(Ml=>{g=g.insert($l,Ml)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,fs())).next($l=>({batchId:h,changes:os($l)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new ct$1(s)).next(o=>{let a=rs();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,s,o){const a=s.collectionGroup;let c=rs();return this.indexManager.getCollectionParents(e,a).next(d=>At$1.forEach(d,h=>{const g=function(_,$l){return new Ze$1($l,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(s,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,o).next(_=>{_.forEach(($l,Rl)=>{c=c.insert($l,Rl)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,s,o){let a;return this.remoteDocumentCache.getAllFromCollection(e,s.path,o).next(c=>(a=c,this.documentOverlayCache.getOverlaysForCollection(e,s.path,o.largestBatchId))).next(c=>{c.forEach((h,g)=>{const _=g.getKey();a.get(_)===null&&(a=a.insert(_,Se$1.newInvalidDocument(_)))});let d=rs();return a.forEach((h,g)=>{const _=c.get(h);_!==void 0&&Ln(_.mutation,g,Qt.empty(),nt$1.now()),dn(s,g)&&(d=d.insert(h,g))}),d})}getBaseDocument(e,s,o){return o===null||o.mutation.type===1?this.remoteDocumentCache.getEntry(e,s):At$1.resolve(Se$1.newInvalidDocument(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,s){return At$1.resolve(this.Zn.get(s))}saveBundleMetadata(e,s){var o;return this.Zn.set(s.id,{id:(o=s).id,version:o.version,createTime:Ds(o.createTime)}),At$1.resolve()}getNamedQuery(e,s){return At$1.resolve(this.ts.get(s))}saveNamedQuery(e,s){return this.ts.set(s.name,function(o){return{name:o.name,query:Wi(o.bundledQuery),readTime:Ds(o.readTime)}}(s)),At$1.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to$1{constructor(){this.overlays=new Bt$1(ct$1.comparator),this.es=new Map}getOverlay(e,s){return At$1.resolve(this.overlays.get(s))}getOverlays(e,s){const o=us();return At$1.forEach(s,a=>this.getOverlay(e,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(e,s,o){return o.forEach((a,c)=>{this.ue(e,s,c)}),At$1.resolve()}removeOverlaysForBatchId(e,s,o){const a=this.es.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(o)),At$1.resolve()}getOverlaysForCollection(e,s,o){const a=us(),c=s.length+1,d=new ct$1(s.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const g=h.getNext().value,_=g.getKey();if(!s.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>o&&a.set(g.getKey(),g)}return At$1.resolve(a)}getOverlaysForCollectionGroup(e,s,o,a){let c=new Bt$1((_,$l)=>_-$l);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===s&&_.largestBatchId>o){let $l=c.get(_.largestBatchId);$l===null&&($l=us(),c=c.insert(_.largestBatchId,$l)),$l.set(_.getKey(),_)}}const h=us(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,$l)=>h.set(_,$l)),!(h.size()>=a)););return At$1.resolve(h)}ue(e,s,o){const a=this.overlays.get(o.key);if(a!==null){const d=this.es.get(a.largestBatchId).delete(o.key);this.es.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new Mi(s,o));let c=this.es.get(s);c===void 0&&(c=fs(),this.es.set(s,c)),this.es.set(s,c.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.ns=new qt(no.ss),this.rs=new qt(no.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,s){const o=new no(e,s);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,s){e.forEach(o=>this.addReference(o,s))}removeReference(e,s){this.cs(new no(e,s))}hs(e,s){e.forEach(o=>this.removeReference(o,s))}ls(e){const s=new ct$1(new rt$1([])),o=new no(s,e),a=new no(s,e+1),c=[];return this.rs.forEachInRange([o,a],d=>{this.cs(d),c.push(d.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const s=new ct$1(new rt$1([])),o=new no(s,e),a=new no(s,e+1);let c=fs();return this.rs.forEachInRange([o,a],d=>{c=c.add(d.key)}),c}containsKey(e){const s=new no(e,0),o=this.ns.firstAfterOrEqual(s);return o!==null&&e.isEqual(o.key)}}class no{constructor(e,s){this.key=e,this._s=s}static ss(e,s){return ct$1.comparator(e.key,s.key)||Z(e._s,s._s)}static os(e,s){return Z(e._s,s._s)||ct$1.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.ws=1,this.gs=new qt(no.ss)}checkEmpty(e){return At$1.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,o,a){const c=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ki(c,s,o,a);this.mutationQueue.push(d);for(const h of a)this.gs=this.gs.add(new no(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return At$1.resolve(d)}lookupMutationBatch(e,s){return At$1.resolve(this.ys(s))}getNextMutationBatchAfterBatchId(e,s){const o=s+1,a=this.ps(o),c=a<0?0:a;return At$1.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return At$1.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return At$1.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const o=new no(s,0),a=new no(s,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([o,a],d=>{const h=this.ys(d._s);c.push(h)}),At$1.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,s){let o=new qt(Z);return s.forEach(a=>{const c=new no(a,0),d=new no(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,d],h=>{o=o.add(h._s)})}),At$1.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,s){const o=s.path,a=o.length+1;let c=o;ct$1.isDocumentKey(c)||(c=c.child(""));const d=new no(new ct$1(c),0);let h=new qt(Z);return this.gs.forEachWhile(g=>{const _=g.key.path;return!!o.isPrefixOf(_)&&(_.length===a&&(h=h.add(g._s)),!0)},d),At$1.resolve(this.Is(h))}Is(e){const s=[];return e.forEach(o=>{const a=this.ys(o);a!==null&&s.push(a)}),s}removeMutationBatch(e,s){M(this.Ts(s.batchId,"removed")===0),this.mutationQueue.shift();let o=this.gs;return At$1.forEach(s.mutations,a=>{const c=new no(a.key,s.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,s){const o=new no(s,0),a=this.gs.firstAfterOrEqual(o);return At$1.resolve(s.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,At$1.resolve()}Ts(e,s){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const s=this.ps(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.Es=e,this.docs=new Bt$1(ct$1.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const o=s.key,a=this.docs.get(o),c=a?a.size:0,d=this.Es(s);return this.docs=this.docs.insert(o,{document:s.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const o=this.docs.get(s);return At$1.resolve(o?o.document.mutableCopy():Se$1.newInvalidDocument(s))}getEntries(e,s){let o=ss();return s.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():Se$1.newInvalidDocument(a))}),At$1.resolve(o)}getAllFromCollection(e,s,o){let a=ss();const c=new ct$1(s.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||pt$1(gt$2(g),o)<=0||(a=a.insert(g.key,g.mutableCopy()))}return At$1.resolve(a)}getAllFromCollectionGroup(e,s,o,a){O()}As(e,s){return At$1.forEach(this.docs,o=>s(o))}newChangeBuffer(e){return new ro(this)}getSize(e){return At$1.resolve(this.size)}}class ro extends qr{constructor(e){super(),this.Yn=e}applyChanges(e){const s=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?s.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(o)}),At$1.waitFor(s)}getFromCache(e,s){return this.Yn.getEntry(e,s)}getAllFromCache(e,s){return this.Yn.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.persistence=e,this.Rs=new es(s=>xe$1(s),ke$1),this.lastRemoteSnapshotVersion=st$1.min(),this.highestTargetId=0,this.bs=0,this.Ps=new eo,this.targetCount=0,this.vs=Cr.Pn()}forEachTarget(e,s){return this.Rs.forEach((o,a)=>s(a)),At$1.resolve()}getLastRemoteSnapshotVersion(e){return At$1.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return At$1.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),At$1.resolve(this.highestTargetId)}setTargetsMetadata(e,s,o){return o&&(this.lastRemoteSnapshotVersion=o),s>this.bs&&(this.bs=s),At$1.resolve()}Dn(e){this.Rs.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.vs=new Cr(s),this.highestTargetId=s),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,s){return this.Dn(s),this.targetCount+=1,At$1.resolve()}updateTargetData(e,s){return this.Dn(s),At$1.resolve()}removeTargetData(e,s){return this.Rs.delete(s.target),this.Ps.ls(s.targetId),this.targetCount-=1,At$1.resolve()}removeTargets(e,s,o){let a=0;const c=[];return this.Rs.forEach((d,h)=>{h.sequenceNumber<=s&&o.get(h.targetId)===null&&(this.Rs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),At$1.waitFor(c).next(()=>a)}getTargetCount(e){return At$1.resolve(this.targetCount)}getTargetData(e,s){const o=this.Rs.get(s)||null;return At$1.resolve(o)}addMatchingKeys(e,s,o){return this.Ps.us(s,o),At$1.resolve()}removeMatchingKeys(e,s,o){this.Ps.hs(s,o);const a=this.persistence.referenceDelegate,c=[];return a&&s.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),At$1.waitFor(c)}removeMatchingKeysForTargetId(e,s){return this.Ps.ls(s),At$1.resolve()}getMatchingKeysForTargetId(e,s){const o=this.Ps.ds(s);return At$1.resolve(o)}containsKey(e,s){return At$1.resolve(this.Ps.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,s){this.Vs={},this.overlays={},this.Ss=new Ot$1(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new oo(this),this.indexManager=new dr,this.remoteDocumentCache=function(o){return new io(o)}(o=>this.referenceDelegate.xs(o)),this.It=new $i(s),this.Ns=new Zr(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new to$1,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let o=this.Vs[e.toKey()];return o||(o=new so(s,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,s,o){C("MemoryPersistence","Starting transaction:",e);const a=new co(this.Ss.next());return this.referenceDelegate.ks(),o(a).next(c=>this.referenceDelegate.Os(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ms(e,s){return At$1.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,s)))}}class co extends Tt$1{constructor(e){super(),this.currentSequenceNumber=e}}class ao{constructor(e){this.persistence=e,this.Fs=new eo,this.$s=null}static Bs(e){return new ao(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,s,o){return this.Fs.addReference(o,s),this.Ls.delete(o.toString()),At$1.resolve()}removeReference(e,s,o){return this.Fs.removeReference(o,s),this.Ls.add(o.toString()),At$1.resolve()}markPotentiallyOrphaned(e,s){return this.Ls.add(s.toString()),At$1.resolve()}removeTarget(e,s){this.Fs.ls(s.targetId).forEach(a=>this.Ls.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,s.targetId).next(a=>{a.forEach(c=>this.Ls.add(c.toString()))}).next(()=>o.removeTargetData(e,s))}ks(){this.$s=new Set}Os(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At$1.forEach(this.Ls,o=>{const a=ct$1.fromPath(o);return this.Us(e,a).next(c=>{c||s.removeEntry(a,st$1.min())})}).next(()=>(this.$s=null,s.apply(e)))}updateLimboDocument(e,s){return this.Us(e,s).next(o=>{o?this.Ls.delete(s.toString()):this.Ls.add(s.toString())})}xs(e){return 0}Us(e,s){return At$1.or([()=>At$1.resolve(this.Fs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ms(e,s)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.It=e}$(e,s,o,a){const c=new Rt$1("createOrUpgrade",s);o<1&&a>=1&&(function(h){h.createObjectStore("owner")}(e),function(h){h.createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ai,{unique:!0}),h.createObjectStore("documentMutations")}(e),lo(e),function(h){h.createObjectStore("remoteDocuments")}(e));let d=At$1.resolve();return o<3&&a>=3&&(o!==0&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),lo(e)),d=d.next(()=>function(h){const g=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:st$1.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",_)}(c))),o<4&&a>=4&&(o!==0&&(d=d.next(()=>function(h,g){return g.store("mutations").W().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ai,{unique:!0});const $l=g.store("mutations"),Rl=_.map(Ml=>$l.put(Ml));return At$1.waitFor(Rl)})}(e,c))),d=d.next(()=>{(function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),o<5&&a>=5&&(d=d.next(()=>this.qs(c))),o<6&&a>=6&&(d=d.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),o<7&&a>=7&&(d=d.next(()=>this.Gs(c))),o<8&&a>=8&&(d=d.next(()=>this.Qs(e,c))),o<9&&a>=9&&(d=d.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)})),o<10&&a>=10&&(d=d.next(()=>this.js(c))),o<11&&a>=11&&(d=d.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&a>=12&&(d=d.next(()=>{(function(h){const g=h.createObjectStore("documentOverlays",{keyPath:Ri});g.createIndex("collectionPathOverlayIndex",bi,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Pi,{unique:!1})})(e)})),o<13&&a>=13&&(d=d.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:di});g.createIndex("documentKeyIndex",_i),g.createIndex("collectionGroupIndex",wi)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(d=d.next(()=>this.zs(e,c))),o<15&&a>=15&&(d=d.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Ii}).createIndex("sequenceNumberIndex",Ti,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Ei}).createIndex("documentKeyIndex",Ai,{unique:!1})}(e))),d}Ks(e){let s=0;return e.store("remoteDocuments").Z((o,a)=>{s+=br(a)}).next(()=>{const o={byteSize:s};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const s=e.store("mutationQueues"),o=e.store("mutations");return s.W().next(a=>At$1.forEach(a,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",d).next(h=>At$1.forEach(h,g=>{M(g.userId===c.userId);const _=Gi(this.It,g);return Rr(e,c.userId,_).next(()=>{})}))}))}Gs(e){const s=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return o.Z((d,h)=>{const g=new rt$1(d),_=function($l){return[0,ri($l)]}(g);c.push(s.get(_).next($l=>$l?At$1.resolve():(Rl=>s.put({targetId:0,path:ri(Rl),sequenceNumber:a.highestListenSequenceNumber}))(g)))}).next(()=>At$1.waitFor(c))})}Qs(e,s){e.createObjectStore("collectionParents",{keyPath:pi});const o=s.store("collectionParents"),a=new _r,c=d=>{if(a.add(d)){const h=d.lastSegment(),g=d.popLast();return o.put({collectionId:h,parent:ri(g)})}};return s.store("remoteDocuments").Z({X:!0},(d,h)=>{const g=new rt$1(d);return c(g.popLast())}).next(()=>s.store("documentMutations").Z({X:!0},([d,h,g],_)=>{const $l=ci(h);return c($l.popLast())}))}js(e){const s=e.store("targets");return s.Z((o,a)=>{const c=Qi(a),d=ji(this.It,c);return s.put(d)})}Ws(e,s){const o=s.store("remoteDocuments"),a=[];return o.Z((c,d)=>{const h=s.store("remoteDocumentsV14"),g=(_=d,_.document?new ct$1(rt$1.fromString(_.document.name).popFirst(5)):_.noDocument?ct$1.fromSegments(_.noDocument.path):_.unknownDocument?ct$1.fromSegments(_.unknownDocument.path):O()).path.toArray();var _;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $l={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};a.push(h.put($l))}).next(()=>At$1.waitFor(a))}zs(e,s){const o=s.store("mutations"),a=Gr(this.It),c=new uo(ao.Bs,this.It.re);return o.W().next(d=>{const h=new Map;return d.forEach(g=>{var _;let $l=(_=h.get(g.userId))!==null&&_!==void 0?_:fs();Gi(this.It,g).keys().forEach(Rl=>$l=$l.add(Rl)),h.set(g.userId,$l)}),At$1.forEach(h,(g,_)=>{const $l=new P(_),Rl=tr.oe(this.It,$l),Ml=c.getIndexManager($l),Ul=Pr.oe($l,this.It,Ml,c.referenceDelegate);return new Xr(a,Ul,Rl,Ml).recalculateAndSaveOverlaysForDocumentKeys(new xi(s,Ot$1.at),g).next()})})}}function lo(i){i.createObjectStore("targetDocuments",{keyPath:gi}).createIndex("documentTargetsIndex",yi,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mi,{unique:!0}),i.createObjectStore("targetGlobal")}const fo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _o{constructor(e,s,o,a,c,d,h,g,_,$l,Rl=15){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=o,this.Hs=c,this.window=d,this.document=h,this.Js=_,this.Ys=$l,this.Xs=Rl,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ml=>Promise.resolve(),!_o.C())throw new L(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lr(this,a),this.ii=s+"main",this.It=new $i(g),this.ri=new bt$1(this.ii,this.Xs,new ho(this.It)),this.Cs=new xr(this.referenceDelegate,this.It),this.remoteDocumentCache=Gr(this.It),this.Ns=new Yi,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,$l===!1&&x("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(B.FAILED_PRECONDITION,fo);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ot$1(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async s=>{if(this.started)return e(s)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async s=>{s.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mo(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(s=>{s||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(s=>this.isPrimary&&!s?this._i(e).next(()=>!1):!!s&&this.wi(e).next(()=>!0))).catch(e=>{if(Vt(e))return C("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return C("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return wo(e).get("owner").next(s=>At$1.resolve(this.mi(s)))}gi(e){return mo(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const o=Ni(s,"clientMetadata");return o.W().next(a=>{const c=this.Ii(a,18e5),d=a.filter(h=>c.indexOf(h)===-1);return At$1.forEach(d,h=>o.delete(h.clientId)).next(()=>d)})}).catch(()=>[]);if(this.oi)for(const s of e)this.oi.removeItem(this.Ti(s.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?At$1.resolve(!0):wo(e).get("owner").next(s=>{if(s!==null&&this.pi(s.leaseTimestampMs,5e3)&&!this.Ei(s.ownerId)){if(this.mi(s)&&this.networkEnabled)return!0;if(!this.mi(s)){if(!s.allowTabSynchronization)throw new L(B.FAILED_PRECONDITION,fo);return!1}}return!(!this.networkEnabled||!this.inForeground)||mo(e).W().next(o=>this.Ii(o,5e3).find(a=>{if(this.clientId!==a.clientId){const c=!this.networkEnabled&&a.networkEnabled,d=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(c||d&&h)return!0}return!1})===void 0)}).next(s=>(this.isPrimary!==s&&C("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const s=new xi(e,Ot$1.at);return this._i(s).next(()=>this.gi(s))}),this.ri.close(),this.Pi()}Ii(e,s){return e.filter(o=>this.pi(o.updateTimeMs,s)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>mo(e).W().next(s=>this.Ii(s,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,s){return Pr.oe(e,this.It,s,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mr(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return tr.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,s,o){C("IndexedDbPersistence","Starting transaction:",e);const a=s==="readonly"?"readonly":"readwrite",c=(d=this.Xs)===15?Ci:d===14?Di:d===13?Si:d===12?Vi:d===11?vi:void O();var d;let h;return this.ri.runTransaction(e,a,c,g=>(h=new xi(g,this.Ss?this.Ss.next():Ot$1.at),s==="readwrite-primary"?this.fi(h).next(_=>!!_||this.di(h)).next(_=>{if(!_)throw x(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new L(B.FAILED_PRECONDITION,It$1);return o(h)}).next(_=>this.wi(h).next(()=>_)):this.Vi(h).next(()=>o(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return wo(e).get("owner").next(s=>{if(s!==null&&this.pi(s.leaseTimestampMs,5e3)&&!this.Ei(s.ownerId)&&!this.mi(s)&&!(this.Ys||this.allowTabSynchronization&&s.allowTabSynchronization))throw new L(B.FAILED_PRECONDITION,fo)})}wi(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wo(e).put("owner",s)}static C(){return bt$1.C()}_i(e){const s=wo(e);return s.get("owner").next(o=>this.mi(o)?(C("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):At$1.resolve())}pi(e,s){const o=Date.now();return!(e<o-s)&&(!(e>o)||(x(`Detected an update time that is in the future: ${e} > ${o}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),isSafari()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var s;try{const o=((s=this.oi)===null||s===void 0?void 0:s.getItem(this.Ti(e)))!==null;return C("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return x("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){x("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wo(i){return Ni(i,"owner")}function mo(i){return Ni(i,"clientMetadata")}function go(i,e){let s=i.projectId;return i.isDefaultDatabase||(s+="."+i.database),"firestore/"+e+"/"+s+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,s,o,a){this.targetId=e,this.fromCache=s,this.Si=o,this.Di=a}static Ci(e,s){let o=fs(),a=fs();for(const c of s.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new yo(e,s.fromCache,o,a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.xi=!1}initialize(e,s){this.Ni=e,this.indexManager=s,this.xi=!0}getDocumentsMatchingQuery(e,s,o,a){return this.ki(e,s).next(c=>c||this.Oi(e,s,a,o)).next(c=>c||this.Mi(e,s))}ki(e,s){if(nn(s))return At$1.resolve(null);let o=cn(s);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(s.limit!==null&&a===1&&(s=an(s,null,"F"),o=cn(s)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const d=fs(...c);return this.Ni.getDocuments(e,d).next(h=>this.indexManager.getMinOffset(e,o).next(g=>{const _=this.Fi(s,h);return this.$i(s,_,d,g.readTime)?this.ki(e,an(s,null,"F")):this.Bi(e,_,s,g)}))})))}Oi(e,s,o,a){return nn(s)||a.isEqual(st$1.min())?this.Mi(e,s):this.Ni.getDocuments(e,o).next(c=>{const d=this.Fi(s,c);return this.$i(s,d,o,a)?this.Mi(e,s):(S()<=LogLevel.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fn(s)),this.Bi(e,d,s,mt$1(a,-1)))})}Fi(e,s){let o=new qt(wn(e));return s.forEach((a,c)=>{dn(e,c)&&(o=o.add(c))}),o}$i(e,s,o,a){if(e.limit===null)return!1;if(o.size!==s.size)return!0;const c=e.limitType==="F"?s.last():s.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Mi(e,s){return S()<=LogLevel.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",fn(s)),this.Ni.getDocumentsMatchingQuery(e,s,yt$1.min())}Bi(e,s,o,a){return this.Ni.getDocumentsMatchingQuery(e,o,a).next(c=>(s.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,s,o,a){this.persistence=e,this.Li=s,this.It=a,this.Ui=new Bt$1(Z),this.qi=new es(c=>xe$1(c),ke$1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xr(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.Ui))}}function To(i,e,s,o){return new Io(i,e,s,o)}async function Eo(i,e){const s=$(i);return await s.persistence.runTransaction("Handle user change","readonly",o=>{let a;return s.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,s.Qi(e),s.mutationQueue.getAllMutationBatches(o))).next(c=>{const d=[],h=[];let g=fs();for(const _ of a){d.push(_.batchId);for(const $l of _.mutations)g=g.add($l.key)}for(const _ of c){h.push(_.batchId);for(const $l of _.mutations)g=g.add($l.key)}return s.localDocuments.getDocuments(o,g).next(_=>({ji:_,removedBatchIds:d,addedBatchIds:h}))})})}function Ao(i,e){const s=$(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),c=s.Gi.newChangeBuffer({trackRemovals:!0});return function(d,h,g,_){const $l=g.batch,Rl=$l.keys();let Ml=At$1.resolve();return Rl.forEach(Ul=>{Ml=Ml.next(()=>_.getEntry(h,Ul)).next(Fl=>{const Ll=g.docVersions.get(Ul);M(Ll!==null),Fl.version.compareTo(Ll)<0&&($l.applyToRemoteDocument(Fl,g),Fl.isValidDocument()&&(Fl.setReadTime(g.commitVersion),_.addEntry(Fl)))})}),Ml.next(()=>d.mutationQueue.removeMutationBatch(h,$l))}(s,o,e,c).next(()=>c.apply(o)).next(()=>s.mutationQueue.performConsistencyCheck(o)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let h=fs();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(h=h.add(d.batch.mutations[g].key));return h}(e))).next(()=>s.localDocuments.getDocuments(o,a))})}function Ro(i){const e=$(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Cs.getLastRemoteSnapshotVersion(s))}function bo(i,e){const s=$(i),o=e.snapshotVersion;let a=s.Ui;return s.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=s.Gi.newChangeBuffer({trackRemovals:!0});a=s.Ui;const h=[];e.targetChanges.forEach(($l,Rl)=>{const Ml=a.get(Rl);if(!Ml)return;h.push(s.Cs.removeMatchingKeys(c,$l.removedDocuments,Rl).next(()=>s.Cs.addMatchingKeys(c,$l.addedDocuments,Rl)));let Ul=Ml.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.has(Rl)?Ul=Ul.withResumeToken(Wt$1.EMPTY_BYTE_STRING,st$1.min()).withLastLimboFreeSnapshotVersion(st$1.min()):$l.resumeToken.approximateByteSize()>0&&(Ul=Ul.withResumeToken($l.resumeToken,o)),a=a.insert(Rl,Ul),function(Fl,Ll,Bl){return Fl.resumeToken.approximateByteSize()===0||Ll.snapshotVersion.toMicroseconds()-Fl.snapshotVersion.toMicroseconds()>=3e8?!0:Bl.addedDocuments.size+Bl.modifiedDocuments.size+Bl.removedDocuments.size>0}(Ml,Ul,$l)&&h.push(s.Cs.updateTargetData(c,Ul))});let g=ss(),_=fs();if(e.documentUpdates.forEach($l=>{e.resolvedLimboDocuments.has($l)&&h.push(s.persistence.referenceDelegate.updateLimboDocument(c,$l))}),h.push(Po(c,d,e.documentUpdates).next($l=>{g=$l.Wi,_=$l.zi})),!o.isEqual(st$1.min())){const $l=s.Cs.getLastRemoteSnapshotVersion(c).next(Rl=>s.Cs.setTargetsMetadata(c,c.currentSequenceNumber,o));h.push($l)}return At$1.waitFor(h).next(()=>d.apply(c)).next(()=>s.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(s.Ui=a,c))}function Po(i,e,s){let o=fs(),a=fs();return s.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let d=ss();return s.forEach((h,g)=>{const _=c.get(h);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(h)),g.isNoDocument()&&g.version.isEqual(st$1.min())?(e.removeEntry(h,g.readTime),d=d.insert(h,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(h,g)):C("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",g.version)}),{Wi:d,zi:a}})}function vo(i,e){const s=$(i);return s.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Vo(i,e){const s=$(i);return s.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return s.Cs.getTargetData(o,e).next(c=>c?(a=c,At$1.resolve(a)):s.Cs.allocateTargetId(o).next(d=>(a=new Fi(e,d,0,o.currentSequenceNumber),s.Cs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=s.Ui.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(s.Ui=s.Ui.insert(o.targetId,o),s.qi.set(e,o.targetId)),o})}async function So(i,e,s){const o=$(i),a=o.Ui.get(e),c=s?"readwrite":"readwrite-primary";try{s||await o.persistence.runTransaction("Release target",c,d=>o.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Vt(d))throw d;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}o.Ui=o.Ui.remove(e),o.qi.delete(a.target)}function Do(i,e,s){const o=$(i);let a=st$1.min(),c=fs();return o.persistence.runTransaction("Execute query","readonly",d=>function(h,g,_){const $l=$(h),Rl=$l.qi.get(_);return Rl!==void 0?At$1.resolve($l.Ui.get(Rl)):$l.Cs.getTargetData(g,_)}(o,d,cn(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(d,h.targetId).next(g=>{c=g})}).next(()=>o.Li.getDocumentsMatchingQuery(d,e,s?a:st$1.min(),s?c:fs())).next(h=>(No(o,_n(e),h),{documents:h,Hi:c})))}function Co(i,e){const s=$(i),o=$(s.Cs),a=s.Ui.get(e);return a?Promise.resolve(a.target):s.persistence.runTransaction("Get target data","readonly",c=>o.se(c,e).next(d=>d?d.target:null))}function xo(i,e){const s=$(i),o=s.Ki.get(e)||st$1.min();return s.persistence.runTransaction("Get new document changes","readonly",a=>s.Gi.getAllFromCollectionGroup(a,e,mt$1(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(No(s,e,a),a))}function No(i,e,s){let o=i.Ki.get(e)||st$1.min();s.forEach((a,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Ki.set(e,o)}async function ko(i,e,s,o){const a=$(i);let c=fs(),d=ss();for(const _ of s){const $l=e.Ji(_.metadata.name);_.document&&(c=c.add($l));const Rl=e.Yi(_);Rl.setReadTime(e.Xi(_.metadata.readTime)),d=d.insert($l,Rl)}const h=a.Gi.newChangeBuffer({trackRemovals:!0}),g=await Vo(a,function(_){return cn(en(rt$1.fromString(`__bundle__/docs/${_}`)))}(o));return a.persistence.runTransaction("Apply bundle documents","readwrite",_=>Po(_,h,d).next($l=>(h.apply(_),$l)).next($l=>a.Cs.removeMatchingKeysForTargetId(_,g.targetId).next(()=>a.Cs.addMatchingKeys(_,c,g.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(_,$l.Wi,$l.zi)).next(()=>$l.Wi)))}async function Oo(i,e,s=fs()){const o=await Vo(i,cn(Wi(e.bundledQuery))),a=$(i);return a.persistence.runTransaction("Save named query","readwrite",c=>{const d=Ds(e.readTime);if(o.snapshotVersion.compareTo(d)>=0)return a.Ns.saveNamedQuery(c,e);const h=o.withResumeToken(Wt$1.EMPTY_BYTE_STRING,d);return a.Ui=a.Ui.insert(h.targetId,h),a.Cs.updateTargetData(c,h).next(()=>a.Cs.removeMatchingKeysForTargetId(c,o.targetId)).next(()=>a.Cs.addMatchingKeys(c,s,o.targetId)).next(()=>a.Ns.saveNamedQuery(c,e))})}function Mo(i,e){return`firestore_clients_${i}_${e}`}function Fo(i,e,s){let o=`firestore_mutations_${i}_${s}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function $o(i,e){return`firestore_targets_${i}_${e}`}class Bo{constructor(e,s,o,a){this.user=e,this.batchId=s,this.state=o,this.error=a}static Zi(e,s,o){const a=JSON.parse(o);let c,d=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return d&&a.error&&(d=typeof a.error.message=="string"&&typeof a.error.code=="string",d&&(c=new L(a.error.code,a.error.message))),d?new Bo(e,s,a.state,c):(x("SharedClientState",`Failed to parse mutation state for ID '${s}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lo{constructor(e,s,o){this.targetId=e,this.state=s,this.error=o}static Zi(e,s){const o=JSON.parse(s);let a,c=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return c&&o.error&&(c=typeof o.error.message=="string"&&typeof o.error.code=="string",c&&(a=new L(o.error.code,o.error.message))),c?new Lo(e,o.state,a):(x("SharedClientState",`Failed to parse target state for ID '${e}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uo{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static Zi(e,s){const o=JSON.parse(s);let a=typeof o=="object"&&o.activeTargetIds instanceof Array,c=_s();for(let d=0;a&&d<o.activeTargetIds.length;++d)a=re(o.activeTargetIds[d]),c=c.add(o.activeTargetIds[d]);return a?new Uo(e,c):(x("SharedClientState",`Failed to parse client data for instance '${e}': ${s}`),null)}}class qo{constructor(e,s){this.clientId=e,this.onlineState=s}static Zi(e){const s=JSON.parse(e);return typeof s=="object"&&["Unknown","Online","Offline"].indexOf(s.onlineState)!==-1&&typeof s.clientId=="string"?new qo(s.clientId,s.onlineState):(x("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ko{constructor(){this.activeTargetIds=_s()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Go{constructor(e,s,o,a,c){this.window=e,this.Hs=s,this.persistenceKey=o,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Bt$1(Z),this.started=!1,this.cr=[];const d=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=Mo(this.persistenceKey,this.sr),this.hr=function(h){return`firestore_sequence_number_${h}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Ko),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=function(h){return`firestore_online_state_${h}`}(this.persistenceKey),this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const o of e){if(o===this.sr)continue;const a=this.getItem(Mo(this.persistenceKey,o));if(a){const c=Uo.Zi(o,a);c&&(this.ur=this.ur.insert(c.clientId,c))}}this.gr();const s=this.storage.getItem(this.wr);if(s){const o=this.yr(s);o&&this.pr(o)}for(const o of this.cr)this.rr(o);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let s=!1;return this.ur.forEach((o,a)=>{a.activeTargetIds.has(e)&&(s=!0)}),s}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,s,o){this.Tr(e,s,o),this.Er(e)}addLocalQueryTarget(e){let s="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem($o(this.persistenceKey,e));if(o){const a=Lo.Zi(e,o);a&&(s=a.state)}}return this.Ar.er(e),this.gr(),s}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($o(this.persistenceKey,e))}updateQueryState(e,s,o){this.Rr(e,s,o)}handleUserChange(e,s,o){s.forEach(a=>{this.Er(a)}),this.currentUser=e,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return C("SharedClientState","READ",e,s),s}setItem(e,s){C("SharedClientState","SET",e,s),this.storage.setItem(e,s)}removeItem(e){C("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const s=e;if(s.storageArea===this.storage){if(C("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void x("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(s.key!==null){if(this.lr.test(s.key)){if(s.newValue==null){const o=this.vr(s.key);return this.Vr(o,null)}{const o=this.Sr(s.key,s.newValue);if(o)return this.Vr(o.clientId,o)}}else if(this.dr.test(s.key)){if(s.newValue!==null){const o=this.Dr(s.key,s.newValue);if(o)return this.Cr(o)}}else if(this._r.test(s.key)){if(s.newValue!==null){const o=this.Nr(s.key,s.newValue);if(o)return this.kr(o)}}else if(s.key===this.wr){if(s.newValue!==null){const o=this.yr(s.newValue);if(o)return this.pr(o)}}else if(s.key===this.hr){const o=function(a){let c=Ot$1.at;if(a!=null)try{const d=JSON.parse(a);M(typeof d=="number"),c=d}catch(d){x("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(s.newValue);o!==Ot$1.at&&this.sequenceNumberHandler(o)}else if(s.key===this.mr){const o=this.Or(s.newValue);await Promise.all(o.map(a=>this.syncEngine.Mr(a)))}}}else this.cr.push(s)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,s,o){const a=new Bo(this.currentUser,e,s,o),c=Fo(this.persistenceKey,this.currentUser,e);this.setItem(c,a.tr())}Er(e){const s=Fo(this.persistenceKey,this.currentUser,e);this.removeItem(s)}br(e){const s={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(s))}Rr(e,s,o){const a=$o(this.persistenceKey,e),c=new Lo(e,s,o);this.setItem(a,c.tr())}Pr(e){const s=JSON.stringify(Array.from(e));this.setItem(this.mr,s)}vr(e){const s=this.lr.exec(e);return s?s[1]:null}Sr(e,s){const o=this.vr(e);return Uo.Zi(o,s)}Dr(e,s){const o=this.dr.exec(e),a=Number(o[1]),c=o[2]!==void 0?o[2]:null;return Bo.Zi(new P(c),a,s)}Nr(e,s){const o=this._r.exec(e),a=Number(o[1]);return Lo.Zi(a,s)}yr(e){return qo.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);C("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,s){const o=s?this.ur.insert(e,s):this.ur.remove(e),a=this.Ir(this.ur),c=this.Ir(o),d=[],h=[];return c.forEach(g=>{a.has(g)||d.push(g)}),a.forEach(g=>{c.has(g)||h.push(g)}),this.syncEngine.Br(d,h).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let s=_s();return e.forEach((o,a)=>{s=s.unionWith(a.activeTargetIds)}),s}}class Qo{constructor(){this.Lr=new Ko,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,s,o){this.Ur[e]=s}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ko,Promise.resolve()}handleUserChange(e,s,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http";this.oo=s+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,s,o,a,c){const d=this.ho(e,s);C("RestConnection","Sending: ",d,o);const h={};return this.lo(h,a,c),this.fo(e,d,h,o).then(g=>(C("RestConnection","Received: ",g),g),g=>{throw N("RestConnection",`${e} failed with error: `,g,"url: ",d,"request:",o),g})}_o(e,s,o,a,c,d){return this.ao(e,s,o,a,c)}lo(e,s,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+v,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((a,c)=>e[c]=a),o&&o.headers.forEach((a,c)=>e[c]=a)}ho(e,s){const o=zo[e];return`${this.oo}/v1/${s}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,s,o,a){return new Promise((c,d)=>{const h=new XhrIo;h.setWithCredentials(!0),h.listenOnce(EventType.COMPLETE,()=>{var _;try{switch(h.getLastErrorCode()){case ErrorCode.NO_ERROR:const $l=h.getResponseJson();C("Connection","XHR received:",JSON.stringify($l)),c($l);break;case ErrorCode.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),d(new L(B.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const Rl=h.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',Rl,"response text:",h.getResponseText()),Rl>0){let Ml=h.getResponseJson();Array.isArray(Ml)&&(Ml=Ml[0]);const Ul=(_=Ml)===null||_===void 0?void 0:_.error;if(Ul&&Ul.status&&Ul.message){const Fl=function(Ll){const Bl=Ll.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(Bl)>=0?Bl:B.UNKNOWN}(Ul.status);d(new L(Fl,Ul.message))}else d(new L(B.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new L(B.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(a);h.send(s,"POST",g,o,15)})}wo(e,s,o){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=createWebChannelTransport(),d=getStatEventTarget(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new FetchXmlHttpFactory({})),this.lo(h.initMessageHeaders,s,o),h.encodeInitMessageHeaders=!0;const g=a.join("");C("Connection","Creating WebChannel: "+g,h);const _=c.createWebChannel(g,h);let $l=!1,Rl=!1;const Ml=new Ho({Hr:Fl=>{Rl?C("Connection","Not sending because WebChannel is closed:",Fl):($l||(C("Connection","Opening WebChannel transport."),_.open(),$l=!0),C("Connection","WebChannel sending:",Fl),_.send(Fl))},Jr:()=>_.close()}),Ul=(Fl,Ll,Bl)=>{Fl.listen(Ll,zl=>{try{Bl(zl)}catch(Hl){setTimeout(()=>{throw Hl},0)}})};return Ul(_,WebChannel.EventType.OPEN,()=>{Rl||C("Connection","WebChannel transport opened.")}),Ul(_,WebChannel.EventType.CLOSE,()=>{Rl||(Rl=!0,C("Connection","WebChannel transport closed"),Ml.io())}),Ul(_,WebChannel.EventType.ERROR,Fl=>{Rl||(Rl=!0,N("Connection","WebChannel transport errored:",Fl),Ml.io(new L(B.UNAVAILABLE,"The operation could not be completed")))}),Ul(_,WebChannel.EventType.MESSAGE,Fl=>{var Ll;if(!Rl){const Bl=Fl.data[0];M(!!Bl);const zl=Bl,Hl=zl.error||((Ll=zl[0])===null||Ll===void 0?void 0:Ll.error);if(Hl){C("Connection","WebChannel received error:",Hl);const Wl=Hl.status;let Yl=function(Gl){const _d=Yn[Gl];if(_d!==void 0)return ts(_d)}(Wl),Xl=Hl.message;Yl===void 0&&(Yl=B.INTERNAL,Xl="Unknown error status: "+Wl+" with message "+Hl.message),Rl=!0,Ml.io(new L(Yl,Xl)),_.close()}else C("Connection","WebChannel received:",Bl),Ml.ro(Bl)}}),Ul(d,Event$2.STAT_EVENT,Fl=>{Fl.stat===Stat.PROXY?C("Connection","Detected buffering proxy"):Fl.stat===Stat.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ml.so()},0),Ml}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(){return typeof window<"u"?window:null}function Xo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(i){return new Ps(i,!0)}class tu{constructor(e,s,o=1e3,a=1.5,c=6e4){this.Hs=e,this.timerId=s,this.mo=o,this.yo=a,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const s=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),a=Math.max(0,s-o);a>0&&C("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${s} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,s,o,a,c,d,h,g){this.Hs=e,this.vo=o,this.Vo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new tu(e,s)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,s){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():s&&s.code===B.RESOURCE_EXHAUSTED?(x(s.toString()),x("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):s&&s.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(s)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),s=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.So===s&&this.Go(o,a)},o=>{e(()=>{const a=new L(B.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(a)})})}Go(e,s){const o=this.Ko(this.So);this.stream=this.jo(e,s),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{o(()=>this.Qo(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return s=>{this.Hs.enqueueAndForget(()=>this.So===e?s():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nu extends eu{constructor(e,s,o,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,o,a,d),this.It=c}jo(e,s){return this.connection.wo("Listen",e,s)}onMessage(e){this.xo.reset();const s=qs(this.It,e),o=function(a){if(!("targetChange"in a))return st$1.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?st$1.min():c.readTime?Ds(c.readTime):st$1.min()}(e);return this.listener.Wo(s,o)}zo(e){const s={};s.database=Fs(this.It),s.addTarget=function(a,c){let d;const h=c.target;return d=Oe$1(h)?{documents:js(a,h)}:{query:Ws(a,h)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=Vs(a,c.resumeToken):c.snapshotVersion.compareTo(st$1.min())>0&&(d.readTime=vs(a,c.snapshotVersion.toTimestamp())),d}(this.It,e);const o=Hs(this.It,e);o&&(s.labels=o),this.Bo(s)}Ho(e){const s={};s.database=Fs(this.It),s.removeTarget=e,this.Bo(s)}}class su extends eu{constructor(e,s,o,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,o,a,d),this.It=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,s){return this.connection.wo("Write",e,s)}onMessage(e){if(M(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const s=Qs(e.writeResults,e.commitTime),o=Ds(e.commitTime);return this.listener.Zo(o,s)}return M(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Fs(this.It),this.Bo(e)}Xo(e){const s={streamToken:this.lastStreamToken,writes:e.map(o=>Ks(this.It,o))};this.Bo(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends class{}{constructor(e,s,o,a){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=o,this.It=a,this.nu=!1}su(){if(this.nu)throw new L(B.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,s,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.ao(e,s,o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new L(B.UNKNOWN,a.toString())})}_o(e,s,o,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection._o(e,s,o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new L(B.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class ou{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(x(s),this.ou=!1):C("OnlineStateTracker",s)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,s,o,a,c){this.localStore=e,this.datastore=s,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.qr(d=>{o.enqueueAndForget(async()=>{mu(this)&&(C("RemoteStore","Restarting streams for network reachability change."),await async function(h){const g=$(h);g._u.add(4),await au(g),g.gu.set("Unknown"),g._u.delete(4),await cu(g)}(this))})}),this.gu=new ou(o,a)}}async function cu(i){if(mu(i))for(const e of i.wu)await e(!0)}async function au(i){for(const e of i.wu)await e(!1)}function hu(i,e){const s=$(i);s.du.has(e.targetId)||(s.du.set(e.targetId,e),wu(s)?_u(s):ku(s).ko()&&fu(s,e))}function lu(i,e){const s=$(i),o=ku(s);s.du.delete(e),o.ko()&&du(s,e),s.du.size===0&&(o.ko()?o.Fo():mu(s)&&s.gu.set("Unknown"))}function fu(i,e){i.yu.Mt(e.targetId),ku(i).zo(e)}function du(i,e){i.yu.Mt(e),ku(i).Ho(e)}function _u(i){i.yu=new Ts({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),ku(i).start(),i.gu.uu()}function wu(i){return mu(i)&&!ku(i).No()&&i.du.size>0}function mu(i){return $(i)._u.size===0}function gu(i){i.yu=void 0}async function yu(i){i.du.forEach((e,s)=>{fu(i,e)})}async function pu(i,e){gu(i),wu(i)?(i.gu.hu(e),_u(i)):i.gu.set("Unknown")}async function Iu(i,e,s){if(i.gu.set("Online"),e instanceof ps&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.du.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.du.delete(d),o.yu.removeTarget(d))}(i,e)}catch(o){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Tu(i,o)}else if(e instanceof gs?i.yu.Gt(e):e instanceof ys?i.yu.Yt(e):i.yu.Wt(e),!s.isEqual(st$1.min()))try{const o=await Ro(i.localStore);s.compareTo(o)>=0&&await function(a,c){const d=a.yu.te(c);return d.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const _=a.du.get(g);_&&a.du.set(g,_.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach(h=>{const g=a.du.get(h);if(!g)return;a.du.set(h,g.withResumeToken(Wt$1.EMPTY_BYTE_STRING,g.snapshotVersion)),du(a,h);const _=new Fi(g.target,h,1,g.sequenceNumber);fu(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(i,s)}catch(o){C("RemoteStore","Failed to raise snapshot:",o),await Tu(i,o)}}async function Tu(i,e,s){if(!Vt(e))throw e;i._u.add(1),await au(i),i.gu.set("Offline"),s||(s=()=>Ro(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{C("RemoteStore","Retrying IndexedDB access"),await s(),i._u.delete(1),await cu(i)})}function Eu(i,e){return e().catch(s=>Tu(i,s,e))}async function Au(i){const e=$(i),s=Ou(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ru(e);)try{const a=await vo(e.localStore,o);if(a===null){e.fu.length===0&&s.Fo();break}o=a.batchId,bu(e,a)}catch(a){await Tu(e,a)}Pu(e)&&vu(e)}function Ru(i){return mu(i)&&i.fu.length<10}function bu(i,e){i.fu.push(e);const s=Ou(i);s.ko()&&s.Yo&&s.Xo(e.mutations)}function Pu(i){return mu(i)&&!Ou(i).No()&&i.fu.length>0}function vu(i){Ou(i).start()}async function Vu(i){Ou(i).eu()}async function Su(i){const e=Ou(i);for(const s of i.fu)e.Xo(s.mutations)}async function Du(i,e,s){const o=i.fu.shift(),a=Oi.from(o,e,s);await Eu(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Au(i)}async function Cu(i,e){e&&Ou(i).Yo&&await async function(s,o){if(a=o.code,Zn(a)&&a!==B.ABORTED){const c=s.fu.shift();Ou(s).Mo(),await Eu(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Au(s)}var a}(i,e),Pu(i)&&vu(i)}async function xu(i,e){const s=$(i);s.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const o=mu(s);s._u.add(3),await au(s),o&&s.gu.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s._u.delete(3),await cu(s)}async function Nu(i,e){const s=$(i);e?(s._u.delete(2),await cu(s)):e||(s._u.add(2),await au(s),s.gu.set("Unknown"))}function ku(i){return i.pu||(i.pu=function(e,s,o){const a=$(e);return a.su(),new nu(s,a.connection,a.authCredentials,a.appCheckCredentials,a.It,o)}(i.datastore,i.asyncQueue,{Yr:yu.bind(null,i),Zr:pu.bind(null,i),Wo:Iu.bind(null,i)}),i.wu.push(async e=>{e?(i.pu.Mo(),wu(i)?_u(i):i.gu.set("Unknown")):(await i.pu.stop(),gu(i))})),i.pu}function Ou(i){return i.Iu||(i.Iu=function(e,s,o){const a=$(e);return a.su(),new su(s,a.connection,a.authCredentials,a.appCheckCredentials,a.It,o)}(i.datastore,i.asyncQueue,{Yr:Vu.bind(null,i),Zr:Cu.bind(null,i),tu:Su.bind(null,i),Zo:Du.bind(null,i)}),i.wu.push(async e=>{e?(i.Iu.Mo(),await Au(i)):(await i.Iu.stop(),i.fu.length>0&&(C("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))})),i.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,s,o,a,c){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new U,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,s,o,a,c){const d=Date.now()+o,h=new Mu(e,s,d,a,c);return h.start(o),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fu(i,e){if(x("AsyncQueue",`${e}: ${i}`),Vt(i))return new L(B.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.comparator=e?(s,o)=>e(s,o)||ct$1.comparator(s.key,o.key):(s,o)=>ct$1.comparator(s.key,o.key),this.keyedMap=rs(),this.sortedSet=new Bt$1(this.comparator)}static emptySet(e){return new $u(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,o)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;s.hasNext();){const a=s.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const o=new $u;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=s,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.Tu=new Bt$1(ct$1.comparator)}track(e){const s=e.doc.key,o=this.Tu.get(s);o?e.type!==0&&o.type===3?this.Tu=this.Tu.insert(s,e):e.type===3&&o.type!==1?this.Tu=this.Tu.insert(s,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Tu=this.Tu.insert(s,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Tu=this.Tu.insert(s,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Tu=this.Tu.remove(s):e.type===1&&o.type===2?this.Tu=this.Tu.insert(s,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Tu=this.Tu.insert(s,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(s,e)}Eu(){const e=[];return this.Tu.inorderTraversal((s,o)=>{e.push(o)}),e}}class Lu{constructor(e,s,o,a,c,d,h,g,_){this.query=e,this.docs=s,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,s,o,a,c){const d=[];return s.forEach(h=>{d.push({type:0,doc:h})}),new Lu(e,s,$u.emptySet(s),d,o,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,o=e.docChanges;if(s.length!==o.length)return!1;for(let a=0;a<s.length;a++)if(s[a].type!==o[a].type||!s[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.Au=void 0,this.listeners=[]}}class qu{constructor(){this.queries=new es(e=>ln(e),hn),this.onlineState="Unknown",this.Ru=new Set}}async function Ku(i,e){const s=$(i),o=e.query;let a=!1,c=s.queries.get(o);if(c||(a=!0,c=new Uu),a)try{c.Au=await s.onListen(o)}catch(d){const h=Fu(d,`Initialization of query '${fn(e.query)}' failed`);return void e.onError(h)}s.queries.set(o,c),c.listeners.push(e),e.bu(s.onlineState),c.Au&&e.Pu(c.Au)&&Wu(s)}async function Gu(i,e){const s=$(i),o=e.query;let a=!1;const c=s.queries.get(o);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),a=c.listeners.length===0)}if(a)return s.queries.delete(o),s.onUnlisten(o)}function Qu(i,e){const s=$(i);let o=!1;for(const a of e){const c=a.query,d=s.queries.get(c);if(d){for(const h of d.listeners)h.Pu(a)&&(o=!0);d.Au=a}}o&&Wu(s)}function ju(i,e,s){const o=$(i),a=o.queries.get(e);if(a)for(const c of a.listeners)c.onError(s);o.queries.delete(e)}function Wu(i){i.Ru.forEach(e=>{e.next()})}class zu{constructor(e,s,o){this.query=e,this.vu=s,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new Lu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),s=!0):this.Cu(e,this.onlineState)&&(this.xu(e),s=!0),this.Su=e,s}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let s=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),s=!0),s}Cu(e,s){if(!e.fromCache)return!0;const o=s!=="Offline";return(!this.options.Nu||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const s=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}xu(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,s){this.ku=e,this.byteLength=s}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.It=e}Ji(e){return ks(this.It,e)}Yi(e){return e.metadata.exists?Ls(this.It,e.document,!1):Se$1.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ds(e)}}class Yu{constructor(e,s,o){this.Mu=e,this.localStore=s,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xu(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++s;const o=rt$1.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}$u(e){const s=new Map,o=new Ju(this.It);for(const a of e)if(a.metadata.queries){const c=o.Ji(a.metadata.name);for(const d of a.metadata.queries){const h=(s.get(d)||fs()).add(c);s.set(d,h)}}return s}async complete(){const e=await ko(this.localStore,new Ju(this.It),this.documents,this.Mu.id),s=this.$u(this.documents);for(const o of this.queries)await Oo(this.localStore,o,s.get(o.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function Xu(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.key=e}}class tc{constructor(e){this.key=e}}class ec{constructor(e,s){this.query=e,this.Uu=s,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=fs(),this.mutatedKeys=fs(),this.Gu=wn(e),this.Qu=new $u(this.Gu)}get ju(){return this.Uu}Wu(e,s){const o=s?s.zu:new Bu,a=s?s.Qu:this.Qu;let c=s?s.mutatedKeys:this.mutatedKeys,d=a,h=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(($l,Rl)=>{const Ml=a.get($l),Ul=dn(this.query,Rl)?Rl:null,Fl=!!Ml&&this.mutatedKeys.has(Ml.key),Ll=!!Ul&&(Ul.hasLocalMutations||this.mutatedKeys.has(Ul.key)&&Ul.hasCommittedMutations);let Bl=!1;Ml&&Ul?Ml.data.isEqual(Ul.data)?Fl!==Ll&&(o.track({type:3,doc:Ul}),Bl=!0):this.Hu(Ml,Ul)||(o.track({type:2,doc:Ul}),Bl=!0,(g&&this.Gu(Ul,g)>0||_&&this.Gu(Ul,_)<0)&&(h=!0)):!Ml&&Ul?(o.track({type:0,doc:Ul}),Bl=!0):Ml&&!Ul&&(o.track({type:1,doc:Ml}),Bl=!0,(g||_)&&(h=!0)),Bl&&(Ul?(d=d.add(Ul),c=Ll?c.add($l):c.delete($l)):(d=d.delete($l),c=c.delete($l)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const $l=this.query.limitType==="F"?d.last():d.first();d=d.delete($l.key),c=c.delete($l.key),o.track({type:1,doc:$l})}return{Qu:d,zu:o,$i:h,mutatedKeys:c}}Hu(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,o){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((_,$l)=>function(Rl,Ml){const Ul=Fl=>{switch(Fl){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return Ul(Rl)-Ul(Ml)}(_.type,$l.type)||this.Gu(_.doc,$l.doc)),this.Ju(o);const d=s?this.Yu():[],h=this.Ku.size===0&&this.current?1:0,g=h!==this.qu;return this.qu=h,c.length!==0||g?{snapshot:new Lu(this.query,e.Qu,a,c,e.mutatedKeys,h===0,g,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Bu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(s=>this.Uu=this.Uu.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Uu=this.Uu.delete(s)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=fs(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const s=[];return e.forEach(o=>{this.Ku.has(o)||s.push(new tc(o))}),this.Ku.forEach(o=>{e.has(o)||s.push(new Zu(o))}),s}tc(e){this.Uu=e.Hi,this.Ku=fs();const s=this.Wu(e.documents);return this.applyChanges(s,!0)}ec(){return Lu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class nc{constructor(e,s,o){this.query=e,this.targetId=s,this.view=o}}class sc{constructor(e){this.key=e,this.nc=!1}}class ic{constructor(e,s,o,a,c,d){this.localStore=e,this.remoteStore=s,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new es(h=>ln(h),hn),this.rc=new Map,this.oc=new Set,this.uc=new Bt$1(ct$1.comparator),this.cc=new Map,this.ac=new eo,this.hc={},this.lc=new Map,this.fc=Cr.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function rc(i,e){const s=kc(i);let o,a;const c=s.ic.get(e);if(c)o=c.targetId,s.sharedClientState.addLocalQueryTarget(o),a=c.view.ec();else{const d=await Vo(s.localStore,cn(e));s.isPrimaryClient&&hu(s.remoteStore,d);const h=s.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,a=await oc(s,e,o,h==="current",d.resumeToken)}return a}async function oc(i,e,s,o,a){i._c=(Rl,Ml,Ul)=>async function(Fl,Ll,Bl,zl){let Hl=Ll.view.Wu(Bl);Hl.$i&&(Hl=await Do(Fl.localStore,Ll.query,!1).then(({documents:Xl})=>Ll.view.Wu(Xl,Hl)));const Wl=zl&&zl.targetChanges.get(Ll.targetId),Yl=Ll.view.applyChanges(Hl,Fl.isPrimaryClient,Wl);return pc(Fl,Ll.targetId,Yl.Xu),Yl.snapshot}(i,Rl,Ml,Ul);const c=await Do(i.localStore,e,!0),d=new ec(e,c.Hi),h=d.Wu(c.documents),g=ms.createSynthesizedTargetChangeForCurrentChange(s,o&&i.onlineState!=="Offline",a),_=d.applyChanges(h,i.isPrimaryClient,g);pc(i,s,_.Xu);const $l=new nc(e,s,d);return i.ic.set(e,$l),i.rc.has(s)?i.rc.get(s).push(e):i.rc.set(s,[e]),_.snapshot}async function uc(i,e){const s=$(i),o=s.ic.get(e),a=s.rc.get(o.targetId);if(a.length>1)return s.rc.set(o.targetId,a.filter(c=>!hn(c,e))),void s.ic.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await So(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),lu(s.remoteStore,o.targetId),gc(s,o.targetId)}).catch(Et$1)):(gc(s,o.targetId),await So(s.localStore,o.targetId,!0))}async function cc(i,e,s){const o=Oc(i);try{const a=await function(c,d){const h=$(c),g=nt$1.now(),_=d.reduce((Ml,Ul)=>Ml.add(Ul.key),fs());let $l,Rl;return h.persistence.runTransaction("Locally write mutations","readwrite",Ml=>{let Ul=ss(),Fl=fs();return h.Gi.getEntries(Ml,_).next(Ll=>{Ul=Ll,Ul.forEach((Bl,zl)=>{zl.isValidDocument()||(Fl=Fl.add(Bl))})}).next(()=>h.localDocuments.getOverlayedDocuments(Ml,Ul)).next(Ll=>{$l=Ll;const Bl=[];for(const zl of d){const Hl=Un(zl,$l.get(zl.key).overlayedDocument);Hl!=null&&Bl.push(new Gn(zl.key,Hl,Ve(Hl.value.mapValue),On.exists(!0)))}return h.mutationQueue.addMutationBatch(Ml,g,Bl,d)}).next(Ll=>{Rl=Ll;const Bl=Ll.applyToLocalDocumentSet($l,Fl);return h.documentOverlayCache.saveOverlays(Ml,Ll.batchId,Bl)})}).then(()=>({batchId:Rl.batchId,changes:os($l)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(a.batchId),function(c,d,h){let g=c.hc[c.currentUser.toKey()];g||(g=new Bt$1(Z)),g=g.insert(d,h),c.hc[c.currentUser.toKey()]=g}(o,a.batchId,s),await Ec(o,a.changes),await Au(o.remoteStore)}catch(a){const c=Fu(a,"Failed to persist write");s.reject(c)}}async function ac(i,e){const s=$(i);try{const o=await bo(s.localStore,e);e.targetChanges.forEach((a,c)=>{const d=s.cc.get(c);d&&(M(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.nc=!0:a.modifiedDocuments.size>0?M(d.nc):a.removedDocuments.size>0&&(M(d.nc),d.nc=!1))}),await Ec(s,o,e)}catch(o){await Et$1(o)}}function hc(i,e,s){const o=$(i);if(o.isPrimaryClient&&s===0||!o.isPrimaryClient&&s===1){const a=[];o.ic.forEach((c,d)=>{const h=d.view.bu(e);h.snapshot&&a.push(h.snapshot)}),function(c,d){const h=$(c);h.onlineState=d;let g=!1;h.queries.forEach((_,$l)=>{for(const Rl of $l.listeners)Rl.bu(d)&&(g=!0)}),g&&Wu(h)}(o.eventManager,e),a.length&&o.sc.Wo(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function lc(i,e,s){const o=$(i);o.sharedClientState.updateQueryState(e,"rejected",s);const a=o.cc.get(e),c=a&&a.key;if(c){let d=new Bt$1(ct$1.comparator);d=d.insert(c,Se$1.newNoDocument(c,st$1.min()));const h=fs().add(c),g=new ws(st$1.min(),new Map,new qt(Z),d,h);await ac(o,g),o.uc=o.uc.remove(c),o.cc.delete(e),Tc(o)}else await So(o.localStore,e,!1).then(()=>gc(o,e,s)).catch(Et$1)}async function fc(i,e){const s=$(i),o=e.batch.batchId;try{const a=await Ao(s.localStore,e);mc(s,o,null),wc(s,o),s.sharedClientState.updateMutationState(o,"acknowledged"),await Ec(s,a)}catch(a){await Et$1(a)}}async function dc(i,e,s){const o=$(i);try{const a=await function(c,d){const h=$(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return h.mutationQueue.lookupMutationBatch(g,d).next($l=>(M($l!==null),_=$l.keys(),h.mutationQueue.removeMutationBatch(g,$l))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>h.localDocuments.getDocuments(g,_))})}(o.localStore,e);mc(o,e,s),wc(o,e),o.sharedClientState.updateMutationState(e,"rejected",s),await Ec(o,a)}catch(a){await Et$1(a)}}async function _c(i,e){const s=$(i);mu(s.remoteStore)||C("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=await function(c){const d=$(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>d.mutationQueue.getHighestUnacknowledgedBatchId(h))}(s.localStore);if(o===-1)return void e.resolve();const a=s.lc.get(o)||[];a.push(e),s.lc.set(o,a)}catch(o){const a=Fu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function wc(i,e){(i.lc.get(e)||[]).forEach(s=>{s.resolve()}),i.lc.delete(e)}function mc(i,e,s){const o=$(i);let a=o.hc[o.currentUser.toKey()];if(a){const c=a.get(e);c&&(s?c.reject(s):c.resolve(),a=a.remove(e)),o.hc[o.currentUser.toKey()]=a}}function gc(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),s&&i.sc.wc(o,s);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||yc(i,o)})}function yc(i,e){i.oc.delete(e.path.canonicalString());const s=i.uc.get(e);s!==null&&(lu(i.remoteStore,s),i.uc=i.uc.remove(e),i.cc.delete(s),Tc(i))}function pc(i,e,s){for(const o of s)o instanceof Zu?(i.ac.addReference(o.key,e),Ic(i,o)):o instanceof tc?(C("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||yc(i,o.key)):O()}function Ic(i,e){const s=e.key,o=s.path.canonicalString();i.uc.get(s)||i.oc.has(o)||(C("SyncEngine","New document in limbo: "+s),i.oc.add(o),Tc(i))}function Tc(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const s=new ct$1(rt$1.fromString(e)),o=i.fc.next();i.cc.set(o,new sc(s)),i.uc=i.uc.insert(s,o),hu(i.remoteStore,new Fi(cn(en(s.path)),o,2,Ot$1.at))}}async function Ec(i,e,s){const o=$(i),a=[],c=[],d=[];o.ic.isEmpty()||(o.ic.forEach((h,g)=>{d.push(o._c(g,e,s).then(_=>{if((_||s)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(g.targetId,_!=null&&_.fromCache?"not-current":"current"),_){a.push(_);const $l=yo.Ci(g.targetId,_);c.push($l)}}))}),await Promise.all(d),o.sc.Wo(a),await async function(h,g){const _=$(h);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",$l=>At$1.forEach(g,Rl=>At$1.forEach(Rl.Si,Ml=>_.persistence.referenceDelegate.addReference($l,Rl.targetId,Ml)).next(()=>At$1.forEach(Rl.Di,Ml=>_.persistence.referenceDelegate.removeReference($l,Rl.targetId,Ml)))))}catch($l){if(!Vt($l))throw $l;C("LocalStore","Failed to update sequence numbers: "+$l)}for(const $l of g){const Rl=$l.targetId;if(!$l.fromCache){const Ml=_.Ui.get(Rl),Ul=Ml.snapshotVersion,Fl=Ml.withLastLimboFreeSnapshotVersion(Ul);_.Ui=_.Ui.insert(Rl,Fl)}}}(o.localStore,c))}async function Ac(i,e){const s=$(i);if(!s.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const o=await Eo(s.localStore,e);s.currentUser=e,function(a,c){a.lc.forEach(d=>{d.forEach(h=>{h.reject(new L(B.CANCELLED,c))})}),a.lc.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Ec(s,o.ji)}}function Rc(i,e){const s=$(i),o=s.cc.get(e);if(o&&o.nc)return fs().add(o.key);{let a=fs();const c=s.rc.get(e);if(!c)return a;for(const d of c){const h=s.ic.get(d);a=a.unionWith(h.view.ju)}return a}}async function bc(i,e){const s=$(i),o=await Do(s.localStore,e.query,!0),a=e.view.tc(o);return s.isPrimaryClient&&pc(s,e.targetId,a.Xu),a}async function Pc(i,e){const s=$(i);return xo(s.localStore,e).then(o=>Ec(s,o))}async function vc(i,e,s,o){const a=$(i),c=await function(d,h){const g=$(d),_=$(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",$l=>_.Tn($l,h).next(Rl=>Rl?g.localDocuments.getDocuments($l,Rl):At$1.resolve(null)))}(a.localStore,e);c!==null?(s==="pending"?await Au(a.remoteStore):s==="acknowledged"||s==="rejected"?(mc(a,e,o||null),wc(a,e),function(d,h){$($(d).mutationQueue).An(h)}(a.localStore,e)):O(),await Ec(a,c)):C("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Vc(i,e){const s=$(i);if(kc(s),Oc(s),e===!0&&s.dc!==!0){const o=s.sharedClientState.getAllActiveQueryTargets(),a=await Sc(s,o.toArray());s.dc=!0,await Nu(s.remoteStore,!0);for(const c of a)hu(s.remoteStore,c)}else if(e===!1&&s.dc!==!1){const o=[];let a=Promise.resolve();s.rc.forEach((c,d)=>{s.sharedClientState.isLocalQueryTarget(d)?o.push(d):a=a.then(()=>(gc(s,d),So(s.localStore,d,!0))),lu(s.remoteStore,d)}),await a,await Sc(s,o),function(c){const d=$(c);d.cc.forEach((h,g)=>{lu(d.remoteStore,g)}),d.ac.fs(),d.cc=new Map,d.uc=new Bt$1(ct$1.comparator)}(s),s.dc=!1,await Nu(s.remoteStore,!1)}}async function Sc(i,e,s){const o=$(i),a=[],c=[];for(const d of e){let h;const g=o.rc.get(d);if(g&&g.length!==0){h=await Vo(o.localStore,cn(g[0]));for(const _ of g){const $l=o.ic.get(_),Rl=await bc(o,$l);Rl.snapshot&&c.push(Rl.snapshot)}}else{const _=await Co(o.localStore,d);h=await Vo(o.localStore,_),await oc(o,Dc(_),d,!1,h.resumeToken)}a.push(h)}return o.sc.Wo(c),a}function Dc(i){return tn(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Cc(i){const e=$(i);return $($(e.localStore).persistence).vi()}async function xc(i,e,s,o){const a=$(i);if(a.dc)return void C("SyncEngine","Ignoring unexpected query state notification.");const c=a.rc.get(e);if(c&&c.length>0)switch(s){case"current":case"not-current":{const d=await xo(a.localStore,_n(c[0])),h=ws.createSynthesizedRemoteEventForCurrentChange(e,s==="current",Wt$1.EMPTY_BYTE_STRING);await Ec(a,d,h);break}case"rejected":await So(a.localStore,e,!0),gc(a,e,o);break;default:O()}}async function Nc(i,e,s){const o=kc(i);if(o.dc){for(const a of e){if(o.rc.has(a)){C("SyncEngine","Adding an already active target "+a);continue}const c=await Co(o.localStore,a),d=await Vo(o.localStore,c);await oc(o,Dc(c),d.targetId,!1,d.resumeToken),hu(o.remoteStore,d)}for(const a of s)o.rc.has(a)&&await So(o.localStore,a,!1).then(()=>{lu(o.remoteStore,a),gc(o,a)}).catch(Et$1)}}function kc(i){const e=$(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ac.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lc.bind(null,e),e.sc.Wo=Qu.bind(null,e.eventManager),e.sc.wc=ju.bind(null,e.eventManager),e}function Oc(i){const e=$(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dc.bind(null,e),e}function Mc(i,e,s){const o=$(i);(async function(a,c,d){try{const h=await c.getMetadata();if(await function(Rl,Ml){const Ul=$(Rl),Fl=Ds(Ml.createTime);return Ul.persistence.runTransaction("hasNewerBundle","readonly",Ll=>Ul.Ns.getBundleMetadata(Ll,Ml.id)).then(Ll=>!!Ll&&Ll.createTime.compareTo(Fl)>=0)}(a.localStore,h))return await c.close(),d._completeWith(function(Rl){return{taskState:"Success",documentsLoaded:Rl.totalDocuments,bytesLoaded:Rl.totalBytes,totalDocuments:Rl.totalDocuments,totalBytes:Rl.totalBytes}}(h)),Promise.resolve(new Set);d._updateProgress(Xu(h));const g=new Yu(h,a.localStore,c.It);let _=await c.mc();for(;_;){const Rl=await g.Fu(_);Rl&&d._updateProgress(Rl),_=await c.mc()}const $l=await g.complete();return await Ec(a,$l.Lu,void 0),await function(Rl,Ml){const Ul=$(Rl);return Ul.persistence.runTransaction("Save bundle","readwrite",Fl=>Ul.Ns.saveBundleMetadata(Fl,Ml))}(a.localStore,h),d._completeWith($l.progress),Promise.resolve($l.Bu)}catch(h){return N("SyncEngine",`Loading bundle failed with ${h}`),d._failWith(h),Promise.resolve(new Set)}})(o,e,s).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}class Fc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Zo(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,s){return null}Ec(e,s){return null}Ic(e){return To(this.persistence,new po,e.initialUser,this.It)}yc(e){return new uo(ao.Bs,this.It)}gc(e){return new Qo}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $c extends Fc{constructor(e,s,o){super(),this.Ac=e,this.cacheSizeBytes=s,this.forceOwnership=o,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await Oc(this.Ac.syncEngine),await Au(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return To(this.persistence,new po,e.initialUser,this.It)}Tc(e,s){const o=this.persistence.referenceDelegate.garbageCollector;return new $r(o,e.asyncQueue,s)}Ec(e,s){const o=new kt$1(s,this.persistence);return new Nt$1(e.asyncQueue,o)}yc(e){const s=go(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new _o(this.synchronizeTabs,s,e.clientId,o,e.asyncQueue,Yo(),Xo(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Qo}}class Bc extends $c{constructor(e,s){super(e,s,!1),this.Ac=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const s=this.Ac.syncEngine;this.sharedClientState instanceof Go&&(this.sharedClientState.syncEngine={Fr:vc.bind(null,s),$r:xc.bind(null,s),Br:Nc.bind(null,s),vi:Cc.bind(null,s),Mr:Pc.bind(null,s)},await this.sharedClientState.start()),await this.persistence.li(async o=>{await Vc(this.Ac.syncEngine,o),this.gcScheduler&&(o&&!this.gcScheduler.started?this.gcScheduler.start():o||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(o&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():o||this.indexBackfillerScheduler.stop())})}gc(e){const s=Yo();if(!Go.C(s))throw new L(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=go(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Go(s,e.asyncQueue,o,e.clientId,e.initialUser)}}class Lc{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>hc(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ac.bind(null,this.syncEngine),await Nu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qu}createDatastore(e){const s=Zo(e.databaseInfo.databaseId),o=(a=e.databaseInfo,new Jo(a));var a;return function(c,d,h,g){return new iu(c,d,h,g)}(e.authCredentials,e.appCheckCredentials,o,s)}createRemoteStore(e){return s=this.localStore,o=this.datastore,a=e.asyncQueue,c=h=>hc(this.syncEngine,h,0),d=Wo.C()?new Wo:new jo,new uu(s,o,a,c,d);var s,o,a,c,d}createSyncEngine(e,s){return function(o,a,c,d,h,g,_){const $l=new ic(o,a,c,d,h,g);return _&&($l.dc=!0),$l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}terminate(){return async function(e){const s=$(e);C("RemoteStore","RemoteStore shutting down."),s._u.add(5),await au(s),s.mu.shutdown(),s.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(i,e,s){if(!s)throw new L(B.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qc(i,e,s,o){if(e===!0&&o===!0)throw new L(B.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Kc(i){if(!ct$1.isDocumentKey(i))throw new L(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gc(i){if(ct$1.isDocumentKey(i))throw new L(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qc(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":O()}function jc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new L(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Qc(i);throw new L(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Wc(i,e){if(e<=0)throw new L(B.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map;class Hc{constructor(e){var s;if(e.host===void 0){if(e.ssl!==void 0)throw new L(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(s=e.ssl)===null||s===void 0||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,s,o,a){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hc(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new K;switch(s.type){case"gapi":const o=s.client;return new W(o,s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new L(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=zc.get(e);s&&(C("ComponentProvider","Removing Datastore"),zc.delete(e),s.terminate())}(this),Promise.resolve()}}function Yc(i,e,s,o={}){var a;const c=(i=jc(i,Jc))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==e&&N("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${s}`,ssl:!1})),o.mockUserToken){let d,h;if(typeof o.mockUserToken=="string")d=o.mockUserToken,h=P.MOCK_USER;else{d=createMockUserToken(o.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const g=o.mockUserToken.sub||o.mockUserToken.user_id;if(!g)throw new L(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new P(g)}i._authCredentials=new G(new q(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,s,o){this.converter=s,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xc(this.firestore,e,this._key)}}class Zc{constructor(e,s,o){this.converter=s,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class ta extends Zc{constructor(e,s,o){super(e,s,en(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xc(this.firestore,null,new ct$1(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function ea(i,e,...s){if(i=getModularInstance(i),Uc("collection","path",e),i instanceof Jc){const o=rt$1.fromString(e,...s);return Gc(o),new ta(i,null,o)}{if(!(i instanceof Xc||i instanceof ta))throw new L(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(rt$1.fromString(e,...s));return Gc(o),new ta(i.firestore,null,o)}}function na(i,e){if(i=jc(i,Jc),Uc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zc(i,null,function(s){return new Ze$1(rt$1.emptyPath(),s)}(e))}function sa(i,e,...s){if(i=getModularInstance(i),arguments.length===1&&(e=X.R()),Uc("doc","path",e),i instanceof Jc){const o=rt$1.fromString(e,...s);return Kc(o),new Xc(i,null,new ct$1(o))}{if(!(i instanceof Xc||i instanceof ta))throw new L(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(rt$1.fromString(e,...s));return Kc(o),new Xc(i.firestore,i instanceof ta?i.converter:null,new ct$1(o))}}function ia(i,e){return i=getModularInstance(i),e=getModularInstance(e),(i instanceof Xc||i instanceof ta)&&(e instanceof Xc||e instanceof ta)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ra(i,e){return i=getModularInstance(i),e=getModularInstance(e),i instanceof Zc&&e instanceof Zc&&i.firestore===e.firestore&&hn(i._query,e._query)&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(i,e=10240){let s=0;return{async read(){if(s<i.byteLength){const o={value:i.slice(s,s+e),done:!1};return s+=e,o}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):x("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,s){this.muted||setTimeout(()=>{this.muted||e(s)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,s){this.Pc=e,this.It=s,this.metadata=new U,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(o==null?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const s=this.vc.decode(e),o=Number(s);isNaN(o)&&this.Dc(`length string (${s}) is not valid number`);const a=await this.Cc(o);return new Hu(JSON.parse(a),e.length+o)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const s=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),s}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const s=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),s}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const s=new Uint8Array(this.buffer.length+e.value.length);s.set(this.buffer),s.set(e.value,this.buffer.length),this.buffer=s}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=await async function(o,a){const c=$(o),d=Fs(c.It)+"/documents",h={documents:a.map(Rl=>Ns(c.It,Rl))},g=await c._o("BatchGetDocuments",d,h,a.length),_=new Map;g.forEach(Rl=>{const Ml=Us(c.It,Rl);_.set(Ml.key.toString(),Ml)});const $l=[];return a.forEach(Rl=>{const Ml=_.get(Rl.toString());M(!!Ml),$l.push(Ml)}),$l}(this.datastore,e);return s.forEach(o=>this.recordVersion(o)),s}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new zn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(s=>{e.delete(s.key.toString())}),e.forEach((s,o)=>{const a=ct$1.fromPath(o);this.mutations.push(new Hn(a,this.precondition(a)))}),await async function(s,o){const a=$(s),c=Fs(a.It)+"/documents",d={writes:o.map(h=>Ks(a.It,h))};await a.ao("Commit",c,d)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw O();s=st$1.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!s.isEqual(o))throw new L(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(st$1.min())?On.exists(!1):On.updateTime(s):On.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(st$1.min()))throw new L(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return On.updateTime(s)}return On.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,s,o,a,c){this.asyncQueue=e,this.datastore=s,this.options=o,this.updateFunction=a,this.deferred=c,this.kc=o.maxAttempts,this.xo=new tu(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new fa(this.datastore),s=this.Mc(e);s&&s.then(o=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(o)}).catch(a=>{this.Fc(a)}))}).catch(o=>{this.Fc(o)})})}Mc(e){try{const s=this.updateFunction(e);return!se$1(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const s=e.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!Zn(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,s,o,a){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=o,this.databaseInfo=a,this.user=P.UNAUTHENTICATED,this.clientId=X.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async c=>{C("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(o,c=>(C("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new U;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const o=Fu(s,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function wa(i,e){i.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const s=await i.getConfiguration();await e.initialize(s);let o=s.initialUser;i.setCredentialChangeListener(async a=>{o.isEqual(a)||(await Eo(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}async function ma(i,e){i.asyncQueue.verifyOperationInProgress();const s=await ga(i);C("FirestoreClient","Initializing OnlineComponentProvider");const o=await i.getConfiguration();await e.initialize(s,o),i.setCredentialChangeListener(a=>xu(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,c)=>xu(e.remoteStore,c)),i.onlineComponents=e}async function ga(i){return i.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),await wa(i,new Fc)),i.offlineComponents}async function ya(i){return i.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),await ma(i,new Lc)),i.onlineComponents}function pa(i){return ga(i).then(e=>e.persistence)}function Ia(i){return ga(i).then(e=>e.localStore)}function Ta(i){return ya(i).then(e=>e.remoteStore)}function Ea(i){return ya(i).then(e=>e.syncEngine)}function Aa(i){return ya(i).then(e=>e.datastore)}async function Ra(i){const e=await ya(i),s=e.eventManager;return s.onListen=rc.bind(null,e.syncEngine),s.onUnlisten=uc.bind(null,e.syncEngine),s}function ba(i){return i.asyncQueue.enqueue(async()=>{const e=await pa(i),s=await Ta(i);return e.setNetworkEnabled(!0),function(o){const a=$(o);return a._u.delete(0),cu(a)}(s)})}function Pa(i){return i.asyncQueue.enqueue(async()=>{const e=await pa(i),s=await Ta(i);return e.setNetworkEnabled(!1),async function(o){const a=$(o);a._u.add(0),await au(a),a.gu.set("Offline")}(s)})}function va(i,e){const s=new U;return i.asyncQueue.enqueueAndForget(async()=>async function(o,a,c){try{const d=await function(h,g){const _=$(h);return _.persistence.runTransaction("read document","readonly",$l=>_.localDocuments.getDocument($l,g))}(o,a);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new L(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const h=Fu(d,`Failed to get document '${a} from cache`);c.reject(h)}}(await Ia(i),e,s)),s.promise}function Va(i,e,s={}){const o=new U;return i.asyncQueue.enqueueAndForget(async()=>function(a,c,d,h,g){const _=new ua({next:Rl=>{c.enqueueAndForget(()=>Gu(a,$l));const Ml=Rl.docs.has(d);!Ml&&Rl.fromCache?g.reject(new L(B.UNAVAILABLE,"Failed to get document because the client is offline.")):Ml&&Rl.fromCache&&h&&h.source==="server"?g.reject(new L(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(Rl)},error:Rl=>g.reject(Rl)}),$l=new zu(en(d.path),_,{includeMetadataChanges:!0,Nu:!0});return Ku(a,$l)}(await Ra(i),i.asyncQueue,e,s,o)),o.promise}function Sa(i,e){const s=new U;return i.asyncQueue.enqueueAndForget(async()=>async function(o,a,c){try{const d=await Do(o,a,!0),h=new ec(a,d.Hi),g=h.Wu(d.documents),_=h.applyChanges(g,!1);c.resolve(_.snapshot)}catch(d){const h=Fu(d,`Failed to execute query '${a} against cache`);c.reject(h)}}(await Ia(i),e,s)),s.promise}function Da(i,e,s={}){const o=new U;return i.asyncQueue.enqueueAndForget(async()=>function(a,c,d,h,g){const _=new ua({next:Rl=>{c.enqueueAndForget(()=>Gu(a,$l)),Rl.fromCache&&h.source==="server"?g.reject(new L(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(Rl)},error:Rl=>g.reject(Rl)}),$l=new zu(d,_,{includeMetadataChanges:!0,Nu:!0});return Ku(a,$l)}(await Ra(i),i.asyncQueue,e,s,o)),o.promise}function Ca(i,e){const s=new ua(e);return i.asyncQueue.enqueueAndForget(async()=>function(o,a){$(o).Ru.add(a),a.next()}(await Ra(i),s)),()=>{s.bc(),i.asyncQueue.enqueueAndForget(async()=>function(o,a){$(o).Ru.delete(a)}(await Ra(i),s))}}function xa(i,e,s,o){const a=function(c,d){let h;return h=typeof c=="string"?new TextEncoder().encode(c):c,function(g,_){return new ca(g,_)}(function(g,_){if(g instanceof Uint8Array)return oa(g,_);if(g instanceof ArrayBuffer)return oa(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),d)}(s,Zo(e));i.asyncQueue.enqueueAndForget(async()=>{Mc(await Ea(i),a,o)})}function Na(i,e){return i.asyncQueue.enqueue(async()=>function(s,o){const a=$(s);return a.persistence.runTransaction("Get named query","readonly",c=>a.Ns.getNamedQuery(c,o))}(await Ia(i),e))}class ka{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new tu(this,"async_queue_retry"),this.Wc=()=>{const s=Xo();s&&C("AsyncQueue","Visibility state changed to "+s.visibilityState),this.xo.Po()};const e=Xo();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const s=Xo();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const s=new U;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Vt(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const s=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{this.Kc=o,this.Gc=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(o);throw x("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.Gc=!1,o))));return this.Bc=s,s}enqueueAfterDelay(e,s,o){this.zc(),this.jc.indexOf(e)>-1&&(s=0);const a=Mu.createAndSchedule(this,e,s,o,c=>this.Yc(c));return this.qc.push(a),a}zc(){this.Kc&&O()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const s of this.qc)if(s.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((s,o)=>s.targetTimeMs-o.targetTimeMs);for(const s of this.qc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const s=this.qc.indexOf(e);this.qc.splice(s,1)}}function Oa(i){return function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const a of s)if(a in o&&typeof o[a]=="function")return!0;return!1}(i,["next","error","complete"])}class Ma{constructor(){this._progressObserver={},this._taskCompletionResolver=new U,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,o){this._progressObserver={next:e,error:s,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=-1;class $a extends Jc{constructor(e,s,o,a){super(e,s,o,a),this.type="firestore",this._queue=new ka,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qa(this),this._firestoreClient.terminate()}}function Ua(i){return i._firestoreClient||qa(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function qa(i){var e;const s=i._freezeSettings(),o=function(a,c,d,h){return new ee(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._firestoreClient=new _a(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ka(i,e){Za(i=jc(i,$a));const s=Ua(i),o=i._freezeSettings(),a=new Lc;return Qa(s,a,new $c(a,o.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Ga(i){Za(i=jc(i,$a));const e=Ua(i),s=i._freezeSettings(),o=new Lc;return Qa(e,o,new Bc(o,s.cacheSizeBytes))}function Qa(i,e,s){const o=new U;return i.asyncQueue.enqueue(async()=>{try{await wa(i,s),await ma(i,e),o.resolve()}catch(a){const c=a;if(!function(d){return d.name==="FirebaseError"?d.code===B.FAILED_PRECONDITION||d.code===B.UNIMPLEMENTED:typeof DOMException<"u"&&d instanceof DOMException?d.code===22||d.code===20||d.code===11:!0}(c))throw c;N("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}}).then(()=>o.promise)}function ja(i){if(i._initialized&&!i._terminated)throw new L(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new U;return i._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(s){if(!bt$1.C())return Promise.resolve();const o=s+"main";await bt$1.delete(o)}(go(i._databaseId,i._persistenceKey)),e.resolve()}catch(s){e.reject(s)}}),e.promise}function Wa(i){return function(e){const s=new U;return e.asyncQueue.enqueueAndForget(async()=>_c(await Ea(e),s)),s.promise}(Ua(i=jc(i,$a)))}function za(i){return ba(Ua(i=jc(i,$a)))}function Ha(i){return Pa(Ua(i=jc(i,$a)))}function Ya(i,e){const s=Ua(i=jc(i,$a)),o=new Ma;return xa(s,i._databaseId,e,o),o}function Xa(i,e){return Na(Ua(i=jc(i,$a)),e).then(s=>s?new Zc(i,null,s.query):null)}function Za(i){if(i._initialized||i._terminated)throw new L(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._byteString=e}static fromBase64String(e){try{return new th(Wt$1.fromBase64String(e))}catch(s){throw new L(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new th(Wt$1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new L(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new L(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new L(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=/^__.*__$/;class oh{constructor(e,s,o){this.data=e,this.fieldMask=s,this.fieldTransforms=o}toMutation(e,s){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,s,this.fieldTransforms):new Kn(e,this.data,s,this.fieldTransforms)}}class uh{constructor(e,s,o){this.data=e,this.fieldMask=s,this.fieldTransforms=o}toMutation(e,s){return new Gn(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function ch(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class ah{constructor(e,s,o,a,c,d){this.settings=e,this.databaseId=s,this.It=o,this.ignoreUndefinedProperties=a,c===void 0&&this.na(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ah(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var s;const o=(s=this.path)===null||s===void 0?void 0:s.child(e),a=this.ia({path:o,oa:!1});return a.ua(e),a}ca(e){var s;const o=(s=this.path)===null||s===void 0?void 0:s.child(e),a=this.ia({path:o,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Sh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(s=>e.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>e.isPrefixOf(s.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(ch(this.sa)&&rh.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class hh{constructor(e,s,o){this.databaseId=e,this.ignoreUndefinedProperties=s,this.It=o||Zo(e)}da(e,s,o,a=!1){return new ah({sa:e,methodName:s,fa:o,path:ut$1.emptyPath(),oa:!1,la:a},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function lh(i){const e=i._freezeSettings(),s=Zo(i._databaseId);return new hh(i._databaseId,!!e.ignoreUndefinedProperties,s)}function fh(i,e,s,o,a,c={}){const d=i.da(c.merge||c.mergeFields?2:0,e,s,a);bh("Data must be an object, but it was:",d,o);const h=Ah(o,d);let g,_;if(c.merge)g=new Qt(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const $l=[];for(const Rl of c.mergeFields){const Ml=Ph(e,Rl,s);if(!d.contains(Ml))throw new L(B.INVALID_ARGUMENT,`Field '${Ml}' is specified in your field mask but missing from your input data.`);Dh($l,Ml)||$l.push(Ml)}g=new Qt($l),_=d.fieldTransforms.filter(Rl=>g.covers(Rl.field))}else g=null,_=d.fieldTransforms;return new oh(new ve$1(h),g,_)}class dh extends sh{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}function _h(i,e,s){return new ah({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:s},e.databaseId,e.It,e.ignoreUndefinedProperties)}class wh extends sh{_toFieldTransform(e){return new xn(e.path,new Rn)}isEqual(e){return e instanceof wh}}class mh extends sh{constructor(e,s){super(e),this._a=s}_toFieldTransform(e){const s=_h(this,e,!0),o=this._a.map(c=>Eh(c,s)),a=new bn(o);return new xn(e.path,a)}isEqual(e){return this===e}}class gh extends sh{constructor(e,s){super(e),this._a=s}_toFieldTransform(e){const s=_h(this,e,!0),o=this._a.map(c=>Eh(c,s)),a=new vn(o);return new xn(e.path,a)}isEqual(e){return this===e}}class yh extends sh{constructor(e,s){super(e),this.wa=s}_toFieldTransform(e){const s=new Sn(e.It,pn(e.It,this.wa));return new xn(e.path,s)}isEqual(e){return this===e}}function ph(i,e,s,o){const a=i.da(1,e,s);bh("Data must be an object, but it was:",a,o);const c=[],d=ve$1.empty();Ft$1(o,(g,_)=>{const $l=Vh(e,g,s);_=getModularInstance(_);const Rl=a.ca($l);if(_ instanceof dh)c.push($l);else{const Ml=Eh(_,Rl);Ml!=null&&(c.push($l),d.set($l,Ml))}});const h=new Qt(c);return new uh(d,h,a.fieldTransforms)}function Ih(i,e,s,o,a,c){const d=i.da(1,e,s),h=[Ph(e,o,s)],g=[a];if(c.length%2!=0)throw new L(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ml=0;Ml<c.length;Ml+=2)h.push(Ph(e,c[Ml])),g.push(c[Ml+1]);const _=[],$l=ve$1.empty();for(let Ml=h.length-1;Ml>=0;--Ml)if(!Dh(_,h[Ml])){const Ul=h[Ml];let Fl=g[Ml];Fl=getModularInstance(Fl);const Ll=d.ca(Ul);if(Fl instanceof dh)_.push(Ul);else{const Bl=Eh(Fl,Ll);Bl!=null&&(_.push(Ul),$l.set(Ul,Bl))}}const Rl=new Qt(_);return new uh($l,Rl,d.fieldTransforms)}function Th(i,e,s,o=!1){return Eh(s,i.da(o?4:3,e))}function Eh(i,e){if(Rh(i=getModularInstance(i)))return bh("Unsupported field value:",e,i),Ah(i,e);if(i instanceof sh)return function(s,o){if(!ch(o.sa))throw o.ha(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(s,o){const a=[];let c=0;for(const d of s){let h=Eh(d,o.aa(c));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),c++}return{arrayValue:{values:a}}}(i,e)}return function(s,o){if((s=getModularInstance(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pn(o.It,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=nt$1.fromDate(s);return{timestampValue:vs(o.It,a)}}if(s instanceof nt$1){const a=new nt$1(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vs(o.It,a)}}if(s instanceof ih)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof th)return{bytesValue:Vs(o.It,s._byteString)};if(s instanceof Xc){const a=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(a))throw o.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cs(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.ha(`Unsupported field value: ${Qc(s)}`)}(i,e)}function Ah(i,e){const s={};return $t(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ft$1(i,(o,a)=>{const c=Eh(a,e.ra(o));c!=null&&(s[o]=c)}),{mapValue:{fields:s}}}function Rh(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt$1||i instanceof ih||i instanceof th||i instanceof Xc||i instanceof sh)}function bh(i,e,s){if(!Rh(s)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(s)){const o=Qc(s);throw o==="an object"?e.ha(i+" a custom object"):e.ha(i+" "+o)}}function Ph(i,e,s){if((e=getModularInstance(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Vh(i,e);throw Sh("Field path arguments must be of type string or ",i,!1,void 0,s)}const vh=new RegExp("[~\\*/\\[\\]]");function Vh(i,e,s){if(e.search(vh)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new eh(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Sh(i,e,s,o,a){const c=o&&!o.isEmpty(),d=a!==void 0;let h=`Function ${e}() called with invalid data`;s&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${o}`),d&&(g+=` in document ${a}`),g+=")"),new L(B.INVALID_ARGUMENT,h+i+g)}function Dh(i,e){return i.some(s=>s.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,s,o,a,c){this._firestore=e,this._userDataWriter=s,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xc(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Nh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class xh extends Ch{data(){return super.data()}}function Nh(i,e){return typeof e=="string"?Vh(i,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new L(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oh{}function Mh(i,...e){for(const s of e)i=s._apply(i);return i}class Fh extends Oh{constructor(e,s,o){super(),this.ma=e,this.ga=s,this.ya=o,this.type="where"}_apply(e){const s=lh(e.firestore),o=function(a,c,d,h,g,_,$l){let Rl;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new L(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Xh($l,_);const Ul=[];for(const Fl of $l)Ul.push(Yh(h,a,Fl));Rl={arrayValue:{values:Ul}}}else Rl=Yh(h,a,$l)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Xh($l,_),Rl=Th(d,c,$l,_==="in"||_==="not-in");const Ml=Be$1.create(g,_,Rl);return function(Ul,Fl){if(Fl.dt()){const Bl=rn(Ul);if(Bl!==null&&!Bl.isEqual(Fl.field))throw new L(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Bl.toString()}' and '${Fl.field.toString()}'`);const zl=sn(Ul);zl!==null&&Zh(Ul,Fl.field,zl)}const Ll=function(Bl,zl){for(const Hl of Bl.filters)if(zl.indexOf(Hl.op)>=0)return Hl.op;return null}(Ul,function(Bl){switch(Bl){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Fl.op));if(Ll!==null)throw Ll===Fl.op?new L(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${Fl.op.toString()}' filter.`):new L(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${Fl.op.toString()}' filters with '${Ll.toString()}' filters.`)}(a,Ml),Ml}(e._query,"where",s,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Zc(e.firestore,e.converter,function(a,c){const d=a.filters.concat([c]);return new Ze$1(a.path,a.collectionGroup,a.explicitOrderBy.slice(),d,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,o))}}function $h(i,e,s){const o=e,a=Nh("where",i);return new Fh(a,o,s)}class Bh extends Oh{constructor(e,s){super(),this.ma=e,this.pa=s,this.type="orderBy"}_apply(e){const s=function(o,a,c){if(o.startAt!==null)throw new L(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new L(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new He$1(a,c);return function(h,g){if(sn(h)===null){const _=rn(h);_!==null&&Zh(h,_,g.field)}}(o,d),d}(e._query,this.ma,this.pa);return new Zc(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new Ze$1(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,s))}}function Lh(i,e="asc"){const s=e,o=Nh("orderBy",i);return new Bh(o,s)}class Uh extends Oh{constructor(e,s,o){super(),this.type=e,this.Ia=s,this.Ta=o}_apply(e){return new Zc(e.firestore,e.converter,an(e._query,this.Ia,this.Ta))}}function qh(i){return Wc("limit",i),new Uh("limit",i,"F")}function Kh(i){return Wc("limitToLast",i),new Uh("limitToLast",i,"L")}class Gh extends Oh{constructor(e,s,o){super(),this.type=e,this.Ea=s,this.Aa=o}_apply(e){const s=Jh(e,this.type,this.Ea,this.Aa);return new Zc(e.firestore,e.converter,function(o,a){return new Ze$1(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,s))}}function Qh(...i){return new Gh("startAt",i,!0)}function jh(...i){return new Gh("startAfter",i,!1)}class Wh extends Oh{constructor(e,s,o){super(),this.type=e,this.Ea=s,this.Aa=o}_apply(e){const s=Jh(e,this.type,this.Ea,this.Aa);return new Zc(e.firestore,e.converter,function(o,a){return new Ze$1(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,s))}}function zh(...i){return new Wh("endBefore",i,!1)}function Hh(...i){return new Wh("endAt",i,!0)}function Jh(i,e,s,o){if(s[0]=getModularInstance(s[0]),s[0]instanceof Ch)return function(a,c,d,h,g){if(!h)throw new L(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const $l of un(a))if($l.field.isKeyField())_.push(we$1(c,h.key));else{const Rl=h.data.field($l.field);if(Xt(Rl))throw new L(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+$l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(Rl===null){const Ml=$l.field.canonicalString();throw new L(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ml}' (used as the orderBy) does not exist.`)}_.push(Rl)}return new ze$1(_,g)}(i._query,i.firestore._databaseId,e,s[0]._document,o);{const a=lh(i.firestore);return function(c,d,h,g,_,$l){const Rl=c.explicitOrderBy;if(_.length>Rl.length)throw new L(B.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ml=[];for(let Ul=0;Ul<_.length;Ul++){const Fl=_[Ul];if(Rl[Ul].field.isKeyField()){if(typeof Fl!="string")throw new L(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Fl}`);if(!on(c)&&Fl.indexOf("/")!==-1)throw new L(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Fl}' contains a slash.`);const Ll=c.path.child(rt$1.fromString(Fl));if(!ct$1.isDocumentKey(Ll))throw new L(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${Ll}' is not because it contains an odd number of segments.`);const Bl=new ct$1(Ll);Ml.push(we$1(d,Bl))}else{const Ll=Th(h,g,Fl);Ml.push(Ll)}}return new ze$1(Ml,$l)}(i._query,i.firestore._databaseId,a,e,s,o)}}function Yh(i,e,s){if(typeof(s=getModularInstance(s))=="string"){if(s==="")throw new L(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!on(e)&&s.indexOf("/")!==-1)throw new L(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const o=e.path.child(rt$1.fromString(s));if(!ct$1.isDocumentKey(o))throw new L(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return we$1(i,new ct$1(o))}if(s instanceof Xc)return we$1(i,s._key);throw new L(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(s)}.`)}function Xh(i,e){if(!Array.isArray(i)||i.length===0)throw new L(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new L(B.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Zh(i,e,s){if(!s.isEqual(e))throw new L(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${s.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{convertValue(e,s="none"){switch(ce$1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Yt$1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 10:return this.convertObject(e.mapValue,s);default:throw O()}}convertObject(e,s){const o={};return Ft$1(e.fields,(a,c)=>{o[a]=this.convertValue(c,s)}),o}convertGeoPoint(e){return new ih(Jt(e.latitude),Jt(e.longitude))}convertArray(e,s){return(e.values||[]).map(o=>this.convertValue(o,s))}convertServerTimestamp(e,s){switch(s){case"previous":const o=Zt(e);return o==null?null:this.convertValue(o,s);case"estimate":return this.convertTimestamp(te(e));default:return null}}convertTimestamp(e){const s=Ht$1(e);return new nt$1(s.seconds,s.nanos)}convertDocumentKey(e,s){const o=rt$1.fromString(e);M(ii(o));const a=new ne(o.get(1),o.get(3)),c=new ct$1(o.popFirst(5));return a.isEqual(s)||x(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(i,e,s){let o;return o=i?s&&(s.merge||s.mergeFields)?i.toFirestore(e,s):i.toFirestore(e):e,o}class nl extends tl{constructor(e){super(),this.firestore=e}convertBytes(e){return new th(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Xc(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class il extends Ch{constructor(e,s,o,a,c,d){super(e,s,o,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const o=this._document.data.field(Nh("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,s.serverTimestamps)}}}class rl extends il{data(e={}){return super.data(e)}}class ol{constructor(e,s,o,a){this._firestore=e,this._userDataWriter=s,this._snapshot=a,this.metadata=new sl(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach(o=>{e.call(s,new rl(this._firestore,this._userDataWriter,o.key,o,new sl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new L(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const h=new rl(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const h=new rl(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:ul(d.type),doc:h,oldIndex:g,newIndex:_}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function ul(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}function cl(i,e){return i instanceof il&&e instanceof il?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(i._document===null?e._document===null:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ol&&e instanceof ol&&i._firestore===e._firestore&&ra(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(i){i=jc(i,Xc);const e=jc(i.firestore,$a);return Va(Ua(e),i._key).then(s=>Al(e,i,s))}class hl extends tl{constructor(e){super(),this.firestore=e}convertBytes(e){return new th(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Xc(this.firestore,null,s)}}function ll(i){i=jc(i,Xc);const e=jc(i.firestore,$a),s=Ua(e),o=new hl(e);return va(s,i._key).then(a=>new il(e,o,i._key,a,new sl(a!==null&&a.hasLocalMutations,!0),i.converter))}function fl(i){i=jc(i,Xc);const e=jc(i.firestore,$a);return Va(Ua(e),i._key,{source:"server"}).then(s=>Al(e,i,s))}function dl(i){i=jc(i,Zc);const e=jc(i.firestore,$a),s=Ua(e),o=new hl(e);return kh(i._query),Da(s,i._query).then(a=>new ol(e,o,i,a))}function _l(i){i=jc(i,Zc);const e=jc(i.firestore,$a),s=Ua(e),o=new hl(e);return Sa(s,i._query).then(a=>new ol(e,o,i,a))}function wl(i){i=jc(i,Zc);const e=jc(i.firestore,$a),s=Ua(e),o=new hl(e);return Da(s,i._query,{source:"server"}).then(a=>new ol(e,o,i,a))}function ml(i,e,s){i=jc(i,Xc);const o=jc(i.firestore,$a),a=el(i.converter,e,s);return El(o,[fh(lh(o),"setDoc",i._key,a,i.converter!==null,s).toMutation(i._key,On.none())])}function gl(i,e,s,...o){i=jc(i,Xc);const a=jc(i.firestore,$a),c=lh(a);let d;return d=typeof(e=getModularInstance(e))=="string"||e instanceof eh?Ih(c,"updateDoc",i._key,e,s,o):ph(c,"updateDoc",i._key,e),El(a,[d.toMutation(i._key,On.exists(!0))])}function yl(i){return El(jc(i.firestore,$a),[new zn(i._key,On.none())])}function pl(i,e){const s=jc(i.firestore,$a),o=sa(i),a=el(i.converter,e);return El(s,[fh(lh(i.firestore),"addDoc",o._key,a,i.converter!==null,{}).toMutation(o._key,On.exists(!1))]).then(()=>o)}function Il(i,...e){var s,o,a;i=getModularInstance(i);let c={includeMetadataChanges:!1},d=0;typeof e[d]!="object"||Oa(e[d])||(c=e[d],d++);const h={includeMetadataChanges:c.includeMetadataChanges};if(Oa(e[d])){const Rl=e[d];e[d]=(s=Rl.next)===null||s===void 0?void 0:s.bind(Rl),e[d+1]=(o=Rl.error)===null||o===void 0?void 0:o.bind(Rl),e[d+2]=(a=Rl.complete)===null||a===void 0?void 0:a.bind(Rl)}let g,_,$l;if(i instanceof Xc)_=jc(i.firestore,$a),$l=en(i._key.path),g={next:Rl=>{e[d]&&e[d](Al(_,i,Rl))},error:e[d+1],complete:e[d+2]};else{const Rl=jc(i,Zc);_=jc(Rl.firestore,$a),$l=Rl._query;const Ml=new hl(_);g={next:Ul=>{e[d]&&e[d](new ol(_,Ml,Rl,Ul))},error:e[d+1],complete:e[d+2]},kh(i._query)}return function(Rl,Ml,Ul,Fl){const Ll=new ua(Fl),Bl=new zu(Ml,Ll,Ul);return Rl.asyncQueue.enqueueAndForget(async()=>Ku(await Ra(Rl),Bl)),()=>{Ll.bc(),Rl.asyncQueue.enqueueAndForget(async()=>Gu(await Ra(Rl),Bl))}}(Ua(_),$l,h,g)}function Tl(i,e){return Ca(Ua(i=jc(i,$a)),Oa(e)?e:{next:e})}function El(i,e){return function(s,o){const a=new U;return s.asyncQueue.enqueueAndForget(async()=>cc(await Ea(s),o,a)),a.promise}(Ua(i),e)}function Al(i,e,s){const o=s.docs.get(e._key),a=new hl(i);return new il(i,a,e._key,o,new sl(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=lh(e)}set(e,s,o){this._verifyNotCommitted();const a=Vl(e,this._firestore),c=el(a.converter,s,o),d=fh(this._dataReader,"WriteBatch.set",a._key,c,a.converter!==null,o);return this._mutations.push(d.toMutation(a._key,On.none())),this}update(e,s,o,...a){this._verifyNotCommitted();const c=Vl(e,this._firestore);let d;return d=typeof(s=getModularInstance(s))=="string"||s instanceof eh?Ih(this._dataReader,"WriteBatch.update",c._key,s,o,a):ph(this._dataReader,"WriteBatch.update",c._key,s),this._mutations.push(d.toMutation(c._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Vl(e,this._firestore);return this._mutations=this._mutations.concat(new zn(s._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vl(i,e){if((i=getModularInstance(i)).firestore!==e)throw new L(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends class{constructor(e,s){this._firestore=e,this._transaction=s,this._dataReader=lh(e)}get(e){const s=Vl(e,this._firestore),o=new nl(this._firestore);return this._transaction.lookup([s._key]).then(a=>{if(!a||a.length!==1)return O();const c=a[0];if(c.isFoundDocument())return new Ch(this._firestore,o,c.key,c,s.converter);if(c.isNoDocument())return new Ch(this._firestore,o,s._key,null,s.converter);throw O()})}set(e,s,o){const a=Vl(e,this._firestore),c=el(a.converter,s,o),d=fh(this._dataReader,"Transaction.set",a._key,c,a.converter!==null,o);return this._transaction.set(a._key,d),this}update(e,s,o,...a){const c=Vl(e,this._firestore);let d;return d=typeof(s=getModularInstance(s))=="string"||s instanceof eh?Ih(this._dataReader,"Transaction.update",c._key,s,o,a):ph(this._dataReader,"Transaction.update",c._key,s),this._transaction.update(c._key,d),this}delete(e){const s=Vl(e,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=Vl(e,this._firestore),o=new hl(this._firestore);return super.get(e).then(a=>new il(this._firestore,o,s._key,a._document,new sl(!1,!1),s.converter))}}function Dl(i,e,s){i=jc(i,$a);const o=Object.assign(Object.assign({},Pl),s);return function(a){if(a.maxAttempts<1)throw new L(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(a,c,d){const h=new U;return a.asyncQueue.enqueueAndForget(async()=>{const g=await Aa(a);new da(a.asyncQueue,g,d,c,h).run()}),h.promise}(Ua(i),a=>e(new Sl(i,a)),o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){return new dh("deleteField")}function xl(){return new wh("serverTimestamp")}function Nl(...i){return new mh("arrayUnion",i)}function kl(...i){return new gh("arrayRemove",i)}function Ol(i){return new yh("increment",i)}(function(i,e=!0){(function(s){v=s})(SDK_VERSION),_registerComponent(new Component("firestore",(s,{instanceIdentifier:o,options:a})=>{const c=s.getProvider("app").getImmediate(),d=new $a(new Q(s.getProvider("auth-internal")),new H(s.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new L(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ne(h.options.projectId,g)}(c,o),c);return a=Object.assign({useFetchStreams:e},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),registerVersion(b,"3.7.3",i),registerVersion(b,"3.7.3","esm2017")})();const name="@firebase/firestore-compat",version="0.2.3";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateSetOptions(i,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertUint8ArrayAvailable(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function assertBase64Available(){if(!jt$1())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Blob$1{constructor(e){this._delegate=e}static fromBase64String(e){return assertBase64Available(),new Blob$1(th.fromBase64String(e))}static fromUint8Array(e){return assertUint8ArrayAvailable(),new Blob$1(th.fromUint8Array(e))}toBase64(){return assertBase64Available(),this._delegate.toBase64()}toUint8Array(){return assertUint8ArrayAvailable(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isPartialObserver(i){return implementsAnyMethods(i,["next","error","complete"])}function implementsAnyMethods(i,e){if(typeof i!="object"||i===null)return!1;const s=i;for(const o of e)if(o in s&&typeof s[o]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedDbPersistenceProvider{enableIndexedDbPersistence(e,s){return Ka(e._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(e){return Ga(e._delegate)}clearIndexedDbPersistence(e){return ja(e._delegate)}}class Firestore{constructor(e,s,o){this._delegate=s,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ne||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const s=this._delegate._getSettings();!e.merge&&s.host!==e.host&&N("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},s),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,s,o={}){Yc(this._delegate,e,s,o)}enableNetwork(){return za(this._delegate)}disableNetwork(){return Ha(this._delegate)}enablePersistence(e){let s=!1,o=!1;return e&&(s=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,qc("synchronizeTabs",s,"experimentalForceOwningTab",o)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Wa(this._delegate)}onSnapshotsInSync(e){return Tl(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new CollectionReference(this,ea(this._delegate,e))}catch(s){throw replaceFunctionName(s,"collection()","Firestore.collection()")}}doc(e){try{return new DocumentReference(this,sa(this._delegate,e))}catch(s){throw replaceFunctionName(s,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Query(this,na(this._delegate,e))}catch(s){throw replaceFunctionName(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Dl(this._delegate,s=>e(new Transaction(this,s)))}batch(){return Ua(this._delegate),new WriteBatch(new vl(this._delegate,e=>El(this._delegate,e)))}loadBundle(e){return Ya(this._delegate,e)}namedQuery(e){return Xa(this._delegate,e).then(s=>s?new Query(this,s):null)}}class UserDataWriter extends tl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Blob$1(new th(e))}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return DocumentReference.forKey(s,this.firestore,null)}}function setLogLevel(i){D(i)}class Transaction{constructor(e,s){this._firestore=e,this._delegate=s,this._userDataWriter=new UserDataWriter(e)}get(e){const s=castReference(e);return this._delegate.get(s).then(o=>new DocumentSnapshot(this._firestore,new il(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,s.converter)))}set(e,s,o){const a=castReference(e);return o?(validateSetOptions("Transaction.set",o),this._delegate.set(a,s,o)):this._delegate.set(a,s),this}update(e,s,o,...a){const c=castReference(e);return arguments.length===2?this._delegate.update(c,s):this._delegate.update(c,s,o,...a),this}delete(e){const s=castReference(e);return this._delegate.delete(s),this}}class WriteBatch{constructor(e){this._delegate=e}set(e,s,o){const a=castReference(e);return o?(validateSetOptions("WriteBatch.set",o),this._delegate.set(a,s,o)):this._delegate.set(a,s),this}update(e,s,o,...a){const c=castReference(e);return arguments.length===2?this._delegate.update(c,s):this._delegate.update(c,s,o,...a),this}delete(e){const s=castReference(e);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class FirestoreDataConverter{constructor(e,s,o){this._firestore=e,this._userDataWriter=s,this._delegate=o}fromFirestore(e,s){const o=new rl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new QueryDocumentSnapshot(this._firestore,o),s!=null?s:{})}toFirestore(e,s){return s?this._delegate.toFirestore(e,s):this._delegate.toFirestore(e)}static getInstance(e,s){const o=FirestoreDataConverter.INSTANCES;let a=o.get(e);a||(a=new WeakMap,o.set(e,a));let c=a.get(s);return c||(c=new FirestoreDataConverter(e,new UserDataWriter(e),s),a.set(s,c)),c}}FirestoreDataConverter.INSTANCES=new WeakMap;class DocumentReference{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new UserDataWriter(e)}static forPath(e,s,o){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new DocumentReference(s,new Xc(s._delegate,o,new ct$1(e)))}static forKey(e,s,o){return new DocumentReference(s,new Xc(s._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new CollectionReference(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new CollectionReference(this.firestore,ea(this._delegate,e))}catch(s){throw replaceFunctionName(s,"collection()","DocumentReference.collection()")}}isEqual(e){return e=getModularInstance(e),e instanceof Xc?ia(this._delegate,e):!1}set(e,s){s=validateSetOptions("DocumentReference.set",s);try{return s?ml(this._delegate,e,s):ml(this._delegate,e)}catch(o){throw replaceFunctionName(o,"setDoc()","DocumentReference.set()")}}update(e,s,...o){try{return arguments.length===1?gl(this._delegate,e):gl(this._delegate,e,s,...o)}catch(a){throw replaceFunctionName(a,"updateDoc()","DocumentReference.update()")}}delete(){return yl(this._delegate)}onSnapshot(...e){const s=extractSnapshotOptions(e),o=wrapObserver(e,a=>new DocumentSnapshot(this.firestore,new il(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Il(this._delegate,s,o)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=ll(this._delegate):(e==null?void 0:e.source)==="server"?s=fl(this._delegate):s=al(this._delegate),s.then(o=>new DocumentSnapshot(this.firestore,new il(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new DocumentReference(this.firestore,e?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function replaceFunctionName(i,e,s){return i.message=i.message.replace(e,s),i}function extractSnapshotOptions(i){for(const e of i)if(typeof e=="object"&&!isPartialObserver(e))return e;return{}}function wrapObserver(i,e){var s,o;let a;return isPartialObserver(i[0])?a=i[0]:isPartialObserver(i[1])?a=i[1]:typeof i[0]=="function"?a={next:i[0],error:i[1],complete:i[2]}:a={next:i[1],error:i[2],complete:i[3]},{next:c=>{a.next&&a.next(e(c))},error:(s=a.error)===null||s===void 0?void 0:s.bind(a),complete:(o=a.complete)===null||o===void 0?void 0:o.bind(a)}}class DocumentSnapshot{constructor(e,s){this._firestore=e,this._delegate=s}get ref(){return new DocumentReference(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,s){return this._delegate.get(e,s)}isEqual(e){return cl(this._delegate,e._delegate)}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e){const s=this._delegate.data(e);return F(s!==void 0),s}}class Query{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new UserDataWriter(e)}where(e,s,o){try{return new Query(this.firestore,Mh(this._delegate,$h(e,s,o)))}catch(a){throw replaceFunctionName(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,s){try{return new Query(this.firestore,Mh(this._delegate,Lh(e,s)))}catch(o){throw replaceFunctionName(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Query(this.firestore,Mh(this._delegate,qh(e)))}catch(s){throw replaceFunctionName(s,"limit()","Query.limit()")}}limitToLast(e){try{return new Query(this.firestore,Mh(this._delegate,Kh(e)))}catch(s){throw replaceFunctionName(s,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Query(this.firestore,Mh(this._delegate,Qh(...e)))}catch(s){throw replaceFunctionName(s,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Query(this.firestore,Mh(this._delegate,jh(...e)))}catch(s){throw replaceFunctionName(s,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Query(this.firestore,Mh(this._delegate,zh(...e)))}catch(s){throw replaceFunctionName(s,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Query(this.firestore,Mh(this._delegate,Hh(...e)))}catch(s){throw replaceFunctionName(s,"endAt()","Query.endAt()")}}isEqual(e){return ra(this._delegate,e._delegate)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=_l(this._delegate):(e==null?void 0:e.source)==="server"?s=wl(this._delegate):s=dl(this._delegate),s.then(o=>new QuerySnapshot(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const s=extractSnapshotOptions(e),o=wrapObserver(e,a=>new QuerySnapshot(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Il(this._delegate,s,o)}withConverter(e){return new Query(this.firestore,e?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class DocumentChange{constructor(e,s){this._firestore=e,this._delegate=s}get type(){return this._delegate.type}get doc(){return new QueryDocumentSnapshot(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QuerySnapshot{constructor(e,s){this._firestore=e,this._delegate=s}get query(){return new Query(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new QueryDocumentSnapshot(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(s=>new DocumentChange(this._firestore,s))}forEach(e,s){this._delegate.forEach(o=>{e.call(s,new QueryDocumentSnapshot(this._firestore,o))})}isEqual(e){return cl(this._delegate,e._delegate)}}class CollectionReference extends Query{constructor(e,s){super(e,s),this.firestore=e,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new DocumentReference(this.firestore,e):null}doc(e){try{return e===void 0?new DocumentReference(this.firestore,sa(this._delegate)):new DocumentReference(this.firestore,sa(this._delegate,e))}catch(s){throw replaceFunctionName(s,"doc()","CollectionReference.doc()")}}add(e){return pl(this._delegate,e).then(s=>new DocumentReference(this.firestore,s))}isEqual(e){return ia(this._delegate,e._delegate)}withConverter(e){return new CollectionReference(this.firestore,e?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function castReference(i){return jc(i,Xc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){this._delegate=new eh(...e)}static documentId(){return new FieldPath(ut$1.keyField().canonicalString())}isEqual(e){return e=getModularInstance(e),e instanceof eh?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._delegate=e}static serverTimestamp(){const e=xl();return e._methodName="FieldValue.serverTimestamp",new FieldValue(e)}static delete(){const e=Cl();return e._methodName="FieldValue.delete",new FieldValue(e)}static arrayUnion(...e){const s=Nl(...e);return s._methodName="FieldValue.arrayUnion",new FieldValue(s)}static arrayRemove(...e){const s=kl(...e);return s._methodName="FieldValue.arrayRemove",new FieldValue(s)}static increment(e){const s=Ol(e);return s._methodName="FieldValue.increment",new FieldValue(s)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const firestoreNamespace={Firestore,GeoPoint:ih,Timestamp:nt$1,Blob:Blob$1,Transaction,WriteBatch,DocumentReference,DocumentSnapshot,Query,QueryDocumentSnapshot,QuerySnapshot,CollectionReference,FieldPath,FieldValue,setLogLevel,CACHE_SIZE_UNLIMITED:Fa};function configureForFirebase(i,e){i.INTERNAL.registerComponent(new Component("firestore-compat",s=>{const o=s.getProvider("app-compat").getImmediate(),a=s.getProvider("firestore").getImmediate();return e(o,a)},"PUBLIC").setServiceProps(Object.assign({},firestoreNamespace)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerFirestore(i){configureForFirebase(i,(e,s)=>new Firestore(e,s,new IndexedDbPersistenceProvider)),i.registerVersion(name,version)}registerFirestore(firebase);const app=firebase.initializeApp({apiKey:"AIzaSyA-1uo-lEotki5fjJc6XGrkwwN6gwXjYe4",authDomain:"angiotechclinic.firebaseapp.com",projectId:"angiotechclinic",storageBucket:"angiotechclinic.appspot.com",messagingSenderId:"444650631589",appId:"1:444650631589:web:a068fa45691801e8e1384c"}),db=firebase.firestore();var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(o,a,c,d,h,g){if(g!==ReactPropTypesSecret){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function e(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function s(){for(var o=[],a=0;a<arguments.length;a++){var c=arguments[a];if(!!c){var d=typeof c;if(d==="string"||d==="number")o.push(c);else if(Array.isArray(c)){if(c.length){var h=s.apply(null,c);h&&o.push(h)}}else if(d==="object"){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){o.push(c.toString());continue}for(var g in c)e.call(c,g)&&c[g]&&o.push(g)}}}return o.join(" ")}i.exports?(s.default=s,i.exports=s):window.classNames=s})()})(classnames);const r$1=classnames.exports;function requiredArgs(i,e){if(e.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+e.length+" present")}function _typeof$B(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$B=function(s){return typeof s}:_typeof$B=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$B(i)}function isDate$1(i){return requiredArgs(1,arguments),i instanceof Date||_typeof$B(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function _typeof$A(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$A=function(s){return typeof s}:_typeof$A=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$A(i)}function toDate$1(i){requiredArgs(1,arguments);var e=Object.prototype.toString.call(i);return i instanceof Date||_typeof$A(i)==="object"&&e==="[object Date]"?new Date(i.getTime()):typeof i=="number"||e==="[object Number]"?new Date(i):((typeof i=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function isValid$3(i){if(requiredArgs(1,arguments),!isDate$1(i)&&typeof i!="number")return!1;var e=toDate$1(i);return!isNaN(Number(e))}function toInteger$1(i){if(i===null||i===!0||i===!1)return NaN;var e=Number(i);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function addMilliseconds(i,e){requiredArgs(2,arguments);var s=toDate$1(i).getTime(),o=toInteger$1(e);return new Date(s+o)}function subMilliseconds(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addMilliseconds(i,-s)}var MILLISECONDS_IN_DAY$1=864e5;function getUTCDayOfYear(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=e.getTime(),a=s-o;return Math.floor(a/MILLISECONDS_IN_DAY$1)+1}function startOfUTCISOWeek(i){requiredArgs(1,arguments);var e=1,s=toDate$1(i),o=s.getUTCDay(),a=(o<e?7:0)+o-e;return s.setUTCDate(s.getUTCDate()-a),s.setUTCHours(0,0,0,0),s}function getUTCISOWeekYear(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(s+1,0,4),o.setUTCHours(0,0,0,0);var a=startOfUTCISOWeek(o),c=new Date(0);c.setUTCFullYear(s,0,4),c.setUTCHours(0,0,0,0);var d=startOfUTCISOWeek(c);return e.getTime()>=a.getTime()?s+1:e.getTime()>=d.getTime()?s:s-1}function startOfUTCISOWeekYear(i){requiredArgs(1,arguments);var e=getUTCISOWeekYear(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(s);return o}var MILLISECONDS_IN_WEEK$2=6048e5;function getUTCISOWeek(i){requiredArgs(1,arguments);var e=toDate$1(i),s=startOfUTCISOWeek(e).getTime()-startOfUTCISOWeekYear(e).getTime();return Math.round(s/MILLISECONDS_IN_WEEK$2)+1}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfUTCWeek(i,e){var s,o,a,c,d,h,g,_;requiredArgs(1,arguments);var $l=getDefaultOptions(),Rl=toInteger$1((s=(o=(a=(c=e==null?void 0:e.weekStartsOn)!==null&&c!==void 0?c:e==null||(d=e.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:$l.weekStartsOn)!==null&&o!==void 0?o:(g=$l.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&s!==void 0?s:0);if(!(Rl>=0&&Rl<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Ml=toDate$1(i),Ul=Ml.getUTCDay(),Fl=(Ul<Rl?7:0)+Ul-Rl;return Ml.setUTCDate(Ml.getUTCDate()-Fl),Ml.setUTCHours(0,0,0,0),Ml}function getUTCWeekYear(i,e){var s,o,a,c,d,h,g,_;requiredArgs(1,arguments);var $l=toDate$1(i),Rl=$l.getUTCFullYear(),Ml=getDefaultOptions(),Ul=toInteger$1((s=(o=(a=(c=e==null?void 0:e.firstWeekContainsDate)!==null&&c!==void 0?c:e==null||(d=e.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:Ml.firstWeekContainsDate)!==null&&o!==void 0?o:(g=Ml.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(Ul>=1&&Ul<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Fl=new Date(0);Fl.setUTCFullYear(Rl+1,0,Ul),Fl.setUTCHours(0,0,0,0);var Ll=startOfUTCWeek(Fl,e),Bl=new Date(0);Bl.setUTCFullYear(Rl,0,Ul),Bl.setUTCHours(0,0,0,0);var zl=startOfUTCWeek(Bl,e);return $l.getTime()>=Ll.getTime()?Rl+1:$l.getTime()>=zl.getTime()?Rl:Rl-1}function startOfUTCWeekYear(i,e){var s,o,a,c,d,h,g,_;requiredArgs(1,arguments);var $l=getDefaultOptions(),Rl=toInteger$1((s=(o=(a=(c=e==null?void 0:e.firstWeekContainsDate)!==null&&c!==void 0?c:e==null||(d=e.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:$l.firstWeekContainsDate)!==null&&o!==void 0?o:(g=$l.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&s!==void 0?s:1),Ml=getUTCWeekYear(i,e),Ul=new Date(0);Ul.setUTCFullYear(Ml,0,Rl),Ul.setUTCHours(0,0,0,0);var Fl=startOfUTCWeek(Ul,e);return Fl}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCWeek(i,e){requiredArgs(1,arguments);var s=toDate$1(i),o=startOfUTCWeek(s,e).getTime()-startOfUTCWeekYear(s,e).getTime();return Math.round(o/MILLISECONDS_IN_WEEK$1)+1}function addLeadingZeros(i,e){for(var s=i<0?"-":"",o=Math.abs(i).toString();o.length<e;)o="0"+o;return s+o}var formatters$2={y:function(e,s){var o=e.getUTCFullYear(),a=o>0?o:1-o;return addLeadingZeros(s==="yy"?a%100:a,s.length)},M:function(e,s){var o=e.getUTCMonth();return s==="M"?String(o+1):addLeadingZeros(o+1,2)},d:function(e,s){return addLeadingZeros(e.getUTCDate(),s.length)},a:function(e,s){var o=e.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h:function(e,s){return addLeadingZeros(e.getUTCHours()%12||12,s.length)},H:function(e,s){return addLeadingZeros(e.getUTCHours(),s.length)},m:function(e,s){return addLeadingZeros(e.getUTCMinutes(),s.length)},s:function(e,s){return addLeadingZeros(e.getUTCSeconds(),s.length)},S:function(e,s){var o=s.length,a=e.getUTCMilliseconds(),c=Math.floor(a*Math.pow(10,o-3));return addLeadingZeros(c,s.length)}};const lightFormatters=formatters$2;var dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,s,o){var a=e.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return o.era(a,{width:"abbreviated"});case"GGGGG":return o.era(a,{width:"narrow"});case"GGGG":default:return o.era(a,{width:"wide"})}},y:function(e,s,o){if(s==="yo"){var a=e.getUTCFullYear(),c=a>0?a:1-a;return o.ordinalNumber(c,{unit:"year"})}return lightFormatters.y(e,s)},Y:function(e,s,o,a){var c=getUTCWeekYear(e,a),d=c>0?c:1-c;if(s==="YY"){var h=d%100;return addLeadingZeros(h,2)}return s==="Yo"?o.ordinalNumber(d,{unit:"year"}):addLeadingZeros(d,s.length)},R:function(e,s){var o=getUTCISOWeekYear(e);return addLeadingZeros(o,s.length)},u:function(e,s){var o=e.getUTCFullYear();return addLeadingZeros(o,s.length)},Q:function(e,s,o){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return addLeadingZeros(a,2);case"Qo":return o.ordinalNumber(a,{unit:"quarter"});case"QQQ":return o.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,s,o){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return addLeadingZeros(a,2);case"qo":return o.ordinalNumber(a,{unit:"quarter"});case"qqq":return o.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,s,o){var a=e.getUTCMonth();switch(s){case"M":case"MM":return lightFormatters.M(e,s);case"Mo":return o.ordinalNumber(a+1,{unit:"month"});case"MMM":return o.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(a,{width:"wide",context:"formatting"})}},L:function(e,s,o){var a=e.getUTCMonth();switch(s){case"L":return String(a+1);case"LL":return addLeadingZeros(a+1,2);case"Lo":return o.ordinalNumber(a+1,{unit:"month"});case"LLL":return o.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(a,{width:"wide",context:"standalone"})}},w:function(e,s,o,a){var c=getUTCWeek(e,a);return s==="wo"?o.ordinalNumber(c,{unit:"week"}):addLeadingZeros(c,s.length)},I:function(e,s,o){var a=getUTCISOWeek(e);return s==="Io"?o.ordinalNumber(a,{unit:"week"}):addLeadingZeros(a,s.length)},d:function(e,s,o){return s==="do"?o.ordinalNumber(e.getUTCDate(),{unit:"date"}):lightFormatters.d(e,s)},D:function(e,s,o){var a=getUTCDayOfYear(e);return s==="Do"?o.ordinalNumber(a,{unit:"dayOfYear"}):addLeadingZeros(a,s.length)},E:function(e,s,o){var a=e.getUTCDay();switch(s){case"E":case"EE":case"EEE":return o.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(a,{width:"short",context:"formatting"});case"EEEE":default:return o.day(a,{width:"wide",context:"formatting"})}},e:function(e,s,o,a){var c=e.getUTCDay(),d=(c-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(d);case"ee":return addLeadingZeros(d,2);case"eo":return o.ordinalNumber(d,{unit:"day"});case"eee":return o.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(c,{width:"short",context:"formatting"});case"eeee":default:return o.day(c,{width:"wide",context:"formatting"})}},c:function(e,s,o,a){var c=e.getUTCDay(),d=(c-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(d);case"cc":return addLeadingZeros(d,s.length);case"co":return o.ordinalNumber(d,{unit:"day"});case"ccc":return o.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(c,{width:"narrow",context:"standalone"});case"cccccc":return o.day(c,{width:"short",context:"standalone"});case"cccc":default:return o.day(c,{width:"wide",context:"standalone"})}},i:function(e,s,o){var a=e.getUTCDay(),c=a===0?7:a;switch(s){case"i":return String(c);case"ii":return addLeadingZeros(c,s.length);case"io":return o.ordinalNumber(c,{unit:"day"});case"iii":return o.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(a,{width:"short",context:"formatting"});case"iiii":default:return o.day(a,{width:"wide",context:"formatting"})}},a:function(e,s,o){var a=e.getUTCHours(),c=a/12>=1?"pm":"am";switch(s){case"a":case"aa":return o.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,s,o){var a=e.getUTCHours(),c;switch(a===12?c=dayPeriodEnum.noon:a===0?c=dayPeriodEnum.midnight:c=a/12>=1?"pm":"am",s){case"b":case"bb":return o.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,s,o){var a=e.getUTCHours(),c;switch(a>=17?c=dayPeriodEnum.evening:a>=12?c=dayPeriodEnum.afternoon:a>=4?c=dayPeriodEnum.morning:c=dayPeriodEnum.night,s){case"B":case"BB":case"BBB":return o.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,s,o){if(s==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),o.ordinalNumber(a,{unit:"hour"})}return lightFormatters.h(e,s)},H:function(e,s,o){return s==="Ho"?o.ordinalNumber(e.getUTCHours(),{unit:"hour"}):lightFormatters.H(e,s)},K:function(e,s,o){var a=e.getUTCHours()%12;return s==="Ko"?o.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,s.length)},k:function(e,s,o){var a=e.getUTCHours();return a===0&&(a=24),s==="ko"?o.ordinalNumber(a,{unit:"hour"}):addLeadingZeros(a,s.length)},m:function(e,s,o){return s==="mo"?o.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):lightFormatters.m(e,s)},s:function(e,s,o){return s==="so"?o.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):lightFormatters.s(e,s)},S:function(e,s){return lightFormatters.S(e,s)},X:function(e,s,o,a){var c=a._originalDate||e,d=c.getTimezoneOffset();if(d===0)return"Z";switch(s){case"X":return formatTimezoneWithOptionalMinutes(d);case"XXXX":case"XX":return formatTimezone(d);case"XXXXX":case"XXX":default:return formatTimezone(d,":")}},x:function(e,s,o,a){var c=a._originalDate||e,d=c.getTimezoneOffset();switch(s){case"x":return formatTimezoneWithOptionalMinutes(d);case"xxxx":case"xx":return formatTimezone(d);case"xxxxx":case"xxx":default:return formatTimezone(d,":")}},O:function(e,s,o,a){var c=a._originalDate||e,d=c.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(d,":");case"OOOO":default:return"GMT"+formatTimezone(d,":")}},z:function(e,s,o,a){var c=a._originalDate||e,d=c.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(d,":");case"zzzz":default:return"GMT"+formatTimezone(d,":")}},t:function(e,s,o,a){var c=a._originalDate||e,d=Math.floor(c.getTime()/1e3);return addLeadingZeros(d,s.length)},T:function(e,s,o,a){var c=a._originalDate||e,d=c.getTime();return addLeadingZeros(d,s.length)}};function formatTimezoneShort(i,e){var s=i>0?"-":"+",o=Math.abs(i),a=Math.floor(o/60),c=o%60;if(c===0)return s+String(a);var d=e||"";return s+String(a)+d+addLeadingZeros(c,2)}function formatTimezoneWithOptionalMinutes(i,e){if(i%60===0){var s=i>0?"-":"+";return s+addLeadingZeros(Math.abs(i)/60,2)}return formatTimezone(i,e)}function formatTimezone(i,e){var s=e||"",o=i>0?"-":"+",a=Math.abs(i),c=addLeadingZeros(Math.floor(a/60),2),d=addLeadingZeros(a%60,2);return o+c+s+d}const formatters$1=formatters;var dateLongFormatter=function(e,s){switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},timeLongFormatter=function(e,s){switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},dateTimeLongFormatter=function(e,s){var o=e.match(/(P+)(p+)?/)||[],a=o[1],c=o[2];if(!c)return dateLongFormatter(e,s);var d;switch(a){case"P":d=s.dateTime({width:"short"});break;case"PP":d=s.dateTime({width:"medium"});break;case"PPP":d=s.dateTime({width:"long"});break;case"PPPP":default:d=s.dateTime({width:"full"});break}return d.replace("{{date}}",dateLongFormatter(a,s)).replace("{{time}}",timeLongFormatter(c,s))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter};const longFormatters$1=longFormatters;function getTimezoneOffsetInMilliseconds(i){var e=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return e.setUTCFullYear(i.getFullYear()),i.getTime()-e.getTime()}var protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(i){return protectedDayOfYearTokens.indexOf(i)!==-1}function isProtectedWeekYearToken(i){return protectedWeekYearTokens.indexOf(i)!==-1}function throwProtectedError(i,e,s){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(e,s,o){var a,c=formatDistanceLocale[e];return typeof c=="string"?a=c:s===1?a=c.one:a=c.other.replace("{{count}}",s.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+a:a+" ago":a};const formatDistance$1=formatDistance;function buildFormatLongFn(i){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=e.width?String(e.width):i.defaultWidth,o=i.formats[s]||i.formats[i.defaultWidth];return o}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})};const formatLong$1=formatLong;var formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(e,s,o,a){return formatRelativeLocale[e]};const formatRelative$1=formatRelative;function buildLocalizeFn(i){return function(e,s){var o=s!=null&&s.context?String(s.context):"standalone",a;if(o==="formatting"&&i.formattingValues){var c=i.defaultFormattingWidth||i.defaultWidth,d=s!=null&&s.width?String(s.width):c;a=i.formattingValues[d]||i.formattingValues[c]}else{var h=i.defaultWidth,g=s!=null&&s.width?String(s.width):i.defaultWidth;a=i.values[g]||i.values[h]}var _=i.argumentCallback?i.argumentCallback(e):e;return a[_]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(e,s){var o=Number(e),a=o%100;if(a>20||a<10)switch(a%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};const localize$1=localize;function buildMatchFn(i){return function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.width,a=o&&i.matchPatterns[o]||i.matchPatterns[i.defaultMatchWidth],c=e.match(a);if(!c)return null;var d=c[0],h=o&&i.parsePatterns[o]||i.parsePatterns[i.defaultParseWidth],g=Array.isArray(h)?findIndex$1(h,function(Rl){return Rl.test(d)}):findKey(h,function(Rl){return Rl.test(d)}),_;_=i.valueCallback?i.valueCallback(g):g,_=s.valueCallback?s.valueCallback(_):_;var $l=e.slice(d.length);return{value:_,rest:$l}}}function findKey(i,e){for(var s in i)if(i.hasOwnProperty(s)&&e(i[s]))return s}function findIndex$1(i,e){for(var s=0;s<i.length;s++)if(e(i[s]))return s}function buildMatchPatternFn(i){return function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.match(i.matchPattern);if(!o)return null;var a=o[0],c=e.match(i.parsePattern);if(!c)return null;var d=i.valueCallback?i.valueCallback(c[0]):c[0];d=s.valueCallback?s.valueCallback(d):d;var h=e.slice(a.length);return{value:d,rest:h}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(e){return parseInt(e,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})};const match$1=match;var locale$1={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const defaultLocale=locale$1;var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format$1(i,e,s){var o,a,c,d,h,g,_,$l,Rl,Ml,Ul,Fl,Ll,Bl,zl,Hl,Wl,Yl;requiredArgs(2,arguments);var Xl=String(e),Gl=getDefaultOptions(),_d=(o=(a=s==null?void 0:s.locale)!==null&&a!==void 0?a:Gl.locale)!==null&&o!==void 0?o:defaultLocale,Kl=toInteger$1((c=(d=(h=(g=s==null?void 0:s.firstWeekContainsDate)!==null&&g!==void 0?g:s==null||(_=s.locale)===null||_===void 0||($l=_.options)===null||$l===void 0?void 0:$l.firstWeekContainsDate)!==null&&h!==void 0?h:Gl.firstWeekContainsDate)!==null&&d!==void 0?d:(Rl=Gl.locale)===null||Rl===void 0||(Ml=Rl.options)===null||Ml===void 0?void 0:Ml.firstWeekContainsDate)!==null&&c!==void 0?c:1);if(!(Kl>=1&&Kl<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ru=toInteger$1((Ul=(Fl=(Ll=(Bl=s==null?void 0:s.weekStartsOn)!==null&&Bl!==void 0?Bl:s==null||(zl=s.locale)===null||zl===void 0||(Hl=zl.options)===null||Hl===void 0?void 0:Hl.weekStartsOn)!==null&&Ll!==void 0?Ll:Gl.weekStartsOn)!==null&&Fl!==void 0?Fl:(Wl=Gl.locale)===null||Wl===void 0||(Yl=Wl.options)===null||Yl===void 0?void 0:Yl.weekStartsOn)!==null&&Ul!==void 0?Ul:0);if(!(ru>=0&&ru<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_d.localize)throw new RangeError("locale must contain localize property");if(!_d.formatLong)throw new RangeError("locale must contain formatLong property");var Zl=toDate$1(i);if(!isValid$3(Zl))throw new RangeError("Invalid time value");var tp=getTimezoneOffsetInMilliseconds(Zl),op=subMilliseconds(Zl,tp),bp={firstWeekContainsDate:Kl,weekStartsOn:ru,locale:_d,_originalDate:Zl},ap=Xl.match(longFormattingTokensRegExp$1).map(function(hp){var gp=hp[0];if(gp==="p"||gp==="P"){var rp=longFormatters$1[gp];return rp(hp,_d.formatLong)}return hp}).join("").match(formattingTokensRegExp$1).map(function(hp){if(hp==="''")return"'";var gp=hp[0];if(gp==="'")return cleanEscapedString$1(hp);var rp=formatters$1[gp];if(rp)return!(s!=null&&s.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(hp)&&throwProtectedError(hp,e,String(i)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(hp)&&throwProtectedError(hp,e,String(i)),rp(op,hp,_d.localize,bp);if(gp.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+gp+"`");return hp}).join("");return ap}function cleanEscapedString$1(i){var e=i.match(escapedStringRegExp$1);return e?e[1].replace(doubleQuoteRegExp$1,"'"):i}var MILLISECONDS_IN_MINUTE=6e4;function addMinutes(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addMilliseconds(i,s*MILLISECONDS_IN_MINUTE)}var MILLISECONDS_IN_HOUR=36e5;function addHours(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addMilliseconds(i,s*MILLISECONDS_IN_HOUR)}function addDays(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e);return isNaN(o)?new Date(NaN):(o&&s.setDate(s.getDate()+o),s)}function addWeeks(i,e){requiredArgs(2,arguments);var s=toInteger$1(e),o=s*7;return addDays(i,o)}function addMonths$1(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e);if(isNaN(o))return new Date(NaN);if(!o)return s;var a=s.getDate(),c=new Date(s.getTime());c.setMonth(s.getMonth()+o+1,0);var d=c.getDate();return a>=d?c:(s.setFullYear(c.getFullYear(),c.getMonth(),a),s)}function addYears(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addMonths$1(i,s*12)}function subDays(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addDays(i,-s)}function subWeeks(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addWeeks(i,-s)}function subMonths(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addMonths$1(i,-s)}function subYears(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);return addYears(i,-s)}function getSeconds(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getSeconds();return s}function getMinutes(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getMinutes();return s}function getHours(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getHours();return s}function getDay(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getDay();return s}function getDate(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getDate();return s}function startOfWeek(i,e){var s,o,a,c,d,h,g,_;requiredArgs(1,arguments);var $l=getDefaultOptions(),Rl=toInteger$1((s=(o=(a=(c=e==null?void 0:e.weekStartsOn)!==null&&c!==void 0?c:e==null||(d=e.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&a!==void 0?a:$l.weekStartsOn)!==null&&o!==void 0?o:(g=$l.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&s!==void 0?s:0);if(!(Rl>=0&&Rl<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Ml=toDate$1(i),Ul=Ml.getDay(),Fl=(Ul<Rl?7:0)+Ul-Rl;return Ml.setDate(Ml.getDate()-Fl),Ml.setHours(0,0,0,0),Ml}function startOfISOWeek(i){return requiredArgs(1,arguments),startOfWeek(i,{weekStartsOn:1})}function getISOWeekYear(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getFullYear(),o=new Date(0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);var a=startOfISOWeek(o),c=new Date(0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);var d=startOfISOWeek(c);return e.getTime()>=a.getTime()?s+1:e.getTime()>=d.getTime()?s:s-1}function startOfISOWeekYear(i){requiredArgs(1,arguments);var e=getISOWeekYear(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var o=startOfISOWeek(s);return o}var MILLISECONDS_IN_WEEK=6048e5;function getISOWeek(i){requiredArgs(1,arguments);var e=toDate$1(i),s=startOfISOWeek(e).getTime()-startOfISOWeekYear(e).getTime();return Math.round(s/MILLISECONDS_IN_WEEK)+1}function getMonth(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getMonth();return s}function getQuarter(i){requiredArgs(1,arguments);var e=toDate$1(i),s=Math.floor(e.getMonth()/3)+1;return s}function getYear(i){return requiredArgs(1,arguments),toDate$1(i).getFullYear()}function getTime(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getTime();return s}function setSeconds(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e);return s.setSeconds(o),s}function setMinutes(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e);return s.setMinutes(o),s}function setHours(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e);return s.setHours(o),s}function getDaysInMonth$1(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getFullYear(),o=e.getMonth(),a=new Date(0);return a.setFullYear(s,o+1,0),a.setHours(0,0,0,0),a.getDate()}function setMonth$1(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e),a=s.getFullYear(),c=s.getDate(),d=new Date(0);d.setFullYear(a,o,15),d.setHours(0,0,0,0);var h=getDaysInMonth$1(d);return s.setMonth(o,Math.min(c,h)),s}function setQuarter(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e),a=Math.floor(s.getMonth()/3)+1,c=o-a;return setMonth$1(s,s.getMonth()+c*3)}function setYear(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e);return isNaN(s.getTime())?new Date(NaN):(s.setFullYear(o),s)}function _typeof$z(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$z=function(s){return typeof s}:_typeof$z=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$z(i)}function min$3(i){requiredArgs(1,arguments);var e;if(i&&typeof i.forEach=="function")e=i;else if(_typeof$z(i)==="object"&&i!==null)e=Array.prototype.slice.call(i);else return new Date(NaN);var s;return e.forEach(function(o){var a=toDate$1(o);(s===void 0||s>a||isNaN(a.getDate()))&&(s=a)}),s||new Date(NaN)}function _typeof$y(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$y=function(s){return typeof s}:_typeof$y=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$y(i)}function max$3(i){requiredArgs(1,arguments);var e;if(i&&typeof i.forEach=="function")e=i;else if(_typeof$y(i)==="object"&&i!==null)e=Array.prototype.slice.call(i);else return new Date(NaN);var s;return e.forEach(function(o){var a=toDate$1(o);(s===void 0||s<a||isNaN(Number(a)))&&(s=a)}),s||new Date(NaN)}function startOfDay(i){requiredArgs(1,arguments);var e=toDate$1(i);return e.setHours(0,0,0,0),e}var MILLISECONDS_IN_DAY=864e5;function differenceInCalendarDays(i,e){requiredArgs(2,arguments);var s=startOfDay(i),o=startOfDay(e),a=s.getTime()-getTimezoneOffsetInMilliseconds(s),c=o.getTime()-getTimezoneOffsetInMilliseconds(o);return Math.round((a-c)/MILLISECONDS_IN_DAY)}function differenceInCalendarMonths(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e),a=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return a*12+c}function differenceInCalendarYears(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e);return s.getFullYear()-o.getFullYear()}function startOfMonth(i){requiredArgs(1,arguments);var e=toDate$1(i);return e.setDate(1),e.setHours(0,0,0,0),e}function startOfQuarter(i){requiredArgs(1,arguments);var e=toDate$1(i),s=e.getMonth(),o=s-s%3;return e.setMonth(o,1),e.setHours(0,0,0,0),e}function startOfYear(i){requiredArgs(1,arguments);var e=toDate$1(i),s=new Date(0);return s.setFullYear(e.getFullYear(),0,1),s.setHours(0,0,0,0),s}function endOfDay(i){requiredArgs(1,arguments);var e=toDate$1(i);return e.setHours(23,59,59,999),e}function isEqual$3(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e);return s.getTime()===o.getTime()}function isSameDay(i,e){requiredArgs(2,arguments);var s=startOfDay(i),o=startOfDay(e);return s.getTime()===o.getTime()}function isSameMonth(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function isSameYear(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e);return s.getFullYear()===o.getFullYear()}function isSameQuarter(i,e){requiredArgs(2,arguments);var s=startOfQuarter(i),o=startOfQuarter(e);return s.getTime()===o.getTime()}function isAfter$1(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e);return s.getTime()>o.getTime()}function isBefore$1(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toDate$1(e);return s.getTime()<o.getTime()}function isWithinInterval(i,e){requiredArgs(2,arguments);var s=toDate$1(i).getTime(),o=toDate$1(e.start).getTime(),a=toDate$1(e.end).getTime();if(!(o<=a))throw new RangeError("Invalid interval");return s>=o&&s<=a}function assign(i,e){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i}function _typeof$x(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$x=function(s){return typeof s}:_typeof$x=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$x(i)}function _inherits$x(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$x(i,e)}function _setPrototypeOf$x(i,e){return _setPrototypeOf$x=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$x(i,e)}function _createSuper$w(i){var e=_isNativeReflectConstruct$w();return function(){var o=_getPrototypeOf$w(i),a;if(e){var c=_getPrototypeOf$w(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$x(this,a)}}function _possibleConstructorReturn$x(i,e){return e&&(_typeof$x(e)==="object"||typeof e=="function")?e:_assertThisInitialized$x(i)}function _assertThisInitialized$x(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$w(i){return _getPrototypeOf$w=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$w(i)}function _classCallCheck$z(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$x(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$y(i,e,s){return e&&_defineProperties$x(i.prototype,e),s&&_defineProperties$x(i,s),i}function _defineProperty$w(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var TIMEZONE_UNIT_PRIORITY=10,Setter=function(){function i(){_classCallCheck$z(this,i),_defineProperty$w(this,"subPriority",0)}return _createClass$y(i,[{key:"validate",value:function(s,o){return!0}}]),i}(),ValueSetter=function(i){_inherits$x(s,i);var e=_createSuper$w(s);function s(o,a,c,d,h){var g;return _classCallCheck$z(this,s),g=e.call(this),g.value=o,g.validateValue=a,g.setValue=c,g.priority=d,h&&(g.subPriority=h),g}return _createClass$y(s,[{key:"validate",value:function(a,c){return this.validateValue(a,this.value,c)}},{key:"set",value:function(a,c,d){return this.setValue(a,c,this.value,d)}}]),s}(Setter),DateToSystemTimezoneSetter=function(i){_inherits$x(s,i);var e=_createSuper$w(s);function s(){var o;_classCallCheck$z(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$w(_assertThisInitialized$x(o),"priority",TIMEZONE_UNIT_PRIORITY),_defineProperty$w(_assertThisInitialized$x(o),"subPriority",-1),o}return _createClass$y(s,[{key:"set",value:function(a,c){if(c.timestampIsSet)return a;var d=new Date(0);return d.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),d.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),d}}]),s}(Setter);function _classCallCheck$y(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$w(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$x(i,e,s){return e&&_defineProperties$w(i.prototype,e),s&&_defineProperties$w(i,s),i}var Parser=function(){function i(){_classCallCheck$y(this,i)}return _createClass$x(i,[{key:"run",value:function(s,o,a,c){var d=this.parse(s,o,a,c);return d?{setter:new ValueSetter(d.value,this.validate,this.set,this.priority,this.subPriority),rest:d.rest}:null}},{key:"validate",value:function(s,o,a){return!0}}]),i}();function _typeof$w(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$w=function(s){return typeof s}:_typeof$w=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$w(i)}function _classCallCheck$x(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$v(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$w(i,e,s){return e&&_defineProperties$v(i.prototype,e),s&&_defineProperties$v(i,s),i}function _inherits$w(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$w(i,e)}function _setPrototypeOf$w(i,e){return _setPrototypeOf$w=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$w(i,e)}function _createSuper$v(i){var e=_isNativeReflectConstruct$v();return function(){var o=_getPrototypeOf$v(i),a;if(e){var c=_getPrototypeOf$v(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$w(this,a)}}function _possibleConstructorReturn$w(i,e){return e&&(_typeof$w(e)==="object"||typeof e=="function")?e:_assertThisInitialized$w(i)}function _assertThisInitialized$w(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$v(i){return _getPrototypeOf$v=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$v(i)}function _defineProperty$v(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var EraParser=function(i){_inherits$w(s,i);var e=_createSuper$v(s);function s(){var o;_classCallCheck$x(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$v(_assertThisInitialized$w(o),"priority",140),_defineProperty$v(_assertThisInitialized$w(o),"incompatibleTokens",["R","u","t","T"]),o}return _createClass$w(s,[{key:"parse",value:function(a,c,d){switch(c){case"G":case"GG":case"GGG":return d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"});case"GGGGG":return d.era(a,{width:"narrow"});case"GGGG":default:return d.era(a,{width:"wide"})||d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"})}}},{key:"set",value:function(a,c,d){return c.era=d,a.setUTCFullYear(d,0,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser),millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(i,e){return i&&{value:e(i.value),rest:i.rest}}function parseNumericPattern(i,e){var s=e.match(i);return s?{value:parseInt(s[0],10),rest:e.slice(s[0].length)}:null}function parseTimezonePattern(i,e){var s=e.match(i);if(!s)return null;if(s[0]==="Z")return{value:0,rest:e.slice(1)};var o=s[1]==="+"?1:-1,a=s[2]?parseInt(s[2],10):0,c=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:o*(a*millisecondsInHour+c*millisecondsInMinute+d*millisecondsInSecond),rest:e.slice(s[0].length)}}function parseAnyDigitsSigned(i){return parseNumericPattern(numericPatterns.anyDigitsSigned,i)}function parseNDigits(i,e){switch(i){case 1:return parseNumericPattern(numericPatterns.singleDigit,e);case 2:return parseNumericPattern(numericPatterns.twoDigits,e);case 3:return parseNumericPattern(numericPatterns.threeDigits,e);case 4:return parseNumericPattern(numericPatterns.fourDigits,e);default:return parseNumericPattern(new RegExp("^\\d{1,"+i+"}"),e)}}function parseNDigitsSigned(i,e){switch(i){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,e);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,e);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,e);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,e);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+i+"}"),e)}}function dayPeriodEnumToHours(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(i,e){var s=e>0,o=s?e:1-e,a;if(o<=50)a=i||100;else{var c=o+50,d=Math.floor(c/100)*100,h=i>=c%100;a=i+d-(h?100:0)}return s?a:1-a}function isLeapYearIndex$1(i){return i%400===0||i%4===0&&i%100!==0}function _typeof$v(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$v=function(s){return typeof s}:_typeof$v=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$v(i)}function _classCallCheck$w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$u(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$v(i,e,s){return e&&_defineProperties$u(i.prototype,e),s&&_defineProperties$u(i,s),i}function _inherits$v(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$v(i,e)}function _setPrototypeOf$v(i,e){return _setPrototypeOf$v=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$v(i,e)}function _createSuper$u(i){var e=_isNativeReflectConstruct$u();return function(){var o=_getPrototypeOf$u(i),a;if(e){var c=_getPrototypeOf$u(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$v(this,a)}}function _possibleConstructorReturn$v(i,e){return e&&(_typeof$v(e)==="object"||typeof e=="function")?e:_assertThisInitialized$v(i)}function _assertThisInitialized$v(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$u(i){return _getPrototypeOf$u=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$u(i)}function _defineProperty$u(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var YearParser=function(i){_inherits$v(s,i);var e=_createSuper$u(s);function s(){var o;_classCallCheck$w(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$u(_assertThisInitialized$v(o),"priority",130),_defineProperty$u(_assertThisInitialized$v(o),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),o}return _createClass$v(s,[{key:"parse",value:function(a,c,d){var h=function(_){return{year:_,isTwoDigitYear:c==="yy"}};switch(c){case"y":return mapValue(parseNDigits(4,a),h);case"yo":return mapValue(d.ordinalNumber(a,{unit:"year"}),h);default:return mapValue(parseNDigits(c.length,a),h)}}},{key:"validate",value:function(a,c){return c.isTwoDigitYear||c.year>0}},{key:"set",value:function(a,c,d){var h=a.getUTCFullYear();if(d.isTwoDigitYear){var g=normalizeTwoDigitYear(d.year,h);return a.setUTCFullYear(g,0,1),a.setUTCHours(0,0,0,0),a}var _=!("era"in c)||c.era===1?d.year:1-d.year;return a.setUTCFullYear(_,0,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$u(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$u=function(s){return typeof s}:_typeof$u=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$u(i)}function _classCallCheck$v(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$t(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$u(i,e,s){return e&&_defineProperties$t(i.prototype,e),s&&_defineProperties$t(i,s),i}function _inherits$u(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$u(i,e)}function _setPrototypeOf$u(i,e){return _setPrototypeOf$u=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$u(i,e)}function _createSuper$t(i){var e=_isNativeReflectConstruct$t();return function(){var o=_getPrototypeOf$t(i),a;if(e){var c=_getPrototypeOf$t(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$u(this,a)}}function _possibleConstructorReturn$u(i,e){return e&&(_typeof$u(e)==="object"||typeof e=="function")?e:_assertThisInitialized$u(i)}function _assertThisInitialized$u(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$t(i){return _getPrototypeOf$t=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$t(i)}function _defineProperty$t(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var LocalWeekYearParser=function(i){_inherits$u(s,i);var e=_createSuper$t(s);function s(){var o;_classCallCheck$v(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$t(_assertThisInitialized$u(o),"priority",130),_defineProperty$t(_assertThisInitialized$u(o),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),o}return _createClass$u(s,[{key:"parse",value:function(a,c,d){var h=function(_){return{year:_,isTwoDigitYear:c==="YY"}};switch(c){case"Y":return mapValue(parseNDigits(4,a),h);case"Yo":return mapValue(d.ordinalNumber(a,{unit:"year"}),h);default:return mapValue(parseNDigits(c.length,a),h)}}},{key:"validate",value:function(a,c){return c.isTwoDigitYear||c.year>0}},{key:"set",value:function(a,c,d,h){var g=getUTCWeekYear(a,h);if(d.isTwoDigitYear){var _=normalizeTwoDigitYear(d.year,g);return a.setUTCFullYear(_,0,h.firstWeekContainsDate),a.setUTCHours(0,0,0,0),startOfUTCWeek(a,h)}var $l=!("era"in c)||c.era===1?d.year:1-d.year;return a.setUTCFullYear($l,0,h.firstWeekContainsDate),a.setUTCHours(0,0,0,0),startOfUTCWeek(a,h)}}]),s}(Parser);function _typeof$t(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$t=function(s){return typeof s}:_typeof$t=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$t(i)}function _classCallCheck$u(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$s(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$t(i,e,s){return e&&_defineProperties$s(i.prototype,e),s&&_defineProperties$s(i,s),i}function _inherits$t(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$t(i,e)}function _setPrototypeOf$t(i,e){return _setPrototypeOf$t=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$t(i,e)}function _createSuper$s(i){var e=_isNativeReflectConstruct$s();return function(){var o=_getPrototypeOf$s(i),a;if(e){var c=_getPrototypeOf$s(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$t(this,a)}}function _possibleConstructorReturn$t(i,e){return e&&(_typeof$t(e)==="object"||typeof e=="function")?e:_assertThisInitialized$t(i)}function _assertThisInitialized$t(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$s(i){return _getPrototypeOf$s=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$s(i)}function _defineProperty$s(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var ISOWeekYearParser=function(i){_inherits$t(s,i);var e=_createSuper$s(s);function s(){var o;_classCallCheck$u(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$s(_assertThisInitialized$t(o),"priority",130),_defineProperty$s(_assertThisInitialized$t(o),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),o}return _createClass$t(s,[{key:"parse",value:function(a,c){return parseNDigitsSigned(c==="R"?4:c.length,a)}},{key:"set",value:function(a,c,d){var h=new Date(0);return h.setUTCFullYear(d,0,4),h.setUTCHours(0,0,0,0),startOfUTCISOWeek(h)}}]),s}(Parser);function _typeof$s(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$s=function(s){return typeof s}:_typeof$s=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$s(i)}function _classCallCheck$t(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$r(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$s(i,e,s){return e&&_defineProperties$r(i.prototype,e),s&&_defineProperties$r(i,s),i}function _inherits$s(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$s(i,e)}function _setPrototypeOf$s(i,e){return _setPrototypeOf$s=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$s(i,e)}function _createSuper$r(i){var e=_isNativeReflectConstruct$r();return function(){var o=_getPrototypeOf$r(i),a;if(e){var c=_getPrototypeOf$r(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$s(this,a)}}function _possibleConstructorReturn$s(i,e){return e&&(_typeof$s(e)==="object"||typeof e=="function")?e:_assertThisInitialized$s(i)}function _assertThisInitialized$s(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$r(i){return _getPrototypeOf$r=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$r(i)}function _defineProperty$r(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var ExtendedYearParser=function(i){_inherits$s(s,i);var e=_createSuper$r(s);function s(){var o;_classCallCheck$t(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$r(_assertThisInitialized$s(o),"priority",130),_defineProperty$r(_assertThisInitialized$s(o),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),o}return _createClass$s(s,[{key:"parse",value:function(a,c){return parseNDigitsSigned(c==="u"?4:c.length,a)}},{key:"set",value:function(a,c,d){return a.setUTCFullYear(d,0,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$r(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$r=function(s){return typeof s}:_typeof$r=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$r(i)}function _classCallCheck$s(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$q(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$r(i,e,s){return e&&_defineProperties$q(i.prototype,e),s&&_defineProperties$q(i,s),i}function _inherits$r(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$r(i,e)}function _setPrototypeOf$r(i,e){return _setPrototypeOf$r=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$r(i,e)}function _createSuper$q(i){var e=_isNativeReflectConstruct$q();return function(){var o=_getPrototypeOf$q(i),a;if(e){var c=_getPrototypeOf$q(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$r(this,a)}}function _possibleConstructorReturn$r(i,e){return e&&(_typeof$r(e)==="object"||typeof e=="function")?e:_assertThisInitialized$r(i)}function _assertThisInitialized$r(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$q(i){return _getPrototypeOf$q=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$q(i)}function _defineProperty$q(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var QuarterParser=function(i){_inherits$r(s,i);var e=_createSuper$q(s);function s(){var o;_classCallCheck$s(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$q(_assertThisInitialized$r(o),"priority",120),_defineProperty$q(_assertThisInitialized$r(o),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),o}return _createClass$r(s,[{key:"parse",value:function(a,c,d){switch(c){case"Q":case"QQ":return parseNDigits(c.length,a);case"Qo":return d.ordinalNumber(a,{unit:"quarter"});case"QQQ":return d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return d.quarter(a,{width:"wide",context:"formatting"})||d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,c){return c>=1&&c<=4}},{key:"set",value:function(a,c,d){return a.setUTCMonth((d-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$q(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$q=function(s){return typeof s}:_typeof$q=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$q(i)}function _classCallCheck$r(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$p(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$q(i,e,s){return e&&_defineProperties$p(i.prototype,e),s&&_defineProperties$p(i,s),i}function _inherits$q(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$q(i,e)}function _setPrototypeOf$q(i,e){return _setPrototypeOf$q=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$q(i,e)}function _createSuper$p(i){var e=_isNativeReflectConstruct$p();return function(){var o=_getPrototypeOf$p(i),a;if(e){var c=_getPrototypeOf$p(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$q(this,a)}}function _possibleConstructorReturn$q(i,e){return e&&(_typeof$q(e)==="object"||typeof e=="function")?e:_assertThisInitialized$q(i)}function _assertThisInitialized$q(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$p(i){return _getPrototypeOf$p=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$p(i)}function _defineProperty$p(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var StandAloneQuarterParser=function(i){_inherits$q(s,i);var e=_createSuper$p(s);function s(){var o;_classCallCheck$r(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$p(_assertThisInitialized$q(o),"priority",120),_defineProperty$p(_assertThisInitialized$q(o),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),o}return _createClass$q(s,[{key:"parse",value:function(a,c,d){switch(c){case"q":case"qq":return parseNDigits(c.length,a);case"qo":return d.ordinalNumber(a,{unit:"quarter"});case"qqq":return d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return d.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return d.quarter(a,{width:"wide",context:"standalone"})||d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,c){return c>=1&&c<=4}},{key:"set",value:function(a,c,d){return a.setUTCMonth((d-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$p(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$p=function(s){return typeof s}:_typeof$p=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$p(i)}function _classCallCheck$q(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$o(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$p(i,e,s){return e&&_defineProperties$o(i.prototype,e),s&&_defineProperties$o(i,s),i}function _inherits$p(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$p(i,e)}function _setPrototypeOf$p(i,e){return _setPrototypeOf$p=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$p(i,e)}function _createSuper$o(i){var e=_isNativeReflectConstruct$o();return function(){var o=_getPrototypeOf$o(i),a;if(e){var c=_getPrototypeOf$o(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$p(this,a)}}function _possibleConstructorReturn$p(i,e){return e&&(_typeof$p(e)==="object"||typeof e=="function")?e:_assertThisInitialized$p(i)}function _assertThisInitialized$p(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$o(i){return _getPrototypeOf$o=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$o(i)}function _defineProperty$o(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var MonthParser=function(i){_inherits$p(s,i);var e=_createSuper$o(s);function s(){var o;_classCallCheck$q(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$o(_assertThisInitialized$p(o),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_defineProperty$o(_assertThisInitialized$p(o),"priority",110),o}return _createClass$p(s,[{key:"parse",value:function(a,c,d){var h=function(_){return _-1};switch(c){case"M":return mapValue(parseNumericPattern(numericPatterns.month,a),h);case"MM":return mapValue(parseNDigits(2,a),h);case"Mo":return mapValue(d.ordinalNumber(a,{unit:"month"}),h);case"MMM":return d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return d.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return d.month(a,{width:"wide",context:"formatting"})||d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,c){return c>=0&&c<=11}},{key:"set",value:function(a,c,d){return a.setUTCMonth(d,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$o(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$o=function(s){return typeof s}:_typeof$o=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$o(i)}function _classCallCheck$p(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$n(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$o(i,e,s){return e&&_defineProperties$n(i.prototype,e),s&&_defineProperties$n(i,s),i}function _inherits$o(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$o(i,e)}function _setPrototypeOf$o(i,e){return _setPrototypeOf$o=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$o(i,e)}function _createSuper$n(i){var e=_isNativeReflectConstruct$n();return function(){var o=_getPrototypeOf$n(i),a;if(e){var c=_getPrototypeOf$n(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$o(this,a)}}function _possibleConstructorReturn$o(i,e){return e&&(_typeof$o(e)==="object"||typeof e=="function")?e:_assertThisInitialized$o(i)}function _assertThisInitialized$o(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$n(i){return _getPrototypeOf$n=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$n(i)}function _defineProperty$n(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var StandAloneMonthParser=function(i){_inherits$o(s,i);var e=_createSuper$n(s);function s(){var o;_classCallCheck$p(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$n(_assertThisInitialized$o(o),"priority",110),_defineProperty$n(_assertThisInitialized$o(o),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),o}return _createClass$o(s,[{key:"parse",value:function(a,c,d){var h=function(_){return _-1};switch(c){case"L":return mapValue(parseNumericPattern(numericPatterns.month,a),h);case"LL":return mapValue(parseNDigits(2,a),h);case"Lo":return mapValue(d.ordinalNumber(a,{unit:"month"}),h);case"LLL":return d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return d.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return d.month(a,{width:"wide",context:"standalone"})||d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,c){return c>=0&&c<=11}},{key:"set",value:function(a,c,d){return a.setUTCMonth(d,1),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function setUTCWeek(i,e,s){requiredArgs(2,arguments);var o=toDate$1(i),a=toInteger$1(e),c=getUTCWeek(o,s)-a;return o.setUTCDate(o.getUTCDate()-c*7),o}function _typeof$n(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$n=function(s){return typeof s}:_typeof$n=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$n(i)}function _classCallCheck$o(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$n(i,e,s){return e&&_defineProperties$m(i.prototype,e),s&&_defineProperties$m(i,s),i}function _inherits$n(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$n(i,e)}function _setPrototypeOf$n(i,e){return _setPrototypeOf$n=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$n(i,e)}function _createSuper$m(i){var e=_isNativeReflectConstruct$m();return function(){var o=_getPrototypeOf$m(i),a;if(e){var c=_getPrototypeOf$m(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$n(this,a)}}function _possibleConstructorReturn$n(i,e){return e&&(_typeof$n(e)==="object"||typeof e=="function")?e:_assertThisInitialized$n(i)}function _assertThisInitialized$n(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$m(i){return _getPrototypeOf$m=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$m(i)}function _defineProperty$m(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var LocalWeekParser=function(i){_inherits$n(s,i);var e=_createSuper$m(s);function s(){var o;_classCallCheck$o(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$m(_assertThisInitialized$n(o),"priority",100),_defineProperty$m(_assertThisInitialized$n(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),o}return _createClass$n(s,[{key:"parse",value:function(a,c,d){switch(c){case"w":return parseNumericPattern(numericPatterns.week,a);case"wo":return d.ordinalNumber(a,{unit:"week"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=1&&c<=53}},{key:"set",value:function(a,c,d,h){return startOfUTCWeek(setUTCWeek(a,d,h),h)}}]),s}(Parser);function setUTCISOWeek(i,e){requiredArgs(2,arguments);var s=toDate$1(i),o=toInteger$1(e),a=getUTCISOWeek(s)-o;return s.setUTCDate(s.getUTCDate()-a*7),s}function _typeof$m(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$m=function(s){return typeof s}:_typeof$m=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$m(i)}function _classCallCheck$n(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$m(i,e,s){return e&&_defineProperties$l(i.prototype,e),s&&_defineProperties$l(i,s),i}function _inherits$m(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$m(i,e)}function _setPrototypeOf$m(i,e){return _setPrototypeOf$m=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$m(i,e)}function _createSuper$l(i){var e=_isNativeReflectConstruct$l();return function(){var o=_getPrototypeOf$l(i),a;if(e){var c=_getPrototypeOf$l(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$m(this,a)}}function _possibleConstructorReturn$m(i,e){return e&&(_typeof$m(e)==="object"||typeof e=="function")?e:_assertThisInitialized$m(i)}function _assertThisInitialized$m(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$l(i){return _getPrototypeOf$l=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$l(i)}function _defineProperty$l(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var ISOWeekParser=function(i){_inherits$m(s,i);var e=_createSuper$l(s);function s(){var o;_classCallCheck$n(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$l(_assertThisInitialized$m(o),"priority",100),_defineProperty$l(_assertThisInitialized$m(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),o}return _createClass$m(s,[{key:"parse",value:function(a,c,d){switch(c){case"I":return parseNumericPattern(numericPatterns.week,a);case"Io":return d.ordinalNumber(a,{unit:"week"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=1&&c<=53}},{key:"set",value:function(a,c,d){return startOfUTCISOWeek(setUTCISOWeek(a,d))}}]),s}(Parser);function _typeof$l(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$l=function(s){return typeof s}:_typeof$l=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$l(i)}function _classCallCheck$m(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$l(i,e,s){return e&&_defineProperties$k(i.prototype,e),s&&_defineProperties$k(i,s),i}function _inherits$l(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$l(i,e)}function _setPrototypeOf$l(i,e){return _setPrototypeOf$l=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$l(i,e)}function _createSuper$k(i){var e=_isNativeReflectConstruct$k();return function(){var o=_getPrototypeOf$k(i),a;if(e){var c=_getPrototypeOf$k(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$l(this,a)}}function _possibleConstructorReturn$l(i,e){return e&&(_typeof$l(e)==="object"||typeof e=="function")?e:_assertThisInitialized$l(i)}function _assertThisInitialized$l(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$k(i){return _getPrototypeOf$k=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$k(i)}function _defineProperty$k(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31],DateParser=function(i){_inherits$l(s,i);var e=_createSuper$k(s);function s(){var o;_classCallCheck$m(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$k(_assertThisInitialized$l(o),"priority",90),_defineProperty$k(_assertThisInitialized$l(o),"subPriority",1),_defineProperty$k(_assertThisInitialized$l(o),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),o}return _createClass$l(s,[{key:"parse",value:function(a,c,d){switch(c){case"d":return parseNumericPattern(numericPatterns.date,a);case"do":return d.ordinalNumber(a,{unit:"date"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){var d=a.getUTCFullYear(),h=isLeapYearIndex$1(d),g=a.getUTCMonth();return h?c>=1&&c<=DAYS_IN_MONTH_LEAP_YEAR[g]:c>=1&&c<=DAYS_IN_MONTH[g]}},{key:"set",value:function(a,c,d){return a.setUTCDate(d),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$k(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$k=function(s){return typeof s}:_typeof$k=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$k(i)}function _classCallCheck$l(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$k(i,e,s){return e&&_defineProperties$j(i.prototype,e),s&&_defineProperties$j(i,s),i}function _inherits$k(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$k(i,e)}function _setPrototypeOf$k(i,e){return _setPrototypeOf$k=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$k(i,e)}function _createSuper$j(i){var e=_isNativeReflectConstruct$j();return function(){var o=_getPrototypeOf$j(i),a;if(e){var c=_getPrototypeOf$j(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$k(this,a)}}function _possibleConstructorReturn$k(i,e){return e&&(_typeof$k(e)==="object"||typeof e=="function")?e:_assertThisInitialized$k(i)}function _assertThisInitialized$k(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$j(i){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$j(i)}function _defineProperty$j(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var DayOfYearParser=function(i){_inherits$k(s,i);var e=_createSuper$j(s);function s(){var o;_classCallCheck$l(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$j(_assertThisInitialized$k(o),"priority",90),_defineProperty$j(_assertThisInitialized$k(o),"subpriority",1),_defineProperty$j(_assertThisInitialized$k(o),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),o}return _createClass$k(s,[{key:"parse",value:function(a,c,d){switch(c){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,a);case"Do":return d.ordinalNumber(a,{unit:"date"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){var d=a.getUTCFullYear(),h=isLeapYearIndex$1(d);return h?c>=1&&c<=366:c>=1&&c<=365}},{key:"set",value:function(a,c,d){return a.setUTCMonth(0,d),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function setUTCDay(i,e,s){var o,a,c,d,h,g,_,$l;requiredArgs(2,arguments);var Rl=getDefaultOptions(),Ml=toInteger$1((o=(a=(c=(d=s==null?void 0:s.weekStartsOn)!==null&&d!==void 0?d:s==null||(h=s.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&c!==void 0?c:Rl.weekStartsOn)!==null&&a!==void 0?a:(_=Rl.locale)===null||_===void 0||($l=_.options)===null||$l===void 0?void 0:$l.weekStartsOn)!==null&&o!==void 0?o:0);if(!(Ml>=0&&Ml<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Ul=toDate$1(i),Fl=toInteger$1(e),Ll=Ul.getUTCDay(),Bl=Fl%7,zl=(Bl+7)%7,Hl=(zl<Ml?7:0)+Fl-Ll;return Ul.setUTCDate(Ul.getUTCDate()+Hl),Ul}function _typeof$j(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$j=function(s){return typeof s}:_typeof$j=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$j(i)}function _classCallCheck$k(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$j(i,e,s){return e&&_defineProperties$i(i.prototype,e),s&&_defineProperties$i(i,s),i}function _inherits$j(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$j(i,e)}function _setPrototypeOf$j(i,e){return _setPrototypeOf$j=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$j(i,e)}function _createSuper$i(i){var e=_isNativeReflectConstruct$i();return function(){var o=_getPrototypeOf$i(i),a;if(e){var c=_getPrototypeOf$i(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$j(this,a)}}function _possibleConstructorReturn$j(i,e){return e&&(_typeof$j(e)==="object"||typeof e=="function")?e:_assertThisInitialized$j(i)}function _assertThisInitialized$j(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$i(i){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$i(i)}function _defineProperty$i(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var DayParser=function(i){_inherits$j(s,i);var e=_createSuper$i(s);function s(){var o;_classCallCheck$k(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$i(_assertThisInitialized$j(o),"priority",90),_defineProperty$i(_assertThisInitialized$j(o),"incompatibleTokens",["D","i","e","c","t","T"]),o}return _createClass$j(s,[{key:"parse",value:function(a,c,d){switch(c){case"E":case"EE":case"EEE":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return d.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,c){return c>=0&&c<=6}},{key:"set",value:function(a,c,d,h){return a=setUTCDay(a,d,h),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$i(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$i=function(s){return typeof s}:_typeof$i=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$i(i)}function _classCallCheck$j(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$i(i,e,s){return e&&_defineProperties$h(i.prototype,e),s&&_defineProperties$h(i,s),i}function _inherits$i(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$i(i,e)}function _setPrototypeOf$i(i,e){return _setPrototypeOf$i=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$i(i,e)}function _createSuper$h(i){var e=_isNativeReflectConstruct$h();return function(){var o=_getPrototypeOf$h(i),a;if(e){var c=_getPrototypeOf$h(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$i(this,a)}}function _possibleConstructorReturn$i(i,e){return e&&(_typeof$i(e)==="object"||typeof e=="function")?e:_assertThisInitialized$i(i)}function _assertThisInitialized$i(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$h(i){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$h(i)}function _defineProperty$h(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var LocalDayParser=function(i){_inherits$i(s,i);var e=_createSuper$h(s);function s(){var o;_classCallCheck$j(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$h(_assertThisInitialized$i(o),"priority",90),_defineProperty$h(_assertThisInitialized$i(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),o}return _createClass$i(s,[{key:"parse",value:function(a,c,d,h){var g=function($l){var Rl=Math.floor(($l-1)/7)*7;return($l+h.weekStartsOn+6)%7+Rl};switch(c){case"e":case"ee":return mapValue(parseNDigits(c.length,a),g);case"eo":return mapValue(d.ordinalNumber(a,{unit:"day"}),g);case"eee":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeeee":return d.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,c){return c>=0&&c<=6}},{key:"set",value:function(a,c,d,h){return a=setUTCDay(a,d,h),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$h(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$h=function(s){return typeof s}:_typeof$h=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$h(i)}function _classCallCheck$i(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$h(i,e,s){return e&&_defineProperties$g(i.prototype,e),s&&_defineProperties$g(i,s),i}function _inherits$h(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$h(i,e)}function _setPrototypeOf$h(i,e){return _setPrototypeOf$h=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$h(i,e)}function _createSuper$g(i){var e=_isNativeReflectConstruct$g();return function(){var o=_getPrototypeOf$g(i),a;if(e){var c=_getPrototypeOf$g(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$h(this,a)}}function _possibleConstructorReturn$h(i,e){return e&&(_typeof$h(e)==="object"||typeof e=="function")?e:_assertThisInitialized$h(i)}function _assertThisInitialized$h(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$g(i){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$g(i)}function _defineProperty$g(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var StandAloneLocalDayParser=function(i){_inherits$h(s,i);var e=_createSuper$g(s);function s(){var o;_classCallCheck$i(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$g(_assertThisInitialized$h(o),"priority",90),_defineProperty$g(_assertThisInitialized$h(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),o}return _createClass$h(s,[{key:"parse",value:function(a,c,d,h){var g=function($l){var Rl=Math.floor(($l-1)/7)*7;return($l+h.weekStartsOn+6)%7+Rl};switch(c){case"c":case"cc":return mapValue(parseNDigits(c.length,a),g);case"co":return mapValue(d.ordinalNumber(a,{unit:"day"}),g);case"ccc":return d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"ccccc":return d.day(a,{width:"narrow",context:"standalone"});case"cccccc":return d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return d.day(a,{width:"wide",context:"standalone"})||d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,c){return c>=0&&c<=6}},{key:"set",value:function(a,c,d,h){return a=setUTCDay(a,d,h),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function setUTCISODay(i,e){requiredArgs(2,arguments);var s=toInteger$1(e);s%7===0&&(s=s-7);var o=1,a=toDate$1(i),c=a.getUTCDay(),d=s%7,h=(d+7)%7,g=(h<o?7:0)+s-c;return a.setUTCDate(a.getUTCDate()+g),a}function _typeof$g(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$g=function(s){return typeof s}:_typeof$g=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$g(i)}function _classCallCheck$h(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$g(i,e,s){return e&&_defineProperties$f(i.prototype,e),s&&_defineProperties$f(i,s),i}function _inherits$g(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$g(i,e)}function _setPrototypeOf$g(i,e){return _setPrototypeOf$g=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$g(i,e)}function _createSuper$f(i){var e=_isNativeReflectConstruct$f();return function(){var o=_getPrototypeOf$f(i),a;if(e){var c=_getPrototypeOf$f(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$g(this,a)}}function _possibleConstructorReturn$g(i,e){return e&&(_typeof$g(e)==="object"||typeof e=="function")?e:_assertThisInitialized$g(i)}function _assertThisInitialized$g(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$f(i){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$f(i)}function _defineProperty$f(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var ISODayParser=function(i){_inherits$g(s,i);var e=_createSuper$f(s);function s(){var o;_classCallCheck$h(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$f(_assertThisInitialized$g(o),"priority",90),_defineProperty$f(_assertThisInitialized$g(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),o}return _createClass$g(s,[{key:"parse",value:function(a,c,d){var h=function(_){return _===0?7:_};switch(c){case"i":case"ii":return parseNDigits(c.length,a);case"io":return d.ordinalNumber(a,{unit:"day"});case"iii":return mapValue(d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),h);case"iiiii":return mapValue(d.day(a,{width:"narrow",context:"formatting"}),h);case"iiiiii":return mapValue(d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),h);case"iiii":default:return mapValue(d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),h)}}},{key:"validate",value:function(a,c){return c>=1&&c<=7}},{key:"set",value:function(a,c,d){return a=setUTCISODay(a,d),a.setUTCHours(0,0,0,0),a}}]),s}(Parser);function _typeof$f(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$f=function(s){return typeof s}:_typeof$f=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$f(i)}function _classCallCheck$g(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$f(i,e,s){return e&&_defineProperties$e(i.prototype,e),s&&_defineProperties$e(i,s),i}function _inherits$f(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$f(i,e)}function _setPrototypeOf$f(i,e){return _setPrototypeOf$f=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$f(i,e)}function _createSuper$e(i){var e=_isNativeReflectConstruct$e();return function(){var o=_getPrototypeOf$e(i),a;if(e){var c=_getPrototypeOf$e(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$f(this,a)}}function _possibleConstructorReturn$f(i,e){return e&&(_typeof$f(e)==="object"||typeof e=="function")?e:_assertThisInitialized$f(i)}function _assertThisInitialized$f(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$e(i){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$e(i)}function _defineProperty$e(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var AMPMParser=function(i){_inherits$f(s,i);var e=_createSuper$e(s);function s(){var o;_classCallCheck$g(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$e(_assertThisInitialized$f(o),"priority",80),_defineProperty$e(_assertThisInitialized$f(o),"incompatibleTokens",["b","B","H","k","t","T"]),o}return _createClass$f(s,[{key:"parse",value:function(a,c,d){switch(c){case"a":case"aa":case"aaa":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,c,d){return a.setUTCHours(dayPeriodEnumToHours(d),0,0,0),a}}]),s}(Parser);function _typeof$e(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$e=function(s){return typeof s}:_typeof$e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$e(i)}function _classCallCheck$f(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$e(i,e,s){return e&&_defineProperties$d(i.prototype,e),s&&_defineProperties$d(i,s),i}function _inherits$e(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$e(i,e)}function _setPrototypeOf$e(i,e){return _setPrototypeOf$e=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$e(i,e)}function _createSuper$d(i){var e=_isNativeReflectConstruct$d();return function(){var o=_getPrototypeOf$d(i),a;if(e){var c=_getPrototypeOf$d(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$e(this,a)}}function _possibleConstructorReturn$e(i,e){return e&&(_typeof$e(e)==="object"||typeof e=="function")?e:_assertThisInitialized$e(i)}function _assertThisInitialized$e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$d(i){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$d(i)}function _defineProperty$d(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var AMPMMidnightParser=function(i){_inherits$e(s,i);var e=_createSuper$d(s);function s(){var o;_classCallCheck$f(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$d(_assertThisInitialized$e(o),"priority",80),_defineProperty$d(_assertThisInitialized$e(o),"incompatibleTokens",["a","B","H","k","t","T"]),o}return _createClass$e(s,[{key:"parse",value:function(a,c,d){switch(c){case"b":case"bb":case"bbb":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,c,d){return a.setUTCHours(dayPeriodEnumToHours(d),0,0,0),a}}]),s}(Parser);function _typeof$d(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$d=function(s){return typeof s}:_typeof$d=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$d(i)}function _classCallCheck$e(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$d(i,e,s){return e&&_defineProperties$c(i.prototype,e),s&&_defineProperties$c(i,s),i}function _inherits$d(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$d(i,e)}function _setPrototypeOf$d(i,e){return _setPrototypeOf$d=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$d(i,e)}function _createSuper$c(i){var e=_isNativeReflectConstruct$c();return function(){var o=_getPrototypeOf$c(i),a;if(e){var c=_getPrototypeOf$c(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$d(this,a)}}function _possibleConstructorReturn$d(i,e){return e&&(_typeof$d(e)==="object"||typeof e=="function")?e:_assertThisInitialized$d(i)}function _assertThisInitialized$d(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$c(i){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$c(i)}function _defineProperty$c(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var DayPeriodParser=function(i){_inherits$d(s,i);var e=_createSuper$c(s);function s(){var o;_classCallCheck$e(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$c(_assertThisInitialized$d(o),"priority",80),_defineProperty$c(_assertThisInitialized$d(o),"incompatibleTokens",["a","b","t","T"]),o}return _createClass$d(s,[{key:"parse",value:function(a,c,d){switch(c){case"B":case"BB":case"BBB":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,c,d){return a.setUTCHours(dayPeriodEnumToHours(d),0,0,0),a}}]),s}(Parser);function _typeof$c(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$c=function(s){return typeof s}:_typeof$c=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$c(i)}function _classCallCheck$d(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$c(i,e,s){return e&&_defineProperties$b(i.prototype,e),s&&_defineProperties$b(i,s),i}function _inherits$c(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$c(i,e)}function _setPrototypeOf$c(i,e){return _setPrototypeOf$c=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$c(i,e)}function _createSuper$b(i){var e=_isNativeReflectConstruct$b();return function(){var o=_getPrototypeOf$b(i),a;if(e){var c=_getPrototypeOf$b(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$c(this,a)}}function _possibleConstructorReturn$c(i,e){return e&&(_typeof$c(e)==="object"||typeof e=="function")?e:_assertThisInitialized$c(i)}function _assertThisInitialized$c(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$b(i){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$b(i)}function _defineProperty$b(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var Hour1to12Parser=function(i){_inherits$c(s,i);var e=_createSuper$b(s);function s(){var o;_classCallCheck$d(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$b(_assertThisInitialized$c(o),"priority",70),_defineProperty$b(_assertThisInitialized$c(o),"incompatibleTokens",["H","K","k","t","T"]),o}return _createClass$c(s,[{key:"parse",value:function(a,c,d){switch(c){case"h":return parseNumericPattern(numericPatterns.hour12h,a);case"ho":return d.ordinalNumber(a,{unit:"hour"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=1&&c<=12}},{key:"set",value:function(a,c,d){var h=a.getUTCHours()>=12;return h&&d<12?a.setUTCHours(d+12,0,0,0):!h&&d===12?a.setUTCHours(0,0,0,0):a.setUTCHours(d,0,0,0),a}}]),s}(Parser);function _typeof$b(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$b=function(s){return typeof s}:_typeof$b=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$b(i)}function _classCallCheck$c(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$b(i,e,s){return e&&_defineProperties$a(i.prototype,e),s&&_defineProperties$a(i,s),i}function _inherits$b(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$b(i,e)}function _setPrototypeOf$b(i,e){return _setPrototypeOf$b=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$b(i,e)}function _createSuper$a(i){var e=_isNativeReflectConstruct$a();return function(){var o=_getPrototypeOf$a(i),a;if(e){var c=_getPrototypeOf$a(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$b(this,a)}}function _possibleConstructorReturn$b(i,e){return e&&(_typeof$b(e)==="object"||typeof e=="function")?e:_assertThisInitialized$b(i)}function _assertThisInitialized$b(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$a(i){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$a(i)}function _defineProperty$a(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var Hour0to23Parser=function(i){_inherits$b(s,i);var e=_createSuper$a(s);function s(){var o;_classCallCheck$c(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$a(_assertThisInitialized$b(o),"priority",70),_defineProperty$a(_assertThisInitialized$b(o),"incompatibleTokens",["a","b","h","K","k","t","T"]),o}return _createClass$b(s,[{key:"parse",value:function(a,c,d){switch(c){case"H":return parseNumericPattern(numericPatterns.hour23h,a);case"Ho":return d.ordinalNumber(a,{unit:"hour"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=0&&c<=23}},{key:"set",value:function(a,c,d){return a.setUTCHours(d,0,0,0),a}}]),s}(Parser);function _typeof$a(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$a=function(s){return typeof s}:_typeof$a=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$a(i)}function _classCallCheck$b(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$a(i,e,s){return e&&_defineProperties$9(i.prototype,e),s&&_defineProperties$9(i,s),i}function _inherits$a(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$a(i,e)}function _setPrototypeOf$a(i,e){return _setPrototypeOf$a=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$a(i,e)}function _createSuper$9(i){var e=_isNativeReflectConstruct$9();return function(){var o=_getPrototypeOf$9(i),a;if(e){var c=_getPrototypeOf$9(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$a(this,a)}}function _possibleConstructorReturn$a(i,e){return e&&(_typeof$a(e)==="object"||typeof e=="function")?e:_assertThisInitialized$a(i)}function _assertThisInitialized$a(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$9(i){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$9(i)}function _defineProperty$9(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var Hour0To11Parser=function(i){_inherits$a(s,i);var e=_createSuper$9(s);function s(){var o;_classCallCheck$b(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$9(_assertThisInitialized$a(o),"priority",70),_defineProperty$9(_assertThisInitialized$a(o),"incompatibleTokens",["h","H","k","t","T"]),o}return _createClass$a(s,[{key:"parse",value:function(a,c,d){switch(c){case"K":return parseNumericPattern(numericPatterns.hour11h,a);case"Ko":return d.ordinalNumber(a,{unit:"hour"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=0&&c<=11}},{key:"set",value:function(a,c,d){var h=a.getUTCHours()>=12;return h&&d<12?a.setUTCHours(d+12,0,0,0):a.setUTCHours(d,0,0,0),a}}]),s}(Parser);function _typeof$9(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$9=function(s){return typeof s}:_typeof$9=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$9(i)}function _classCallCheck$a(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$9(i,e,s){return e&&_defineProperties$8(i.prototype,e),s&&_defineProperties$8(i,s),i}function _inherits$9(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$9(i,e)}function _setPrototypeOf$9(i,e){return _setPrototypeOf$9=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$9(i,e)}function _createSuper$8(i){var e=_isNativeReflectConstruct$8();return function(){var o=_getPrototypeOf$8(i),a;if(e){var c=_getPrototypeOf$8(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$9(this,a)}}function _possibleConstructorReturn$9(i,e){return e&&(_typeof$9(e)==="object"||typeof e=="function")?e:_assertThisInitialized$9(i)}function _assertThisInitialized$9(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$8(i){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$8(i)}function _defineProperty$8(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var Hour1To24Parser=function(i){_inherits$9(s,i);var e=_createSuper$8(s);function s(){var o;_classCallCheck$a(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$8(_assertThisInitialized$9(o),"priority",70),_defineProperty$8(_assertThisInitialized$9(o),"incompatibleTokens",["a","b","h","H","K","t","T"]),o}return _createClass$9(s,[{key:"parse",value:function(a,c,d){switch(c){case"k":return parseNumericPattern(numericPatterns.hour24h,a);case"ko":return d.ordinalNumber(a,{unit:"hour"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=1&&c<=24}},{key:"set",value:function(a,c,d){var h=d<=24?d%24:d;return a.setUTCHours(h,0,0,0),a}}]),s}(Parser);function _typeof$8(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$8=function(s){return typeof s}:_typeof$8=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$8(i)}function _classCallCheck$9(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$8(i,e,s){return e&&_defineProperties$7(i.prototype,e),s&&_defineProperties$7(i,s),i}function _inherits$8(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$8(i,e)}function _setPrototypeOf$8(i,e){return _setPrototypeOf$8=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$8(i,e)}function _createSuper$7(i){var e=_isNativeReflectConstruct$7();return function(){var o=_getPrototypeOf$7(i),a;if(e){var c=_getPrototypeOf$7(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$8(this,a)}}function _possibleConstructorReturn$8(i,e){return e&&(_typeof$8(e)==="object"||typeof e=="function")?e:_assertThisInitialized$8(i)}function _assertThisInitialized$8(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$7(i){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$7(i)}function _defineProperty$7(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var MinuteParser=function(i){_inherits$8(s,i);var e=_createSuper$7(s);function s(){var o;_classCallCheck$9(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$7(_assertThisInitialized$8(o),"priority",60),_defineProperty$7(_assertThisInitialized$8(o),"incompatibleTokens",["t","T"]),o}return _createClass$8(s,[{key:"parse",value:function(a,c,d){switch(c){case"m":return parseNumericPattern(numericPatterns.minute,a);case"mo":return d.ordinalNumber(a,{unit:"minute"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=0&&c<=59}},{key:"set",value:function(a,c,d){return a.setUTCMinutes(d,0,0),a}}]),s}(Parser);function _typeof$7(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$7=function(s){return typeof s}:_typeof$7=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$7(i)}function _classCallCheck$8(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$7(i,e,s){return e&&_defineProperties$6(i.prototype,e),s&&_defineProperties$6(i,s),i}function _inherits$7(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$7(i,e)}function _setPrototypeOf$7(i,e){return _setPrototypeOf$7=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$7(i,e)}function _createSuper$6(i){var e=_isNativeReflectConstruct$6();return function(){var o=_getPrototypeOf$6(i),a;if(e){var c=_getPrototypeOf$6(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$7(this,a)}}function _possibleConstructorReturn$7(i,e){return e&&(_typeof$7(e)==="object"||typeof e=="function")?e:_assertThisInitialized$7(i)}function _assertThisInitialized$7(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$6(i){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$6(i)}function _defineProperty$6(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var SecondParser=function(i){_inherits$7(s,i);var e=_createSuper$6(s);function s(){var o;_classCallCheck$8(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$6(_assertThisInitialized$7(o),"priority",50),_defineProperty$6(_assertThisInitialized$7(o),"incompatibleTokens",["t","T"]),o}return _createClass$7(s,[{key:"parse",value:function(a,c,d){switch(c){case"s":return parseNumericPattern(numericPatterns.second,a);case"so":return d.ordinalNumber(a,{unit:"second"});default:return parseNDigits(c.length,a)}}},{key:"validate",value:function(a,c){return c>=0&&c<=59}},{key:"set",value:function(a,c,d){return a.setUTCSeconds(d,0),a}}]),s}(Parser);function _typeof$6(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(s){return typeof s}:_typeof$6=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$6(i)}function _classCallCheck$7(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$6(i,e,s){return e&&_defineProperties$5(i.prototype,e),s&&_defineProperties$5(i,s),i}function _inherits$6(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$6(i,e)}function _setPrototypeOf$6(i,e){return _setPrototypeOf$6=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$6(i,e)}function _createSuper$5(i){var e=_isNativeReflectConstruct$5();return function(){var o=_getPrototypeOf$5(i),a;if(e){var c=_getPrototypeOf$5(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$6(this,a)}}function _possibleConstructorReturn$6(i,e){return e&&(_typeof$6(e)==="object"||typeof e=="function")?e:_assertThisInitialized$6(i)}function _assertThisInitialized$6(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$5(i){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$5(i)}function _defineProperty$5(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var FractionOfSecondParser=function(i){_inherits$6(s,i);var e=_createSuper$5(s);function s(){var o;_classCallCheck$7(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$5(_assertThisInitialized$6(o),"priority",30),_defineProperty$5(_assertThisInitialized$6(o),"incompatibleTokens",["t","T"]),o}return _createClass$6(s,[{key:"parse",value:function(a,c){var d=function(g){return Math.floor(g*Math.pow(10,-c.length+3))};return mapValue(parseNDigits(c.length,a),d)}},{key:"set",value:function(a,c,d){return a.setUTCMilliseconds(d),a}}]),s}(Parser);function _typeof$5(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(s){return typeof s}:_typeof$5=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$5(i)}function _classCallCheck$6(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$5(i,e,s){return e&&_defineProperties$4(i.prototype,e),s&&_defineProperties$4(i,s),i}function _inherits$5(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$5(i,e)}function _setPrototypeOf$5(i,e){return _setPrototypeOf$5=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$5(i,e)}function _createSuper$4(i){var e=_isNativeReflectConstruct$4();return function(){var o=_getPrototypeOf$4(i),a;if(e){var c=_getPrototypeOf$4(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$5(this,a)}}function _possibleConstructorReturn$5(i,e){return e&&(_typeof$5(e)==="object"||typeof e=="function")?e:_assertThisInitialized$5(i)}function _assertThisInitialized$5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$4(i){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$4(i)}function _defineProperty$4(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var ISOTimezoneWithZParser=function(i){_inherits$5(s,i);var e=_createSuper$4(s);function s(){var o;_classCallCheck$6(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$4(_assertThisInitialized$5(o),"priority",10),_defineProperty$4(_assertThisInitialized$5(o),"incompatibleTokens",["t","T","x"]),o}return _createClass$5(s,[{key:"parse",value:function(a,c){switch(c){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,a);case"XX":return parseTimezonePattern(timezonePatterns.basic,a);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,a);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,a);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,a)}}},{key:"set",value:function(a,c,d){return c.timestampIsSet?a:new Date(a.getTime()-d)}}]),s}(Parser);function _typeof$4(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(s){return typeof s}:_typeof$4=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4(i)}function _classCallCheck$5(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$4(i,e,s){return e&&_defineProperties$3(i.prototype,e),s&&_defineProperties$3(i,s),i}function _inherits$4(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$4(i,e)}function _setPrototypeOf$4(i,e){return _setPrototypeOf$4=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$4(i,e)}function _createSuper$3(i){var e=_isNativeReflectConstruct$3();return function(){var o=_getPrototypeOf$3(i),a;if(e){var c=_getPrototypeOf$3(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$4(this,a)}}function _possibleConstructorReturn$4(i,e){return e&&(_typeof$4(e)==="object"||typeof e=="function")?e:_assertThisInitialized$4(i)}function _assertThisInitialized$4(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$3(i){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$3(i)}function _defineProperty$3(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var ISOTimezoneParser=function(i){_inherits$4(s,i);var e=_createSuper$3(s);function s(){var o;_classCallCheck$5(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$3(_assertThisInitialized$4(o),"priority",10),_defineProperty$3(_assertThisInitialized$4(o),"incompatibleTokens",["t","T","X"]),o}return _createClass$4(s,[{key:"parse",value:function(a,c){switch(c){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,a);case"xx":return parseTimezonePattern(timezonePatterns.basic,a);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,a);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,a);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,a)}}},{key:"set",value:function(a,c,d){return c.timestampIsSet?a:new Date(a.getTime()-d)}}]),s}(Parser);function _typeof$3(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(s){return typeof s}:_typeof$3=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3(i)}function _classCallCheck$4(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$3(i,e,s){return e&&_defineProperties$2(i.prototype,e),s&&_defineProperties$2(i,s),i}function _inherits$3(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$3(i,e)}function _setPrototypeOf$3(i,e){return _setPrototypeOf$3=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$3(i,e)}function _createSuper$2(i){var e=_isNativeReflectConstruct$2();return function(){var o=_getPrototypeOf$2(i),a;if(e){var c=_getPrototypeOf$2(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$3(this,a)}}function _possibleConstructorReturn$3(i,e){return e&&(_typeof$3(e)==="object"||typeof e=="function")?e:_assertThisInitialized$3(i)}function _assertThisInitialized$3(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$2(i){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$2(i)}function _defineProperty$2(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var TimestampSecondsParser=function(i){_inherits$3(s,i);var e=_createSuper$2(s);function s(){var o;_classCallCheck$4(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$2(_assertThisInitialized$3(o),"priority",40),_defineProperty$2(_assertThisInitialized$3(o),"incompatibleTokens","*"),o}return _createClass$3(s,[{key:"parse",value:function(a){return parseAnyDigitsSigned(a)}},{key:"set",value:function(a,c,d){return[new Date(d*1e3),{timestampIsSet:!0}]}}]),s}(Parser);function _typeof$2(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(s){return typeof s}:_typeof$2=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2(i)}function _classCallCheck$3(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass$2(i,e,s){return e&&_defineProperties$1(i.prototype,e),s&&_defineProperties$1(i,s),i}function _inherits$2(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&_setPrototypeOf$2(i,e)}function _setPrototypeOf$2(i,e){return _setPrototypeOf$2=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$2(i,e)}function _createSuper$1(i){var e=_isNativeReflectConstruct$1();return function(){var o=_getPrototypeOf$1(i),a;if(e){var c=_getPrototypeOf$1(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$2(this,a)}}function _possibleConstructorReturn$2(i,e){return e&&(_typeof$2(e)==="object"||typeof e=="function")?e:_assertThisInitialized$2(i)}function _assertThisInitialized$2(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(i){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$1(i)}function _defineProperty$1(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var TimestampMillisecondsParser=function(i){_inherits$2(s,i);var e=_createSuper$1(s);function s(){var o;_classCallCheck$3(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),_defineProperty$1(_assertThisInitialized$2(o),"priority",20),_defineProperty$1(_assertThisInitialized$2(o),"incompatibleTokens","*"),o}return _createClass$2(s,[{key:"parse",value:function(a){return parseAnyDigitsSigned(a)}},{key:"set",value:function(a,c,d){return[new Date(d),{timestampIsSet:!0}]}}]),s}(Parser),parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser};function _typeof$1(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(i)}function _createForOfIteratorHelper(i,e){var s;if(typeof Symbol>"u"||i[Symbol.iterator]==null){if(Array.isArray(i)||(s=_unsupportedIterableToArray$1(i))||e&&i&&typeof i.length=="number"){s&&(i=s);var o=0,a=function(){};return{s:a,n:function(){return o>=i.length?{done:!0}:{done:!1,value:i[o++]}},e:function(_){throw _},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,d=!1,h;return{s:function(){s=i[Symbol.iterator]()},n:function(){var _=s.next();return c=_.done,_},e:function(_){d=!0,h=_},f:function(){try{!c&&s.return!=null&&s.return()}finally{if(d)throw h}}}}function _unsupportedIterableToArray$1(i,e){if(!!i){if(typeof i=="string")return _arrayLikeToArray$1(i,e);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$1(i,e)}}function _arrayLikeToArray$1(i,e){(e==null||e>i.length)&&(e=i.length);for(var s=0,o=new Array(e);s<e;s++)o[s]=i[s];return o}var formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(i,e,s,o){var a,c,d,h,g,_,$l,Rl,Ml,Ul,Fl,Ll,Bl,zl,Hl,Wl,Yl,Xl;requiredArgs(3,arguments);var Gl=String(i),_d=String(e),Kl=getDefaultOptions(),ru=(a=(c=o==null?void 0:o.locale)!==null&&c!==void 0?c:Kl.locale)!==null&&a!==void 0?a:defaultLocale;if(!ru.match)throw new RangeError("locale must contain match property");var Zl=toInteger$1((d=(h=(g=(_=o==null?void 0:o.firstWeekContainsDate)!==null&&_!==void 0?_:o==null||($l=o.locale)===null||$l===void 0||(Rl=$l.options)===null||Rl===void 0?void 0:Rl.firstWeekContainsDate)!==null&&g!==void 0?g:Kl.firstWeekContainsDate)!==null&&h!==void 0?h:(Ml=Kl.locale)===null||Ml===void 0||(Ul=Ml.options)===null||Ul===void 0?void 0:Ul.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(Zl>=1&&Zl<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var tp=toInteger$1((Fl=(Ll=(Bl=(zl=o==null?void 0:o.weekStartsOn)!==null&&zl!==void 0?zl:o==null||(Hl=o.locale)===null||Hl===void 0||(Wl=Hl.options)===null||Wl===void 0?void 0:Wl.weekStartsOn)!==null&&Bl!==void 0?Bl:Kl.weekStartsOn)!==null&&Ll!==void 0?Ll:(Yl=Kl.locale)===null||Yl===void 0||(Xl=Yl.options)===null||Xl===void 0?void 0:Xl.weekStartsOn)!==null&&Fl!==void 0?Fl:0);if(!(tp>=0&&tp<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(_d==="")return Gl===""?toDate$1(s):new Date(NaN);var op={firstWeekContainsDate:Zl,weekStartsOn:tp,locale:ru},bp=[new DateToSystemTimezoneSetter],ap=_d.match(longFormattingTokensRegExp).map(function(vp){var wp=vp[0];if(wp in longFormatters$1){var xp=longFormatters$1[wp];return xp(vp,ru.formatLong)}return vp}).join("").match(formattingTokensRegExp),hp=[],gp=_createForOfIteratorHelper(ap),rp;try{var up=function(){var wp=rp.value;!(o!=null&&o.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(wp)&&throwProtectedError(wp,_d,i),!(o!=null&&o.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(wp)&&throwProtectedError(wp,_d,i);var xp=wp[0],_f=parsers[xp];if(_f){var ip=_f.incompatibleTokens;if(Array.isArray(ip)){var sp=hp.find(function(pp){return ip.includes(pp.token)||pp.token===xp});if(sp)throw new RangeError("The format string mustn't contain `".concat(sp.fullToken,"` and `").concat(wp,"` at the same time"))}else if(_f.incompatibleTokens==="*"&&hp.length>0)throw new RangeError("The format string mustn't contain `".concat(wp,"` and any other token at the same time"));hp.push({token:xp,fullToken:wp});var lp=_f.run(Gl,wp,ru.match,op);if(!lp)return{v:new Date(NaN)};bp.push(lp.setter),Gl=lp.rest}else{if(xp.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xp+"`");if(wp==="''"?wp="'":xp==="'"&&(wp=cleanEscapedString(wp)),Gl.indexOf(wp)===0)Gl=Gl.slice(wp.length);else return{v:new Date(NaN)}}};for(gp.s();!(rp=gp.n()).done;){var $p=up();if(_typeof$1($p)==="object")return $p.v}}catch(vp){gp.e(vp)}finally{gp.f()}if(Gl.length>0&&notWhitespaceRegExp.test(Gl))return new Date(NaN);var yp=bp.map(function(vp){return vp.priority}).sort(function(vp,wp){return wp-vp}).filter(function(vp,wp,xp){return xp.indexOf(vp)===wp}).map(function(vp){return bp.filter(function(wp){return wp.priority===vp}).sort(function(wp,xp){return xp.subPriority-wp.subPriority})}).map(function(vp){return vp[0]}),dp=toDate$1(s);if(isNaN(dp.getTime()))return new Date(NaN);var ep=subMilliseconds(dp,getTimezoneOffsetInMilliseconds(dp)),Ql={},Jl=_createForOfIteratorHelper(yp),np;try{for(Jl.s();!(np=Jl.n()).done;){var cp=np.value;if(!cp.validate(ep,op))return new Date(NaN);var fp=cp.set(ep,Ql,op);Array.isArray(fp)?(ep=fp[0],assign(Ql,fp[1])):ep=fp}}catch(vp){Jl.e(vp)}finally{Jl.f()}return ep}function cleanEscapedString(i){return i.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function parseISO(i,e){var s;requiredArgs(1,arguments);var o=toInteger$1((s=e==null?void 0:e.additionalDigits)!==null&&s!==void 0?s:2);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var a=splitDateString(i),c;if(a.date){var d=parseYear(a.date,o);c=parseDate(d.restDateString,d.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);var h=c.getTime(),g=0,_;if(a.time&&(g=parseTime(a.time),isNaN(g)))return new Date(NaN);if(a.timezone){if(_=parseTimezone(a.timezone),isNaN(_))return new Date(NaN)}else{var $l=new Date(h+g),Rl=new Date(0);return Rl.setFullYear($l.getUTCFullYear(),$l.getUTCMonth(),$l.getUTCDate()),Rl.setHours($l.getUTCHours(),$l.getUTCMinutes(),$l.getUTCSeconds(),$l.getUTCMilliseconds()),Rl}return new Date(h+g+_)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(i){var e={},s=i.split(patterns.dateTimeDelimiter),o;if(s.length>2)return e;if(/:/.test(s[0])?o=s[0]:(e.date=s[0],o=s[1],patterns.timeZoneDelimiter.test(e.date)&&(e.date=i.split(patterns.timeZoneDelimiter)[0],o=i.substr(e.date.length,i.length))),o){var a=patterns.timezone.exec(o);a?(e.time=o.replace(a[1],""),e.timezone=a[1]):e.time=o}return e}function parseYear(i,e){var s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=i.match(s);if(!o)return{year:NaN,restDateString:""};var a=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?a:c*100,restDateString:i.slice((o[1]||o[2]).length)}}function parseDate(i,e){if(e===null)return new Date(NaN);var s=i.match(dateRegex);if(!s)return new Date(NaN);var o=!!s[4],a=parseDateUnit(s[1]),c=parseDateUnit(s[2])-1,d=parseDateUnit(s[3]),h=parseDateUnit(s[4]),g=parseDateUnit(s[5])-1;if(o)return validateWeekDate(e,h,g)?dayOfISOWeekYear(e,h,g):new Date(NaN);var _=new Date(0);return!validateDate(e,c,d)||!validateDayOfYearDate(e,a)?new Date(NaN):(_.setUTCFullYear(e,c,Math.max(a,d)),_)}function parseDateUnit(i){return i?parseInt(i):1}function parseTime(i){var e=i.match(timeRegex);if(!e)return NaN;var s=parseTimeUnit(e[1]),o=parseTimeUnit(e[2]),a=parseTimeUnit(e[3]);return validateTime(s,o,a)?s*millisecondsInHour+o*millisecondsInMinute+a*1e3:NaN}function parseTimeUnit(i){return i&&parseFloat(i.replace(",","."))||0}function parseTimezone(i){if(i==="Z")return 0;var e=i.match(timezoneRegex);if(!e)return 0;var s=e[1]==="+"?-1:1,o=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return validateTimezone(o,a)?s*(o*millisecondsInHour+a*millisecondsInMinute):NaN}function dayOfISOWeekYear(i,e,s){var o=new Date(0);o.setUTCFullYear(i,0,4);var a=o.getUTCDay()||7,c=(e-1)*7+s+1-a;return o.setUTCDate(o.getUTCDate()+c),o}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(i){return i%400===0||i%4===0&&i%100!==0}function validateDate(i,e,s){return e>=0&&e<=11&&s>=1&&s<=(daysInMonths[e]||(isLeapYearIndex(i)?29:28))}function validateDayOfYearDate(i,e){return e>=1&&e<=(isLeapYearIndex(i)?366:365)}function validateWeekDate(i,e,s){return e>=1&&e<=53&&s>=0&&s<=6}function validateTime(i,e,s){return i===24?e===0&&s===0:s>=0&&s<60&&e>=0&&e<60&&i>=0&&i<25}function validateTimezone(i,e){return e>=0&&e<=59}function _inheritsLoose$1(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,_setPrototypeOf$1(i,e)}function _setPrototypeOf$1(i,e){return _setPrototypeOf$1=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf$1(i,e)}function _objectWithoutPropertiesLoose$1(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function _assertThisInitialized$1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function isNodeFound(i,e,s){return i===e?!0:i.correspondingElement?i.correspondingElement.classList.contains(s):i.classList.contains(s)}function findHighest(i,e,s){if(i===e)return!0;for(;i.parentNode||i.host;){if(i.parentNode&&isNodeFound(i,e,s))return!0;i=i.parentNode||i.host}return i}function clickedScrollbar(i){return document.documentElement.clientWidth<=i.clientX||document.documentElement.clientHeight<=i.clientY}var testPassiveEventSupport=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}}),o=function(){};return window.addEventListener("testPassiveEventSupport",o,s),window.removeEventListener("testPassiveEventSupport",o,s),e}};function autoInc(i){return i===void 0&&(i=0),function(){return++i}}var uid=autoInc(),passiveEventSupport,handlersMap={},enabledInstances={},touchEvents$1=["touchstart","touchmove"],IGNORE_CLASS_NAME="ignore-react-onclickoutside";function getEventHandlerOptions(i,e){var s=null,o=touchEvents$1.indexOf(e)!==-1;return o&&passiveEventSupport&&(s={passive:!i.props.preventDefault}),s}function onClickOutsideHOC(i,e){var s,o,a=i.displayName||i.name||"Component";return o=s=function(c){_inheritsLoose$1(d,c);function d(g){var _;return _=c.call(this,g)||this,_.__outsideClickHandler=function($l){if(typeof _.__clickOutsideHandlerProp=="function"){_.__clickOutsideHandlerProp($l);return}var Rl=_.getInstance();if(typeof Rl.props.handleClickOutside=="function"){Rl.props.handleClickOutside($l);return}if(typeof Rl.handleClickOutside=="function"){Rl.handleClickOutside($l);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},_.__getComponentNode=function(){var $l=_.getInstance();return e&&typeof e.setClickOutsideRef=="function"?e.setClickOutsideRef()($l):typeof $l.setClickOutsideRef=="function"?$l.setClickOutsideRef():reactDom.exports.findDOMNode($l)},_.enableOnClickOutside=function(){if(!(typeof document>"u"||enabledInstances[_._uid])){typeof passiveEventSupport>"u"&&(passiveEventSupport=testPassiveEventSupport()),enabledInstances[_._uid]=!0;var $l=_.props.eventTypes;$l.forEach||($l=[$l]),handlersMap[_._uid]=function(Rl){if(_.componentNode!==null&&(_.props.preventDefault&&Rl.preventDefault(),_.props.stopPropagation&&Rl.stopPropagation(),!(_.props.excludeScrollbar&&clickedScrollbar(Rl)))){var Ml=Rl.composed&&Rl.composedPath&&Rl.composedPath().shift()||Rl.target;findHighest(Ml,_.componentNode,_.props.outsideClickIgnoreClass)===document&&_.__outsideClickHandler(Rl)}},$l.forEach(function(Rl){document.addEventListener(Rl,handlersMap[_._uid],getEventHandlerOptions(_assertThisInitialized$1(_),Rl))})}},_.disableOnClickOutside=function(){delete enabledInstances[_._uid];var $l=handlersMap[_._uid];if($l&&typeof document<"u"){var Rl=_.props.eventTypes;Rl.forEach||(Rl=[Rl]),Rl.forEach(function(Ml){return document.removeEventListener(Ml,$l,getEventHandlerOptions(_assertThisInitialized$1(_),Ml))}),delete handlersMap[_._uid]}},_.getRef=function($l){return _.instanceRef=$l},_._uid=uid(),_}var h=d.prototype;return h.getInstance=function(){if(i.prototype&&!i.prototype.isReactComponent)return this;var _=this.instanceRef;return _.getInstance?_.getInstance():_},h.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var _=this.getInstance();if(e&&typeof e.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=e.handleClickOutside(_),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+a+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},h.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},h.componentWillUnmount=function(){this.disableOnClickOutside()},h.render=function(){var _=this.props;_.excludeScrollbar;var $l=_objectWithoutPropertiesLoose$1(_,["excludeScrollbar"]);return i.prototype&&i.prototype.isReactComponent?$l.ref=this.getRef:$l.wrappedRef=this.getRef,$l.disableOnClickOutside=this.disableOnClickOutside,$l.enableOnClickOutside=this.enableOnClickOutside,react$1.exports.createElement(i,$l)},d}(react$1.exports.Component),s.displayName="OnClickOutside("+a+")",s.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:IGNORE_CLASS_NAME,preventDefault:!1,stopPropagation:!1},s.getClass=function(){return i.getClass?i.getClass():i},o}var ManagerReferenceNodeContext=react$1.exports.createContext(),ManagerReferenceNodeSetterContext=react$1.exports.createContext();function Manager(i){var e=i.children,s=react$1.exports.useState(null),o=s[0],a=s[1],c=react$1.exports.useRef(!1);react$1.exports.useEffect(function(){return function(){c.current=!0}},[]);var d=react$1.exports.useCallback(function(h){c.current||a(h)},[]);return jsx(ManagerReferenceNodeContext.Provider,{value:o,children:jsx(ManagerReferenceNodeSetterContext.Provider,{value:d,children:e})})}var unwrapArray=function(e){return Array.isArray(e)?e[0]:e},safeInvoke=function(e){if(typeof e=="function"){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return e.apply(void 0,o)}},setRef=function(e,s){if(typeof e=="function")return safeInvoke(e,s);e!=null&&(e.current=s)},fromEntries=function(e){return e.reduce(function(s,o){var a=o[0],c=o[1];return s[a]=c,s},{})},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?react$1.exports.useLayoutEffect:react$1.exports.useEffect,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,e){return i.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,e){return i.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function isElement(i){var e=getWindow(i).Element;return i instanceof e||i instanceof Element}function isHTMLElement$1(i){var e=getWindow(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var e=getWindow(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function applyStyles(i){var e=i.state;Object.keys(e.elements).forEach(function(s){var o=e.styles[s]||{},a=e.attributes[s]||{},c=e.elements[s];!isHTMLElement$1(c)||!getNodeName(c)||(Object.assign(c.style,o),Object.keys(a).forEach(function(d){var h=a[d];h===!1?c.removeAttribute(d):c.setAttribute(d,h===!0?"":h)}))})}function effect$2(i){var e=i.state,s={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,s.popper),e.styles=s,e.elements.arrow&&Object.assign(e.elements.arrow.style,s.arrow),function(){Object.keys(e.elements).forEach(function(o){var a=e.elements[o],c=e.attributes[o]||{},d=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:s[o]),h=d.reduce(function(g,_){return g[_]="",g},{});!isHTMLElement$1(a)||!getNodeName(a)||(Object.assign(a.style,h),Object.keys(c).forEach(function(g){a.removeAttribute(g)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max$2=Math.max,min$2=Math.min,round$1=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!1);var o=i.getBoundingClientRect(),a=1,c=1;e&&isHTMLElement$1(i)&&(a=i.offsetWidth>0&&round$1(o.width)/i.offsetWidth||1,c=i.offsetHeight>0&&round$1(o.height)/i.offsetHeight||1);var d=isElement(i)?getWindow(i):window,h=d.visualViewport,g=!isLayoutViewport()&&s,_=(o.left+(g&&h?h.offsetLeft:0))/a,$l=(o.top+(g&&h?h.offsetTop:0))/c,Rl=o.width/a,Ml=o.height/c;return{width:Rl,height:Ml,top:$l,right:_+Rl,bottom:$l+Ml,left:_,x:_,y:$l}}function getLayoutRect(i){var e=getBoundingClientRect(i),s=i.offsetWidth,o=i.offsetHeight;return Math.abs(e.width-s)<=1&&(s=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:i.offsetLeft,y:i.offsetTop,width:s,height:o}}function contains$1(i,e){var s=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(s&&isShadowRoot(s)){var o=e;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function getComputedStyle$2(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement$1(i)||getComputedStyle$2(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var e=/firefox/i.test(getUAString()),s=/Trident/i.test(getUAString());if(s&&isHTMLElement$1(i)){var o=getComputedStyle$2(i);if(o.position==="fixed")return null}var a=getParentNode(i);for(isShadowRoot(a)&&(a=a.host);isHTMLElement$1(a)&&["html","body"].indexOf(getNodeName(a))<0;){var c=getComputedStyle$2(a);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||e&&c.willChange==="filter"||e&&c.filter&&c.filter!=="none")return a;a=a.parentNode}return null}function getOffsetParent(i){for(var e=getWindow(i),s=getTrueOffsetParent(i);s&&isTableElement(s)&&getComputedStyle$2(s).position==="static";)s=getTrueOffsetParent(s);return s&&(getNodeName(s)==="html"||getNodeName(s)==="body"&&getComputedStyle$2(s).position==="static")?e:s||getContainingBlock(i)||e}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,e,s){return max$2(i,min$2(e,s))}function withinMaxClamp(i,e,s){var o=within(i,e,s);return o>s?s:o}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,e){return e.reduce(function(s,o){return s[o]=i,s},{})}var toPaddingObject=function(e,s){return e=typeof e=="function"?e(Object.assign({},s.rects,{placement:s.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(i){var e,s=i.state,o=i.name,a=i.options,c=s.elements.arrow,d=s.modifiersData.popperOffsets,h=getBasePlacement(s.placement),g=getMainAxisFromPlacement(h),_=[left,right].indexOf(h)>=0,$l=_?"height":"width";if(!(!c||!d)){var Rl=toPaddingObject(a.padding,s),Ml=getLayoutRect(c),Ul=g==="y"?top:left,Fl=g==="y"?bottom:right,Ll=s.rects.reference[$l]+s.rects.reference[g]-d[g]-s.rects.popper[$l],Bl=d[g]-s.rects.reference[g],zl=getOffsetParent(c),Hl=zl?g==="y"?zl.clientHeight||0:zl.clientWidth||0:0,Wl=Ll/2-Bl/2,Yl=Rl[Ul],Xl=Hl-Ml[$l]-Rl[Fl],Gl=Hl/2-Ml[$l]/2+Wl,_d=within(Yl,Gl,Xl),Kl=g;s.modifiersData[o]=(e={},e[Kl]=_d,e.centerOffset=_d-Gl,e)}}function effect$1(i){var e=i.state,s=i.options,o=s.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||!contains$1(e.elements.popper,a)||(e.elements.arrow=a))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i){var e=i.x,s=i.y,o=window,a=o.devicePixelRatio||1;return{x:round$1(e*a)/a||0,y:round$1(s*a)/a||0}}function mapToStyles(i){var e,s=i.popper,o=i.popperRect,a=i.placement,c=i.variation,d=i.offsets,h=i.position,g=i.gpuAcceleration,_=i.adaptive,$l=i.roundOffsets,Rl=i.isFixed,Ml=d.x,Ul=Ml===void 0?0:Ml,Fl=d.y,Ll=Fl===void 0?0:Fl,Bl=typeof $l=="function"?$l({x:Ul,y:Ll}):{x:Ul,y:Ll};Ul=Bl.x,Ll=Bl.y;var zl=d.hasOwnProperty("x"),Hl=d.hasOwnProperty("y"),Wl=left,Yl=top,Xl=window;if(_){var Gl=getOffsetParent(s),_d="clientHeight",Kl="clientWidth";if(Gl===getWindow(s)&&(Gl=getDocumentElement(s),getComputedStyle$2(Gl).position!=="static"&&h==="absolute"&&(_d="scrollHeight",Kl="scrollWidth")),Gl=Gl,a===top||(a===left||a===right)&&c===end){Yl=bottom;var ru=Rl&&Gl===Xl&&Xl.visualViewport?Xl.visualViewport.height:Gl[_d];Ll-=ru-o.height,Ll*=g?1:-1}if(a===left||(a===top||a===bottom)&&c===end){Wl=right;var Zl=Rl&&Gl===Xl&&Xl.visualViewport?Xl.visualViewport.width:Gl[Kl];Ul-=Zl-o.width,Ul*=g?1:-1}}var tp=Object.assign({position:h},_&&unsetSides),op=$l===!0?roundOffsetsByDPR({x:Ul,y:Ll}):{x:Ul,y:Ll};if(Ul=op.x,Ll=op.y,g){var bp;return Object.assign({},tp,(bp={},bp[Yl]=Hl?"0":"",bp[Wl]=zl?"0":"",bp.transform=(Xl.devicePixelRatio||1)<=1?"translate("+Ul+"px, "+Ll+"px)":"translate3d("+Ul+"px, "+Ll+"px, 0)",bp))}return Object.assign({},tp,(e={},e[Yl]=Hl?Ll+"px":"",e[Wl]=zl?Ul+"px":"",e.transform="",e))}function computeStyles(i){var e=i.state,s=i.options,o=s.gpuAcceleration,a=o===void 0?!0:o,c=s.adaptive,d=c===void 0?!0:c,h=s.roundOffsets,g=h===void 0?!0:h,_={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},_,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:d,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},_,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var e=i.state,s=i.instance,o=i.options,a=o.scroll,c=a===void 0?!0:a,d=o.resize,h=d===void 0?!0:d,g=getWindow(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return c&&_.forEach(function($l){$l.addEventListener("scroll",s.update,passive)}),h&&g.addEventListener("resize",s.update,passive),function(){c&&_.forEach(function($l){$l.removeEventListener("scroll",s.update,passive)}),h&&g.removeEventListener("resize",s.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(i){var e=getWindow(i),s=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:s,scrollTop:o}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,e){var s=getWindow(i),o=getDocumentElement(i),a=s.visualViewport,c=o.clientWidth,d=o.clientHeight,h=0,g=0;if(a){c=a.width,d=a.height;var _=isLayoutViewport();(_||!_&&e==="fixed")&&(h=a.offsetLeft,g=a.offsetTop)}return{width:c,height:d,x:h+getWindowScrollBarX(i),y:g}}function getDocumentRect(i){var e,s=getDocumentElement(i),o=getWindowScroll(i),a=(e=i.ownerDocument)==null?void 0:e.body,c=max$2(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),d=max$2(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),h=-o.scrollLeft+getWindowScrollBarX(i),g=-o.scrollTop;return getComputedStyle$2(a||s).direction==="rtl"&&(h+=max$2(s.clientWidth,a?a.clientWidth:0)-c),{width:c,height:d,x:h,y:g}}function isScrollParent(i){var e=getComputedStyle$2(i),s=e.overflow,o=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+o)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement$1(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,e){var s;e===void 0&&(e=[]);var o=getScrollParent(i),a=o===((s=i.ownerDocument)==null?void 0:s.body),c=getWindow(o),d=a?[c].concat(c.visualViewport||[],isScrollParent(o)?o:[]):o,h=e.concat(d);return a?h:h.concat(listScrollParents(getParentNode(d)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,e){var s=getBoundingClientRect(i,!1,e==="fixed");return s.top=s.top+i.clientTop,s.left=s.left+i.clientLeft,s.bottom=s.top+i.clientHeight,s.right=s.left+i.clientWidth,s.width=i.clientWidth,s.height=i.clientHeight,s.x=s.left,s.y=s.top,s}function getClientRectFromMixedType(i,e,s){return e===viewport?rectToClientRect(getViewportRect(i,s)):isElement(e)?getInnerBoundingClientRect(e,s):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var e=listScrollParents(getParentNode(i)),s=["absolute","fixed"].indexOf(getComputedStyle$2(i).position)>=0,o=s&&isHTMLElement$1(i)?getOffsetParent(i):i;return isElement(o)?e.filter(function(a){return isElement(a)&&contains$1(a,o)&&getNodeName(a)!=="body"}):[]}function getClippingRect(i,e,s,o){var a=e==="clippingParents"?getClippingParents(i):[].concat(e),c=[].concat(a,[s]),d=c[0],h=c.reduce(function(g,_){var $l=getClientRectFromMixedType(i,_,o);return g.top=max$2($l.top,g.top),g.right=min$2($l.right,g.right),g.bottom=min$2($l.bottom,g.bottom),g.left=max$2($l.left,g.left),g},getClientRectFromMixedType(i,d,o));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function computeOffsets(i){var e=i.reference,s=i.element,o=i.placement,a=o?getBasePlacement(o):null,c=o?getVariation(o):null,d=e.x+e.width/2-s.width/2,h=e.y+e.height/2-s.height/2,g;switch(a){case top:g={x:d,y:e.y-s.height};break;case bottom:g={x:d,y:e.y+e.height};break;case right:g={x:e.x+e.width,y:h};break;case left:g={x:e.x-s.width,y:h};break;default:g={x:e.x,y:e.y}}var _=a?getMainAxisFromPlacement(a):null;if(_!=null){var $l=_==="y"?"height":"width";switch(c){case start:g[_]=g[_]-(e[$l]/2-s[$l]/2);break;case end:g[_]=g[_]+(e[$l]/2-s[$l]/2);break}}return g}function detectOverflow(i,e){e===void 0&&(e={});var s=e,o=s.placement,a=o===void 0?i.placement:o,c=s.strategy,d=c===void 0?i.strategy:c,h=s.boundary,g=h===void 0?clippingParents:h,_=s.rootBoundary,$l=_===void 0?viewport:_,Rl=s.elementContext,Ml=Rl===void 0?popper:Rl,Ul=s.altBoundary,Fl=Ul===void 0?!1:Ul,Ll=s.padding,Bl=Ll===void 0?0:Ll,zl=mergePaddingObject(typeof Bl!="number"?Bl:expandToHashMap(Bl,basePlacements)),Hl=Ml===popper?reference:popper,Wl=i.rects.popper,Yl=i.elements[Fl?Hl:Ml],Xl=getClippingRect(isElement(Yl)?Yl:Yl.contextElement||getDocumentElement(i.elements.popper),g,$l,d),Gl=getBoundingClientRect(i.elements.reference),_d=computeOffsets({reference:Gl,element:Wl,strategy:"absolute",placement:a}),Kl=rectToClientRect(Object.assign({},Wl,_d)),ru=Ml===popper?Kl:Gl,Zl={top:Xl.top-ru.top+zl.top,bottom:ru.bottom-Xl.bottom+zl.bottom,left:Xl.left-ru.left+zl.left,right:ru.right-Xl.right+zl.right},tp=i.modifiersData.offset;if(Ml===popper&&tp){var op=tp[a];Object.keys(Zl).forEach(function(bp){var ap=[right,bottom].indexOf(bp)>=0?1:-1,hp=[top,bottom].indexOf(bp)>=0?"y":"x";Zl[bp]+=op[hp]*ap})}return Zl}function computeAutoPlacement(i,e){e===void 0&&(e={});var s=e,o=s.placement,a=s.boundary,c=s.rootBoundary,d=s.padding,h=s.flipVariations,g=s.allowedAutoPlacements,_=g===void 0?placements:g,$l=getVariation(o),Rl=$l?h?variationPlacements:variationPlacements.filter(function(Fl){return getVariation(Fl)===$l}):basePlacements,Ml=Rl.filter(function(Fl){return _.indexOf(Fl)>=0});Ml.length===0&&(Ml=Rl);var Ul=Ml.reduce(function(Fl,Ll){return Fl[Ll]=detectOverflow(i,{placement:Ll,boundary:a,rootBoundary:c,padding:d})[getBasePlacement(Ll)],Fl},{});return Object.keys(Ul).sort(function(Fl,Ll){return Ul[Fl]-Ul[Ll]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var e=getOppositePlacement(i);return[getOppositeVariationPlacement(i),e,getOppositeVariationPlacement(e)]}function flip(i){var e=i.state,s=i.options,o=i.name;if(!e.modifiersData[o]._skip){for(var a=s.mainAxis,c=a===void 0?!0:a,d=s.altAxis,h=d===void 0?!0:d,g=s.fallbackPlacements,_=s.padding,$l=s.boundary,Rl=s.rootBoundary,Ml=s.altBoundary,Ul=s.flipVariations,Fl=Ul===void 0?!0:Ul,Ll=s.allowedAutoPlacements,Bl=e.options.placement,zl=getBasePlacement(Bl),Hl=zl===Bl,Wl=g||(Hl||!Fl?[getOppositePlacement(Bl)]:getExpandedFallbackPlacements(Bl)),Yl=[Bl].concat(Wl).reduce(function(Jl,np){return Jl.concat(getBasePlacement(np)===auto?computeAutoPlacement(e,{placement:np,boundary:$l,rootBoundary:Rl,padding:_,flipVariations:Fl,allowedAutoPlacements:Ll}):np)},[]),Xl=e.rects.reference,Gl=e.rects.popper,_d=new Map,Kl=!0,ru=Yl[0],Zl=0;Zl<Yl.length;Zl++){var tp=Yl[Zl],op=getBasePlacement(tp),bp=getVariation(tp)===start,ap=[top,bottom].indexOf(op)>=0,hp=ap?"width":"height",gp=detectOverflow(e,{placement:tp,boundary:$l,rootBoundary:Rl,altBoundary:Ml,padding:_}),rp=ap?bp?right:left:bp?bottom:top;Xl[hp]>Gl[hp]&&(rp=getOppositePlacement(rp));var up=getOppositePlacement(rp),$p=[];if(c&&$p.push(gp[op]<=0),h&&$p.push(gp[rp]<=0,gp[up]<=0),$p.every(function(Jl){return Jl})){ru=tp,Kl=!1;break}_d.set(tp,$p)}if(Kl)for(var yp=Fl?3:1,dp=function(np){var cp=Yl.find(function(fp){var vp=_d.get(fp);if(vp)return vp.slice(0,np).every(function(wp){return wp})});if(cp)return ru=cp,"break"},ep=yp;ep>0;ep--){var Ql=dp(ep);if(Ql==="break")break}e.placement!==ru&&(e.modifiersData[o]._skip=!0,e.placement=ru,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,e,s){return s===void 0&&(s={x:0,y:0}),{top:i.top-e.height-s.y,right:i.right-e.width+s.x,bottom:i.bottom-e.height+s.y,left:i.left-e.width-s.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(e){return i[e]>=0})}function hide$1(i){var e=i.state,s=i.name,o=e.rects.reference,a=e.rects.popper,c=e.modifiersData.preventOverflow,d=detectOverflow(e,{elementContext:"reference"}),h=detectOverflow(e,{altBoundary:!0}),g=getSideOffsets(d,o),_=getSideOffsets(h,a,c),$l=isAnySideFullyClipped(g),Rl=isAnySideFullyClipped(_);e.modifiersData[s]={referenceClippingOffsets:g,popperEscapeOffsets:_,isReferenceHidden:$l,hasPopperEscaped:Rl},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":$l,"data-popper-escaped":Rl})}const hide$2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide$1};function distanceAndSkiddingToXY(i,e,s){var o=getBasePlacement(i),a=[left,top].indexOf(o)>=0?-1:1,c=typeof s=="function"?s(Object.assign({},e,{placement:i})):s,d=c[0],h=c[1];return d=d||0,h=(h||0)*a,[left,right].indexOf(o)>=0?{x:h,y:d}:{x:d,y:h}}function offset$2(i){var e=i.state,s=i.options,o=i.name,a=s.offset,c=a===void 0?[0,0]:a,d=placements.reduce(function($l,Rl){return $l[Rl]=distanceAndSkiddingToXY(Rl,e.rects,c),$l},{}),h=d[e.placement],g=h.x,_=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=_),e.modifiersData[o]=d}const offset$3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$2};function popperOffsets(i){var e=i.state,s=i.name;e.modifiersData[s]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var e=i.state,s=i.options,o=i.name,a=s.mainAxis,c=a===void 0?!0:a,d=s.altAxis,h=d===void 0?!1:d,g=s.boundary,_=s.rootBoundary,$l=s.altBoundary,Rl=s.padding,Ml=s.tether,Ul=Ml===void 0?!0:Ml,Fl=s.tetherOffset,Ll=Fl===void 0?0:Fl,Bl=detectOverflow(e,{boundary:g,rootBoundary:_,padding:Rl,altBoundary:$l}),zl=getBasePlacement(e.placement),Hl=getVariation(e.placement),Wl=!Hl,Yl=getMainAxisFromPlacement(zl),Xl=getAltAxis(Yl),Gl=e.modifiersData.popperOffsets,_d=e.rects.reference,Kl=e.rects.popper,ru=typeof Ll=="function"?Ll(Object.assign({},e.rects,{placement:e.placement})):Ll,Zl=typeof ru=="number"?{mainAxis:ru,altAxis:ru}:Object.assign({mainAxis:0,altAxis:0},ru),tp=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,op={x:0,y:0};if(!!Gl){if(c){var bp,ap=Yl==="y"?top:left,hp=Yl==="y"?bottom:right,gp=Yl==="y"?"height":"width",rp=Gl[Yl],up=rp+Bl[ap],$p=rp-Bl[hp],yp=Ul?-Kl[gp]/2:0,dp=Hl===start?_d[gp]:Kl[gp],ep=Hl===start?-Kl[gp]:-_d[gp],Ql=e.elements.arrow,Jl=Ul&&Ql?getLayoutRect(Ql):{width:0,height:0},np=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),cp=np[ap],fp=np[hp],vp=within(0,_d[gp],Jl[gp]),wp=Wl?_d[gp]/2-yp-vp-cp-Zl.mainAxis:dp-vp-cp-Zl.mainAxis,xp=Wl?-_d[gp]/2+yp+vp+fp+Zl.mainAxis:ep+vp+fp+Zl.mainAxis,_f=e.elements.arrow&&getOffsetParent(e.elements.arrow),ip=_f?Yl==="y"?_f.clientTop||0:_f.clientLeft||0:0,sp=(bp=tp==null?void 0:tp[Yl])!=null?bp:0,lp=rp+wp-sp-ip,pp=rp+xp-sp,Sp=within(Ul?min$2(up,lp):up,rp,Ul?max$2($p,pp):$p);Gl[Yl]=Sp,op[Yl]=Sp-rp}if(h){var Op,Lp=Yl==="x"?top:left,Pp=Yl==="x"?bottom:right,Ap=Gl[Xl],kp=Xl==="y"?"height":"width",Rp=Ap+Bl[Lp],Fp=Ap-Bl[Pp],_p=[top,left].indexOf(zl)!==-1,Np=(Op=tp==null?void 0:tp[Xl])!=null?Op:0,Vp=_p?Rp:Ap-_d[kp]-Kl[kp]-Np+Zl.altAxis,Wp=_p?Ap+_d[kp]+Kl[kp]-Np-Zl.altAxis:Fp,Yp=Ul&&_p?withinMaxClamp(Vp,Ap,Wp):within(Ul?Vp:Rp,Ap,Ul?Wp:Fp);Gl[Xl]=Yp,op[Xl]=Yp-Ap}e.modifiersData[o]=op}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement$1(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var e=i.getBoundingClientRect(),s=round$1(e.width)/i.offsetWidth||1,o=round$1(e.height)/i.offsetHeight||1;return s!==1||o!==1}function getCompositeRect(i,e,s){s===void 0&&(s=!1);var o=isHTMLElement$1(e),a=isHTMLElement$1(e)&&isElementScaled(e),c=getDocumentElement(e),d=getBoundingClientRect(i,a,s),h={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(o||!o&&!s)&&((getNodeName(e)!=="body"||isScrollParent(c))&&(h=getNodeScroll(e)),isHTMLElement$1(e)?(g=getBoundingClientRect(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):c&&(g.x=getWindowScrollBarX(c))),{x:d.left+h.scrollLeft-g.x,y:d.top+h.scrollTop-g.y,width:d.width,height:d.height}}function order(i){var e=new Map,s=new Set,o=[];i.forEach(function(c){e.set(c.name,c)});function a(c){s.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(h){if(!s.has(h)){var g=e.get(h);g&&a(g)}}),o.push(c)}return i.forEach(function(c){s.has(c.name)||a(c)}),o}function orderModifiers(i){var e=order(i);return modifierPhases.reduce(function(s,o){return s.concat(e.filter(function(a){return a.phase===o}))},[])}function debounce(i){var e;return function(){return e||(e=new Promise(function(s){Promise.resolve().then(function(){e=void 0,s(i())})})),e}}function mergeByName(i){var e=i.reduce(function(s,o){var a=s[o.name];return s[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,s},{});return Object.keys(e).map(function(s){return e[s]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var e=i,s=e.defaultModifiers,o=s===void 0?[]:s,a=e.defaultOptions,c=a===void 0?DEFAULT_OPTIONS:a;return function(h,g,_){_===void 0&&(_=c);var $l={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,c),modifiersData:{},elements:{reference:h,popper:g},attributes:{},styles:{}},Rl=[],Ml=!1,Ul={state:$l,setOptions:function(zl){var Hl=typeof zl=="function"?zl($l.options):zl;Ll(),$l.options=Object.assign({},c,$l.options,Hl),$l.scrollParents={reference:isElement(h)?listScrollParents(h):h.contextElement?listScrollParents(h.contextElement):[],popper:listScrollParents(g)};var Wl=orderModifiers(mergeByName([].concat(o,$l.options.modifiers)));return $l.orderedModifiers=Wl.filter(function(Yl){return Yl.enabled}),Fl(),Ul.update()},forceUpdate:function(){if(!Ml){var zl=$l.elements,Hl=zl.reference,Wl=zl.popper;if(!!areValidElements(Hl,Wl)){$l.rects={reference:getCompositeRect(Hl,getOffsetParent(Wl),$l.options.strategy==="fixed"),popper:getLayoutRect(Wl)},$l.reset=!1,$l.placement=$l.options.placement,$l.orderedModifiers.forEach(function(Zl){return $l.modifiersData[Zl.name]=Object.assign({},Zl.data)});for(var Yl=0;Yl<$l.orderedModifiers.length;Yl++){if($l.reset===!0){$l.reset=!1,Yl=-1;continue}var Xl=$l.orderedModifiers[Yl],Gl=Xl.fn,_d=Xl.options,Kl=_d===void 0?{}:_d,ru=Xl.name;typeof Gl=="function"&&($l=Gl({state:$l,options:Kl,name:ru,instance:Ul})||$l)}}}},update:debounce(function(){return new Promise(function(Bl){Ul.forceUpdate(),Bl($l)})}),destroy:function(){Ll(),Ml=!0}};if(!areValidElements(h,g))return Ul;Ul.setOptions(_).then(function(Bl){!Ml&&_.onFirstUpdate&&_.onFirstUpdate(Bl)});function Fl(){$l.orderedModifiers.forEach(function(Bl){var zl=Bl.name,Hl=Bl.options,Wl=Hl===void 0?{}:Hl,Yl=Bl.effect;if(typeof Yl=="function"){var Xl=Yl({state:$l,name:zl,instance:Ul,options:Wl}),Gl=function(){};Rl.push(Xl||Gl)}})}function Ll(){Rl.forEach(function(Bl){return Bl()}),Rl=[]}return Ul}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$3,flip$1,preventOverflow$1,arrow$1,hide$2],createPopper$1=popperGenerator({defaultModifiers}),hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(i,e){if(i===e)return!0;if(i&&e&&typeof i=="object"&&typeof e=="object"){if(i.constructor!==e.constructor)return!1;var s,o,a;if(Array.isArray(i)){if(s=i.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!equal(i[o],e[o]))return!1;return!0}var c;if(hasMap&&i instanceof Map&&e instanceof Map){if(i.size!==e.size)return!1;for(c=i.entries();!(o=c.next()).done;)if(!e.has(o.value[0]))return!1;for(c=i.entries();!(o=c.next()).done;)if(!equal(o.value[1],e.get(o.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&e instanceof Set){if(i.size!==e.size)return!1;for(c=i.entries();!(o=c.next()).done;)if(!e.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(e)){if(s=i.length,s!=e.length)return!1;for(o=s;o--!==0;)if(i[o]!==e[o])return!1;return!0}if(i.constructor===RegExp)return i.source===e.source&&i.flags===e.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===e.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===e.toString();if(a=Object.keys(i),s=a.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[o]))return!1;if(hasElementType&&i instanceof Element)return!1;for(o=s;o--!==0;)if(!((a[o]==="_owner"||a[o]==="__v"||a[o]==="__o")&&i.$$typeof)&&!equal(i[a[o]],e[a[o]]))return!1;return!0}return i!==i&&e!==e}var reactFastCompare=function(e,s){try{return equal(e,s)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}},EMPTY_MODIFIERS$2=[],usePopper$1=function(e,s,o){o===void 0&&(o={});var a=react$1.exports.useRef(null),c={onFirstUpdate:o.onFirstUpdate,placement:o.placement||"bottom",strategy:o.strategy||"absolute",modifiers:o.modifiers||EMPTY_MODIFIERS$2},d=react$1.exports.useState({styles:{popper:{position:c.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),h=d[0],g=d[1],_=react$1.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(Ul){var Fl=Ul.state,Ll=Object.keys(Fl.elements);reactDom.exports.flushSync(function(){g({styles:fromEntries(Ll.map(function(Bl){return[Bl,Fl.styles[Bl]||{}]})),attributes:fromEntries(Ll.map(function(Bl){return[Bl,Fl.attributes[Bl]]}))})})},requires:["computeStyles"]}},[]),$l=react$1.exports.useMemo(function(){var Ml={onFirstUpdate:c.onFirstUpdate,placement:c.placement,strategy:c.strategy,modifiers:[].concat(c.modifiers,[_,{name:"applyStyles",enabled:!1}])};return reactFastCompare(a.current,Ml)?a.current||Ml:(a.current=Ml,Ml)},[c.onFirstUpdate,c.placement,c.strategy,c.modifiers,_]),Rl=react$1.exports.useRef();return useIsomorphicLayoutEffect(function(){Rl.current&&Rl.current.setOptions($l)},[$l]),useIsomorphicLayoutEffect(function(){if(!(e==null||s==null)){var Ml=o.createPopper||createPopper$1,Ul=Ml(e,s,$l);return Rl.current=Ul,function(){Ul.destroy(),Rl.current=null}}},[e,s,o.createPopper]),{state:Rl.current?Rl.current.state:null,styles:h.styles,attributes:h.attributes,update:Rl.current?Rl.current.update:null,forceUpdate:Rl.current?Rl.current.forceUpdate:null}},NOOP=function(){},NOOP_PROMISE=function(){return Promise.resolve(null)},EMPTY_MODIFIERS$1=[];function Popper(i){var e=i.placement,s=e===void 0?"bottom":e,o=i.strategy,a=o===void 0?"absolute":o,c=i.modifiers,d=c===void 0?EMPTY_MODIFIERS$1:c,h=i.referenceElement,g=i.onFirstUpdate,_=i.innerRef,$l=i.children,Rl=react$1.exports.useContext(ManagerReferenceNodeContext),Ml=react$1.exports.useState(null),Ul=Ml[0],Fl=Ml[1],Ll=react$1.exports.useState(null),Bl=Ll[0],zl=Ll[1];react$1.exports.useEffect(function(){setRef(_,Ul)},[_,Ul]);var Hl=react$1.exports.useMemo(function(){return{placement:s,strategy:a,onFirstUpdate:g,modifiers:[].concat(d,[{name:"arrow",enabled:Bl!=null,options:{element:Bl}}])}},[s,a,g,d,Bl]),Wl=usePopper$1(h||Rl,Ul,Hl),Yl=Wl.state,Xl=Wl.styles,Gl=Wl.forceUpdate,_d=Wl.update,Kl=react$1.exports.useMemo(function(){return{ref:Fl,style:Xl.popper,placement:Yl?Yl.placement:s,hasPopperEscaped:Yl&&Yl.modifiersData.hide?Yl.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:Yl&&Yl.modifiersData.hide?Yl.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:Xl.arrow,ref:zl},forceUpdate:Gl||NOOP,update:_d||NOOP_PROMISE}},[Fl,zl,s,Yl,Xl,_d,Gl]);return unwrapArray($l)(Kl)}var warning$1=function(){},warning_1=warning$1;function Reference(i){var e=i.children,s=i.innerRef,o=react$1.exports.useContext(ManagerReferenceNodeSetterContext),a=react$1.exports.useCallback(function(c){setRef(s,c),safeInvoke(o,c)},[s,o]);return react$1.exports.useEffect(function(){return function(){return setRef(s,null)}},[]),react$1.exports.useEffect(function(){},[o]),unwrapArray(e)({ref:a})}function ae(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function se(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ae(Object(s),!0).forEach(function(o){de(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ae(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}function ie(i){return(ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}function pe(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function ce(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function le(i,e,s){return e&&ce(i.prototype,e),s&&ce(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function de(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}function ue(){return(ue=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i}).apply(this,arguments)}function he(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(i,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),writable:!1}),e&&fe(i,e)}function me(i){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(i)}function fe(i,e){return(fe=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s})(i,e)}function ye(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ve(i,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(i)}function De(i){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,o=me(i);if(e){var a=me(this).constructor;s=Reflect.construct(o,arguments,a)}else s=o.apply(this,arguments);return ve(this,s)}}function we(i){return function(e){if(Array.isArray(e))return ge(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||function(e,s){if(!!e){if(typeof e=="string")return ge(e,s);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ge(e,s)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ge(i,e){(e==null||e>i.length)&&(e=i.length);for(var s=0,o=new Array(e);s<e;s++)o[s]=i[s];return o}function ke(i,e){switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function be(i,e){switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var Ce={p:be,P:function(i,e){var s,o=i.match(/(P+)(p+)?/)||[],a=o[1],c=o[2];if(!c)return ke(i,e);switch(a){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"})}return s.replace("{{date}}",ke(a,e)).replace("{{time}}",be(c,e))}},Se=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function _e(i){var e=i?typeof i=="string"||i instanceof String?parseISO(i):toDate$1(i):new Date;return Pe(e)?e:null}function Me(i,e,s,o,a){var c=null,d=Ue(s)||Ue(qe()),h=!0;return Array.isArray(e)?(e.forEach(function(g){var _=parse(i,g,new Date,{locale:d});o&&(h=Pe(_,a)&&i===Ee(_,g,s)),Pe(_,a)&&h&&(c=_)}),c):(c=parse(i,e,new Date,{locale:d}),o?h=Pe(c)&&i===Ee(c,e,s):Pe(c)||(e=e.match(Se).map(function(g){var _=g[0];return _==="p"||_==="P"?d?(0,Ce[_])(g,d.formatLong):_:g}).join(""),i.length>0&&(c=parse(i,e.slice(0,i.length),new Date)),Pe(c)||(c=new Date(i))),Pe(c)&&h?c:null)}function Pe(i,e){return e=e||new Date("1/1/1000"),isValid$3(i)&&!isBefore$1(i,e)}function Ee(i,e,s){if(s==="en")return format$1(i,e,{awareOfUnicodeTokens:!0});var o=Ue(s);return s&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(s,'"].')),!o&&qe()&&Ue(qe())&&(o=Ue(qe())),format$1(i,e,{locale:o||null,awareOfUnicodeTokens:!0})}function Ne(i,e){var s=e.dateFormat,o=e.locale;return i&&Ee(i,Array.isArray(s)?s[0]:s,o)||""}function xe(i,e){var s=e.hour,o=s===void 0?0:s,a=e.minute,c=a===void 0?0:a,d=e.second;return setHours(setMinutes(setSeconds(i,d===void 0?0:d),c),o)}function Ye(i,e){var s=e&&Ue(e)||qe()&&Ue(qe());return getISOWeek(i,s?{locale:s}:null)}function Oe(i,e){return Ee(i,"ddd",e)}function Ie(i){return startOfDay(i)}function Te(i,e,s){var o=Ue(e||qe());return startOfWeek(i,{locale:o,weekStartsOn:s})}function Le(i){return startOfMonth(i)}function Re(i){return startOfYear(i)}function Fe(i){return startOfQuarter(i)}function Ae(i,e){return i&&e?isSameYear(i,e):!i&&!e}function Be(i,e){return i&&e?isSameMonth(i,e):!i&&!e}function Ke(i,e){return i&&e?isSameQuarter(i,e):!i&&!e}function We(i,e){return i&&e?isSameDay(i,e):!i&&!e}function je(i,e){return i&&e?isEqual$3(i,e):!i&&!e}function He(i,e,s){var o,a=startOfDay(e),c=endOfDay(s);try{o=isWithinInterval(i,{start:a,end:c})}catch{o=!1}return o}function qe(){return(typeof window<"u"?window:globalThis).__localeId__}function Ue(i){if(typeof i=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[i]:null}return i}function $e(i,e){return Ee(setMonth$1(_e(),i),"LLLL",e)}function ze(i,e){return Ee(setMonth$1(_e(),i),"LLL",e)}function Ge(i,e){return Ee(setQuarter(_e(),i),"QQQ",e)}function Je(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.maxDate,a=e.excludeDates,c=e.excludeDateIntervals,d=e.includeDates,h=e.includeDateIntervals,g=e.filterDate;return ot(i,{minDate:s,maxDate:o})||a&&a.some(function(_){return We(i,_)})||c&&c.some(function(_){var $l=_.start,Rl=_.end;return isWithinInterval(i,{start:$l,end:Rl})})||d&&!d.some(function(_){return We(i,_)})||h&&!h.some(function(_){var $l=_.start,Rl=_.end;return isWithinInterval(i,{start:$l,end:Rl})})||g&&!g(_e(i))||!1}function Xe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.excludeDates,o=e.excludeDateIntervals;return o&&o.length>0?o.some(function(a){var c=a.start,d=a.end;return isWithinInterval(i,{start:c,end:d})}):s&&s.some(function(a){return We(i,a)})||!1}function Ze(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.maxDate,a=e.excludeDates,c=e.includeDates,d=e.filterDate;return ot(i,{minDate:s,maxDate:o})||a&&a.some(function(h){return Be(i,h)})||c&&!c.some(function(h){return Be(i,h)})||d&&!d(_e(i))||!1}function et(i,e,s,o){var a=getYear(i),c=getMonth(i),d=getYear(e),h=getMonth(e),g=getYear(o);return a===d&&a===g?c<=s&&s<=h:a<d?g===a&&c<=s||g===d&&h>=s||g<d&&g>a:void 0}function tt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.maxDate,a=e.excludeDates,c=e.includeDates,d=e.filterDate;return ot(i,{minDate:s,maxDate:o})||a&&a.some(function(h){return Ke(i,h)})||c&&!c.some(function(h){return Ke(i,h)})||d&&!d(_e(i))||!1}function rt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.maxDate,a=new Date(i,0,1);return ot(a,{minDate:s,maxDate:o})||!1}function nt(i,e,s,o){var a=getYear(i),c=getQuarter(i),d=getYear(e),h=getQuarter(e),g=getYear(o);return a===d&&a===g?c<=s&&s<=h:a<d?g===a&&c<=s||g===d&&h>=s||g<d&&g>a:void 0}function ot(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.maxDate;return s&&differenceInCalendarDays(i,s)<0||o&&differenceInCalendarDays(i,o)>0}function at(i,e){return e.some(function(s){return getHours(s)===getHours(i)&&getMinutes(s)===getMinutes(i)})}function st(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.excludeTimes,o=e.includeTimes,a=e.filterTime;return s&&at(i,s)||o&&!at(i,o)||a&&!a(i)||!1}function it(i,e){var s=e.minTime,o=e.maxTime;if(!s||!o)throw new Error("Both minTime and maxTime props required");var a,c=_e(),d=setHours(setMinutes(c,getMinutes(i)),getHours(i)),h=setHours(setMinutes(c,getMinutes(s)),getHours(s)),g=setHours(setMinutes(c,getMinutes(o)),getHours(o));try{a=!isWithinInterval(d,{start:h,end:g})}catch{a=!1}return a}function pt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.includeDates,a=subMonths(i,1);return s&&differenceInCalendarMonths(s,a)>0||o&&o.every(function(c){return differenceInCalendarMonths(c,a)>0})||!1}function ct(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.maxDate,o=e.includeDates,a=addMonths$1(i,1);return s&&differenceInCalendarMonths(a,s)>0||o&&o.every(function(c){return differenceInCalendarMonths(a,c)>0})||!1}function lt$1(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.minDate,o=e.includeDates,a=subYears(i,1);return s&&differenceInCalendarYears(s,a)>0||o&&o.every(function(c){return differenceInCalendarYears(c,a)>0})||!1}function dt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.maxDate,o=e.includeDates,a=addYears(i,1);return s&&differenceInCalendarYears(a,s)>0||o&&o.every(function(c){return differenceInCalendarYears(a,c)>0})||!1}function ut(i){var e=i.minDate,s=i.includeDates;if(s&&e){var o=s.filter(function(a){return differenceInCalendarDays(a,e)>=0});return min$3(o)}return s?min$3(s):e}function ht(i){var e=i.maxDate,s=i.includeDates;if(s&&e){var o=s.filter(function(a){return differenceInCalendarDays(a,e)<=0});return max$3(o)}return s?max$3(s):e}function mt(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",s=new Map,o=0,a=i.length;o<a;o++){var c=i[o];if(isDate$1(c)){var d=Ee(c,"MM.dd.yyyy"),h=s.get(d)||[];h.includes(e)||(h.push(e),s.set(d,h))}else if(ie(c)==="object"){var g=Object.keys(c),_=g[0],$l=c[g[0]];if(typeof _=="string"&&$l.constructor===Array)for(var Rl=0,Ml=$l.length;Rl<Ml;Rl++){var Ul=Ee($l[Rl],"MM.dd.yyyy"),Fl=s.get(Ul)||[];Fl.includes(_)||(Fl.push(_),s.set(Ul,Fl))}}}return s}function ft(i,e,s,o,a){for(var c=a.length,d=[],h=0;h<c;h++){var g=addMinutes(addHours(i,getHours(a[h])),getMinutes(a[h])),_=addMinutes(i,(s+1)*o);isAfter$1(g,e)&&isBefore$1(g,_)&&d.push(a[h])}return d}function yt(i){return i<10?"0".concat(i):"".concat(i)}function vt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,s=Math.ceil(getYear(i)/e)*e,o=s-(e-1);return{startPeriod:o,endPeriod:s}}function Dt(i,e,s,o){for(var a=[],c=0;c<2*e+1;c++){var d=i+e-c,h=!0;s&&(h=getYear(s)<=d),o&&h&&(h=getYear(o)>=d),h&&a.push(d)}return a}var wt=onClickOutsideHOC(function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;pe(this,s),de(ye(a=e.call(this,o)),"renderOptions",function(){var g=a.props.year,_=a.state.yearsList.map(function(Ml){return jsxs("div",{className:g===Ml?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",onClick:a.onChange.bind(ye(a),Ml),"aria-selected":g===Ml?"true":void 0,children:[g===Ml?jsx("span",{className:"react-datepicker__year-option--selected",children:"\u2713"}):"",Ml]},Ml)}),$l=a.props.minDate?getYear(a.props.minDate):null,Rl=a.props.maxDate?getYear(a.props.maxDate):null;return Rl&&a.state.yearsList.find(function(Ml){return Ml===Rl})||_.unshift(jsx("div",{className:"react-datepicker__year-option",onClick:a.incrementYears,children:jsx("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"})},"upcoming")),$l&&a.state.yearsList.find(function(Ml){return Ml===$l})||_.push(jsx("div",{className:"react-datepicker__year-option",onClick:a.decrementYears,children:jsx("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"})},"previous")),_}),de(ye(a),"onChange",function(g){a.props.onChange(g)}),de(ye(a),"handleClickOutside",function(){a.props.onCancel()}),de(ye(a),"shiftYears",function(g){var _=a.state.yearsList.map(function($l){return $l+g});a.setState({yearsList:_})}),de(ye(a),"incrementYears",function(){return a.shiftYears(1)}),de(ye(a),"decrementYears",function(){return a.shiftYears(-1)});var c=o.yearDropdownItemNumber,d=o.scrollableYearDropdown,h=c||(d?10:5);return a.state={yearsList:Dt(a.props.year,h,a.props.minDate,a.props.maxDate)},a.dropdownRef=react$1.exports.createRef(),a}return le(s,[{key:"componentDidMount",value:function(){var o=this.dropdownRef.current;o&&(o.scrollTop=o.scrollHeight/2-o.clientHeight/2)}},{key:"render",value:function(){var o=r$1({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return jsx("div",{className:o,ref:this.dropdownRef,children:this.renderOptions()})}}]),s}()),gt$1=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"state",{dropdownVisible:!1}),de(ye(o),"renderSelectOptions",function(){for(var h=o.props.minDate?getYear(o.props.minDate):1900,g=o.props.maxDate?getYear(o.props.maxDate):2100,_=[],$l=h;$l<=g;$l++)_.push(jsx("option",{value:$l,children:$l},$l));return _}),de(ye(o),"onSelectChange",function(h){o.onChange(h.target.value)}),de(ye(o),"renderSelectMode",function(){return jsx("select",{value:o.props.year,className:"react-datepicker__year-select",onChange:o.onSelectChange,children:o.renderSelectOptions()})}),de(ye(o),"renderReadView",function(h){return jsxs("div",{style:{visibility:h?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(g){return o.toggleDropdown(g)},children:[jsx("span",{className:"react-datepicker__year-read-view--down-arrow"}),jsx("span",{className:"react-datepicker__year-read-view--selected-year",children:o.props.year})]},"read")}),de(ye(o),"renderDropdown",function(){return React$6.createElement(wt,{key:"dropdown",year:o.props.year,onChange:o.onChange,onCancel:o.toggleDropdown,minDate:o.props.minDate,maxDate:o.props.maxDate,scrollableYearDropdown:o.props.scrollableYearDropdown,yearDropdownItemNumber:o.props.yearDropdownItemNumber})}),de(ye(o),"renderScrollMode",function(){var h=o.state.dropdownVisible,g=[o.renderReadView(!h)];return h&&g.unshift(o.renderDropdown()),g}),de(ye(o),"onChange",function(h){o.toggleDropdown(),h!==o.props.year&&o.props.onChange(h)}),de(ye(o),"toggleDropdown",function(h){o.setState({dropdownVisible:!o.state.dropdownVisible},function(){o.props.adjustDateOnChange&&o.handleYearChange(o.props.date,h)})}),de(ye(o),"handleYearChange",function(h,g){o.onSelect(h,g),o.setOpen()}),de(ye(o),"onSelect",function(h,g){o.props.onSelect&&o.props.onSelect(h,g)}),de(ye(o),"setOpen",function(){o.props.setOpen&&o.props.setOpen(!0)}),o}return le(s,[{key:"render",value:function(){var o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode();break;case"select":o=this.renderSelectMode()}return jsx("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode),children:o})}}]),s}(),kt=onClickOutsideHOC(function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"isSelectedMonth",function(h){return o.props.month===h}),de(ye(o),"renderOptions",function(){return o.props.monthNames.map(function(h,g){return jsxs("div",{className:o.isSelectedMonth(g)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",onClick:o.onChange.bind(ye(o),g),"aria-selected":o.isSelectedMonth(g)?"true":void 0,children:[o.isSelectedMonth(g)?jsx("span",{className:"react-datepicker__month-option--selected",children:"\u2713"}):"",h]},h)})}),de(ye(o),"onChange",function(h){return o.props.onChange(h)}),de(ye(o),"handleClickOutside",function(){return o.props.onCancel()}),o}return le(s,[{key:"render",value:function(){return jsx("div",{className:"react-datepicker__month-dropdown",children:this.renderOptions()})}}]),s}()),bt=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"state",{dropdownVisible:!1}),de(ye(o),"renderSelectOptions",function(h){return h.map(function(g,_){return jsx("option",{value:_,children:g},_)})}),de(ye(o),"renderSelectMode",function(h){return jsx("select",{value:o.props.month,className:"react-datepicker__month-select",onChange:function(g){return o.onChange(g.target.value)},children:o.renderSelectOptions(h)})}),de(ye(o),"renderReadView",function(h,g){return jsxs("div",{style:{visibility:h?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:o.toggleDropdown,children:[jsx("span",{className:"react-datepicker__month-read-view--down-arrow"}),jsx("span",{className:"react-datepicker__month-read-view--selected-month",children:g[o.props.month]})]},"read")}),de(ye(o),"renderDropdown",function(h){return React$6.createElement(kt,{key:"dropdown",month:o.props.month,monthNames:h,onChange:o.onChange,onCancel:o.toggleDropdown})}),de(ye(o),"renderScrollMode",function(h){var g=o.state.dropdownVisible,_=[o.renderReadView(!g,h)];return g&&_.unshift(o.renderDropdown(h)),_}),de(ye(o),"onChange",function(h){o.toggleDropdown(),h!==o.props.month&&o.props.onChange(h)}),de(ye(o),"toggleDropdown",function(){return o.setState({dropdownVisible:!o.state.dropdownVisible})}),o}return le(s,[{key:"render",value:function(){var o,a=this,c=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(d){return ze(d,a.props.locale)}:function(d){return $e(d,a.props.locale)});switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(c);break;case"select":o=this.renderSelectMode(c)}return jsx("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode),children:o})}}]),s}();function Ct(i,e){for(var s=[],o=Le(i),a=Le(e);!isAfter$1(o,a);)s.push(_e(o)),o=addMonths$1(o,1);return s}var St=onClickOutsideHOC(function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),de(ye(a=e.call(this,o)),"renderOptions",function(){return a.state.monthYearsList.map(function(c){var d=getTime(c),h=Ae(a.props.date,c)&&Be(a.props.date,c);return jsxs("div",{className:h?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",onClick:a.onChange.bind(ye(a),d),"aria-selected":h?"true":void 0,children:[h?jsx("span",{className:"react-datepicker__month-year-option--selected",children:"\u2713"}):"",Ee(c,a.props.dateFormat,a.props.locale)]},d)})}),de(ye(a),"onChange",function(c){return a.props.onChange(c)}),de(ye(a),"handleClickOutside",function(){a.props.onCancel()}),a.state={monthYearsList:Ct(a.props.minDate,a.props.maxDate)},a}return le(s,[{key:"render",value:function(){var o=r$1({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return jsx("div",{className:o,children:this.renderOptions()})}}]),s}()),_t=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"state",{dropdownVisible:!1}),de(ye(o),"renderSelectOptions",function(){for(var h=Le(o.props.minDate),g=Le(o.props.maxDate),_=[];!isAfter$1(h,g);){var $l=getTime(h);_.push(jsx("option",{value:$l,children:Ee(h,o.props.dateFormat,o.props.locale)},$l)),h=addMonths$1(h,1)}return _}),de(ye(o),"onSelectChange",function(h){o.onChange(h.target.value)}),de(ye(o),"renderSelectMode",function(){return jsx("select",{value:getTime(Le(o.props.date)),className:"react-datepicker__month-year-select",onChange:o.onSelectChange,children:o.renderSelectOptions()})}),de(ye(o),"renderReadView",function(h){var g=Ee(o.props.date,o.props.dateFormat,o.props.locale);return jsxs("div",{style:{visibility:h?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(_){return o.toggleDropdown(_)},children:[jsx("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),jsx("span",{className:"react-datepicker__month-year-read-view--selected-month-year",children:g})]},"read")}),de(ye(o),"renderDropdown",function(){return jsx(St,{date:o.props.date,dateFormat:o.props.dateFormat,onChange:o.onChange,onCancel:o.toggleDropdown,minDate:o.props.minDate,maxDate:o.props.maxDate,scrollableMonthYearDropdown:o.props.scrollableMonthYearDropdown,locale:o.props.locale},"dropdown")}),de(ye(o),"renderScrollMode",function(){var h=o.state.dropdownVisible,g=[o.renderReadView(!h)];return h&&g.unshift(o.renderDropdown()),g}),de(ye(o),"onChange",function(h){o.toggleDropdown();var g=_e(parseInt(h));Ae(o.props.date,g)&&Be(o.props.date,g)||o.props.onChange(g)}),de(ye(o),"toggleDropdown",function(){return o.setState({dropdownVisible:!o.state.dropdownVisible})}),o}return le(s,[{key:"render",value:function(){var o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode();break;case"select":o=this.renderSelectMode()}return jsx("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode),children:o})}}]),s}(),Mt=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"dayEl",React$6.createRef()),de(ye(o),"handleClick",function(h){!o.isDisabled()&&o.props.onClick&&o.props.onClick(h)}),de(ye(o),"handleMouseEnter",function(h){!o.isDisabled()&&o.props.onMouseEnter&&o.props.onMouseEnter(h)}),de(ye(o),"handleOnKeyDown",function(h){h.key===" "&&(h.preventDefault(),h.key="Enter"),o.props.handleOnKeyDown(h)}),de(ye(o),"isSameDay",function(h){return We(o.props.day,h)}),de(ye(o),"isKeyboardSelected",function(){return!o.props.disabledKeyboardNavigation&&!o.isSameDay(o.props.selected)&&o.isSameDay(o.props.preSelection)}),de(ye(o),"isDisabled",function(){return Je(o.props.day,o.props)}),de(ye(o),"isExcluded",function(){return Xe(o.props.day,o.props)}),de(ye(o),"getHighLightedClass",function(h){var g=o.props,_=g.day,$l=g.highlightDates;if(!$l)return!1;var Rl=Ee(_,"MM.dd.yyyy");return $l.get(Rl)}),de(ye(o),"isInRange",function(){var h=o.props,g=h.day,_=h.startDate,$l=h.endDate;return!(!_||!$l)&&He(g,_,$l)}),de(ye(o),"isInSelectingRange",function(){var h,g=o.props,_=g.day,$l=g.selectsStart,Rl=g.selectsEnd,Ml=g.selectsRange,Ul=g.selectsDisabledDaysInRange,Fl=g.startDate,Ll=g.endDate,Bl=(h=o.props.selectingDate)!==null&&h!==void 0?h:o.props.preSelection;return!(!($l||Rl||Ml)||!Bl||!Ul&&o.isDisabled())&&($l&&Ll&&(isBefore$1(Bl,Ll)||je(Bl,Ll))?He(_,Bl,Ll):(Rl&&Fl&&(isAfter$1(Bl,Fl)||je(Bl,Fl))||!(!Ml||!Fl||Ll||!isAfter$1(Bl,Fl)&&!je(Bl,Fl)))&&He(_,Fl,Bl))}),de(ye(o),"isSelectingRangeStart",function(){var h;if(!o.isInSelectingRange())return!1;var g=o.props,_=g.day,$l=g.startDate,Rl=g.selectsStart,Ml=(h=o.props.selectingDate)!==null&&h!==void 0?h:o.props.preSelection;return We(_,Rl?Ml:$l)}),de(ye(o),"isSelectingRangeEnd",function(){var h;if(!o.isInSelectingRange())return!1;var g=o.props,_=g.day,$l=g.endDate,Rl=g.selectsEnd,Ml=(h=o.props.selectingDate)!==null&&h!==void 0?h:o.props.preSelection;return We(_,Rl?Ml:$l)}),de(ye(o),"isRangeStart",function(){var h=o.props,g=h.day,_=h.startDate,$l=h.endDate;return!(!_||!$l)&&We(_,g)}),de(ye(o),"isRangeEnd",function(){var h=o.props,g=h.day,_=h.startDate,$l=h.endDate;return!(!_||!$l)&&We($l,g)}),de(ye(o),"isWeekend",function(){var h=getDay(o.props.day);return h===0||h===6}),de(ye(o),"isAfterMonth",function(){return o.props.month!==void 0&&(o.props.month+1)%12===getMonth(o.props.day)}),de(ye(o),"isBeforeMonth",function(){return o.props.month!==void 0&&(getMonth(o.props.day)+1)%12===o.props.month}),de(ye(o),"isCurrentDay",function(){return o.isSameDay(_e())}),de(ye(o),"isSelected",function(){return o.isSameDay(o.props.selected)}),de(ye(o),"getClassNames",function(h){var g=o.props.dayClassName?o.props.dayClassName(h):void 0;return r$1("react-datepicker__day",g,"react-datepicker__day--"+Oe(o.props.day),{"react-datepicker__day--disabled":o.isDisabled(),"react-datepicker__day--excluded":o.isExcluded(),"react-datepicker__day--selected":o.isSelected(),"react-datepicker__day--keyboard-selected":o.isKeyboardSelected(),"react-datepicker__day--range-start":o.isRangeStart(),"react-datepicker__day--range-end":o.isRangeEnd(),"react-datepicker__day--in-range":o.isInRange(),"react-datepicker__day--in-selecting-range":o.isInSelectingRange(),"react-datepicker__day--selecting-range-start":o.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":o.isSelectingRangeEnd(),"react-datepicker__day--today":o.isCurrentDay(),"react-datepicker__day--weekend":o.isWeekend(),"react-datepicker__day--outside-month":o.isAfterMonth()||o.isBeforeMonth()},o.getHighLightedClass("react-datepicker__day--highlighted"))}),de(ye(o),"getAriaLabel",function(){var h=o.props,g=h.day,_=h.ariaLabelPrefixWhenEnabled,$l=_===void 0?"Choose":_,Rl=h.ariaLabelPrefixWhenDisabled,Ml=Rl===void 0?"Not available":Rl,Ul=o.isDisabled()||o.isExcluded()?Ml:$l;return"".concat(Ul," ").concat(Ee(g,"PPPP",o.props.locale))}),de(ye(o),"getTabIndex",function(h,g){var _=h||o.props.selected,$l=g||o.props.preSelection;return o.isKeyboardSelected()||o.isSameDay(_)&&We($l,_)?0:-1}),de(ye(o),"handleFocusDay",function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=!1;o.getTabIndex()===0&&!h.isInputFocused&&o.isSameDay(o.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(g=!0),o.props.inline&&!o.props.shouldFocusDayInline&&(g=!1),o.props.containerRef&&o.props.containerRef.current&&o.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(g=!0)),g&&o.dayEl.current.focus({preventScroll:!0})}),de(ye(o),"renderDayContents",function(){return o.props.monthShowsDuplicateDaysEnd&&o.isAfterMonth()||o.props.monthShowsDuplicateDaysStart&&o.isBeforeMonth()?null:o.props.renderDayContents?o.props.renderDayContents(getDate(o.props.day),o.props.day):getDate(o.props.day)}),de(ye(o),"render",function(){return jsx("div",{ref:o.dayEl,className:o.getClassNames(o.props.day),onKeyDown:o.handleOnKeyDown,onClick:o.handleClick,onMouseEnter:o.handleMouseEnter,tabIndex:o.getTabIndex(),"aria-label":o.getAriaLabel(),role:"option","aria-disabled":o.isDisabled(),"aria-current":o.isCurrentDay()?"date":void 0,"aria-selected":o.isSelected(),children:o.renderDayContents()})}),o}return le(s,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(o){this.handleFocusDay(o)}}]),s}(),Pt=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"handleClick",function(h){o.props.onClick&&o.props.onClick(h)}),o}return le(s,[{key:"render",value:function(){var o=this.props,a=o.weekNumber,c=o.ariaLabelPrefix,d=c===void 0?"week ":c,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o.onClick};return jsx("div",{className:r$1(h),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,children:a})}}]),s}(),Et=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"handleDayClick",function(h,g){o.props.onDayClick&&o.props.onDayClick(h,g)}),de(ye(o),"handleDayMouseEnter",function(h){o.props.onDayMouseEnter&&o.props.onDayMouseEnter(h)}),de(ye(o),"handleWeekClick",function(h,g,_){typeof o.props.onWeekSelect=="function"&&o.props.onWeekSelect(h,g,_),o.props.shouldCloseOnSelect&&o.props.setOpen(!1)}),de(ye(o),"formatWeekNumber",function(h){return o.props.formatWeekNumber?o.props.formatWeekNumber(h):Ye(h)}),de(ye(o),"renderDays",function(){var h=Te(o.props.day,o.props.locale,o.props.calendarStartDay),g=[],_=o.formatWeekNumber(h);if(o.props.showWeekNumber){var $l=o.props.onWeekSelect?o.handleWeekClick.bind(ye(o),h,_):void 0;g.push(jsx(Pt,{weekNumber:_,onClick:$l,ariaLabelPrefix:o.props.ariaLabelPrefix},"W"))}return g.concat([0,1,2,3,4,5,6].map(function(Rl){var Ml=addDays(h,Rl);return jsx(Mt,{ariaLabelPrefixWhenEnabled:o.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:o.props.disabledDayAriaLabelPrefix,day:Ml,month:o.props.month,onClick:o.handleDayClick.bind(ye(o),Ml),onMouseEnter:o.handleDayMouseEnter.bind(ye(o),Ml),minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,excludeDateIntervals:o.props.excludeDateIntervals,includeDates:o.props.includeDates,includeDateIntervals:o.props.includeDateIntervals,highlightDates:o.props.highlightDates,selectingDate:o.props.selectingDate,filterDate:o.props.filterDate,preSelection:o.props.preSelection,selected:o.props.selected,selectsStart:o.props.selectsStart,selectsEnd:o.props.selectsEnd,selectsRange:o.props.selectsRange,selectsDisabledDaysInRange:o.props.selectsDisabledDaysInRange,startDate:o.props.startDate,endDate:o.props.endDate,dayClassName:o.props.dayClassName,renderDayContents:o.props.renderDayContents,disabledKeyboardNavigation:o.props.disabledKeyboardNavigation,handleOnKeyDown:o.props.handleOnKeyDown,isInputFocused:o.props.isInputFocused,containerRef:o.props.containerRef,inline:o.props.inline,shouldFocusDayInline:o.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:o.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:o.props.monthShowsDuplicateDaysStart,locale:o.props.locale},Ml.valueOf())}))}),o}return le(s,[{key:"render",value:function(){return jsx("div",{className:"react-datepicker__week",children:this.renderDays()})}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),s}(),Nt=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"MONTH_REFS",we(Array(12)).map(function(){return React$6.createRef()})),de(ye(o),"isDisabled",function(h){return Je(h,o.props)}),de(ye(o),"isExcluded",function(h){return Xe(h,o.props)}),de(ye(o),"handleDayClick",function(h,g){o.props.onDayClick&&o.props.onDayClick(h,g,o.props.orderInDisplay)}),de(ye(o),"handleDayMouseEnter",function(h){o.props.onDayMouseEnter&&o.props.onDayMouseEnter(h)}),de(ye(o),"handleMouseLeave",function(){o.props.onMouseLeave&&o.props.onMouseLeave()}),de(ye(o),"isRangeStartMonth",function(h){var g=o.props,_=g.day,$l=g.startDate,Rl=g.endDate;return!(!$l||!Rl)&&Be(setMonth$1(_,h),$l)}),de(ye(o),"isRangeStartQuarter",function(h){var g=o.props,_=g.day,$l=g.startDate,Rl=g.endDate;return!(!$l||!Rl)&&Ke(setQuarter(_,h),$l)}),de(ye(o),"isRangeEndMonth",function(h){var g=o.props,_=g.day,$l=g.startDate,Rl=g.endDate;return!(!$l||!Rl)&&Be(setMonth$1(_,h),Rl)}),de(ye(o),"isRangeEndQuarter",function(h){var g=o.props,_=g.day,$l=g.startDate,Rl=g.endDate;return!(!$l||!Rl)&&Ke(setQuarter(_,h),Rl)}),de(ye(o),"isWeekInMonth",function(h){var g=o.props.day,_=addDays(h,6);return Be(h,g)||Be(_,g)}),de(ye(o),"isCurrentMonth",function(h,g){return getYear(h)===getYear(_e())&&g===getMonth(_e())}),de(ye(o),"isSelectedMonth",function(h,g,_){return getMonth(h)===g&&getYear(h)===getYear(_)}),de(ye(o),"isSelectedQuarter",function(h,g,_){return getQuarter(h)===g&&getYear(h)===getYear(_)}),de(ye(o),"renderWeeks",function(){for(var h=[],g=o.props.fixedHeight,_=0,$l=!1,Rl=Te(Le(o.props.day),o.props.locale,o.props.calendarStartDay);h.push(jsx(Et,{ariaLabelPrefix:o.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:o.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:o.props.disabledDayAriaLabelPrefix,day:Rl,month:getMonth(o.props.day),onDayClick:o.handleDayClick,onDayMouseEnter:o.handleDayMouseEnter,onWeekSelect:o.props.onWeekSelect,formatWeekNumber:o.props.formatWeekNumber,locale:o.props.locale,minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,excludeDateIntervals:o.props.excludeDateIntervals,includeDates:o.props.includeDates,includeDateIntervals:o.props.includeDateIntervals,inline:o.props.inline,shouldFocusDayInline:o.props.shouldFocusDayInline,highlightDates:o.props.highlightDates,selectingDate:o.props.selectingDate,filterDate:o.props.filterDate,preSelection:o.props.preSelection,selected:o.props.selected,selectsStart:o.props.selectsStart,selectsEnd:o.props.selectsEnd,selectsRange:o.props.selectsRange,selectsDisabledDaysInRange:o.props.selectsDisabledDaysInRange,showWeekNumber:o.props.showWeekNumbers,startDate:o.props.startDate,endDate:o.props.endDate,dayClassName:o.props.dayClassName,setOpen:o.props.setOpen,shouldCloseOnSelect:o.props.shouldCloseOnSelect,disabledKeyboardNavigation:o.props.disabledKeyboardNavigation,renderDayContents:o.props.renderDayContents,handleOnKeyDown:o.props.handleOnKeyDown,isInputFocused:o.props.isInputFocused,containerRef:o.props.containerRef,calendarStartDay:o.props.calendarStartDay,monthShowsDuplicateDaysEnd:o.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:o.props.monthShowsDuplicateDaysStart},_)),!$l;){_++,Rl=addWeeks(Rl,1);var Ml=g&&_>=6,Ul=!g&&!o.isWeekInMonth(Rl);if(Ml||Ul){if(!o.props.peekNextMonth)break;$l=!0}}return h}),de(ye(o),"onMonthClick",function(h,g){o.handleDayClick(Le(setMonth$1(o.props.day,g)),h)}),de(ye(o),"handleMonthNavigation",function(h,g){o.isDisabled(g)||o.isExcluded(g)||(o.props.setPreSelection(g),o.MONTH_REFS[h].current&&o.MONTH_REFS[h].current.focus())}),de(ye(o),"onMonthKeyDown",function(h,g){var _=h.key;if(!o.props.disabledKeyboardNavigation)switch(_){case"Enter":o.onMonthClick(h,g),o.props.setPreSelection(o.props.selected);break;case"ArrowRight":o.handleMonthNavigation(g===11?0:g+1,addMonths$1(o.props.preSelection,1));break;case"ArrowLeft":o.handleMonthNavigation(g===0?11:g-1,subMonths(o.props.preSelection,1))}}),de(ye(o),"onQuarterClick",function(h,g){o.handleDayClick(Fe(setQuarter(o.props.day,g)),h)}),de(ye(o),"getMonthClassNames",function(h){var g=o.props,_=g.day,$l=g.startDate,Rl=g.endDate,Ml=g.selected,Ul=g.minDate,Fl=g.maxDate,Ll=g.preSelection,Bl=g.monthClassName,zl=Bl?Bl(_):void 0;return r$1("react-datepicker__month-text","react-datepicker__month-".concat(h),zl,{"react-datepicker__month--disabled":(Ul||Fl)&&Ze(setMonth$1(_,h),o.props),"react-datepicker__month--selected":o.isSelectedMonth(_,h,Ml),"react-datepicker__month-text--keyboard-selected":getMonth(Ll)===h,"react-datepicker__month--in-range":et($l,Rl,h,_),"react-datepicker__month--range-start":o.isRangeStartMonth(h),"react-datepicker__month--range-end":o.isRangeEndMonth(h),"react-datepicker__month-text--today":o.isCurrentMonth(_,h)})}),de(ye(o),"getTabIndex",function(h){var g=getMonth(o.props.preSelection);return o.props.disabledKeyboardNavigation||h!==g?"-1":"0"}),de(ye(o),"getAriaLabel",function(h){var g=o.props,_=g.chooseDayAriaLabelPrefix,$l=_===void 0?"Choose":_,Rl=g.disabledDayAriaLabelPrefix,Ml=Rl===void 0?"Not available":Rl,Ul=g.day,Fl=setMonth$1(Ul,h),Ll=o.isDisabled(Fl)||o.isExcluded(Fl)?Ml:$l;return"".concat(Ll," ").concat(Ee(Fl,"MMMM yyyy"))}),de(ye(o),"getQuarterClassNames",function(h){var g=o.props,_=g.day,$l=g.startDate,Rl=g.endDate,Ml=g.selected,Ul=g.minDate,Fl=g.maxDate;return r$1("react-datepicker__quarter-text","react-datepicker__quarter-".concat(h),{"react-datepicker__quarter--disabled":(Ul||Fl)&&tt(setQuarter(_,h),o.props),"react-datepicker__quarter--selected":o.isSelectedQuarter(_,h,Ml),"react-datepicker__quarter--in-range":nt($l,Rl,h,_),"react-datepicker__quarter--range-start":o.isRangeStartQuarter(h),"react-datepicker__quarter--range-end":o.isRangeEndQuarter(h)})}),de(ye(o),"renderMonths",function(){var h=o.props,g=h.showFullMonthYearPicker,_=h.showTwoColumnMonthYearPicker,$l=h.showFourColumnMonthYearPicker,Rl=h.locale,Ml=h.day,Ul=h.selected;return($l?[[0,1,2,3],[4,5,6,7],[8,9,10,11]]:_?[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]]:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]]).map(function(Fl,Ll){return jsx("div",{className:"react-datepicker__month-wrapper",children:Fl.map(function(Bl,zl){return jsx("div",{ref:o.MONTH_REFS[Bl],onClick:function(Hl){o.onMonthClick(Hl,Bl)},onKeyDown:function(Hl){o.onMonthKeyDown(Hl,Bl)},tabIndex:o.getTabIndex(Bl),className:o.getMonthClassNames(Bl),role:"option","aria-label":o.getAriaLabel(Bl),"aria-current":o.isCurrentMonth(Ml,Bl)?"date":void 0,"aria-selected":o.isSelectedMonth(Ml,Bl,Ul),children:g?$e(Bl,Rl):ze(Bl,Rl)},zl)})},Ll)})}),de(ye(o),"renderQuarters",function(){var h=o.props,g=h.day,_=h.selected;return jsx("div",{className:"react-datepicker__quarter-wrapper",children:[1,2,3,4].map(function($l,Rl){return jsx("div",{role:"option",onClick:function(Ml){o.onQuarterClick(Ml,$l)},className:o.getQuarterClassNames($l),"aria-selected":o.isSelectedQuarter(g,$l,_),children:Ge($l,o.props.locale)},Rl)})})}),de(ye(o),"getClassNames",function(){var h=o.props;h.day;var g=h.selectingDate,_=h.selectsStart,$l=h.selectsEnd,Rl=h.showMonthYearPicker,Ml=h.showQuarterYearPicker;return r$1("react-datepicker__month",{"react-datepicker__month--selecting-range":g&&(_||$l)},{"react-datepicker__monthPicker":Rl},{"react-datepicker__quarterPicker":Ml})}),o}return le(s,[{key:"render",value:function(){var o=this.props,a=o.showMonthYearPicker,c=o.showQuarterYearPicker,d=o.day,h=o.ariaLabelPrefix,g=h===void 0?"month ":h;return jsx("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(g," ").concat(Ee(d,"yyyy-MM")),role:"listbox",children:a?this.renderMonths():c?this.renderQuarters():this.renderWeeks()})}}]),s}(),xt=function(i){he(s,React$6.Component);var e=De(s);function s(){var o;pe(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return de(ye(o=e.call.apply(e,[this].concat(c))),"state",{height:null}),de(ye(o),"handleClick",function(h){(o.props.minTime||o.props.maxTime)&&it(h,o.props)||(o.props.excludeTimes||o.props.includeTimes||o.props.filterTime)&&st(h,o.props)||o.props.onChange(h)}),de(ye(o),"isSelectedTime",function(h,g,_){return o.props.selected&&g===getHours(h)&&_===getMinutes(h)}),de(ye(o),"liClasses",function(h,g,_){var $l=["react-datepicker__time-list-item",o.props.timeClassName?o.props.timeClassName(h,g,_):void 0];return o.isSelectedTime(h,g,_)&&$l.push("react-datepicker__time-list-item--selected"),((o.props.minTime||o.props.maxTime)&&it(h,o.props)||(o.props.excludeTimes||o.props.includeTimes||o.props.filterTime)&&st(h,o.props))&&$l.push("react-datepicker__time-list-item--disabled"),o.props.injectTimes&&(60*getHours(h)+getMinutes(h))%o.props.intervals!=0&&$l.push("react-datepicker__time-list-item--injected"),$l.join(" ")}),de(ye(o),"handleOnKeyDown",function(h,g){h.key===" "&&(h.preventDefault(),h.key="Enter"),h.key==="Enter"&&o.handleClick(g),o.props.handleOnKeyDown(h)}),de(ye(o),"renderTimes",function(){for(var h=[],g=o.props.format?o.props.format:"p",_=o.props.intervals,$l=Ie(_e(o.props.selected)),Rl=1440/_,Ml=o.props.injectTimes&&o.props.injectTimes.sort(function(Yl,Xl){return Yl-Xl}),Ul=o.props.selected||o.props.openToDate||_e(),Fl=getHours(Ul),Ll=getMinutes(Ul),Bl=setHours(setMinutes($l,Ll),Fl),zl=0;zl<Rl;zl++){var Hl=addMinutes($l,zl*_);if(h.push(Hl),Ml){var Wl=ft($l,Hl,zl,_,Ml);h=h.concat(Wl)}}return h.map(function(Yl,Xl){return jsx("li",{onClick:o.handleClick.bind(ye(o),Yl),className:o.liClasses(Yl,Fl,Ll),ref:function(Gl){(isBefore$1(Yl,Bl)||je(Yl,Bl))&&(o.centerLi=Gl)},onKeyDown:function(Gl){o.handleOnKeyDown(Gl,Yl)},tabIndex:"0","aria-selected":o.isSelectedTime(Yl,Fl,Ll)?"true":void 0,children:Ee(Yl,g,o.props.locale)},Xl)})}),o}return le(s,[{key:"componentDidMount",value:function(){this.list.scrollTop=s.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var o=this,a=this.state.height;return jsxs("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":""),children:[jsx("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(c){o.header=c},children:jsx("div",{className:"react-datepicker-time__header",children:this.props.timeCaption})}),jsx("div",{className:"react-datepicker__time",children:jsx("div",{className:"react-datepicker__time-box",children:jsx("ul",{className:"react-datepicker__time-list",ref:function(c){o.list=c},style:a?{height:a}:{},tabIndex:"0",children:this.renderTimes()})})})]})}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),s}();de(xt,"calcCenterPosition",function(i,e){return e.offsetTop-(i/2-e.clientHeight/2)});var Yt=function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),de(ye(a=e.call(this,o)),"YEAR_REFS",we(Array(a.props.yearItemNumber)).map(function(){return React$6.createRef()})),de(ye(a),"isDisabled",function(c){return Je(c,a.props)}),de(ye(a),"isExcluded",function(c){return Xe(c,a.props)}),de(ye(a),"updateFocusOnPaginate",function(c){var d=function(){this.YEAR_REFS[c].current.focus()}.bind(ye(a));window.requestAnimationFrame(d)}),de(ye(a),"handleYearClick",function(c,d){a.props.onDayClick&&a.props.onDayClick(c,d)}),de(ye(a),"handleYearNavigation",function(c,d){var h=a.props,g=h.date,_=h.yearItemNumber,$l=vt(g,_).startPeriod;a.isDisabled(d)||a.isExcluded(d)||(a.props.setPreSelection(d),c-$l==-1?a.updateFocusOnPaginate(_-1):c-$l===_?a.updateFocusOnPaginate(0):a.YEAR_REFS[c-$l].current.focus())}),de(ye(a),"isSameDay",function(c,d){return We(c,d)}),de(ye(a),"isCurrentYear",function(c){return c===getYear(_e())}),de(ye(a),"isKeyboardSelected",function(c){var d=Re(setYear(a.props.date,c));return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!We(d,Re(a.props.selected))&&We(d,Re(a.props.preSelection))}),de(ye(a),"onYearClick",function(c,d){var h=a.props.date;a.handleYearClick(Re(setYear(h,d)),c)}),de(ye(a),"onYearKeyDown",function(c,d){var h=c.key;if(!a.props.disabledKeyboardNavigation)switch(h){case"Enter":a.onYearClick(c,d),a.props.setPreSelection(a.props.selected);break;case"ArrowRight":a.handleYearNavigation(d+1,addYears(a.props.preSelection,1));break;case"ArrowLeft":a.handleYearNavigation(d-1,subYears(a.props.preSelection,1))}}),de(ye(a),"getYearClassNames",function(c){var d=a.props,h=d.minDate,g=d.maxDate,_=d.selected;return r$1("react-datepicker__year-text",{"react-datepicker__year-text--selected":c===getYear(_),"react-datepicker__year-text--disabled":(h||g)&&rt(c,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(c),"react-datepicker__year-text--today":a.isCurrentYear(c)})}),de(ye(a),"getYearTabIndex",function(c){return a.props.disabledKeyboardNavigation?"-1":c===getYear(a.props.preSelection)?"0":"-1"}),a}return le(s,[{key:"render",value:function(){for(var o=this,a=[],c=this.props,d=vt(c.date,c.yearItemNumber),h=d.startPeriod,g=d.endPeriod,_=function(Rl){a.push(jsx("div",{ref:o.YEAR_REFS[Rl-h],onClick:function(Ml){o.onYearClick(Ml,Rl)},onKeyDown:function(Ml){o.onYearKeyDown(Ml,Rl)},tabIndex:o.getYearTabIndex(Rl),className:o.getYearClassNames(Rl),"aria-current":o.isCurrentYear(Rl)?"date":void 0,children:Rl},Rl))},$l=h;$l<=g;$l++)_($l);return jsx("div",{className:"react-datepicker__year",children:jsx("div",{className:"react-datepicker__year-wrapper",children:a})})}}]),s}(),Ot=function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),de(ye(a=e.call(this,o)),"onTimeChange",function(c){a.setState({time:c});var d=new Date;d.setHours(c.split(":")[0]),d.setMinutes(c.split(":")[1]),a.props.onChange(d)}),de(ye(a),"renderTimeInput",function(){var c=a.state.time,d=a.props,h=d.date,g=d.timeString,_=d.customTimeInput;return _?React$6.cloneElement(_,{date:h,value:c,onChange:a.onTimeChange}):jsx("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:c,onChange:function($l){a.onTimeChange($l.target.value||g)}})}),a.state={time:a.props.timeString},a}return le(s,[{key:"render",value:function(){return jsxs("div",{className:"react-datepicker__input-time-container",children:[jsx("div",{className:"react-datepicker-time__caption",children:this.props.timeInputLabel}),jsx("div",{className:"react-datepicker-time__input-container",children:jsx("div",{className:"react-datepicker-time__input",children:this.renderTimeInput()})})]})}}],[{key:"getDerivedStateFromProps",value:function(o,a){return o.timeString!==a.time?{time:o.timeString}:null}}]),s}();function It(i){var e=i.className,s=i.children,o=i.showPopperArrow,a=i.arrowProps,c=a===void 0?{}:a;return jsxs("div",{className:e,children:[o&&jsx("div",{...ue({className:"react-datepicker__triangle"},c)}),s]})}var Tt=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Lt=function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),de(ye(a=e.call(this,o)),"handleClickOutside",function(c){a.props.onClickOutside(c)}),de(ye(a),"setClickOutsideRef",function(){return a.containerRef.current}),de(ye(a),"handleDropdownFocus",function(c){(function(){var d=((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).className||"").split(/\s+/);return Tt.some(function(h){return d.indexOf(h)>=0})})(c.target)&&a.props.onDropdownFocus()}),de(ye(a),"getDateInView",function(){var c=a.props,d=c.preSelection,h=c.selected,g=c.openToDate,_=ut(a.props),$l=ht(a.props),Rl=_e(),Ml=g||h||d;return Ml||(_&&isBefore$1(Rl,_)?_:$l&&isAfter$1(Rl,$l)?$l:Rl)}),de(ye(a),"increaseMonth",function(){a.setState(function(c){var d=c.date;return{date:addMonths$1(d,1)}},function(){return a.handleMonthChange(a.state.date)})}),de(ye(a),"decreaseMonth",function(){a.setState(function(c){var d=c.date;return{date:subMonths(d,1)}},function(){return a.handleMonthChange(a.state.date)})}),de(ye(a),"handleDayClick",function(c,d,h){a.props.onSelect(c,d,h),a.props.setPreSelection&&a.props.setPreSelection(c)}),de(ye(a),"handleDayMouseEnter",function(c){a.setState({selectingDate:c}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(c)}),de(ye(a),"handleMonthMouseLeave",function(){a.setState({selectingDate:null}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()}),de(ye(a),"handleYearChange",function(c){a.props.onYearChange&&a.props.onYearChange(c),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(c),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(c)}),de(ye(a),"handleMonthChange",function(c){a.props.onMonthChange&&a.props.onMonthChange(c),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(c),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(c)}),de(ye(a),"handleMonthYearChange",function(c){a.handleYearChange(c),a.handleMonthChange(c)}),de(ye(a),"changeYear",function(c){a.setState(function(d){var h=d.date;return{date:setYear(h,c)}},function(){return a.handleYearChange(a.state.date)})}),de(ye(a),"changeMonth",function(c){a.setState(function(d){var h=d.date;return{date:setMonth$1(h,c)}},function(){return a.handleMonthChange(a.state.date)})}),de(ye(a),"changeMonthYear",function(c){a.setState(function(d){var h=d.date;return{date:setYear(setMonth$1(h,getMonth(c)),getYear(c))}},function(){return a.handleMonthYearChange(a.state.date)})}),de(ye(a),"header",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.state.date,d=Te(c,a.props.locale,a.props.calendarStartDay),h=[];return a.props.showWeekNumbers&&h.push(jsx("div",{className:"react-datepicker__day-name",children:a.props.weekLabel||"#"},"W")),h.concat([0,1,2,3,4,5,6].map(function(g){var _=addDays(d,g),$l=a.formatWeekday(_,a.props.locale),Rl=a.props.weekDayClassName?a.props.weekDayClassName(_):void 0;return jsx("div",{className:r$1("react-datepicker__day-name",Rl),children:$l},g)}))}),de(ye(a),"formatWeekday",function(c,d){return a.props.formatWeekDay?function(h,g,_){return g(Ee(h,"EEEE",_))}(c,a.props.formatWeekDay,d):a.props.useWeekdaysShort?function(h,g){return Ee(h,"EEE",g)}(c,d):function(h,g){return Ee(h,"EEEEEE",g)}(c,d)}),de(ye(a),"decreaseYear",function(){a.setState(function(c){var d=c.date;return{date:subYears(d,a.props.showYearPicker?a.props.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})}),de(ye(a),"renderPreviousButton",function(){if(!a.props.renderCustomHeader){var c;switch(!0){case a.props.showMonthYearPicker:c=lt$1(a.state.date,a.props);break;case a.props.showYearPicker:c=function(zl){var Hl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wl=Hl.minDate,Yl=Hl.yearItemNumber,Xl=Yl===void 0?12:Yl,Gl=vt(Re(subYears(zl,Xl)),Xl).endPeriod,_d=Wl&&getYear(Wl);return _d&&_d>Gl||!1}(a.state.date,a.props);break;default:c=pt(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!c)&&!a.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(h=a.decreaseYear),c&&a.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),h=null);var g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,_=a.props,$l=_.previousMonthButtonLabel,Rl=_.previousYearButtonLabel,Ml=a.props,Ul=Ml.previousMonthAriaLabel,Fl=Ul===void 0?typeof $l=="string"?$l:"Previous Month":Ul,Ll=Ml.previousYearAriaLabel,Bl=Ll===void 0?typeof Rl=="string"?Rl:"Previous Year":Ll;return jsx("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:a.props.handleOnKeyDown,"aria-label":g?Bl:Fl,children:jsx("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" "),children:g?a.props.previousYearButtonLabel:a.props.previousMonthButtonLabel})})}}}),de(ye(a),"increaseYear",function(){a.setState(function(c){var d=c.date;return{date:addYears(d,a.props.showYearPicker?a.props.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})}),de(ye(a),"renderNextButton",function(){if(!a.props.renderCustomHeader){var c;switch(!0){case a.props.showMonthYearPicker:c=dt(a.state.date,a.props);break;case a.props.showYearPicker:c=function(zl){var Hl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wl=Hl.maxDate,Yl=Hl.yearItemNumber,Xl=Yl===void 0?12:Yl,Gl=vt(addYears(zl,Xl),Xl).startPeriod,_d=Wl&&getYear(Wl);return _d&&_d<Gl||!1}(a.state.date,a.props);break;default:c=ct(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!c)&&!a.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var h=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(h=a.increaseYear),c&&a.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),h=null);var g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,_=a.props,$l=_.nextMonthButtonLabel,Rl=_.nextYearButtonLabel,Ml=a.props,Ul=Ml.nextMonthAriaLabel,Fl=Ul===void 0?typeof $l=="string"?$l:"Next Month":Ul,Ll=Ml.nextYearAriaLabel,Bl=Ll===void 0?typeof Rl=="string"?Rl:"Next Year":Ll;return jsx("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:a.props.handleOnKeyDown,"aria-label":g?Bl:Fl,children:jsx("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" "),children:g?a.props.nextYearButtonLabel:a.props.nextMonthButtonLabel})})}}}),de(ye(a),"renderCurrentMonth",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.state.date,d=["react-datepicker__current-month"];return a.props.showYearDropdown&&d.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&d.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&d.push("react-datepicker__current-month--hasMonthYearDropdown"),jsx("div",{className:d.join(" "),children:Ee(c,a.props.dateFormat,a.props.locale)})}),de(ye(a),"renderYearDropdown",function(){var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showYearDropdown&&!c)return React$6.createElement(gt$1,{adjustDateOnChange:a.props.adjustDateOnChange,date:a.state.date,onSelect:a.props.onSelect,setOpen:a.props.setOpen,dropdownMode:a.props.dropdownMode,onChange:a.changeYear,minDate:a.props.minDate,maxDate:a.props.maxDate,year:getYear(a.state.date),scrollableYearDropdown:a.props.scrollableYearDropdown,yearDropdownItemNumber:a.props.yearDropdownItemNumber})}),de(ye(a),"renderMonthDropdown",function(){var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showMonthDropdown&&!c)return React$6.createElement(bt,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,onChange:a.changeMonth,month:getMonth(a.state.date),useShortMonthInDropdown:a.props.useShortMonthInDropdown})}),de(ye(a),"renderMonthYearDropdown",function(){var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showMonthYearDropdown&&!c)return React$6.createElement(_t,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,dateFormat:a.props.dateFormat,onChange:a.changeMonthYear,minDate:a.props.minDate,maxDate:a.props.maxDate,date:a.state.date,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown})}),de(ye(a),"renderTodayButton",function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return jsx("div",{className:"react-datepicker__today-button",onClick:function(c){return a.props.onSelect(startOfDay(_e()),c)},children:a.props.todayButton})}),de(ye(a),"renderDefaultHeader",function(c){var d=c.monthDate,h=c.i;return jsxs("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":""),children:[a.renderCurrentMonth(d),jsxs("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus,children:[a.renderMonthDropdown(h!==0),a.renderMonthYearDropdown(h!==0),a.renderYearDropdown(h!==0)]}),jsx("div",{className:"react-datepicker__day-names",children:a.header(d)})]})}),de(ye(a),"renderCustomHeader",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.monthDate,h=c.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var g=pt(a.state.date,a.props),_=ct(a.state.date,a.props),$l=lt$1(a.state.date,a.props),Rl=dt(a.state.date,a.props),Ml=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return jsxs("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus,children:[a.props.renderCustomHeader(se(se({},a.state),{},{customHeaderCount:h,monthDate:d,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:_,prevYearButtonDisabled:$l,nextYearButtonDisabled:Rl})),Ml&&jsx("div",{className:"react-datepicker__day-names",children:a.header(d)})]})}),de(ye(a),"renderYearHeader",function(){var c=a.state.date,d=a.props,h=d.showYearPicker,g=vt(c,d.yearItemNumber),_=g.startPeriod,$l=g.endPeriod;return jsx("div",{className:"react-datepicker__header react-datepicker-year-header",children:h?"".concat(_," - ").concat($l):getYear(c)})}),de(ye(a),"renderHeader",function(c){switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(c);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(c);default:return a.renderDefaultHeader(c)}}),de(ye(a),"renderMonths",function(){if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var c=[],d=a.props.showPreviousMonths?a.props.monthsShown-1:0,h=subMonths(a.state.date,d),g=0;g<a.props.monthsShown;++g){var _=g-a.props.monthSelectedIn,$l=addMonths$1(h,_),Rl="month-".concat(g),Ml=g<a.props.monthsShown-1,Ul=g>0;c.push(jsxs("div",{ref:function(Fl){a.monthContainer=Fl},className:"react-datepicker__month-container",children:[a.renderHeader({monthDate:$l,i:g}),jsx(Nt,{chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,ariaLabelPrefix:a.props.monthAriaLabelPrefix,onChange:a.changeMonthYear,day:$l,dayClassName:a.props.dayClassName,calendarStartDay:a.props.calendarStartDay,monthClassName:a.props.monthClassName,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,onWeekSelect:a.props.onWeekSelect,orderInDisplay:g,formatWeekNumber:a.props.formatWeekNumber,locale:a.props.locale,minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,highlightDates:a.props.highlightDates,selectingDate:a.state.selectingDate,includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,inline:a.props.inline,shouldFocusDayInline:a.props.shouldFocusDayInline,fixedHeight:a.props.fixedHeight,filterDate:a.props.filterDate,preSelection:a.props.preSelection,setPreSelection:a.props.setPreSelection,selected:a.props.selected,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showWeekNumbers:a.props.showWeekNumbers,startDate:a.props.startDate,endDate:a.props.endDate,peekNextMonth:a.props.peekNextMonth,setOpen:a.props.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,renderDayContents:a.props.renderDayContents,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,isInputFocused:a.props.isInputFocused,containerRef:a.containerRef,monthShowsDuplicateDaysEnd:Ml,monthShowsDuplicateDaysStart:Ul})]},Rl))}return c}}),de(ye(a),"renderYears",function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?jsxs("div",{className:"react-datepicker__year--container",children:[a.renderHeader(),jsx(Yt,{...ue({onDayClick:a.handleDayClick,date:a.state.date},a.props)})]}):void 0}),de(ye(a),"renderTimeSection",function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return React$6.createElement(xt,{selected:a.props.selected,openToDate:a.props.openToDate,onChange:a.props.onTimeChange,timeClassName:a.props.timeClassName,format:a.props.timeFormat,includeTimes:a.props.includeTimes,intervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,todayButton:a.props.todayButton,showMonthDropdown:a.props.showMonthDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,monthRef:a.state.monthContainer,injectTimes:a.props.injectTimes,locale:a.props.locale,handleOnKeyDown:a.props.handleOnKeyDown,showTimeSelectOnly:a.props.showTimeSelectOnly})}),de(ye(a),"renderInputTimeSection",function(){var c=new Date(a.props.selected),d=Pe(c)&&Boolean(a.props.selected)?"".concat(yt(c.getHours()),":").concat(yt(c.getMinutes())):"";if(a.props.showTimeInput)return jsx(Ot,{date:c,timeString:d,timeInputLabel:a.props.timeInputLabel,onChange:a.props.onTimeChange,customTimeInput:a.props.customTimeInput})}),a.containerRef=React$6.createRef(),a.state={date:a.getDateInView(),selectingDate:null,monthContainer:null},a}return le(s,[{key:"componentDidMount",value:function(){var o=this;this.props.showTimeSelect&&(this.assignMonthContainer=void o.setState({monthContainer:o.monthContainer}))}},{key:"componentDidUpdate",value:function(o){this.props.preSelection&&!We(this.props.preSelection,o.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!We(this.props.openToDate,o.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var o=this.props.container||It;return React$6.createElement("div",{ref:this.containerRef},React$6.createElement(o,{className:r$1("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:12}}}]),s}(),Rt=function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),(a=e.call(this,o)).el=document.createElement("div"),a}return le(s,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ReactDOM.createPortal(this.props.children,this.el)}}]),s}(),Ft=function(i){return!i.disabled&&i.tabIndex!==-1},At=function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),de(ye(a=e.call(this,o)),"getTabChildren",function(){return Array.prototype.slice.call(a.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Ft)}),de(ye(a),"handleFocusStart",function(c){var d=a.getTabChildren();d&&d.length>1&&d[d.length-1].focus()}),de(ye(a),"handleFocusEnd",function(c){var d=a.getTabChildren();d&&d.length>1&&d[0].focus()}),a.tabLoopRef=React$6.createRef(),a}return le(s,[{key:"render",value:function(){return this.props.enableTabLoop?jsxs("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef,children:[jsx("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,jsx("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})]}):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),s}(),Bt=function(i){he(s,React$6.Component);var e=De(s);function s(){return pe(this,s),e.apply(this,arguments)}return le(s,[{key:"render",value:function(){var o,a=this.props,c=a.className,d=a.wrapperClassName,h=a.hidePopper,g=a.popperComponent,_=a.popperModifiers,$l=a.popperPlacement,Rl=a.popperProps,Ml=a.targetComponent,Ul=a.enableTabLoop,Fl=a.popperOnKeyDown,Ll=a.portalId,Bl=a.portalHost;if(!h){var zl=r$1("react-datepicker-popper",c);o=React$6.createElement(Popper,ue({modifiers:_,placement:$l},Rl),function(Wl){var Yl=Wl.ref,Xl=Wl.style,Gl=Wl.placement,_d=Wl.arrowProps;return jsx(At,{enableTabLoop:Ul,children:jsx("div",{ref:Yl,style:Xl,className:zl,"data-placement":Gl,onKeyDown:Fl,children:React$6.cloneElement(g,{arrowProps:_d})})})})}this.props.popperContainer&&(o=React$6.createElement(this.props.popperContainer,{},o)),Ll&&!h&&(o=jsx(Rt,{portalId:Ll,portalHost:Bl,children:o}));var Hl=r$1("react-datepicker-wrapper",d);return React$6.createElement(Manager,{className:"react-datepicker-manager"},React$6.createElement(Reference,null,function(Wl){var Yl=Wl.ref;return jsx("div",{ref:Yl,className:Hl,children:Ml})}),o)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),s}(),Kt=onClickOutsideHOC(Lt),Wt=function(i){he(s,React$6.Component);var e=De(s);function s(o){var a;return pe(this,s),de(ye(a=e.call(this,o)),"getPreSelection",function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:_e()}),de(ye(a),"calcInitialState",function(){var c,d=a.getPreSelection(),h=ut(a.props),g=ht(a.props),_=h&&isBefore$1(d,startOfDay(h))?h:g&&isAfter$1(d,endOfDay(g))?g:d;return{open:a.props.startOpen||!1,preventFocus:!1,preSelection:(c=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&c!==void 0?c:_,highlightDates:mt(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1}}),de(ye(a),"clearPreventFocusTimeout",function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)}),de(ye(a),"setFocus",function(){a.input&&a.input.focus&&a.input.focus({preventScroll:!0})}),de(ye(a),"setBlur",function(){a.input&&a.input.blur&&a.input.blur(),a.cancelFocusInput()}),de(ye(a),"setOpen",function(c){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a.setState({open:c,preSelection:c&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Ht},function(){c||a.setState(function(h){return{focused:!!d&&h.focused}},function(){!d&&a.setBlur(),a.setState({inputValue:null})})})}),de(ye(a),"inputOk",function(){return isDate$1(a.state.preSelection)}),de(ye(a),"isCalendarOpen",function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open}),de(ye(a),"handleFocus",function(c){a.state.preventFocus||(a.props.onFocus(c),a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})}),de(ye(a),"cancelFocusInput",function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=null}),de(ye(a),"deferFocusInput",function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)}),de(ye(a),"handleDropdownFocus",function(){a.cancelFocusInput()}),de(ye(a),"handleBlur",function(c){(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&a.props.onBlur(c),a.setState({focused:!1})}),de(ye(a),"handleCalendarClickOutside",function(c){a.props.inline||a.setOpen(!1),a.props.onClickOutside(c),a.props.withPortal&&c.preventDefault()}),de(ye(a),"handleChange",function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var g=d[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(ye(a),d),typeof g.isDefaultPrevented=="function"&&!g.isDefaultPrevented())){a.setState({inputValue:g.target.value,lastPreSelectChange:jt});var _=Me(g.target.value,a.props.dateFormat,a.props.locale,a.props.strictParsing,a.props.minDate);!_&&g.target.value||a.setSelected(_,g,!0)}}),de(ye(a),"handleSelect",function(c,d,h){if(a.setState({preventFocus:!0},function(){return a.preventFocusTimeout=setTimeout(function(){return a.setState({preventFocus:!1})},50),a.preventFocusTimeout}),a.props.onChangeRaw&&a.props.onChangeRaw(d),a.setSelected(c,d,!1,h),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(c);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var g=a.props,_=g.startDate,$l=g.endDate;!_||$l||isBefore$1(c,_)||a.setOpen(!1)}}),de(ye(a),"setSelected",function(c,d,h,g){var _=c;if(_===null||!Je(_,a.props)){var $l=a.props,Rl=$l.onChange,Ml=$l.selectsRange,Ul=$l.startDate,Fl=$l.endDate;if(!je(a.props.selected,_)||a.props.allowSameDay||Ml)if(_!==null&&(!a.props.selected||h&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(_=xe(_,{hour:getHours(a.props.selected),minute:getMinutes(a.props.selected),second:getSeconds(a.props.selected)})),a.props.inline||a.setState({preSelection:_}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:g})),Ml){var Ll=Ul&&!Fl,Bl=Ul&&Fl;!Ul&&!Fl?Rl([_,null],d):Ll&&(isBefore$1(_,Ul)?Rl([_,null],d):Rl([Ul,_],d)),Bl&&Rl([_,null],d)}else Rl(_,d);h||(a.props.onSelect(_,d),a.setState({inputValue:null}))}}),de(ye(a),"setPreSelection",function(c){var d=a.props.minDate!==void 0,h=a.props.maxDate!==void 0,g=!0;if(c){var _=startOfDay(c);if(d&&h)g=He(c,a.props.minDate,a.props.maxDate);else if(d){var $l=startOfDay(a.props.minDate);g=isAfter$1(c,$l)||je(_,$l)}else if(h){var Rl=endOfDay(a.props.maxDate);g=isBefore$1(c,Rl)||je(_,Rl)}}g&&a.setState({preSelection:c})}),de(ye(a),"handleTimeChange",function(c){var d=xe(a.props.selected?a.props.selected:a.getPreSelection(),{hour:getHours(c),minute:getMinutes(c)});a.setState({preSelection:d}),a.props.onChange(d),a.props.shouldCloseOnSelect&&a.setOpen(!1),a.props.showTimeInput&&a.setOpen(!0),a.setState({inputValue:null})}),de(ye(a),"onInputClick",function(){a.props.disabled||a.props.readOnly||a.setOpen(!0),a.props.onInputClick()}),de(ye(a),"onInputKeyDown",function(c){a.props.onKeyDown(c);var d=c.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if(d==="ArrowDown"||d==="ArrowUp"){c.preventDefault();var h=a.calendar.componentNode&&a.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(h&&h.focus({preventScroll:!0}))}var g=_e(a.state.preSelection);d==="Enter"?(c.preventDefault(),a.inputOk()&&a.state.lastPreSelectChange===Ht?(a.handleSelect(g,c),!a.props.shouldCloseOnSelect&&a.setPreSelection(g)):a.setOpen(!1)):d==="Escape"&&(c.preventDefault(),a.setOpen(!1)),a.inputOk()||a.props.onInputError({code:1,msg:"Date input not valid."})}}else d!=="ArrowDown"&&d!=="ArrowUp"&&d!=="Enter"||a.onInputClick()}),de(ye(a),"onDayKeyDown",function(c){a.props.onKeyDown(c);var d=c.key,h=_e(a.state.preSelection);if(d==="Enter")c.preventDefault(),a.handleSelect(h,c),!a.props.shouldCloseOnSelect&&a.setPreSelection(h);else if(d==="Escape")c.preventDefault(),a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:"Date input not valid."});else if(!a.props.disabledKeyboardNavigation){var g;switch(d){case"ArrowLeft":g=subDays(h,1);break;case"ArrowRight":g=addDays(h,1);break;case"ArrowUp":g=subWeeks(h,1);break;case"ArrowDown":g=addWeeks(h,1);break;case"PageUp":g=subMonths(h,1);break;case"PageDown":g=addMonths$1(h,1);break;case"Home":g=subYears(h,1);break;case"End":g=addYears(h,1)}if(!g)return void(a.props.onInputError&&a.props.onInputError({code:1,msg:"Date input not valid."}));if(c.preventDefault(),a.setState({lastPreSelectChange:Ht}),a.props.adjustDateOnChange&&a.setSelected(g),a.setPreSelection(g),a.props.inline){var _=getMonth(h),$l=getMonth(g),Rl=getYear(h),Ml=getYear(g);_!==$l||Rl!==Ml?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}}),de(ye(a),"onPopperKeyDown",function(c){c.key==="Escape"&&(c.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))}),de(ye(a),"onClearClick",function(c){c&&c.preventDefault&&c.preventDefault(),a.props.selectsRange?a.props.onChange([null,null],c):a.props.onChange(null,c),a.setState({inputValue:null})}),de(ye(a),"clear",function(){a.onClearClick()}),de(ye(a),"onScroll",function(c){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?c.target!==document&&c.target!==document.documentElement&&c.target!==document.body||a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(c)&&a.setOpen(!1)}),de(ye(a),"renderCalendar",function(){return a.props.inline||a.isCalendarOpen()?jsx(Kt,{ref:function(c){a.calendar=c},locale:a.props.locale,calendarStartDay:a.props.calendarStartDay,chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,monthAriaLabelPrefix:a.props.monthAriaLabelPrefix,adjustDateOnChange:a.props.adjustDateOnChange,setOpen:a.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,dateFormat:a.props.dateFormatCalendar,useWeekdaysShort:a.props.useWeekdaysShort,formatWeekDay:a.props.formatWeekDay,dropdownMode:a.props.dropdownMode,selected:a.props.selected,preSelection:a.state.preSelection,onSelect:a.handleSelect,onWeekSelect:a.props.onWeekSelect,openToDate:a.props.openToDate,minDate:a.props.minDate,maxDate:a.props.maxDate,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,startDate:a.props.startDate,endDate:a.props.endDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,filterDate:a.props.filterDate,onClickOutside:a.handleCalendarClickOutside,formatWeekNumber:a.props.formatWeekNumber,highlightDates:a.state.highlightDates,includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,includeTimes:a.props.includeTimes,injectTimes:a.props.injectTimes,inline:a.props.inline,shouldFocusDayInline:a.state.shouldFocusDayInline,peekNextMonth:a.props.peekNextMonth,showMonthDropdown:a.props.showMonthDropdown,showPreviousMonths:a.props.showPreviousMonths,useShortMonthInDropdown:a.props.useShortMonthInDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showWeekNumbers:a.props.showWeekNumbers,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,forceShowMonthNavigation:a.props.forceShowMonthNavigation,showDisabledMonthNavigation:a.props.showDisabledMonthNavigation,scrollableYearDropdown:a.props.scrollableYearDropdown,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown,todayButton:a.props.todayButton,weekLabel:a.props.weekLabel,outsideClickIgnoreClass:"react-datepicker-ignore-onclickoutside",fixedHeight:a.props.fixedHeight,monthsShown:a.props.monthsShown,monthSelectedIn:a.state.monthSelectedIn,onDropdownFocus:a.handleDropdownFocus,onMonthChange:a.props.onMonthChange,onYearChange:a.props.onYearChange,dayClassName:a.props.dayClassName,weekDayClassName:a.props.weekDayClassName,monthClassName:a.props.monthClassName,timeClassName:a.props.timeClassName,showTimeSelect:a.props.showTimeSelect,showTimeSelectOnly:a.props.showTimeSelectOnly,onTimeChange:a.handleTimeChange,timeFormat:a.props.timeFormat,timeIntervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,className:a.props.calendarClassName,container:a.props.calendarContainer,yearItemNumber:a.props.yearItemNumber,yearDropdownItemNumber:a.props.yearDropdownItemNumber,previousMonthAriaLabel:a.props.previousMonthAriaLabel,previousMonthButtonLabel:a.props.previousMonthButtonLabel,nextMonthAriaLabel:a.props.nextMonthAriaLabel,nextMonthButtonLabel:a.props.nextMonthButtonLabel,previousYearAriaLabel:a.props.previousYearAriaLabel,previousYearButtonLabel:a.props.previousYearButtonLabel,nextYearAriaLabel:a.props.nextYearAriaLabel,nextYearButtonLabel:a.props.nextYearButtonLabel,timeInputLabel:a.props.timeInputLabel,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,renderCustomHeader:a.props.renderCustomHeader,popperProps:a.props.popperProps,renderDayContents:a.props.renderDayContents,onDayMouseEnter:a.props.onDayMouseEnter,onMonthMouseLeave:a.props.onMonthMouseLeave,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showTimeInput:a.props.showTimeInput,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showPopperArrow:a.props.showPopperArrow,excludeScrollbar:a.props.excludeScrollbar,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,isInputFocused:a.state.focused,customTimeInput:a.props.customTimeInput,setPreSelection:a.setPreSelection,children:a.props.children}):null}),de(ye(a),"renderDateInput",function(){var c,d=r$1(a.props.className,de({},"react-datepicker-ignore-onclickoutside",a.state.open)),h=a.props.customInput||jsx("input",{type:"text"}),g=a.props.customInputRef||"ref",_=typeof a.props.value=="string"?a.props.value:typeof a.state.inputValue=="string"?a.state.inputValue:a.props.selectsRange?function($l,Rl,Ml){if(!$l)return"";var Ul=Ne($l,Ml),Fl=Rl?Ne(Rl,Ml):"";return"".concat(Ul," - ").concat(Fl)}(a.props.startDate,a.props.endDate,a.props):Ne(a.props.selected,a.props);return React$6.cloneElement(h,(de(c={},g,function($l){a.input=$l}),de(c,"value",_),de(c,"onBlur",a.handleBlur),de(c,"onChange",a.handleChange),de(c,"onClick",a.onInputClick),de(c,"onFocus",a.handleFocus),de(c,"onKeyDown",a.onInputKeyDown),de(c,"id",a.props.id),de(c,"name",a.props.name),de(c,"autoFocus",a.props.autoFocus),de(c,"placeholder",a.props.placeholderText),de(c,"disabled",a.props.disabled),de(c,"autoComplete",a.props.autoComplete),de(c,"className",r$1(h.props.className,d)),de(c,"title",a.props.title),de(c,"readOnly",a.props.readOnly),de(c,"required",a.props.required),de(c,"tabIndex",a.props.tabIndex),de(c,"aria-describedby",a.props.ariaDescribedBy),de(c,"aria-invalid",a.props.ariaInvalid),de(c,"aria-labelledby",a.props.ariaLabelledBy),de(c,"aria-required",a.props.ariaRequired),c))}),de(ye(a),"renderClearButton",function(){var c=a.props,d=c.isClearable,h=c.selected,g=c.startDate,_=c.endDate,$l=c.clearButtonTitle,Rl=c.clearButtonClassName,Ml=Rl===void 0?"":Rl,Ul=c.ariaLabelClose,Fl=Ul===void 0?"Close":Ul;return!d||h==null&&g==null&&_==null?null:jsx("button",{type:"button",className:"react-datepicker__close-icon ".concat(Ml).trim(),"aria-label":Fl,onClick:a.onClearClick,title:$l,tabIndex:-1})}),a.state=a.calcInitialState(),a}return le(s,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(o,a){var c,d;o.inline&&(c=o.selected,d=this.props.selected,c&&d?getMonth(c)!==getMonth(d)||getYear(c)!==getYear(d):c!==d)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&o.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),o.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:mt(this.props.highlightDates)}),a.focused||je(o.selected,this.props.selected)||this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),a.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){return jsxs("div",{className:"react-datepicker__input-container",children:[this.renderDateInput(),this.renderClearButton()]})}},{key:"render",value:function(){var o=this.renderCalendar();if(this.props.inline)return o;if(this.props.withPortal){var a=this.state.open?jsx("div",{className:"react-datepicker__portal",children:o}):null;return this.state.open&&this.props.portalId&&(a=jsx(Rt,{portalId:this.props.portalId,portalHost:this.props.portalHost,children:a})),jsxs("div",{children:[this.renderInputContainer(),a]})}return jsx(Bt,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:o,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,renderDayContents:function(o){return o},focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0}}}]),s}(),jt="input",Ht="navigate";const reactDatepicker="";function _typeof(i){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(i)}function _toPrimitive(i,e){if(_typeof(i)!=="object"||i===null)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var o=s.call(i,e||"default");if(_typeof(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function _toPropertyKey(i){var e=_toPrimitive(i,"string");return _typeof(e)==="symbol"?e:String(e)}function _defineProperty(i,e,s){return e=_toPropertyKey(e),e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}function ownKeys$3(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread2(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(s),!0).forEach(function(o){_defineProperty(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys$3(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}function _objectWithoutPropertiesLoose(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function _objectWithoutProperties(i,e){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,e),o,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)o=c[a],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,o)||(s[o]=i[o]))}return s}function _classCallCheck$2(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,_toPropertyKey(o.key),o)}}function _createClass$1(i,e,s){return e&&_defineProperties(i.prototype,e),s&&_defineProperties(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function _setPrototypeOf(i,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,e)}function _inherits$1(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&_setPrototypeOf(i,e)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(i)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn$1(i,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _createSuper(i){var e=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(i),a;if(e){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn$1(this,a)}}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$1.apply(this,arguments)}var invariant$1=function(i,e,s,o,a,c,d,h){if(!i){var g;if(e===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[s,o,a,c,d,h],$l=0;g=new Error(e.replace(/%s/g,function(){return _[$l++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}},browser$1=invariant$1,noop$1=function(){};function uncontrolledPropTypes(i,e){var s={};return Object.keys(i).forEach(function(o){s[defaultKey(o)]=noop$1}),s}function isProp(i,e){return i[e]!==void 0}function defaultKey(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function canAcceptRef(i){return!!i&&(typeof i!="function"||i.prototype&&i.prototype.isReactComponent)}function _inheritsLoose(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,_setPrototypeOf(i,e)}function componentWillMount(){var i=this.constructor.getDerivedStateFromProps(this.props,this.state);i!=null&&this.setState(i)}function componentWillReceiveProps(i){function e(s){var o=this.constructor.getDerivedStateFromProps(i,s);return o!=null?o:null}this.setState(e.bind(this))}function componentWillUpdate(i,e){try{var s=this.props,o=this.state;this.props=i,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(s,o)}finally{this.props=s,this.state=o}}componentWillMount.__suppressDeprecationWarning=!0;componentWillReceiveProps.__suppressDeprecationWarning=!0;componentWillUpdate.__suppressDeprecationWarning=!0;function polyfill(i){var e=i.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof i.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return i;var s=null,o=null,a=null;if(typeof e.componentWillMount=="function"?s="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(s="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?o="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(o="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),s!==null||o!==null||a!==null){var c=i.displayName||i.name,d=typeof i.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+c+" uses "+d+" but also contains the following legacy lifecycles:"+(s!==null?`
  `+s:"")+(o!==null?`
  `+o:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof i.getDerivedStateFromProps=="function"&&(e.componentWillMount=componentWillMount,e.componentWillReceiveProps=componentWillReceiveProps),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=componentWillUpdate;var h=e.componentDidUpdate;e.componentDidUpdate=function(_,$l,Rl){var Ml=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Rl;h.call(this,_,$l,Ml)}}return i}const reactLifecyclesCompat_es=Object.freeze(Object.defineProperty({__proto__:null,polyfill},Symbol.toStringTag,{value:"Module"}));function uncontrollable(i,e,s){s===void 0&&(s=[]);var o=i.displayName||i.name||"Component",a=canAcceptRef(i),c=Object.keys(e),d=c.map(defaultKey);a||!s.length||browser$1(!1);var h=function(_){_inheritsLoose($l,_);function $l(){for(var Ml,Ul=arguments.length,Fl=new Array(Ul),Ll=0;Ll<Ul;Ll++)Fl[Ll]=arguments[Ll];Ml=_.call.apply(_,[this].concat(Fl))||this,Ml.handlers=Object.create(null),c.forEach(function(zl){var Hl=e[zl],Wl=function(Xl){if(Ml.props[Hl]){var Gl;Ml._notifying=!0;for(var _d=arguments.length,Kl=new Array(_d>1?_d-1:0),ru=1;ru<_d;ru++)Kl[ru-1]=arguments[ru];(Gl=Ml.props)[Hl].apply(Gl,[Xl].concat(Kl)),Ml._notifying=!1}Ml.unmounted||Ml.setState(function(Zl){var tp,op=Zl.values;return{values:_extends$1(Object.create(null),op,(tp={},tp[zl]=Xl,tp))}})};Ml.handlers[Hl]=Wl}),s.length&&(Ml.attachRef=function(zl){Ml.inner=zl});var Bl=Object.create(null);return c.forEach(function(zl){Bl[zl]=Ml.props[defaultKey(zl)]}),Ml.state={values:Bl,prevProps:{}},Ml}var Rl=$l.prototype;return Rl.shouldComponentUpdate=function(){return!this._notifying},$l.getDerivedStateFromProps=function(Ul,Fl){var Ll=Fl.values,Bl=Fl.prevProps,zl={values:_extends$1(Object.create(null),Ll),prevProps:{}};return c.forEach(function(Hl){zl.prevProps[Hl]=Ul[Hl],!isProp(Ul,Hl)&&isProp(Bl,Hl)&&(zl.values[Hl]=Ul[defaultKey(Hl)])}),zl},Rl.componentWillUnmount=function(){this.unmounted=!0},Rl.render=function(){var Ul=this,Fl=this.props,Ll=Fl.innerRef,Bl=_objectWithoutPropertiesLoose(Fl,["innerRef"]);d.forEach(function(Hl){delete Bl[Hl]});var zl={};return c.forEach(function(Hl){var Wl=Ul.props[Hl];zl[Hl]=Wl!==void 0?Wl:Ul.state.values[Hl]}),jsx(i,{...Bl,...zl,...this.handlers,ref:Ll||this.attachRef})},$l}(React$6.Component);polyfill(h),h.displayName="Uncontrolled("+o+")",h.propTypes=_extends$1({innerRef:function(){}},uncontrolledPropTypes(e)),s.forEach(function(_){h.prototype[_]=function(){var Rl;return(Rl=this.inner)[_].apply(Rl,arguments)}});var g=h;return React$6.forwardRef&&(g=React$6.forwardRef(function(_,$l){return jsx(h,{..._,innerRef:$l})}),g.propTypes=h.propTypes),g.ControlledComponent=i,g.deferControlTo=function(_,$l,Rl){return $l===void 0&&($l={}),uncontrollable(_,_extends$1({},e,$l),Rl)},g}function r(i){var e,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i))for(e=0;e<i.length;e++)i[e]&&(s=r(i[e]))&&(o&&(o+=" "),o+=s);else for(e in i)i[e]&&(o&&(o+=" "),o+=e);return o}function clsx(){for(var i,e,s=0,o="";s<arguments.length;)(i=arguments[s++])&&(e=r(i))&&(o&&(o+=" "),o+=e);return o}var MILI="milliseconds",SECONDS="seconds",MINUTES="minutes",HOURS="hours",DAY="day",WEEK$1="week",MONTH$1="month",YEAR$1="year",DECADE="decade",CENTURY="century",multiplierMilli={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},multiplierMonth={month:1,year:12,decade:10*12,century:100*12};function daysOf(i){return[31,daysInFeb(i),31,30,31,30,31,31,30,31,30,31]}function daysInFeb(i){return i%4===0&&i%100!==0||i%400===0?29:28}function add$2(i,e,s){switch(i=new Date(i),s){case MILI:case SECONDS:case MINUTES:case HOURS:case DAY:case WEEK$1:return addMillis(i,e*multiplierMilli[s]);case MONTH$1:case YEAR$1:case DECADE:case CENTURY:return addMonths(i,e*multiplierMonth[s])}throw new TypeError('Invalid units: "'+s+'"')}function addMillis(i,e){var s=new Date(+i+e);return solveDST(i,s)}function addMonths(i,e){var s=i.getFullYear(),o=i.getMonth(),a=i.getDate(),c=s*12+o+e,d=Math.trunc(c/12),h=c%12,g=Math.min(a,daysOf(d)[h]),_=new Date(i);return _.setFullYear(d),_.setDate(1),_.setMonth(h),_.setDate(g),_}function solveDST(i,e){var s=i.getTimezoneOffset(),o=e.getTimezoneOffset(),a=o-s;return new Date(+e+a*multiplierMilli.minutes)}function subtract$2(i,e,s){return add$2(i,-e,s)}function startOf$1(i,e,s){switch(i=new Date(i),e){case CENTURY:case DECADE:case YEAR$1:i=month(i,0);case MONTH$1:i=date(i,1);case WEEK$1:case DAY:i=hours$1(i,0);case HOURS:i=minutes$1(i,0);case MINUTES:i=seconds$1(i,0);case SECONDS:i=milliseconds$1(i,0)}return e===DECADE&&(i=subtract$2(i,year(i)%10,"year")),e===CENTURY&&(i=subtract$2(i,year(i)%100,"year")),e===WEEK$1&&(i=weekday(i,0,s)),i}function endOf$1(i,e,s){switch(i=new Date(i),i=startOf$1(i,e,s),e){case CENTURY:case DECADE:case YEAR$1:case MONTH$1:case WEEK$1:i=add$2(i,1,e),i=subtract$2(i,1,DAY),i.setHours(23,59,59,999);break;case DAY:i.setHours(23,59,59,999);break;case HOURS:case MINUTES:case SECONDS:i=add$2(i,1,e),i=subtract$2(i,1,MILI)}return i}var eq$1=createComparer(function(i,e){return i===e}),neq=createComparer(function(i,e){return i!==e}),gt=createComparer(function(i,e){return i>e}),gte=createComparer(function(i,e){return i>=e}),lt=createComparer(function(i,e){return i<e}),lte=createComparer(function(i,e){return i<=e});function min$1(){return new Date(Math.min.apply(Math,arguments))}function max$1(){return new Date(Math.max.apply(Math,arguments))}function inRange$1(i,e,s,o){return o=o||"day",(!e||gte(i,e,o))&&(!s||lte(i,s,o))}var milliseconds$1=createAccessor("Milliseconds"),seconds$1=createAccessor("Seconds"),minutes$1=createAccessor("Minutes"),hours$1=createAccessor("Hours"),day=createAccessor("Day"),date=createAccessor("Date"),month=createAccessor("Month"),year=createAccessor("FullYear");function weekday(i,e,s){var o=(day(i)+7-(s||0))%7;return e===void 0?o:add$2(i,e-o,DAY)}function createAccessor(i){var e=function(s){switch(s){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(i);return function(s,o){if(o===void 0)return s["get"+i]();var a=new Date(s);return a["set"+i](o),e&&a["get"+i]()!=o&&(i==="Hours"||o>=e&&a.getHours()-s.getHours()<Math.floor(o/e))&&a["set"+i](o+e),a}}function createComparer(i){return function(e,s,o){return i(+startOf$1(e,o),+startOf$1(s,o))}}function _arrayLikeToArray(i,e){(e==null||e>i.length)&&(e=i.length);for(var s=0,o=new Array(e);s<e;s++)o[s]=i[s];return o}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray(i)}function _iterableToArray(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _unsupportedIterableToArray(i,e){if(!!i){if(typeof i=="string")return _arrayLikeToArray(i,e);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(i,e)}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableSpread()}function baseSlice(i,e,s){var o=-1,a=i.length;e<0&&(e=-e>a?0:a+e),s=s>a?a:s,s<0&&(s+=a),a=e>s?0:s-e>>>0,e>>>=0;for(var c=Array(a);++o<a;)c[o]=i[o+e];return c}function eq(i,e){return i===e||i!==i&&e!==e}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty,nativeObjectToString$1=objectProto$g.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(i){var e=hasOwnProperty$d.call(i,symToStringTag$1),s=i[symToStringTag$1];try{i[symToStringTag$1]=void 0;var o=!0}catch{}var a=nativeObjectToString$1.call(i);return o&&(e?i[symToStringTag$1]=s:delete i[symToStringTag$1]),a}var objectProto$f=Object.prototype,nativeObjectToString=objectProto$f.toString;function objectToString(i){return nativeObjectToString.call(i)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(i){return i==null?i===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(i)?getRawTag(i):objectToString(i)}function isObject$1(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(i){if(!isObject$1(i))return!1;var e=baseGetTag(i);return e==funcTag$2||e==genTag$1||e==asyncTag||e==proxyTag}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=MAX_SAFE_INTEGER$1}function isArrayLike(i){return i!=null&&isLength(i.length)&&!isFunction$2(i)}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(i,e){var s=typeof i;return e=e==null?MAX_SAFE_INTEGER:e,!!e&&(s=="number"||s!="symbol"&&reIsUint.test(i))&&i>-1&&i%1==0&&i<e}function isIterateeCall(i,e,s){if(!isObject$1(s))return!1;var o=typeof e;return(o=="number"?isArrayLike(s)&&isIndex(e,s.length):o=="string"&&e in s)?eq(s[e],i):!1}var reWhitespace=/\s/;function trimmedEndIndex(i){for(var e=i.length;e--&&reWhitespace.test(i.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(i){return i&&i.slice(0,trimmedEndIndex(i)+1).replace(reTrimStart,"")}function isObjectLike(i){return i!=null&&typeof i=="object"}var symbolTag$3="[object Symbol]";function isSymbol(i){return typeof i=="symbol"||isObjectLike(i)&&baseGetTag(i)==symbolTag$3}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(i){if(typeof i=="number")return i;if(isSymbol(i))return NAN;if(isObject$1(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=isObject$1(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=baseTrim(i);var s=reIsBinary.test(i);return s||reIsOctal.test(i)?freeParseInt(i.slice(2),s?2:8):reIsBadHex.test(i)?NAN:+i}var INFINITY$2=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(i){if(!i)return i===0?i:0;if(i=toNumber(i),i===INFINITY$2||i===-INFINITY$2){var e=i<0?-1:1;return e*MAX_INTEGER}return i===i?i:0}function toInteger(i){var e=toFinite(i),s=e%1;return e===e?s?e-s:e:0}var nativeCeil$1=Math.ceil,nativeMax$3=Math.max;function chunk(i,e,s){(s?isIterateeCall(i,e,s):e===void 0)?e=1:e=nativeMax$3(toInteger(e),0);var o=i==null?0:i.length;if(!o||e<1)return[];for(var a=0,c=0,d=Array(nativeCeil$1(o/e));a<o;)d[c++]=baseSlice(i,a,a+=e);return d}function ownerDocument$1(i){return i&&i.ownerDocument||document}function ownerWindow(i){var e=ownerDocument$1(i);return e&&e.defaultView||window}function getComputedStyle$1(i,e){return ownerWindow(i).getComputedStyle(i,e)}var rUpper=/([A-Z])/g;function hyphenate(i){return i.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(i){return hyphenate(i).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(i){return!!(i&&supportedTransforms.test(i))}function style(i,e){var s="",o="";if(typeof e=="string")return i.style.getPropertyValue(hyphenateStyleName(e))||getComputedStyle$1(i).getPropertyValue(hyphenateStyleName(e));Object.keys(e).forEach(function(a){var c=e[a];!c&&c!==0?i.style.removeProperty(hyphenateStyleName(a)):isTransform(a)?o+=a+"("+c+") ":s+=hyphenateStyleName(a)+": "+c+";"}),o&&(s+="transform: "+o+";"),i.style.cssText+=";"+s}function contains(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}function isDocument(i){return"nodeType"in i&&i.nodeType===document.DOCUMENT_NODE}function isWindow(i){return"window"in i&&i.window===i?i:isDocument(i)&&i.defaultView||!1}function getscrollAccessor(i){var e=i==="pageXOffset"?"scrollLeft":"scrollTop";function s(o,a){var c=isWindow(o);if(a===void 0)return c?c[i]:o[e];c?c.scrollTo(c[i],a):o[e]=a}return s}const scrollLeft=getscrollAccessor("pageXOffset"),scrollTop=getscrollAccessor("pageYOffset");function offset$1(i){var e=ownerDocument$1(i),s={top:0,left:0,height:0,width:0},o=e&&e.documentElement;return!o||!contains(o,i)||(i.getBoundingClientRect!==void 0&&(s=i.getBoundingClientRect()),s={top:s.top+scrollTop(o)-(o.clientTop||0),left:s.left+scrollLeft(o)-(o.clientLeft||0),width:s.width,height:s.height}),s}var isHTMLElement=function(e){return!!e&&"offsetParent"in e};function offsetParent(i){for(var e=ownerDocument$1(i),s=i&&i.offsetParent;isHTMLElement(s)&&s.nodeName!=="HTML"&&style(s,"position")==="static";)s=s.offsetParent;return s||e.documentElement}var nodeName=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function position(i,e){var s={top:0,left:0},o;if(style(i,"position")==="fixed")o=i.getBoundingClientRect();else{var a=e||offsetParent(i);o=offset$1(i),nodeName(a)!=="html"&&(s=offset$1(a));var c=String(style(a,"borderTopWidth")||0);s.top+=parseInt(c,10)-scrollTop(a)||0;var d=String(style(a,"borderLeftWidth")||0);s.left+=parseInt(d,10)-scrollLeft(a)||0}var h=String(style(i,"marginTop")||0),g=String(style(i,"marginLeft")||0);return _extends$1({},o,{top:o.top-s.top-(parseInt(h,10)||0),left:o.left-s.left-(parseInt(g,10)||0)})}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var prev=new Date().getTime();function fallback(i){var e=new Date().getTime(),s=Math.max(0,16-(e-prev)),o=setTimeout(i,s);return prev=e,o}var vendors=["","webkit","moz","o","ms"],cancelMethod="clearTimeout",rafImpl=fallback,getKey$1=function(e,s){return e+(e?s[0].toUpperCase()+s.substr(1):s)+"AnimationFrame"};canUseDOM&&vendors.some(function(i){var e=getKey$1(i,"request");return e in window&&(cancelMethod=getKey$1(i,"cancel"),rafImpl=function(o){return window[e](o)}),!!rafImpl});var cancel=function(e){typeof window[cancelMethod]=="function"&&window[cancelMethod](e)},request=rafImpl,matchesImpl;function matches(i,e){if(!matchesImpl){var s=document.body,o=s.matches||s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector;matchesImpl=function(c,d){return o.call(c,d)}}return matchesImpl(i,e)}var toArray$1=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(i,e){return toArray$1(i.querySelectorAll(e))}var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener$1(i,e,s,o){if(o&&typeof o!="boolean"&&!onceSupported){var a=o.once,c=o.capture,d=s;!onceSupported&&a&&(d=s.__once||function h(g){this.removeEventListener(e,h,c),s.call(this,g)},s.__once=d),i.addEventListener(e,d,optionsSupported?o:c)}i.addEventListener(e,s,o)}function useCommittedRef(i){var e=react$1.exports.useRef(i);return react$1.exports.useEffect(function(){e.current=i},[i]),e}function useEventCallback(i){var e=useCommittedRef(i);return react$1.exports.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function useCallbackRef(){return react$1.exports.useState(null)}function useMounted(){var i=react$1.exports.useRef(!0),e=react$1.exports.useRef(function(){return i.current});return react$1.exports.useEffect(function(){return i.current=!0,function(){i.current=!1}},[]),e.current}function useSafeState(i){var e=useMounted();return[i[0],react$1.exports.useCallback(function(s){if(!!e())return i[1](s)},[e,i[1]])]}var createPopper=popperGenerator({defaultModifiers:[hide$2,popperOffsets$1,computeStyles$1,eventListeners,offset$3,flip$1,preventOverflow$1,arrow$1]}),initialPopperStyles=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},disabledApplyStylesModifier={name:"applyStyles",enabled:!1},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var s=e.state;return function(){var o=s.elements,a=o.reference,c=o.popper;if("removeAttribute"in a){var d=(a.getAttribute("aria-describedby")||"").split(",").filter(function(h){return h.trim()!==c.id});d.length?a.setAttribute("aria-describedby",d.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(e){var s,o=e.state,a=o.elements,c=a.popper,d=a.reference,h=(s=c.getAttribute("role"))==null?void 0:s.toLowerCase();if(c.id&&h==="tooltip"&&"setAttribute"in d){var g=d.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(c.id)!==-1)return;d.setAttribute("aria-describedby",g?g+","+c.id:c.id)}}},EMPTY_MODIFIERS=[];function usePopper(i,e,s){var o=s===void 0?{}:s,a=o.enabled,c=a===void 0?!0:a,d=o.placement,h=d===void 0?"bottom":d,g=o.strategy,_=g===void 0?"absolute":g,$l=o.modifiers,Rl=$l===void 0?EMPTY_MODIFIERS:$l,Ml=_objectWithoutPropertiesLoose(o,["enabled","placement","strategy","modifiers"]),Ul=react$1.exports.useRef(),Fl=react$1.exports.useCallback(function(){var Yl;(Yl=Ul.current)==null||Yl.update()},[]),Ll=react$1.exports.useCallback(function(){var Yl;(Yl=Ul.current)==null||Yl.forceUpdate()},[]),Bl=useSafeState(react$1.exports.useState({placement:h,update:Fl,forceUpdate:Ll,attributes:{},styles:{popper:initialPopperStyles(_),arrow:{}}})),zl=Bl[0],Hl=Bl[1],Wl=react$1.exports.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(Xl){var Gl=Xl.state,_d={},Kl={};Object.keys(Gl.elements).forEach(function(ru){_d[ru]=Gl.styles[ru],Kl[ru]=Gl.attributes[ru]}),Hl({state:Gl,styles:_d,attributes:Kl,update:Fl,forceUpdate:Ll,placement:Gl.placement})}}},[Fl,Ll,Hl]);return react$1.exports.useEffect(function(){!Ul.current||!c||Ul.current.setOptions({placement:h,strategy:_,modifiers:[].concat(Rl,[Wl,disabledApplyStylesModifier])})},[_,h,Wl,c]),react$1.exports.useEffect(function(){if(!(!c||i==null||e==null))return Ul.current=createPopper(i,e,_extends$1({},Ml,{placement:h,strategy:_,modifiers:[].concat(Rl,[ariaDescribedByModifier,Wl])})),function(){Ul.current!=null&&(Ul.current.destroy(),Ul.current=void 0,Hl(function(Yl){return _extends$1({},Yl,{attributes:{},styles:{popper:initialPopperStyles(_)}})}))}},[c,i,e]),zl}function removeEventListener(i,e,s,o){var a=o&&typeof o!="boolean"?o.capture:o;i.removeEventListener(e,s,a),s.__once&&i.removeEventListener(e,s.__once,a)}function listen(i,e,s,o){return addEventListener$1(i,e,s,o),function(){removeEventListener(i,e,s,o)}}function safeFindDOMNode(i){return i&&"setState"in i?ReactDOM.findDOMNode(i):i!=null?i:null}const ownerDocument=function(i){return ownerDocument$1(safeFindDOMNode(i))};var escapeKeyCode=27,noop=function(){};function isLeftClickEvent(i){return i.button===0}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}var getRefTarget=function(e){return e&&("current"in e?e.current:e)};function useRootClose(i,e,s){var o=s===void 0?{}:s,a=o.disabled,c=o.clickTrigger,d=c===void 0?"click":c,h=react$1.exports.useRef(!1),g=e||noop,_=react$1.exports.useCallback(function(Ml){var Ul,Fl=getRefTarget(i);h.current=!Fl||isModifiedEvent(Ml)||!isLeftClickEvent(Ml)||!!contains(Fl,(Ul=Ml.composedPath==null?void 0:Ml.composedPath()[0])!=null?Ul:Ml.target)},[i]),$l=useEventCallback(function(Ml){h.current||g(Ml)}),Rl=useEventCallback(function(Ml){Ml.keyCode===escapeKeyCode&&g(Ml)});react$1.exports.useEffect(function(){if(!(a||i==null)){var Ml=window.event,Ul=ownerDocument(getRefTarget(i)),Fl=listen(Ul,d,_,!0),Ll=listen(Ul,d,function(Hl){if(Hl===Ml){Ml=void 0;return}$l(Hl)}),Bl=listen(Ul,"keyup",function(Hl){if(Hl===Ml){Ml=void 0;return}Rl(Hl)}),zl=[];return"ontouchstart"in Ul.documentElement&&(zl=[].slice.call(Ul.body.children).map(function(Hl){return listen(Hl,"mousemove",noop)})),function(){Fl(),Ll(),Bl(),zl.forEach(function(Hl){return Hl()})}}},[i,a,d,_,$l,Rl])}function toModifierMap(i){var e={};return Array.isArray(i)?(i==null||i.forEach(function(s){e[s.name]=s}),e):i||e}function toModifierArray(i){return i===void 0&&(i={}),Array.isArray(i)?i:Object.keys(i).map(function(e){return i[e].name=e,i[e]})}function mergeOptionsWithPopperConfig(i){var e,s,o,a,c=i.enabled,d=i.enableEvents,h=i.placement,g=i.flip,_=i.offset,$l=i.fixed,Rl=i.containerPadding,Ml=i.arrowElement,Ul=i.popperConfig,Fl=Ul===void 0?{}:Ul,Ll=toModifierMap(Fl.modifiers);return _extends$1({},Fl,{placement:h,enabled:c,strategy:$l?"fixed":Fl.strategy,modifiers:toModifierArray(_extends$1({},Ll,{eventListeners:{enabled:d},preventOverflow:_extends$1({},Ll.preventOverflow,{options:Rl?_extends$1({padding:Rl},(e=Ll.preventOverflow)==null?void 0:e.options):(s=Ll.preventOverflow)==null?void 0:s.options}),offset:{options:_extends$1({offset:_},(o=Ll.offset)==null?void 0:o.options)},arrow:_extends$1({},Ll.arrow,{enabled:!!Ml,options:_extends$1({},(a=Ll.arrow)==null?void 0:a.options,{element:Ml})}),flip:_extends$1({enabled:!!g},Ll.flip)}))})}function hasClass(i,e){return i.classList?!!e&&i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function addClass(i,e){i.classList?i.classList.add(e):hasClass(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function replaceClassName(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=replaceClassName(i.className,e):i.setAttribute("class",replaceClassName(i.className&&i.className.baseVal||"",e))}var size;function scrollbarSize(i){if((!size&&size!==0||i)&&canUseDOM){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),size=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return size}var resolveContainerRef=function(e){var s;return typeof document>"u"?null:e==null?ownerDocument$1().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(s=e)!=null&&s.nodeType&&e||null)};function useWaitForDOMRef(i,e){var s=react$1.exports.useState(function(){return resolveContainerRef(i)}),o=s[0],a=s[1];if(!o){var c=resolveContainerRef(i);c&&a(c)}return react$1.exports.useEffect(function(){e&&o&&e(o)},[e,o]),react$1.exports.useEffect(function(){var d=resolveContainerRef(i);d!==o&&a(d)},[i,o]),o}var toFnRef=function(e){return!e||typeof e=="function"?e:function(s){e.current=s}};function mergeRefs(i,e){var s=toFnRef(i),o=toFnRef(e);return function(a){s&&s(a),o&&o(a)}}function useMergedRefs(i,e){return react$1.exports.useMemo(function(){return mergeRefs(i,e)},[i,e])}var Overlay=React$6.forwardRef(function(i,e){var s=i.flip,o=i.offset,a=i.placement,c=i.containerPadding,d=c===void 0?5:c,h=i.popperConfig,g=h===void 0?{}:h,_=i.transition,$l=useCallbackRef(),Rl=$l[0],Ml=$l[1],Ul=useCallbackRef(),Fl=Ul[0],Ll=Ul[1],Bl=useMergedRefs(Ml,e),zl=useWaitForDOMRef(i.container),Hl=useWaitForDOMRef(i.target),Wl=react$1.exports.useState(!i.show),Yl=Wl[0],Xl=Wl[1],Gl=usePopper(Hl,Rl,mergeOptionsWithPopperConfig({placement:a,enableEvents:!!i.show,containerPadding:d||5,flip:s,offset:o,arrowElement:Fl,popperConfig:g})),_d=Gl.styles,Kl=Gl.attributes,ru=_objectWithoutPropertiesLoose(Gl,["styles","attributes"]);i.show?Yl&&Xl(!1):!i.transition&&!Yl&&Xl(!0);var Zl=function(){Xl(!0),i.onExited&&i.onExited.apply(i,arguments)},tp=i.show||_&&!Yl;if(useRootClose(Rl,i.onHide,{disabled:!i.rootClose||i.rootCloseDisabled,clickTrigger:i.rootCloseEvent}),!tp)return null;var op=i.children(_extends$1({},ru,{show:!!i.show,props:_extends$1({},Kl.popper,{style:_d.popper,ref:Bl}),arrowProps:_extends$1({},Kl.arrow,{style:_d.arrow,ref:Ll})}));if(_){var bp=i.onExit,ap=i.onExiting,hp=i.onEnter,gp=i.onEntering,rp=i.onEntered;op=jsx(_,{in:i.show,appear:!0,onExit:bp,onExiting:ap,onExited:Zl,onEnter:hp,onEntering:gp,onEntered:rp,children:op})}return zl?ReactDOM.createPortal(op,zl):null});Overlay.displayName="Overlay";Overlay.propTypes={show:propTypes.exports.bool,placement:propTypes.exports.oneOf(placements),target:propTypes.exports.any,container:propTypes.exports.any,flip:propTypes.exports.bool,children:propTypes.exports.func.isRequired,containerPadding:propTypes.exports.number,popperConfig:propTypes.exports.object,rootClose:propTypes.exports.bool,rootCloseEvent:propTypes.exports.oneOf(["click","mousedown"]),rootCloseDisabled:propTypes.exports.bool,onHide:function(e){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if(e.rootClose){var c;return(c=propTypes.exports.func).isRequired.apply(c,[e].concat(o))}return propTypes.exports.func.apply(propTypes.exports,[e].concat(o))},transition:propTypes.exports.elementType,onEnter:propTypes.exports.func,onEntering:propTypes.exports.func,onEntered:propTypes.exports.func,onExit:propTypes.exports.func,onExiting:propTypes.exports.func,onExited:propTypes.exports.func};const Overlay$1=Overlay;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(i,e){for(var s=i.length;s--;)if(eq(i[s][0],e))return s;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(i){var e=this.__data__,s=assocIndexOf(e,i);if(s<0)return!1;var o=e.length-1;return s==o?e.pop():splice.call(e,s,1),--this.size,!0}function listCacheGet(i){var e=this.__data__,s=assocIndexOf(e,i);return s<0?void 0:e[s][1]}function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1}function listCacheSet(i,e){var s=this.__data__,o=assocIndexOf(s,i);return o<0?(++this.size,s.push([i,e])):s[o][1]=e,this}function ListCache(i){var e=-1,s=i==null?0:i.length;for(this.clear();++e<s;){var o=i[e];this.set(o[0],o[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(i){var e=this.__data__,s=e.delete(i);return this.size=e.size,s}function stackGet(i){return this.__data__.get(i)}function stackHas(i){return this.__data__.has(i)}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function isMasked(i){return!!maskSrcKey&&maskSrcKey in i}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(i){if(i!=null){try{return funcToString$2.call(i)}catch{}try{return i+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$e=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$c=objectProto$e.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(i){if(!isObject$1(i)||isMasked(i))return!1;var e=isFunction$2(i)?reIsNative:reIsHostCtor;return e.test(toSource(i))}function getValue$1(i,e){return i==null?void 0:i[e]}function getNative(i,e){var s=getValue$1(i,e);return baseIsNative(s)?s:void 0}var Map$1=getNative(root$1,"Map");const Map$2=Map$1;var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function hashGet(i){var e=this.__data__;if(nativeCreate$1){var s=e[i];return s===HASH_UNDEFINED$2?void 0:s}return hasOwnProperty$b.call(e,i)?e[i]:void 0}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashHas(i){var e=this.__data__;return nativeCreate$1?e[i]!==void 0:hasOwnProperty$a.call(e,i)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(i,e){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=nativeCreate$1&&e===void 0?HASH_UNDEFINED$1:e,this}function Hash(i){var e=-1,s=i==null?0:i.length;for(this.clear();++e<s;){var o=i[e];this.set(o[0],o[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}function getMapData(i,e){var s=i.__data__;return isKeyable(e)?s[typeof e=="string"?"string":"hash"]:s.map}function mapCacheDelete(i){var e=getMapData(this,i).delete(i);return this.size-=e?1:0,e}function mapCacheGet(i){return getMapData(this,i).get(i)}function mapCacheHas(i){return getMapData(this,i).has(i)}function mapCacheSet(i,e){var s=getMapData(this,i),o=s.size;return s.set(i,e),this.size+=s.size==o?0:1,this}function MapCache(i){var e=-1,s=i==null?0:i.length;for(this.clear();++e<s;){var o=i[e];this.set(o[0],o[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE=200;function stackSet(i,e){var s=this.__data__;if(s instanceof ListCache){var o=s.__data__;if(!Map$2||o.length<LARGE_ARRAY_SIZE-1)return o.push([i,e]),this.size=++s.size,this;s=this.__data__=new MapCache(o)}return s.set(i,e),this.size=s.size,this}function Stack(i){var e=this.__data__=new ListCache(i);this.size=e.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(i){return this.__data__.set(i,HASH_UNDEFINED),this}function setCacheHas(i){return this.__data__.has(i)}function SetCache(i){var e=-1,s=i==null?0:i.length;for(this.__data__=new MapCache;++e<s;)this.add(i[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(i,e){for(var s=-1,o=i==null?0:i.length;++s<o;)if(e(i[s],s,i))return!0;return!1}function cacheHas(i,e){return i.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(i,e,s,o,a,c){var d=s&COMPARE_PARTIAL_FLAG$5,h=i.length,g=e.length;if(h!=g&&!(d&&g>h))return!1;var _=c.get(i),$l=c.get(e);if(_&&$l)return _==e&&$l==i;var Rl=-1,Ml=!0,Ul=s&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(c.set(i,e),c.set(e,i);++Rl<h;){var Fl=i[Rl],Ll=e[Rl];if(o)var Bl=d?o(Ll,Fl,Rl,e,i,c):o(Fl,Ll,Rl,i,e,c);if(Bl!==void 0){if(Bl)continue;Ml=!1;break}if(Ul){if(!arraySome(e,function(zl,Hl){if(!cacheHas(Ul,Hl)&&(Fl===zl||a(Fl,zl,s,o,c)))return Ul.push(Hl)})){Ml=!1;break}}else if(!(Fl===Ll||a(Fl,Ll,s,o,c))){Ml=!1;break}}return c.delete(i),c.delete(e),Ml}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function mapToArray(i){var e=-1,s=Array(i.size);return i.forEach(function(o,a){s[++e]=[a,o]}),s}function setToArray(i){var e=-1,s=Array(i.size);return i.forEach(function(o){s[++e]=o}),s}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(i,e,s,o,a,c,d){switch(s){case dataViewTag$4:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case arrayBufferTag$3:return!(i.byteLength!=e.byteLength||!c(new Uint8Array$2(i),new Uint8Array$2(e)));case boolTag$3:case dateTag$3:case numberTag$3:return eq(+i,+e);case errorTag$2:return i.name==e.name&&i.message==e.message;case regexpTag$3:case stringTag$3:return i==e+"";case mapTag$5:var h=mapToArray;case setTag$5:var g=o&COMPARE_PARTIAL_FLAG$4;if(h||(h=setToArray),i.size!=e.size&&!g)return!1;var _=d.get(i);if(_)return _==e;o|=COMPARE_UNORDERED_FLAG$2,d.set(i,e);var $l=equalArrays(h(i),h(e),o,a,c,d);return d.delete(i),$l;case symbolTag$2:if(symbolValueOf$1)return symbolValueOf$1.call(i)==symbolValueOf$1.call(e)}return!1}function arrayPush(i,e){for(var s=-1,o=e.length,a=i.length;++s<o;)i[a+s]=e[s];return i}var isArray$1=Array.isArray;const isArray$2=isArray$1;function baseGetAllKeys(i,e,s){var o=e(i);return isArray$2(i)?o:arrayPush(o,s(i))}function arrayFilter(i,e){for(var s=-1,o=i==null?0:i.length,a=0,c=[];++s<o;){var d=i[s];e(d,s,i)&&(c[a++]=d)}return c}function stubArray(){return[]}var objectProto$b=Object.prototype,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(i){return i==null?[]:(i=Object(i),arrayFilter(nativeGetSymbols$1(i),function(e){return propertyIsEnumerable$1.call(i,e)}))}:stubArray;const getSymbols$1=getSymbols;function baseTimes(i,e){for(var s=-1,o=Array(i);++s<i;)o[s]=e(s);return o}var argsTag$3="[object Arguments]";function baseIsArguments(i){return isObjectLike(i)&&baseGetTag(i)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(i){return isObjectLike(i)&&hasOwnProperty$9.call(i,"callee")&&!propertyIsEnumerable.call(i,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$4="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(i){return isObjectLike(i)&&isLength(i.length)&&!!typedArrayTags[baseGetTag(i)]}function baseUnary(i){return function(e){return i(e)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var i=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return i||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(i,e){var s=isArray$2(i),o=!s&&isArguments$1(i),a=!s&&!o&&isBuffer$1(i),c=!s&&!o&&!a&&isTypedArray$1(i),d=s||o||a||c,h=d?baseTimes(i.length,String):[],g=h.length;for(var _ in i)(e||hasOwnProperty$8.call(i,_))&&!(d&&(_=="length"||a&&(_=="offset"||_=="parent")||c&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||isIndex(_,g)))&&h.push(_);return h}var objectProto$8=Object.prototype;function isPrototype(i){var e=i&&i.constructor,s=typeof e=="function"&&e.prototype||objectProto$8;return i===s}function overArg(i,e){return function(s){return i(e(s))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeys(i){if(!isPrototype(i))return nativeKeys$1(i);var e=[];for(var s in Object(i))hasOwnProperty$7.call(i,s)&&s!="constructor"&&e.push(s);return e}function keys$1(i){return isArrayLike(i)?arrayLikeKeys(i):baseKeys(i)}function getAllKeys(i){return baseGetAllKeys(i,keys$1,getSymbols$1)}var COMPARE_PARTIAL_FLAG$3=1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function equalObjects(i,e,s,o,a,c){var d=s&COMPARE_PARTIAL_FLAG$3,h=getAllKeys(i),g=h.length,_=getAllKeys(e),$l=_.length;if(g!=$l&&!d)return!1;for(var Rl=g;Rl--;){var Ml=h[Rl];if(!(d?Ml in e:hasOwnProperty$6.call(e,Ml)))return!1}var Ul=c.get(i),Fl=c.get(e);if(Ul&&Fl)return Ul==e&&Fl==i;var Ll=!0;c.set(i,e),c.set(e,i);for(var Bl=d;++Rl<g;){Ml=h[Rl];var zl=i[Ml],Hl=e[Ml];if(o)var Wl=d?o(Hl,zl,Ml,e,i,c):o(zl,Hl,Ml,i,e,c);if(!(Wl===void 0?zl===Hl||a(zl,Hl,s,o,c):Wl)){Ll=!1;break}Bl||(Bl=Ml=="constructor")}if(Ll&&!Bl){var Yl=i.constructor,Xl=e.constructor;Yl!=Xl&&"constructor"in i&&"constructor"in e&&!(typeof Yl=="function"&&Yl instanceof Yl&&typeof Xl=="function"&&Xl instanceof Xl)&&(Ll=!1)}return c.delete(i),c.delete(e),Ll}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var mapTag$3="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag(new Map$2)!=mapTag$3||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$3||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(i){var e=baseGetTag(i),s=e==objectTag$3?i.constructor:void 0,o=s?toSource(s):"";if(o)switch(o){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return e});const getTag$1=getTag;var COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseIsEqualDeep(i,e,s,o,a,c){var d=isArray$2(i),h=isArray$2(e),g=d?arrayTag$1:getTag$1(i),_=h?arrayTag$1:getTag$1(e);g=g==argsTag$1?objectTag$2:g,_=_==argsTag$1?objectTag$2:_;var $l=g==objectTag$2,Rl=_==objectTag$2,Ml=g==_;if(Ml&&isBuffer$1(i)){if(!isBuffer$1(e))return!1;d=!0,$l=!1}if(Ml&&!$l)return c||(c=new Stack),d||isTypedArray$1(i)?equalArrays(i,e,s,o,a,c):equalByTag(i,e,g,s,o,a,c);if(!(s&COMPARE_PARTIAL_FLAG$2)){var Ul=$l&&hasOwnProperty$5.call(i,"__wrapped__"),Fl=Rl&&hasOwnProperty$5.call(e,"__wrapped__");if(Ul||Fl){var Ll=Ul?i.value():i,Bl=Fl?e.value():e;return c||(c=new Stack),a(Ll,Bl,s,o,c)}}return Ml?(c||(c=new Stack),equalObjects(i,e,s,o,a,c)):!1}function baseIsEqual(i,e,s,o,a){return i===e?!0:i==null||e==null||!isObjectLike(i)&&!isObjectLike(e)?i!==i&&e!==e:baseIsEqualDeep(i,e,s,o,baseIsEqual,a)}function isEqual$2(i,e){return baseIsEqual(i,e)}function height(i,e){var s=isWindow(i);return s?s.innerHeight:e?i.clientHeight:offset$1(i).height}function closest(i,e,s){i.closest&&!s&&i.closest(e);var o=i;do{if(matches(o,e))return o;o=o.parentElement}while(o&&o!==s&&o.nodeType===document.ELEMENT_NODE);return null}function baseFindIndex(i,e,s,o){for(var a=i.length,c=s+(o?1:-1);o?c--:++c<a;)if(e(i[c],c,i))return c;return-1}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(i,e,s,o){var a=s.length,c=a,d=!o;if(i==null)return!c;for(i=Object(i);a--;){var h=s[a];if(d&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++a<c;){h=s[a];var g=h[0],_=i[g],$l=h[1];if(d&&h[2]){if(_===void 0&&!(g in i))return!1}else{var Rl=new Stack;if(o)var Ml=o(_,$l,g,i,e,Rl);if(!(Ml===void 0?baseIsEqual($l,_,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,o,Rl):Ml))return!1}}return!0}function isStrictComparable(i){return i===i&&!isObject$1(i)}function getMatchData(i){for(var e=keys$1(i),s=e.length;s--;){var o=e[s],a=i[o];e[s]=[o,a,isStrictComparable(a)]}return e}function matchesStrictComparable(i,e){return function(s){return s==null?!1:s[i]===e&&(e!==void 0||i in Object(s))}}function baseMatches(i){var e=getMatchData(i);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(s){return s===i||baseIsMatch(s,i,e)}}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(i,e){if(isArray$2(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||e!=null&&i in Object(e)}var FUNC_ERROR_TEXT="Expected a function";function memoize(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);var s=function(){var o=arguments,a=e?e.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var d=i.apply(this,o);return s.cache=c.set(a,d)||c,d};return s.cache=new(memoize.Cache||MapCache),s}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(i){var e=memoize(i,function(o){return s.size===MAX_MEMOIZE_SIZE&&s.clear(),o}),s=e.cache;return e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(rePropName,function(s,o,a,c){e.push(a?c.replace(reEscapeChar,"$1"):o||s)}),e});const stringToPath$1=stringToPath;function arrayMap(i,e){for(var s=-1,o=i==null?0:i.length,a=Array(o);++s<o;)a[s]=e(i[s],s,i);return a}var INFINITY$1=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(i){if(typeof i=="string")return i;if(isArray$2(i))return arrayMap(i,baseToString)+"";if(isSymbol(i))return symbolToString?symbolToString.call(i):"";var e=i+"";return e=="0"&&1/i==-INFINITY$1?"-0":e}function toString$1(i){return i==null?"":baseToString(i)}function castPath(i,e){return isArray$2(i)?i:isKey(i,e)?[i]:stringToPath$1(toString$1(i))}var INFINITY=1/0;function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var e=i+"";return e=="0"&&1/i==-INFINITY?"-0":e}function baseGet(i,e){e=castPath(e,i);for(var s=0,o=e.length;i!=null&&s<o;)i=i[toKey(e[s++])];return s&&s==o?i:void 0}function get$3(i,e,s){var o=i==null?void 0:baseGet(i,e);return o===void 0?s:o}function baseHasIn(i,e){return i!=null&&e in Object(i)}function hasPath(i,e,s){e=castPath(e,i);for(var o=-1,a=e.length,c=!1;++o<a;){var d=toKey(e[o]);if(!(c=i!=null&&s(i,d)))break;i=i[d]}return c||++o!=a?c:(a=i==null?0:i.length,!!a&&isLength(a)&&isIndex(d,a)&&(isArray$2(i)||isArguments$1(i)))}function hasIn(i,e){return i!=null&&hasPath(i,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(i,e){return isKey(i)&&isStrictComparable(e)?matchesStrictComparable(toKey(i),e):function(s){var o=get$3(s,i);return o===void 0&&o===e?hasIn(s,i):baseIsEqual(e,o,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function identity(i){return i}function baseProperty(i){return function(e){return e==null?void 0:e[i]}}function basePropertyDeep(i){return function(e){return baseGet(e,i)}}function property(i){return isKey(i)?baseProperty(toKey(i)):basePropertyDeep(i)}function baseIteratee(i){return typeof i=="function"?i:i==null?identity:typeof i=="object"?isArray$2(i)?baseMatchesProperty(i[0],i[1]):baseMatches(i):property(i)}var nativeMax$2=Math.max;function findIndex(i,e,s){var o=i==null?0:i.length;if(!o)return-1;var a=s==null?0:toInteger(s);return a<0&&(a=nativeMax$2(o+a,0)),baseFindIndex(i,baseIteratee(e),a)}var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange(i,e,s,o){for(var a=-1,c=nativeMax$1(nativeCeil((e-i)/(s||1)),0),d=Array(c);c--;)d[o?c:++a]=i,i+=s;return d}function createRange(i){return function(e,s,o){return o&&typeof o!="number"&&isIterateeCall(e,s,o)&&(s=o=void 0),e=toFinite(e),s===void 0?(s=e,e=0):s=toFinite(s),o=o===void 0?e<s?1:-1:toFinite(o),baseRange(e,s,o,i)}}var range$1=createRange();const range$1$1=range$1;var safeIsNaN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function isEqual$1(i,e){return!!(i===e||safeIsNaN(i)&&safeIsNaN(e))}function areInputsEqual(i,e){if(i.length!==e.length)return!1;for(var s=0;s<i.length;s++)if(!isEqual$1(i[s],e[s]))return!1;return!0}function memoizeOne(i,e){e===void 0&&(e=areInputsEqual);var s=null;function o(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(s&&s.lastThis===this&&e(a,s.lastArgs))return s.lastResult;var d=i.apply(this,a);return s={lastResult:d,lastArgs:a,lastThis:this},d}return o.clear=function(){s=null},o}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _iterableToArrayLimit(i,e){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var o,a,c,d,h=[],g=!0,_=!1;try{if(c=(s=s.call(i)).next,e===0){if(Object(s)!==s)return;g=!1}else for(;!(g=(o=c.call(s)).done)&&(h.push(o.value),h.length!==e);g=!0);}catch($l){_=!0,a=$l}finally{try{if(!g&&s.return!=null&&(d=s.return(),Object(d)!==d))return}finally{if(_)throw a}}return h}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(i,e){return _arrayWithHoles(i)||_iterableToArrayLimit(i,e)||_unsupportedIterableToArray(i,e)||_nonIterableRest()}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(i){return isArray$2(i)||isArguments$1(i)||!!(spreadableSymbol&&i&&i[spreadableSymbol])}function baseFlatten(i,e,s,o,a){var c=-1,d=i.length;for(s||(s=isFlattenable),a||(a=[]);++c<d;){var h=i[c];e>0&&s(h)?e>1?baseFlatten(h,e-1,s,o,a):arrayPush(a,h):o||(a[a.length]=h)}return a}function createBaseFor(i){return function(e,s,o){for(var a=-1,c=Object(e),d=o(e),h=d.length;h--;){var g=d[i?h:++a];if(s(c[g],g,c)===!1)break}return e}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(i,e){return i&&baseFor$1(i,e,keys$1)}function createBaseEach(i,e){return function(s,o){if(s==null)return s;if(!isArrayLike(s))return i(s,o);for(var a=s.length,c=e?a:-1,d=Object(s);(e?c--:++c<a)&&o(d[c],c,d)!==!1;);return s}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;function baseMap(i,e){var s=-1,o=isArrayLike(i)?Array(i.length):[];return baseEach$1(i,function(a,c,d){o[++s]=e(a,c,d)}),o}function baseSortBy(i,e){var s=i.length;for(i.sort(e);s--;)i[s]=i[s].value;return i}function compareAscending(i,e){if(i!==e){var s=i!==void 0,o=i===null,a=i===i,c=isSymbol(i),d=e!==void 0,h=e===null,g=e===e,_=isSymbol(e);if(!h&&!_&&!c&&i>e||c&&d&&g&&!h&&!_||o&&d&&g||!s&&g||!a)return 1;if(!o&&!c&&!_&&i<e||_&&s&&a&&!o&&!c||h&&s&&a||!d&&a||!g)return-1}return 0}function compareMultiple(i,e,s){for(var o=-1,a=i.criteria,c=e.criteria,d=a.length,h=s.length;++o<d;){var g=compareAscending(a[o],c[o]);if(g){if(o>=h)return g;var _=s[o];return g*(_=="desc"?-1:1)}}return i.index-e.index}function baseOrderBy(i,e,s){e.length?e=arrayMap(e,function(c){return isArray$2(c)?function(d){return baseGet(d,c.length===1?c[0]:c)}:c}):e=[identity];var o=-1;e=arrayMap(e,baseUnary(baseIteratee));var a=baseMap(i,function(c,d,h){var g=arrayMap(e,function(_){return _(c)});return{criteria:g,index:++o,value:c}});return baseSortBy(a,function(c,d){return compareMultiple(c,d,s)})}function apply(i,e,s){switch(s.length){case 0:return i.call(e);case 1:return i.call(e,s[0]);case 2:return i.call(e,s[0],s[1]);case 3:return i.call(e,s[0],s[1],s[2])}return i.apply(e,s)}var nativeMax=Math.max;function overRest(i,e,s){return e=nativeMax(e===void 0?i.length-1:e,0),function(){for(var o=arguments,a=-1,c=nativeMax(o.length-e,0),d=Array(c);++a<c;)d[a]=o[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=o[a];return h[e]=s(d),apply(i,this,h)}}function constant(i){return function(){return i}}var defineProperty=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(i,e){return defineProperty$1(i,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(i){var e=0,s=0;return function(){var o=nativeNow(),a=HOT_SPAN-(o-s);if(s=o,a>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function baseRest(i,e){return setToString$1(overRest(i,e,identity),i+"")}var sortBy=baseRest(function(i,e){if(i==null)return[];var s=e.length;return s>1&&isIterateeCall(i,e[0],e[1])?e=[]:s>2&&isIterateeCall(e[0],e[1],e[2])&&(e=[e[0]]),baseOrderBy(i,baseFlatten(e,1),[])});const sortBy$1=sortBy;function getWidth(i,e){var s=isWindow(i);return s?s.innerWidth:e?i.clientWidth:offset$1(i).width}function _toArray(i){return _arrayWithHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableRest()}function arrayEach(i,e){for(var s=-1,o=i==null?0:i.length;++s<o&&e(i[s],s,i)!==!1;);return i}function baseAssignValue(i,e,s){e=="__proto__"&&defineProperty$1?defineProperty$1(i,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):i[e]=s}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(i,e,s){var o=i[e];(!(hasOwnProperty$4.call(i,e)&&eq(o,s))||s===void 0&&!(e in i))&&baseAssignValue(i,e,s)}function copyObject(i,e,s,o){var a=!s;s||(s={});for(var c=-1,d=e.length;++c<d;){var h=e[c],g=o?o(s[h],i[h],h,s,i):void 0;g===void 0&&(g=i[h]),a?baseAssignValue(s,h,g):assignValue(s,h,g)}return s}function baseAssign(i,e){return i&&copyObject(e,keys$1(e),i)}function nativeKeysIn(i){var e=[];if(i!=null)for(var s in Object(i))e.push(s);return e}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeysIn(i){if(!isObject$1(i))return nativeKeysIn(i);var e=isPrototype(i),s=[];for(var o in i)o=="constructor"&&(e||!hasOwnProperty$3.call(i,o))||s.push(o);return s}function keysIn(i){return isArrayLike(i)?arrayLikeKeys(i,!0):baseKeysIn(i)}function baseAssignIn(i,e){return i&&copyObject(e,keysIn(e),i)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(i,e){if(e)return i.slice();var s=i.length,o=allocUnsafe?allocUnsafe(s):new i.constructor(s);return i.copy(o),o}function copyArray(i,e){var s=-1,o=i.length;for(e||(e=Array(o));++s<o;)e[s]=i[s];return e}function copySymbols(i,e){return copyObject(i,getSymbols$1(i),e)}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(i){for(var e=[];i;)arrayPush(e,getSymbols$1(i)),i=getPrototype$1(i);return e}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(i,e){return copyObject(i,getSymbolsIn$1(i),e)}function getAllKeysIn(i){return baseGetAllKeys(i,keysIn,getSymbolsIn$1)}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(i){var e=i.length,s=new i.constructor(e);return e&&typeof i[0]=="string"&&hasOwnProperty$2.call(i,"index")&&(s.index=i.index,s.input=i.input),s}function cloneArrayBuffer(i){var e=new i.constructor(i.byteLength);return new Uint8Array$2(e).set(new Uint8Array$2(i)),e}function cloneDataView(i,e){var s=e?cloneArrayBuffer(i.buffer):i.buffer;return new i.constructor(s,i.byteOffset,i.byteLength)}var reFlags=/\w*$/;function cloneRegExp(i){var e=new i.constructor(i.source,reFlags.exec(i));return e.lastIndex=i.lastIndex,e}var symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(i){return symbolValueOf?Object(symbolValueOf.call(i)):{}}function cloneTypedArray(i,e){var s=e?cloneArrayBuffer(i.buffer):i.buffer;return new i.constructor(s,i.byteOffset,i.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(i,e,s){var o=i.constructor;switch(e){case arrayBufferTag$1:return cloneArrayBuffer(i);case boolTag$1:case dateTag$1:return new o(+i);case dataViewTag$1:return cloneDataView(i,s);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(i,s);case mapTag$2:return new o;case numberTag$1:case stringTag$1:return new o(i);case regexpTag$1:return cloneRegExp(i);case setTag$2:return new o;case symbolTag$1:return cloneSymbol(i)}}var objectCreate=Object.create,baseCreate=function(){function i(){}return function(e){if(!isObject$1(e))return{};if(objectCreate)return objectCreate(e);i.prototype=e;var s=new i;return i.prototype=void 0,s}}();const baseCreate$1=baseCreate;function initCloneObject(i){return typeof i.constructor=="function"&&!isPrototype(i)?baseCreate$1(getPrototype$1(i)):{}}var mapTag$1="[object Map]";function baseIsMap(i){return isObjectLike(i)&&getTag$1(i)==mapTag$1}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$1="[object Set]";function baseIsSet(i){return isObjectLike(i)&&getTag$1(i)==setTag$1}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag$1]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(i,e,s,o,a,c){var d,h=e&CLONE_DEEP_FLAG$1,g=e&CLONE_FLAT_FLAG$1,_=e&CLONE_SYMBOLS_FLAG$1;if(s&&(d=a?s(i,o,a,c):s(i)),d!==void 0)return d;if(!isObject$1(i))return i;var $l=isArray$2(i);if($l){if(d=initCloneArray(i),!h)return copyArray(i,d)}else{var Rl=getTag$1(i),Ml=Rl==funcTag||Rl==genTag;if(isBuffer$1(i))return cloneBuffer(i,h);if(Rl==objectTag$1||Rl==argsTag||Ml&&!a){if(d=g||Ml?{}:initCloneObject(i),!h)return g?copySymbolsIn(i,baseAssignIn(d,i)):copySymbols(i,baseAssign(d,i))}else{if(!cloneableTags[Rl])return a?i:{};d=initCloneByTag(i,Rl,h)}}c||(c=new Stack);var Ul=c.get(i);if(Ul)return Ul;c.set(i,d),isSet$1(i)?i.forEach(function(Bl){d.add(baseClone(Bl,e,s,Bl,i,c))}):isMap$1(i)&&i.forEach(function(Bl,zl){d.set(zl,baseClone(Bl,e,s,zl,i,c))});var Fl=_?g?getAllKeysIn:getAllKeys:g?keysIn:keys$1,Ll=$l?void 0:Fl(i);return arrayEach(Ll||i,function(Bl,zl){Ll&&(zl=Bl,Bl=i[zl]),assignValue(d,zl,baseClone(Bl,e,s,zl,i,c))}),d}function last(i){var e=i==null?0:i.length;return e?i[e-1]:void 0}function parent(i,e){return e.length<2?i:baseGet(i,baseSlice(e,0,-1))}function baseUnset(i,e){return e=castPath(e,i),i=parent(i,e),i==null||delete i[toKey(last(e))]}var objectTag="[object Object]",funcProto=Function.prototype,objectProto$1=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$1.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(i){if(!isObjectLike(i)||baseGetTag(i)!=objectTag)return!1;var e=getPrototype$1(i);if(e===null)return!0;var s=hasOwnProperty$1.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&funcToString.call(s)==objectCtorString}function customOmitClone(i){return isPlainObject(i)?void 0:i}function flatten(i){var e=i==null?0:i.length;return e?baseFlatten(i,1):[]}function flatRest(i){return setToString$1(overRest(i,void 0,flatten),i+"")}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(i,e){var s={};if(i==null)return s;var o=!1;e=arrayMap(e,function(c){return c=castPath(c,i),o||(o=c.length>1),c}),copyObject(i,getAllKeysIn(i),s),o&&(s=baseClone(s,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var a=e.length;a--;)baseUnset(s,e[a]);return s});const omit$1=omit;var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,defaults$1=baseRest(function(i,e){i=Object(i);var s=-1,o=e.length,a=o>2?e[2]:void 0;for(a&&isIterateeCall(e[0],e[1],a)&&(o=1);++s<o;)for(var c=e[s],d=keysIn(c),h=-1,g=d.length;++h<g;){var _=d[h],$l=i[_];($l===void 0||eq($l,objectProto[_])&&!hasOwnProperty.call(i,_))&&(i[_]=c[_])}return i});const defaults$2=defaults$1;function transform(i,e,s){var o=isArray$2(i),a=o||isBuffer$1(i)||isTypedArray$1(i);if(e=baseIteratee(e),s==null){var c=i&&i.constructor;a?s=o?new c:[]:isObject$1(i)?s=isFunction$2(c)?baseCreate$1(getPrototype$1(i)):{}:s={}}return(a?arrayEach:baseForOwn)(i,function(d,h,g){return e(s,d,h,g)}),s}function mapValues(i,e){var s={};return e=baseIteratee(e),baseForOwn(i,function(o,a,c){baseAssignValue(s,a,e(o,a,c))}),s}function NoopWrapper(i){return i.children}var navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},viewNames$1=Object.keys(views).map(function(i){return views[i]});propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.func]);propTypes.exports.any;propTypes.exports.func;propTypes.exports.oneOfType([propTypes.exports.arrayOf(propTypes.exports.oneOf(viewNames$1)),propTypes.exports.objectOf(function(i,e){var s=viewNames$1.indexOf(e)!==-1&&typeof i[e]=="boolean";if(s)return null;for(var o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];return propTypes.exports.elementType.apply(propTypes.exports,[i,e].concat(a))})]);propTypes.exports.oneOfType([propTypes.exports.oneOf(["overlap","no-overlap"]),propTypes.exports.func]);function notify(i,e){i&&i.apply(null,[].concat(e))}var MILLI={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function firstVisibleDay(i,e){var s=startOf$1(i,"month");return startOf$1(s,"week",e.startOfWeek())}function lastVisibleDay(i,e){var s=endOf$1(i,"month");return endOf$1(s,"week",e.startOfWeek())}function visibleDays(i,e){for(var s=firstVisibleDay(i,e),o=lastVisibleDay(i,e),a=[];lte(s,o,"day");)a.push(s),s=add$2(s,1,"day");return a}function ceil(i,e){var s=startOf$1(i,e);return eq$1(s,i)?s:add$2(s,1,e)}function range(i,e){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",o=i,a=[];lte(o,e,s);)a.push(o),o=add$2(o,1,s);return a}function merge(i,e){return e==null&&i==null?null:(e==null&&(e=new Date),i==null&&(i=new Date),i=startOf$1(i,"day"),i=hours$1(i,hours$1(e)),i=minutes$1(i,minutes$1(e)),i=seconds$1(i,seconds$1(e)),milliseconds$1(i,milliseconds$1(e)))}function isJustDate(i){return hours$1(i)===0&&minutes$1(i)===0&&seconds$1(i)===0&&milliseconds$1(i)===0}function diff$1(i,e,s){return!s||s==="milliseconds"?Math.abs(+i-+e):Math.round(Math.abs(+startOf$1(i,s)/MILLI[s]-+startOf$1(e,s)/MILLI[s]))}var localePropType=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.func]);function _format(i,e,s,o,a){var c=typeof o=="function"?o(s,a,i):e.call(i,s,o,a);return browser$1(c==null||typeof c=="string","`localizer format(..)` must return a string, null, or undefined"),c}function getSlotDate(i,e,s){return new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,e+s,0,0)}function getDstOffset(i,e){return i.getTimezoneOffset()-e.getTimezoneOffset()}function getTotalMin(i,e){return diff$1(i,e,"minutes")+getDstOffset(i,e)}function getMinutesFromMidnight(i){var e=startOf$1(i,"day");return diff$1(e,i,"minutes")+getDstOffset(e,i)}function continuesPrior(i,e){return lt(i,e,"day")}function continuesAfter(i,e,s){var o=eq$1(i,e,"minutes");return o?gte(e,s,"minutes"):gt(e,s,"minutes")}function sortEvents$1(i){var e=i.evtA,s=e.start,o=e.end,a=e.allDay,c=i.evtB,d=c.start,h=c.end,g=c.allDay,_=+startOf$1(s,"day")-+startOf$1(d,"day"),$l=diff$1(s,ceil(o,"day"),"day"),Rl=diff$1(d,ceil(h,"day"),"day");return _||Math.max(Rl,1)-Math.max($l,1)||!!g-!!a||+s-+d||+o-+h}function inEventRange(i){var e=i.event,s=e.start,o=e.end,a=i.range,c=a.start,d=a.end,h=startOf$1(s,"day"),g=lte(h,d,"day"),_=neq(h,o,"minutes"),$l=_?gt(o,c,"minutes"):gte(o,c,"minutes");return g&&$l}function isSameDate(i,e){return eq$1(i,e,"day")}function startAndEndAreDateOnly(i,e){return isJustDate(i)&&isJustDate(e)}var DateLocalizer=_createClass$1(function i(e){var s=this;_classCallCheck$2(this,i),browser$1(typeof e.format=="function","date localizer `format(..)` must be a function"),browser$1(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||localePropType,this.formats=e.formats,this.format=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return _format.apply(void 0,[s,e.format].concat(a))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||merge,this.inRange=e.inRange||inRange$1,this.lt=e.lt||lt,this.lte=e.lte||lte,this.gt=e.gt||gt,this.gte=e.gte||gte,this.eq=e.eq||eq$1,this.neq=e.neq||neq,this.startOf=e.startOf||startOf$1,this.endOf=e.endOf||endOf$1,this.add=e.add||add$2,this.range=e.range||range,this.diff=e.diff||diff$1,this.ceil=e.ceil||ceil,this.min=e.min||min$1,this.max=e.max||max$1,this.minutes=e.minutes||minutes$1,this.firstVisibleDay=e.firstVisibleDay||firstVisibleDay,this.lastVisibleDay=e.lastVisibleDay||lastVisibleDay,this.visibleDays=e.visibleDays||visibleDays,this.getSlotDate=e.getSlotDate||getSlotDate,this.getTimezoneOffset=e.getTimezoneOffset||function(o){return o.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||getDstOffset,this.getTotalMin=e.getTotalMin||getTotalMin,this.getMinutesFromMidnight=e.getMinutesFromMidnight||getMinutesFromMidnight,this.continuesPrior=e.continuesPrior||continuesPrior,this.continuesAfter=e.continuesAfter||continuesAfter,this.sortEvents=e.sortEvents||sortEvents$1,this.inEventRange=e.inEventRange||inEventRange,this.isSameDate=e.isSameDate||isSameDate,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||startAndEndAreDateOnly,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function mergeWithDefaults(i,e,s,o){var a=_objectSpread2(_objectSpread2({},i.formats),s);return _objectSpread2(_objectSpread2({},i),{},{messages:o,startOfWeek:function(){return i.startOfWeek(e)},format:function(d,h){return i.format(d,a[h]||h,e)}})}var defaultMessages={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function messages(i){return _objectSpread2(_objectSpread2({},defaultMessages),i)}function useClickOutside(i){var e=i.ref,s=i.callback;react$1.exports.useEffect(function(){var o=function(c){e.current&&!e.current.contains(c.target)&&s()};return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[e,s])}var _excluded$7=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],EventCell=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.style,d=a.className,h=a.event,g=a.selected,_=a.isAllDay,$l=a.onSelect,Rl=a.onDoubleClick,Ml=a.onKeyPress,Ul=a.localizer,Fl=a.continuesPrior,Ll=a.continuesAfter,Bl=a.accessors,zl=a.getters,Hl=a.children,Wl=a.components,Yl=Wl.event,Xl=Wl.eventWrapper,Gl=a.slotStart,_d=a.slotEnd,Kl=_objectWithoutProperties(a,_excluded$7);delete Kl.resizable;var ru=Bl.title(h),Zl=Bl.tooltip(h),tp=Bl.end(h),op=Bl.start(h),bp=Bl.allDay(h),ap=_||bp||Ul.diff(op,Ul.ceil(tp,"day"),"day")>1,hp=zl.eventProp(h,op,tp,g),gp=jsx("div",{className:"rbc-event-content",title:Zl||void 0,children:Yl?jsx(Yl,{event:h,continuesPrior:Fl,continuesAfter:Ll,title:ru,isAllDay:bp,localizer:Ul,slotStart:Gl,slotEnd:_d}):ru});return jsx(Xl,{...Object.assign({},this.props,{type:"date"}),children:jsx("div",{...Object.assign({},Kl,{tabIndex:0,style:_objectSpread2(_objectSpread2({},hp.style),c),className:clsx("rbc-event",d,hp.className,{"rbc-selected":g,"rbc-event-allday":ap,"rbc-event-continues-prior":Fl,"rbc-event-continues-after":Ll}),onClick:function(up){return $l&&$l(h,up)},onDoubleClick:function(up){return Rl&&Rl(h,up)},onKeyPress:function(up){return Ml&&Ml(h,up)}}),children:typeof Hl=="function"?Hl(gp):gp})})}}]),s}(React$6.Component);function isSelected(i,e){return!i||e==null?!1:isEqual$2(i,e)}function slotWidth(i,e){var s=i.right-i.left,o=s/e;return o}function getSlotAtX(i,e,s,o){var a=slotWidth(i,o);return s?o-1-Math.floor((e-i.left)/a):Math.floor((e-i.left)/a)}function pointInBox(i,e){var s=e.x,o=e.y;return o>=i.top&&o<=i.bottom&&s>=i.left&&s<=i.right}function dateCellSelection(i,e,s,o,a){var c=-1,d=-1,h=o-1,g=slotWidth(e,o),_=getSlotAtX(e,s.x,a,o),$l=e.top<s.y&&e.bottom>s.y,Rl=e.top<i.y&&e.bottom>i.y,Ml=i.y>e.bottom,Ul=e.top>i.y,Fl=s.top<e.top&&s.bottom>e.bottom;return Fl&&(c=0,d=h),$l&&(Ul?(c=0,d=_):Ml&&(c=_,d=h)),Rl&&(c=d=a?h-Math.floor((i.x-e.left)/g):Math.floor((i.x-e.left)/g),$l?_<c?c=_:d=_:i.y<s.y?d=h:c=0),{startIdx:c,endIdx:d}}function getPosition(i){var e=i.target,s=i.offset,o=i.container,a=i.box,c=offset$1(e),d=c.top,h=c.left,g=c.width,_=c.height,$l=offset$1(o),Rl=$l.top,Ml=$l.left,Ul=$l.width,Fl=$l.height,Ll=offset$1(a),Bl=Ll.width,zl=Ll.height,Hl=Rl+Fl,Wl=Ml+Ul,Yl=d+zl,Xl=h+Bl,Gl=s.x,_d=s.y,Kl=Yl>Hl?d-zl-_d:d+_d+_,ru=Xl>Wl?h+Gl-Bl+g:h+Gl;return{topOffset:Kl,leftOffset:ru}}function Pop(i){var e=i.containerRef,s=i.accessors,o=i.getters,a=i.selected,c=i.components,d=i.localizer,h=i.position,g=i.show,_=i.events,$l=i.slotStart,Rl=i.slotEnd,Ml=i.onSelect,Ul=i.onDoubleClick,Fl=i.onKeyPress,Ll=i.handleDragStart,Bl=i.popperRef,zl=i.target,Hl=i.offset;useClickOutside({ref:Bl,callback:g}),react$1.exports.useLayoutEffect(function(){var Xl=getPosition({target:zl,offset:Hl,container:e.current,box:Bl.current}),Gl=Xl.topOffset,_d=Xl.leftOffset;Bl.current.style.top="".concat(Gl,"px"),Bl.current.style.left="".concat(_d,"px")},[Hl.x,Hl.y,zl]);var Wl=h.width,Yl={minWidth:Wl+Wl/2};return jsxs("div",{style:Yl,className:"rbc-overlay",ref:Bl,children:[jsx("div",{className:"rbc-overlay-header",children:d.format($l,"dayHeaderFormat")}),_.map(function(Xl,Gl){return jsx(EventCell,{type:"popup",localizer:d,event:Xl,getters:o,onSelect:Ml,accessors:s,components:c,onDoubleClick:Ul,onKeyPress:Fl,continuesPrior:d.lt(s.end(Xl),$l,"day"),continuesAfter:d.gte(s.start(Xl),Rl,"day"),slotStart:$l,slotEnd:Rl,selected:isSelected(Xl,a),draggable:!0,onDragStart:function(){return Ll(Xl)},onDragEnd:function(){return g()}},Gl)})]})}var Popup=React$6.forwardRef(function(i,e){return jsx(Pop,{...Object.assign({},i,{popperRef:e})})});Popup.propTypes={accessors:propTypes.exports.object.isRequired,getters:propTypes.exports.object.isRequired,selected:propTypes.exports.object,components:propTypes.exports.object.isRequired,localizer:propTypes.exports.object.isRequired,position:propTypes.exports.object.isRequired,show:propTypes.exports.func.isRequired,events:propTypes.exports.array.isRequired,slotStart:propTypes.exports.instanceOf(Date).isRequired,slotEnd:propTypes.exports.instanceOf(Date),onSelect:propTypes.exports.func,onDoubleClick:propTypes.exports.func,onKeyPress:propTypes.exports.func,handleDragStart:propTypes.exports.func,style:propTypes.exports.object,offset:propTypes.exports.shape({x:propTypes.exports.number,y:propTypes.exports.number})};function CalOverlay(i){var e=i.containerRef,s=i.popupOffset,o=s===void 0?5:s,a=i.overlay,c=i.accessors,d=i.localizer,h=i.components,g=i.getters,_=i.selected,$l=i.handleSelectEvent,Rl=i.handleDoubleClickEvent,Ml=i.handleKeyPressEvent,Ul=i.handleDragStart,Fl=i.onHide,Ll=i.overlayDisplay,Bl=react$1.exports.useRef(null);if(!a.position)return null;var zl=o;isNaN(o)||(zl={x:o,y:o});var Hl=a.position,Wl=a.events,Yl=a.date,Xl=a.end;return jsx(Overlay$1,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:Fl,target:a.target,children:function(Gl){var _d=Gl.props;return jsx(Popup,{...Object.assign({},_d,{containerRef:e,ref:Bl,target:a.target,offset:zl,accessors:c,getters:g,selected:_,components:h,localizer:d,position:Hl,show:Ll,events:Wl,slotStart:Yl,slotEnd:Xl,onSelect:$l,onDoubleClick:Rl,onKeyPress:Ml,handleDragStart:Ul})})}})}var PopOverlay=React$6.forwardRef(function(i,e){return jsx(CalOverlay,{...Object.assign({},i,{containerRef:e})})});PopOverlay.propTypes={popupOffset:propTypes.exports.oneOfType([propTypes.exports.number,propTypes.exports.shape({x:propTypes.exports.number,y:propTypes.exports.number})]),overlay:propTypes.exports.shape({position:propTypes.exports.object,events:propTypes.exports.array,date:propTypes.exports.instanceOf(Date),end:propTypes.exports.instanceOf(Date)}),accessors:propTypes.exports.object.isRequired,localizer:propTypes.exports.object.isRequired,components:propTypes.exports.object.isRequired,getters:propTypes.exports.object.isRequired,selected:propTypes.exports.object,handleSelectEvent:propTypes.exports.func,handleDoubleClickEvent:propTypes.exports.func,handleKeyPressEvent:propTypes.exports.func,handleDragStart:propTypes.exports.func,onHide:propTypes.exports.func,overlayDisplay:propTypes.exports.func};function addEventListener(i,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return listen(s,i,e,{passive:!1})}function isOverContainer(i,e,s){return!i||contains(i,document.elementFromPoint(e,s))}function getEventNodeFromPoint(i,e){var s=e.clientX,o=e.clientY,a=document.elementFromPoint(s,o);return closest(a,".rbc-event",i)}function isEvent(i,e){return!!getEventNodeFromPoint(i,e)}function getEventCoordinates(i){var e=i;return i.touches&&i.touches.length&&(e=i.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var clickTolerance=5,clickInterval=250,Selection=function(){function i(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.global,a=o===void 0?!1:o,c=s.longPressThreshold,d=c===void 0?250:c,h=s.validContainers,g=h===void 0?[]:h;_classCallCheck$2(this,i),this.isDetached=!1,this.container=e,this.globalMouse=!e||a,this.longPressThreshold=d,this.validContainers=g,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=addEventListener("touchmove",function(){},window),this._removeKeyDownListener=addEventListener("keydown",this._keyListener),this._removeKeyUpListener=addEventListener("keyup",this._keyListener),this._removeDropFromOutsideListener=addEventListener("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=addEventListener("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return _createClass$1(i,[{key:"on",value:function(s,o){var a=this._listeners[s]||(this._listeners[s]=[]);return a.push(o),{remove:function(){var d=a.indexOf(o);d!==-1&&a.splice(d,1)}}}},{key:"emit",value:function(s){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];var d,h=this._listeners[s]||[];return h.forEach(function(g){d===void 0&&(d=g.apply(void 0,a))}),d}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(s){var o=this._selectRect;return!o||!this.selecting?!1:objectsCollide(o,getBoundsForNode(s))}},{key:"filter",value:function(s){var o=this._selectRect;return!o||!this.selecting?[]:s.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(s,o){var a=this,c=null,d=null,h=null,g=function(Ml){c=setTimeout(function(){$l(),s(Ml)},a.longPressThreshold),d=addEventListener("touchmove",function(){return $l()}),h=addEventListener("touchend",function(){return $l()})},_=addEventListener("touchstart",g),$l=function(){c&&clearTimeout(c),d&&d(),h&&h(),c=null,d=null,h=null};return o&&g(o),function(){$l(),_()}}},{key:"_addInitialEventListener",value:function(){var s=this,o=addEventListener("mousedown",function(c){s._removeInitialEventListener(),s._handleInitialEvent(c),s._removeInitialEventListener=addEventListener("mousedown",s._handleInitialEvent)}),a=addEventListener("touchstart",function(c){s._removeInitialEventListener(),s._removeInitialEventListener=s._addLongPressListener(s._handleInitialEvent,c)});this._removeInitialEventListener=function(){o(),a()}}},{key:"_dropFromOutsideListener",value:function(s){var o=getEventCoordinates(s),a=o.pageX,c=o.pageY,d=o.clientX,h=o.clientY;this.emit("dropFromOutside",{x:a,y:c,clientX:d,clientY:h}),s.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(s){var o=getEventCoordinates(s),a=o.pageX,c=o.pageY,d=o.clientX,h=o.clientY;this.emit("dragOverFromOutside",{x:a,y:c,clientX:d,clientY:h}),s.preventDefault()}},{key:"_handleInitialEvent",value:function(s){if(!this.isDetached){var o=getEventCoordinates(s),a=o.clientX,c=o.clientY,d=o.pageX,h=o.pageY,g=this.container(),_,$l;if(!(s.which===3||s.button===2||!isOverContainer(g,a,c))){if(!this.globalMouse&&g&&!contains(g,s.target)){var Rl=normalizeDistance(0),Ml=Rl.top,Ul=Rl.left,Fl=Rl.bottom,Ll=Rl.right;if($l=getBoundsForNode(g),_=objectsCollide({top:$l.top-Ml,left:$l.left-Ul,bottom:$l.bottom+Fl,right:$l.right+Ll},{top:h,left:d}),!_)return}var Bl=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(s.type),x:d,y:h,clientX:a,clientY:c});if(Bl!==!1)switch(s.type){case"mousedown":this._removeEndListener=addEventListener("mouseup",this._handleTerminatingEvent),this._onEscListener=addEventListener("keydown",this._handleTerminatingEvent),this._removeMoveListener=addEventListener("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(s),this._removeEndListener=addEventListener("touchend",this._handleTerminatingEvent),this._removeMoveListener=addEventListener("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(s){var o=s.target,a=this.validContainers;return!a||!a.length||!o?!0:a.some(function(c){return!!o.closest(c)})}},{key:"_handleTerminatingEvent",value:function(s){var o=getEventCoordinates(s),a=o.pageX,c=o.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var d=!this.container||contains(this.container(),s.target),h=this._isWithinValidContainer(s),g=this._selectRect,_=this.isClick(a,c);return this._initialEventData=null,s.key==="Escape"||!h?this.emit("reset"):_&&d?this._handleClickEvent(s):_?this.emit("reset"):this.emit("select",g)}}},{key:"_handleClickEvent",value:function(s){var o=getEventCoordinates(s),a=o.pageX,c=o.pageY,d=o.clientX,h=o.clientY,g=new Date().getTime();return this._lastClickData&&g-this._lastClickData.timestamp<clickInterval?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:c,clientX:d,clientY:h})):(this._lastClickData={timestamp:g},this.emit("click",{x:a,y:c,clientX:d,clientY:h}))}},{key:"_handleMoveEvent",value:function(s){if(!(this._initialEventData===null||this.isDetached)){var o=this._initialEventData,a=o.x,c=o.y,d=getEventCoordinates(s),h=d.pageX,g=d.pageY,_=Math.abs(a-h),$l=Math.abs(c-g),Rl=Math.min(h,a),Ml=Math.min(g,c),Ul=this.selecting;this.isClick(h,g)&&!Ul&&!(_||$l)||(this.selecting=!0,this._selectRect={top:Ml,left:Rl,x:h,y:g,right:Rl+_,bottom:Ml+$l},Ul||this.emit("selectStart",this._initialEventData),this.isClick(h,g)||this.emit("selecting",this._selectRect),s.preventDefault())}}},{key:"_keyListener",value:function(s){this.ctrl=s.metaKey||s.ctrlKey}},{key:"isClick",value:function(s,o){var a=this._initialEventData,c=a.x,d=a.y,h=a.isTouch;return!h&&Math.abs(s-c)<=clickTolerance&&Math.abs(o-d)<=clickTolerance}}]),i}();function normalizeDistance(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return _typeof(i)!=="object"&&(i={top:i,left:i,right:i,bottom:i}),i}function objectsCollide(i,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=getBoundsForNode(i),a=o.top,c=o.left,d=o.right,h=d===void 0?c:d,g=o.bottom,_=g===void 0?a:g,$l=getBoundsForNode(e),Rl=$l.top,Ml=$l.left,Ul=$l.right,Fl=Ul===void 0?Ml:Ul,Ll=$l.bottom,Bl=Ll===void 0?Rl:Ll;return!(_-s<Rl||a+s>Bl||h-s<Ml||c+s>Fl)}function getBoundsForNode(i){if(!i.getBoundingClientRect)return i;var e=i.getBoundingClientRect(),s=e.left+pageOffset("left"),o=e.top+pageOffset("top");return{top:o,left:s,right:(i.offsetWidth||0)+s,bottom:(i.offsetHeight||0)+o}}function pageOffset(i){if(i==="left")return window.pageXOffset||document.body.scrollLeft||0;if(i==="top")return window.pageYOffset||document.body.scrollTop||0}var BackgroundCells=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(o,a){var c;return _classCallCheck$2(this,s),c=e.call(this,o,a),c.state={selecting:!1},c.containerRef=react$1.exports.createRef(),c}return _createClass$1(s,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,c=a.range,d=a.getNow,h=a.getters,g=a.date,_=a.components.dateCellWrapper,$l=a.localizer,Rl=this.state,Ml=Rl.selecting,Ul=Rl.startIdx,Fl=Rl.endIdx,Ll=d();return jsx("div",{className:"rbc-row-bg",ref:this.containerRef,children:c.map(function(Bl,zl){var Hl=Ml&&zl>=Ul&&zl<=Fl,Wl=h.dayProp(Bl),Yl=Wl.className,Xl=Wl.style;return jsx(_,{value:Bl,range:c,children:jsx("div",{style:Xl,className:clsx("rbc-day-bg",Yl,Hl&&"rbc-selected-cell",$l.isSameDate(Bl,Ll)&&"rbc-today",g&&$l.neq(g,Bl,"month")&&"rbc-off-range-bg")})},zl)})})}},{key:"_selectable",value:function(){var a=this,c=this.containerRef.current,d=this._selector=new Selection(this.props.container,{longPressThreshold:this.props.longPressThreshold}),h=function(_,$l){if(!isEvent(c,_)){var Rl=getBoundsForNode(c),Ml=a.props,Ul=Ml.range,Fl=Ml.rtl;if(pointInBox(Rl,_)){var Ll=getSlotAtX(Rl,_.x,Fl,Ul.length);a._selectSlot({startIdx:Ll,endIdx:Ll,action:$l,box:_})}}a._initial={},a.setState({selecting:!1})};d.on("selecting",function(g){var _=a.props,$l=_.range,Rl=_.rtl,Ml=-1,Ul=-1;if(a.state.selecting||(notify(a.props.onSelectStart,[g]),a._initial={x:g.x,y:g.y}),d.isSelected(c)){var Fl=getBoundsForNode(c),Ll=dateCellSelection(a._initial,Fl,g,$l.length,Rl);Ml=Ll.startIdx,Ul=Ll.endIdx}a.setState({selecting:!0,startIdx:Ml,endIdx:Ul})}),d.on("beforeSelect",function(g){if(a.props.selectable==="ignoreEvents")return!isEvent(a.containerRef.current,g)}),d.on("click",function(g){return h(g,"click")}),d.on("doubleClick",function(g){return h(g,"doubleClick")}),d.on("select",function(g){a._selectSlot(_objectSpread2(_objectSpread2({},a.state),{},{action:"select",bounds:g})),a._initial={},a.setState({selecting:!1}),notify(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){!this._selector||(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var c=a.endIdx,d=a.startIdx,h=a.action,g=a.bounds,_=a.box;c!==-1&&d!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:d,end:c,action:h,bounds:g,box:_,resourceId:this.props.resourceId})}}]),s}(React$6.Component),EventRowMixin={propTypes:{slotMetrics:propTypes.exports.object.isRequired,selected:propTypes.exports.object,isAllDay:propTypes.exports.bool,accessors:propTypes.exports.object.isRequired,localizer:propTypes.exports.object.isRequired,components:propTypes.exports.object.isRequired,getters:propTypes.exports.object.isRequired,onSelect:propTypes.exports.func,onDoubleClick:propTypes.exports.func,onKeyPress:propTypes.exports.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,s){var o=e.selected;e.isAllDay;var a=e.accessors,c=e.getters,d=e.onSelect,h=e.onDoubleClick,g=e.onKeyPress,_=e.localizer,$l=e.slotMetrics,Rl=e.components,Ml=e.resizable,Ul=$l.continuesPrior(s),Fl=$l.continuesAfter(s);return jsx(EventCell,{event:s,getters:c,localizer:_,accessors:a,components:Rl,onSelect:d,onDoubleClick:h,onKeyPress:g,continuesPrior:Ul,continuesAfter:Fl,slotStart:$l.first,slotEnd:$l.last,selected:isSelected(s,o),resizable:Ml})},renderSpan:function(e,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",c=Math.abs(s)/e*100+"%";return jsx("div",{className:"rbc-row-segment",style:{WebkitFlexBasis:c,flexBasis:c,maxWidth:c},children:a},o)}},EventRow=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){var a=this,c=this.props,d=c.segments,h=c.slotMetrics.slots,g=c.className,_=1;return jsx("div",{className:clsx(g,"rbc-row"),children:d.reduce(function($l,Rl,Ml){var Ul=Rl.event,Fl=Rl.left,Ll=Rl.right,Bl=Rl.span,zl="_lvl_"+Ml,Hl=Fl-_,Wl=EventRowMixin.renderEvent(a.props,Ul);return Hl&&$l.push(EventRowMixin.renderSpan(h,Hl,"".concat(zl,"_gap"))),$l.push(EventRowMixin.renderSpan(h,Bl,zl,Wl)),_=Ll+1,$l},[])})}}]),s}(React$6.Component);EventRow.defaultProps=_objectSpread2({},EventRowMixin.defaultProps);function endOfRange(i){var e=i.dateRange,s=i.unit,o=s===void 0?"day":s,a=i.localizer;return{first:e[0],last:a.add(e[e.length-1],1,o)}}function eventSegments(i,e,s,o){var a=endOfRange({dateRange:e,localizer:o}),c=a.first,d=a.last,h=o.diff(c,d,"day"),g=o.max(o.startOf(s.start(i),"day"),c),_=o.min(o.ceil(s.end(i),"day"),d),$l=findIndex(e,function(Ml){return o.isSameDate(Ml,g)}),Rl=o.diff(g,_,"day");return Rl=Math.min(Rl,h),Rl=Math.max(Rl-o.segmentOffset,1),{event:i,span:Rl,left:$l+1,right:Math.max($l+Rl,1)}}function eventLevels(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,s,o,a,c=[],d=[];for(s=0;s<i.length;s++){for(a=i[s],o=0;o<c.length&&segsOverlap(a,c[o]);o++);o>=e?d.push(a):(c[o]||(c[o]=[])).push(a)}for(s=0;s<c.length;s++)c[s].sort(function(h,g){return h.left-g.left});return{levels:c,extra:d}}function inRange(i,e,s,o,a){var c={start:o.start(i),end:o.end(i)},d={start:e,end:s};return a.inEventRange({event:c,range:d})}function segsOverlap(i,e){return e.some(function(s){return s.left<=i.right&&s.right>=i.left})}function sortEvents(i,e,s,o){var a={start:s.start(i),end:s.end(i),allDay:s.allDay(i)},c={start:s.start(e),end:s.end(e),allDay:s.allDay(e)};return o.sortEvents({evtA:a,evtB:c})}var isSegmentInSlot$1=function(e,s){return e.left<=s&&e.right>=s},eventsInSlot=function(e,s){return e.filter(function(o){return isSegmentInSlot$1(o,s)}).length},EventEndingRow=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){for(var a=this.props,c=a.segments,d=a.slotMetrics.slots,h=eventLevels(c).levels[0],g=1,_=1,$l=[];g<=d;){var Rl="_lvl_"+g,Ml=h.filter(function(Wl){return isSegmentInSlot$1(Wl,g)})[0]||{},Ul=Ml.event,Fl=Ml.left,Ll=Ml.right,Bl=Ml.span;if(!Ul){g++;continue}var zl=Math.max(0,Fl-_);if(this.canRenderSlotEvent(Fl,Bl)){var Hl=EventRowMixin.renderEvent(this.props,Ul);zl&&$l.push(EventRowMixin.renderSpan(d,zl,Rl+"_gap")),$l.push(EventRowMixin.renderSpan(d,Bl,Rl,Hl)),_=g=Ll+1}else zl&&$l.push(EventRowMixin.renderSpan(d,zl,Rl+"_gap")),$l.push(EventRowMixin.renderSpan(d,1,Rl,this.renderShowMore(c,g))),_=g=g+1}return jsx("div",{className:"rbc-row",children:$l})}},{key:"canRenderSlotEvent",value:function(a,c){var d=this.props.segments;return range$1$1(a,a+c).every(function(h){var g=eventsInSlot(d,h);return g===1})}},{key:"renderShowMore",value:function(a,c){var d=this,h=this.props.localizer,g=eventsInSlot(a,c);return g?jsx("button",{type:"button",className:clsx("rbc-button-link","rbc-show-more"),onClick:function($l){return d.showMore(c,$l)},children:h.messages.showMore(g)},"sm_"+c):!1}},{key:"showMore",value:function(a,c){c.preventDefault(),c.stopPropagation(),this.props.onShowMore(a,c.target)}}]),s}(React$6.Component);EventEndingRow.defaultProps=_objectSpread2({},EventRowMixin.defaultProps);var ScrollableWeekWrapper=function(e){var s=e.children;return jsx("div",{className:"rbc-row-content-scroll-container",children:s})},isSegmentInSlot=function(e,s){return e.left<=s&&e.right>=s},isEqual=function(e,s){return e[0].range===s[0].range&&e[0].events===s[0].events};function getSlotMetrics$1(){return memoizeOne(function(i){for(var e=i.range,s=i.events,o=i.maxRows,a=i.minRows,c=i.accessors,d=i.localizer,h=endOfRange({dateRange:e,localizer:d}),g=h.first,_=h.last,$l=s.map(function(Fl){return eventSegments(Fl,e,c,d)}),Rl=eventLevels($l,Math.max(o-1,1)),Ml=Rl.levels,Ul=Rl.extra;Ml.length<a;)Ml.push([]);return{first:g,last:_,levels:Ml,extra:Ul,range:e,slots:e.length,clone:function(Ll){var Bl=getSlotMetrics$1();return Bl(_objectSpread2(_objectSpread2({},i),Ll))},getDateForSlot:function(Ll){return e[Ll]},getSlotForDate:function(Ll){return e.find(function(Bl){return d.isSameDate(Bl,Ll)})},getEventsForSlot:function(Ll){return $l.filter(function(Bl){return isSegmentInSlot(Bl,Ll)}).map(function(Bl){return Bl.event})},continuesPrior:function(Ll){return d.continuesPrior(c.start(Ll),g)},continuesAfter:function(Ll){var Bl=c.start(Ll),zl=c.end(Ll);return d.continuesAfter(Bl,zl,_)}}},isEqual)}var DateContentRow=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck$2(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),o.handleSelectSlot=function(h){var g=o.props,_=g.range,$l=g.onSelectSlot;$l(_.slice(h.start,h.end+1),h)},o.handleShowMore=function(h,g){var _=o.props,$l=_.range,Rl=_.onShowMore,Ml=o.slotMetrics(o.props),Ul=qsa(o.containerRef.current,".rbc-row-bg")[0],Fl;Ul&&(Fl=Ul.children[h-1]);var Ll=Ml.getEventsForSlot(h);Rl(Ll,$l[h-1],Fl,h,g)},o.getContainer=function(){var h=o.props.container;return h?h():o.containerRef.current},o.renderHeadingCell=function(h,g){var _=o.props,$l=_.renderHeader,Rl=_.getNow,Ml=_.localizer;return $l({date:h,key:"header_".concat(g),className:clsx("rbc-date-cell",Ml.isSameDate(h,Rl())&&"rbc-now")})},o.renderDummy=function(){var h=o.props,g=h.className,_=h.range,$l=h.renderHeader,Rl=h.showAllEvents;return jsx("div",{className:g,ref:o.containerRef,children:jsxs("div",{className:clsx("rbc-row-content",Rl&&"rbc-row-content-scrollable"),children:[$l&&jsx("div",{className:"rbc-row",ref:o.headingRowRef,children:_.map(o.renderHeadingCell)}),jsx("div",{className:"rbc-row",ref:o.eventRowRef,children:jsx("div",{className:"rbc-row-segment",children:jsx("div",{className:"rbc-event",children:jsx("div",{className:"rbc-event-content",children:"\xA0"})})})})]})})},o.containerRef=react$1.exports.createRef(),o.headingRowRef=react$1.exports.createRef(),o.eventRowRef=react$1.exports.createRef(),o.slotMetrics=getSlotMetrics$1(),o}return _createClass$1(s,[{key:"getRowLimit",value:function(){var a,c=height(this.eventRowRef.current),d=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?height(this.headingRowRef.current):0,h=height(this.containerRef.current)-d;return Math.max(Math.floor(h/c),1)}},{key:"render",value:function(){var a=this.props,c=a.date,d=a.rtl,h=a.range,g=a.className,_=a.selected,$l=a.selectable,Rl=a.renderForMeasure,Ml=a.accessors,Ul=a.getters,Fl=a.components,Ll=a.getNow,Bl=a.renderHeader,zl=a.onSelect,Hl=a.localizer,Wl=a.onSelectStart,Yl=a.onSelectEnd,Xl=a.onDoubleClick,Gl=a.onKeyPress,_d=a.resourceId,Kl=a.longPressThreshold,ru=a.isAllDay,Zl=a.resizable,tp=a.showAllEvents;if(Rl)return this.renderDummy();var op=this.slotMetrics(this.props),bp=op.levels,ap=op.extra,hp=tp?ScrollableWeekWrapper:NoopWrapper,gp=Fl.weekWrapper,rp={selected:_,accessors:Ml,getters:Ul,localizer:Hl,components:Fl,onSelect:zl,onDoubleClick:Xl,onKeyPress:Gl,resourceId:_d,slotMetrics:op,resizable:Zl};return jsxs("div",{className:g,role:"rowgroup",ref:this.containerRef,children:[jsx(BackgroundCells,{localizer:Hl,date:c,getNow:Ll,rtl:d,range:h,selectable:$l,container:this.getContainer,getters:Ul,onSelectStart:Wl,onSelectEnd:Yl,onSelectSlot:this.handleSelectSlot,components:Fl,longPressThreshold:Kl,resourceId:_d}),jsxs("div",{className:clsx("rbc-row-content",tp&&"rbc-row-content-scrollable"),role:"row",children:[Bl&&jsx("div",{className:"rbc-row ",ref:this.headingRowRef,children:h.map(this.renderHeadingCell)}),jsx(hp,{children:jsxs(gp,{...Object.assign({isAllDay:ru},rp),children:[bp.map(function(up,$p){return jsx(EventRow,{...Object.assign({key:$p,segments:up},rp)})}),!!ap.length&&jsx(EventEndingRow,{...Object.assign({segments:ap,onShowMore:this.handleShowMore},rp)})]})})]})]})}}]),s}(React$6.Component);DateContentRow.defaultProps={minRows:0,maxRows:1/0};var Header=function(e){var s=e.label;return jsx("span",{role:"columnheader","aria-sort":"none",children:s})},DateHeader=function(e){var s=e.label,o=e.drilldownView,a=e.onDrillDown;return o?jsx("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell",children:s}):jsx("span",{children:s})},_excluded$6=["date","className"],eventsForWeek=function(e,s,o,a,c){return e.filter(function(d){return inRange(d,s,o,a,c)})},MonthView=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck$2(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),o.getContainer=function(){return o.containerRef.current},o.renderWeek=function(h,g){var _=o.props,$l=_.events,Rl=_.components,Ml=_.selectable,Ul=_.getNow,Fl=_.selected,Ll=_.date,Bl=_.localizer,zl=_.longPressThreshold,Hl=_.accessors,Wl=_.getters,Yl=_.showAllEvents,Xl=o.state,Gl=Xl.needLimitMeasure,_d=Xl.rowLimit,Kl=eventsForWeek(_toConsumableArray($l),h[0],h[h.length-1],Hl,Bl);return Kl.sort(function(ru,Zl){return sortEvents(ru,Zl,Hl,Bl)}),jsx(DateContentRow,{ref:g===0?o.slotRowRef:void 0,container:o.getContainer,className:"rbc-month-row",getNow:Ul,date:Ll,range:h,events:Kl,maxRows:Yl?1/0:_d,selected:Fl,selectable:Ml,components:Rl,accessors:Hl,getters:Wl,localizer:Bl,renderHeader:o.readerDateHeading,renderForMeasure:Gl,onShowMore:o.handleShowMore,onSelect:o.handleSelectEvent,onDoubleClick:o.handleDoubleClickEvent,onKeyPress:o.handleKeyPressEvent,onSelectSlot:o.handleSelectSlot,longPressThreshold:zl,rtl:o.props.rtl,resizable:o.props.resizable,showAllEvents:Yl},g)},o.readerDateHeading=function(h){var g=h.date,_=h.className,$l=_objectWithoutProperties(h,_excluded$6),Rl=o.props,Ml=Rl.date,Ul=Rl.getDrilldownView,Fl=Rl.localizer,Ll=Fl.neq(g,Ml,"month"),Bl=Fl.isSameDate(g,Ml),zl=Ul(g),Hl=Fl.format(g,"dateFormat"),Wl=o.props.components.dateHeader||DateHeader;return jsx("div",{...Object.assign({},$l,{className:clsx(_,Ll&&"rbc-off-range",Bl&&"rbc-current"),role:"cell"}),children:jsx(Wl,{label:Hl,date:g,drilldownView:zl,isOffRange:Ll,onDrillDown:function(Xl){return o.handleHeadingClick(g,zl,Xl)}})})},o.handleSelectSlot=function(h,g){o._pendingSelection=o._pendingSelection.concat(h),clearTimeout(o._selectTimer),o._selectTimer=setTimeout(function(){return o.selectDates(g)})},o.handleHeadingClick=function(h,g,_){_.preventDefault(),o.clearSelection(),notify(o.props.onDrillDown,[h,g])},o.handleSelectEvent=function(){o.clearSelection();for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onSelectEvent,g)},o.handleDoubleClickEvent=function(){o.clearSelection();for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onDoubleClickEvent,g)},o.handleKeyPressEvent=function(){o.clearSelection();for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onKeyPressEvent,g)},o.handleShowMore=function(h,g,_,$l,Rl){var Ml=o.props,Ul=Ml.popup,Fl=Ml.onDrillDown,Ll=Ml.onShowMore,Bl=Ml.getDrilldownView,zl=Ml.doShowMoreDrillDown;if(o.clearSelection(),Ul){var Hl=position(_,o.containerRef.current);o.setState({overlay:{date:g,events:h,position:Hl,target:Rl}})}else zl&&notify(Fl,[g,Bl(g)||views.DAY]);notify(Ll,[h,g,$l])},o.overlayDisplay=function(){o.setState({overlay:null})},o.state={rowLimit:5,needLimitMeasure:!0,date:null},o.containerRef=react$1.exports.createRef(),o.slotRowRef=react$1.exports.createRef(),o._bgRows=[],o._pendingSelection=[],o}return _createClass$1(s,[{key:"componentDidMount",value:function(){var a=this,c;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){c||request(function(){c=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,c=a.date,d=a.localizer,h=a.className,g=d.visibleDays(c,d),_=chunk(g,7);return this._weekCount=_.length,jsxs("div",{className:clsx("rbc-month-view",h),role:"table","aria-label":"Month View",ref:this.containerRef,children:[jsx("div",{className:"rbc-row rbc-month-header",role:"row",children:this.renderHeaders(_[0])}),_.map(this.renderWeek),this.props.popup&&this.renderOverlay()]})}},{key:"renderHeaders",value:function(a){var c=this.props,d=c.localizer,h=c.components,g=a[0],_=a[a.length-1],$l=h.header||Header;return d.range(g,_,"day").map(function(Rl,Ml){return jsx("div",{className:"rbc-header",children:jsx($l,{date:Rl,localizer:d,label:d.format(Rl,"weekdayFormat")})},"header_"+Ml)})}},{key:"renderOverlay",value:function(){var a,c,d=this,h=(a=(c=this.state)===null||c===void 0?void 0:c.overlay)!==null&&a!==void 0?a:{},g=this.props,_=g.accessors,$l=g.localizer,Rl=g.components,Ml=g.getters,Ul=g.selected,Fl=g.popupOffset,Ll=g.handleDragStart,Bl=function(){return d.setState({overlay:null})};return jsx(PopOverlay,{overlay:h,accessors:_,localizer:$l,components:Rl,getters:Ml,selected:Ul,popupOffset:Fl,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:Ll,show:!!h.position,overlayDisplay:this.overlayDisplay,onHide:Bl})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var c=this._pendingSelection.slice();this._pendingSelection=[],c.sort(function(g,_){return+g-+_});var d=new Date(c[0]),h=new Date(c[c.length-1]);h.setDate(c[c.length-1].getDate()+1),notify(this.props.onSelectSlot,{slots:c,start:d,end:h,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,c){var d=a.date,h=a.localizer;return{date:d,needLimitMeasure:h.neq(d,c.date,"month")}}}]),s}(React$6.Component);MonthView.range=function(i,e){var s=e.localizer,o=s.firstVisibleDay(i,s),a=s.lastVisibleDay(i,s);return{start:o,end:a}};MonthView.navigate=function(i,e,s){var o=s.localizer;switch(e){case navigate.PREVIOUS:return o.add(i,-1,"month");case navigate.NEXT:return o.add(i,1,"month");default:return i}};MonthView.title=function(i,e){var s=e.localizer;return s.format(i,"monthHeaderFormat")};var getKey=function(e){var s=e.min,o=e.max,a=e.step,c=e.slots,d=e.localizer;return"".concat(+d.startOf(s,"minutes"))+"".concat(+d.startOf(o,"minutes"))+"".concat(a,"-").concat(c)};function getSlotMetrics(i){for(var e=i.min,s=i.max,o=i.step,a=i.timeslots,c=i.localizer,d=getKey({start:e,end:s,step:o,timeslots:a,localizer:c}),h=1+c.getTotalMin(e,s),g=c.getMinutesFromMidnight(e),_=Math.ceil((h-1)/(o*a)),$l=_*a,Rl=new Array(_),Ml=new Array($l),Ul=0;Ul<_;Ul++){Rl[Ul]=new Array(a);for(var Fl=0;Fl<a;Fl++){var Ll=Ul*a+Fl,Bl=Ll*o;Ml[Ll]=Rl[Ul][Fl]=c.getSlotDate(e,g,Bl)}}var zl=Ml.length*o;Ml.push(c.getSlotDate(e,g,zl));function Hl(Wl){var Yl=c.diff(e,Wl,"minutes")+c.getDstOffset(e,Wl);return Math.min(Yl,h)}return{groups:Rl,update:function(Yl){return getKey(Yl)!==d?getSlotMetrics(Yl):this},dateIsInGroup:function(Yl,Xl){var Gl=Rl[Xl+1];return c.inRange(Yl,Rl[Xl][0],Gl?Gl[0]:s,"minutes")},nextSlot:function(Yl){var Xl=Ml[Math.min(Ml.indexOf(Yl)+1,Ml.length-1)];return Xl===Yl&&(Xl=c.add(Yl,o,"minutes")),Xl},closestSlotToPosition:function(Yl){var Xl=Math.min(Ml.length-1,Math.max(0,Math.floor(Yl*$l)));return Ml[Xl]},closestSlotFromPoint:function(Yl,Xl){var Gl=Math.abs(Xl.top-Xl.bottom);return this.closestSlotToPosition((Yl.y-Xl.top)/Gl)},closestSlotFromDate:function(Yl){var Xl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(c.lt(Yl,e,"minutes"))return Ml[0];if(c.gt(Yl,s,"minutes"))return Ml[Ml.length-1];var Gl=c.diff(e,Yl,"minutes");return Ml[(Gl-Gl%o)/o+Xl]},startsBeforeDay:function(Yl){return c.lt(Yl,e,"day")},startsAfterDay:function(Yl){return c.gt(Yl,s,"day")},startsBefore:function(Yl){return c.lt(c.merge(e,Yl),e,"minutes")},startsAfter:function(Yl){return c.gt(c.merge(s,Yl),s,"minutes")},getRange:function(Yl,Xl,Gl,_d){Gl||(Yl=c.min(s,c.max(e,Yl))),_d||(Xl=c.min(s,c.max(e,Xl)));var Kl=Hl(Yl),ru=Hl(Xl),Zl=ru>o*$l&&!c.eq(s,Xl)?(Kl-o)/(o*$l)*100:Kl/(o*$l)*100;return{top:Zl,height:ru/(o*$l)*100-Zl,start:Hl(Yl),startDate:Yl,end:Hl(Xl),endDate:Xl}},getCurrentTimePosition:function(Yl){var Xl=Hl(Yl),Gl=Xl/(o*$l)*100;return Gl}}}var Event$1=function(){function i(e,s){var o=s.accessors,a=s.slotMetrics;_classCallCheck$2(this,i);var c=a.getRange(o.start(e),o.end(e)),d=c.start,h=c.startDate,g=c.end,_=c.endDate,$l=c.top,Rl=c.height;this.start=d,this.end=g,this.startMs=+h,this.endMs=+_,this.top=$l,this.height=Rl,this.data=e}return _createClass$1(i,[{key:"_width",get:function(){if(this.rows){var s=this.rows.reduce(function(a,c){return Math.max(a,c.leaves.length+1)},0)+1;return 100/s}var o=100-this.container._width;return this.leaves?o/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var s=this._width,o=Math.min(100,this._width*1.7);if(this.rows)return o;if(this.leaves)return this.leaves.length>0?o:s;var a=this.row.leaves,c=a.indexOf(this);return c===a.length-1?s:o}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var s=this.row,o=s.leaves,a=s.xOffset,c=s._width,d=o.indexOf(this)+1;return a+d*c}}]),i}();function onSameRow(i,e,s){return Math.abs(e.start-i.start)<s||e.start>i.start&&e.start<i.end}function sortByRender(i){for(var e=sortBy$1(i,["startMs",function(h){return-h.endMs}]),s=[];e.length>0;){var o=e.shift();s.push(o);for(var a=0;a<e.length;a++){var c=e[a];if(!(o.endMs>c.startMs)){if(a>0){var d=e.splice(a,1)[0];s.push(d)}break}}}return s}function getStyledEvents$1(i){for(var e=i.events,s=i.minimumStartDifference,o=i.slotMetrics,a=i.accessors,c=e.map(function(Rl){return new Event$1(Rl,{slotMetrics:o,accessors:a})}),d=sortByRender(c),h=[],g=function(Ml){var Ul=d[Ml],Fl=h.find(function(zl){return zl.end>Ul.start||Math.abs(Ul.start-zl.start)<s});if(!Fl)return Ul.rows=[],h.push(Ul),"continue";Ul.container=Fl;for(var Ll=null,Bl=Fl.rows.length-1;!Ll&&Bl>=0;Bl--)onSameRow(Fl.rows[Bl],Ul,s)&&(Ll=Fl.rows[Bl]);Ll?(Ll.leaves.push(Ul),Ul.row=Ll):(Ul.leaves=[],Fl.rows.push(Ul))},_=0;_<d.length;_++)var $l=g(_);return d.map(function(Rl){return{event:Rl.data,style:{top:Rl.top,height:Rl.height,width:Rl.width,xOffset:Math.max(0,Rl.xOffset)}}})}function getMaxIdxDFS(i,e,s){for(var o=0;o<i.friends.length;++o)if(!(s.indexOf(i.friends[o])>-1)){e=e>i.friends[o].idx?e:i.friends[o].idx,s.push(i.friends[o]);var a=getMaxIdxDFS(i.friends[o],e,s);e=e>a?e:a}return e}function noOverlap(i){var e=i.events,s=i.minimumStartDifference,o=i.slotMetrics,a=i.accessors,c=getStyledEvents$1({events:e,minimumStartDifference:s,slotMetrics:o,accessors:a});c.sort(function(hp,gp){return hp=hp.style,gp=gp.style,hp.top!==gp.top?hp.top>gp.top?1:-1:hp.top+hp.height<gp.top+gp.height?1:-1});for(var d=0;d<c.length;++d)c[d].friends=[],delete c[d].style.left,delete c[d].style.left,delete c[d].idx,delete c[d].size;for(var h=0;h<c.length-1;++h)for(var g=c[h],_=g.style.top,$l=g.style.top+g.style.height,Rl=h+1;Rl<c.length;++Rl){var Ml=c[Rl],Ul=Ml.style.top,Fl=Ml.style.top+Ml.style.height;(Ul<=_&&_<=Fl||_<=Ul&&Ul<=$l)&&(g.friends.push(Ml),Ml.friends.push(g))}for(var Ll=0;Ll<c.length;++Ll){for(var Bl=c[Ll],zl=[],Hl=0;Hl<100;++Hl)zl.push(1);for(var Wl=0;Wl<Bl.friends.length;++Wl)Bl.friends[Wl].idx!==void 0&&(zl[Bl.friends[Wl].idx]=0);Bl.idx=zl.indexOf(1)}for(var Yl=0;Yl<c.length;++Yl){var Xl=0;if(!c[Yl].size){var Gl=[],_d=getMaxIdxDFS(c[Yl],0,Gl);Xl=100/(_d+1),c[Yl].size=Xl;for(var Kl=0;Kl<Gl.length;++Kl)Gl[Kl].size=Xl}}for(var ru=0;ru<c.length;++ru){var Zl=c[ru];Zl.style.left=Zl.idx*Zl.size;for(var tp=0,op=0;op<Zl.friends.length;++op){var bp=Zl.friends[op].idx;tp=tp>bp?tp:bp}tp<=Zl.idx&&(Zl.size=100-Zl.idx*Zl.size);var ap=Zl.idx===0?0:3;Zl.style.width="calc(".concat(Zl.size,"% - ").concat(ap,"px)"),Zl.style.height="calc(".concat(Zl.style.height,"% - 2px)"),Zl.style.xOffset="calc(".concat(Zl.style.left,"% + ").concat(ap,"px)")}return c}var DefaultAlgorithms={overlap:getStyledEvents$1,"no-overlap":noOverlap};function isFunction$1(i){return!!(i&&i.constructor&&i.call&&i.apply)}function getStyledEvents(i){i.events,i.minimumStartDifference,i.slotMetrics,i.accessors;var e=i.dayLayoutAlgorithm,s=e;return e in DefaultAlgorithms&&(s=DefaultAlgorithms[e]),isFunction$1(s)?s.apply(this,arguments):[]}var TimeSlotGroup=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.renderSlot,d=a.resource,h=a.group,g=a.getters,_=a.components;_=_===void 0?{}:_;var $l=_.timeSlotWrapper,Rl=$l===void 0?NoopWrapper:$l,Ml=g?g.slotGroupProp():{};return jsx("div",{...Object.assign({className:"rbc-timeslot-group"},Ml),children:h.map(function(Ul,Fl){var Ll=g?g.slotProp(Ul,d):{};return jsx(Rl,{value:Ul,resource:d,children:jsx("div",{...Object.assign({},Ll,{className:clsx("rbc-time-slot",Ll.className)}),children:c&&c(Ul,Fl)})},Fl)})})}}]),s}(react$1.exports.Component);function stringifyPercent(i){return typeof i=="string"?i:i+"%"}function TimeGridEvent(i){var e=i.style,s=i.className,o=i.event,a=i.accessors,c=i.rtl,d=i.selected,h=i.label,g=i.continuesPrior,_=i.continuesAfter,$l=i.getters,Rl=i.onClick,Ml=i.onDoubleClick,Ul=i.isBackgroundEvent,Fl=i.onKeyPress,Ll=i.components,Bl=Ll.event,zl=Ll.eventWrapper,Hl=a.title(o),Wl=a.tooltip(o),Yl=a.end(o),Xl=a.start(o),Gl=$l.eventProp(o,Xl,Yl,d),_d=e.height,Kl=e.top,ru=e.width,Zl=e.xOffset,tp=[jsx("div",{className:"rbc-event-label",children:h},"1"),jsx("div",{className:"rbc-event-content",children:Bl?jsx(Bl,{event:o,title:Hl}):Hl},"2")],op=Ul?_objectSpread2(_objectSpread2({},Gl.style),{},_defineProperty({top:stringifyPercent(Kl),height:stringifyPercent(_d),width:"calc(".concat(ru," + 10px)")},c?"right":"left",stringifyPercent(Math.max(0,Zl)))):_objectSpread2(_objectSpread2({},Gl.style),{},_defineProperty({top:stringifyPercent(Kl),width:stringifyPercent(ru),height:stringifyPercent(_d)},c?"right":"left",stringifyPercent(Zl)));return jsx(zl,{...Object.assign({type:"time"},i),children:jsx("div",{onClick:Rl,onDoubleClick:Ml,style:op,onKeyPress:Fl,title:Wl?(typeof h=="string"?h+": ":"")+Wl:void 0,className:clsx(Ul?"rbc-background-event":"rbc-event",s,Gl.className,{"rbc-selected":d,"rbc-event-continues-earlier":g,"rbc-event-continues-later":_}),children:tp})})}var DayColumnWrapper=function(e){var s=e.children,o=e.className,a=e.style,c=e.innerRef;return jsx("div",{className:o,style:a,ref:c,children:s})},DayColumnWrapper$1=React$6.forwardRef(function(i,e){return jsx(DayColumnWrapper,{...Object.assign({},i,{innerRef:e})})}),_excluded$5=["dayProp"],_excluded2$1=["eventContainerWrapper"],DayColumn=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck$2(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),o.state={selecting:!1,timeIndicatorPosition:null},o.intervalTriggered=!1,o.renderEvents=function(h){var g=h.events,_=h.isBackgroundEvent,$l=o.props,Rl=$l.rtl,Ml=$l.selected,Ul=$l.accessors,Fl=$l.localizer,Ll=$l.getters,Bl=$l.components,zl=$l.step,Hl=$l.timeslots,Wl=$l.dayLayoutAlgorithm,Yl=$l.resizable,Xl=_assertThisInitialized(o),Gl=Xl.slotMetrics,_d=Fl.messages,Kl=getStyledEvents({events:g,accessors:Ul,slotMetrics:Gl,minimumStartDifference:Math.ceil(zl*Hl/2),dayLayoutAlgorithm:Wl});return Kl.map(function(ru,Zl){var tp=ru.event,op=ru.style,bp=Ul.end(tp),ap=Ul.start(tp),hp="eventTimeRangeFormat",gp,rp=Gl.startsBeforeDay(ap),up=Gl.startsAfterDay(bp);rp?hp="eventTimeRangeEndFormat":up&&(hp="eventTimeRangeStartFormat"),rp&&up?gp=_d.allDay:gp=Fl.format({start:ap,end:bp},hp);var $p=rp||Gl.startsBefore(ap),yp=up||Gl.startsAfter(bp);return jsx(TimeGridEvent,{style:op,event:tp,label:gp,getters:Ll,rtl:Rl,components:Bl,continuesPrior:$p,continuesAfter:yp,accessors:Ul,selected:isSelected(tp,Ml),onClick:function(ep){return o._select(tp,ep)},onDoubleClick:function(ep){return o._doubleClick(tp,ep)},isBackgroundEvent:_,onKeyPress:function(ep){return o._keyPress(tp,ep)},resizable:Yl},"evt_"+Zl)})},o._selectable=function(){var h=o.containerRef.current,g=o.props,_=g.longPressThreshold,$l=g.localizer,Rl=o._selector=new Selection(function(){return h},{longPressThreshold:_}),Ml=function(Bl){var zl=o.props.onSelecting,Hl=o.state||{},Wl=Ul(Bl),Yl=Wl.startDate,Xl=Wl.endDate;zl&&($l.eq(Hl.startDate,Yl,"minutes")&&$l.eq(Hl.endDate,Xl,"minutes")||zl({start:Yl,end:Xl,resourceId:o.props.resource})===!1)||(o.state.start!==Wl.start||o.state.end!==Wl.end||o.state.selecting!==Wl.selecting)&&o.setState(Wl)},Ul=function(Bl){var zl=o.slotMetrics.closestSlotFromPoint(Bl,getBoundsForNode(h));o.state.selecting||(o._initialSlot=zl);var Hl=o._initialSlot;$l.lte(Hl,zl)?zl=o.slotMetrics.nextSlot(zl):$l.gt(Hl,zl)&&(Hl=o.slotMetrics.nextSlot(Hl));var Wl=o.slotMetrics.getRange($l.min(Hl,zl),$l.max(Hl,zl));return _objectSpread2(_objectSpread2({},Wl),{},{selecting:!0,top:"".concat(Wl.top,"%"),height:"".concat(Wl.height,"%")})},Fl=function(Bl,zl){if(!isEvent(o.containerRef.current,Bl)){var Hl=Ul(Bl),Wl=Hl.startDate,Yl=Hl.endDate;o._selectSlot({startDate:Wl,endDate:Yl,action:zl,box:Bl})}o.setState({selecting:!1})};Rl.on("selecting",Ml),Rl.on("selectStart",Ml),Rl.on("beforeSelect",function(Ll){if(o.props.selectable==="ignoreEvents")return!isEvent(o.containerRef.current,Ll)}),Rl.on("click",function(Ll){return Fl(Ll,"click")}),Rl.on("doubleClick",function(Ll){return Fl(Ll,"doubleClick")}),Rl.on("select",function(Ll){o.state.selecting&&(o._selectSlot(_objectSpread2(_objectSpread2({},o.state),{},{action:"select",bounds:Ll})),o.setState({selecting:!1}))}),Rl.on("reset",function(){o.state.selecting&&o.setState({selecting:!1})})},o._teardownSelectable=function(){!o._selector||(o._selector.teardown(),o._selector=null)},o._selectSlot=function(h){for(var g=h.startDate,_=h.endDate,$l=h.action,Rl=h.bounds,Ml=h.box,Ul=g,Fl=[];o.props.localizer.lte(Ul,_);)Fl.push(Ul),Ul=new Date(+Ul+o.props.step*60*1e3);notify(o.props.onSelectSlot,{slots:Fl,start:g,end:_,resourceId:o.props.resource,action:$l,bounds:Rl,box:Ml})},o._select=function(){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onSelectEvent,g)},o._doubleClick=function(){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onDoubleClickEvent,g)},o._keyPress=function(){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onKeyPressEvent,g)},o.slotMetrics=getSlotMetrics(o.props),o.containerRef=react$1.exports.createRef(),o}return _createClass$1(s,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){a.selectable&&!this.props.selectable&&this._selectable(),!a.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(a)}},{key:"componentDidUpdate",value:function(a,c){var d=this.props,h=d.getNow,g=d.isNow,_=d.localizer,$l=d.date,Rl=d.min,Ml=d.max,Ul=_.neq(a.getNow(),h(),"minutes");if(a.isNow!==g||Ul){if(this.clearTimeIndicatorInterval(),g){var Fl=!Ul&&_.eq(a.date,$l,"minutes")&&c.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(Fl)}}else g&&(_.neq(a.min,Rl,"minutes")||_.neq(a.max,Ml,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!c&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,c=a.min,d=a.max,h=a.getNow,g=h();if(g>=c&&g<=d){var _=this.slotMetrics.getCurrentTimePosition(g);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:_})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,c=a.date,d=a.max,h=a.rtl,g=a.isNow,_=a.resource,$l=a.accessors,Rl=a.localizer,Ml=a.getters,Ul=Ml.dayProp,Fl=_objectWithoutProperties(Ml,_excluded$5),Ll=a.components,Bl=Ll.eventContainerWrapper,zl=_objectWithoutProperties(Ll,_excluded2$1),Hl=this.slotMetrics,Wl=this.state,Yl=Wl.selecting,Xl=Wl.top,Gl=Wl.height,_d=Wl.startDate,Kl=Wl.endDate,ru={start:_d,end:Kl},Zl=Ul(d),tp=Zl.className,op=Zl.style,bp=zl.dayColumnWrapper||DayColumnWrapper$1;return jsxs(bp,{ref:this.containerRef,date:c,style:op,className:clsx(tp,"rbc-day-slot","rbc-time-column",g&&"rbc-now",g&&"rbc-today",Yl&&"rbc-slot-selecting"),slotMetrics:Hl,children:[Hl.groups.map(function(ap,hp){return jsx(TimeSlotGroup,{group:ap,resource:_,getters:Fl,components:zl},hp)}),jsx(Bl,{localizer:Rl,resource:_,accessors:$l,getters:Fl,components:zl,slotMetrics:Hl,children:jsxs("div",{className:clsx("rbc-events-container",h&&"rtl"),children:[this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events})]})}),Yl&&jsx("div",{className:"rbc-slot-selection",style:{top:Xl,height:Gl},children:jsx("span",{children:Rl.format(ru,"selectRangeFormat")})}),g&&this.intervalTriggered&&jsx("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}})]})}}]),s}(React$6.Component);DayColumn.defaultProps={dragThroughEvents:!0,timeslots:2};function adjustForDST(i){var e=i.min,s=i.max,o=i.localizer;return o.getTimezoneOffset(e)!==o.getTimezoneOffset(s)?{start:o.add(e,-1,"day"),end:o.add(s,-1,"day")}:{start:e,end:s}}var TimeGutter=function(e){var s=e.min,o=e.max,a=e.timeslots,c=e.step,d=e.localizer,h=e.getNow,g=e.resource,_=e.components,$l=e.getters,Rl=e.gutterRef,Ml=_.timeGutterWrapper,Ul=react$1.exports.useMemo(function(){return adjustForDST({min:s,max:o,localizer:d})},[s==null?void 0:s.toISOString(),o==null?void 0:o.toISOString(),d]),Fl=Ul.start,Ll=Ul.end,Bl=react$1.exports.useState(getSlotMetrics({min:Fl,max:Ll,timeslots:a,step:c,localizer:d})),zl=_slicedToArray(Bl,2),Hl=zl[0],Wl=zl[1];react$1.exports.useEffect(function(){Hl&&Wl(Hl.update({min:Fl,max:Ll,timeslots:a,step:c,localizer:d}))},[Fl==null?void 0:Fl.toISOString(),Ll==null?void 0:Ll.toISOString(),a,c]);var Yl=react$1.exports.useCallback(function(Xl,Gl){if(Gl)return null;var _d=Hl.dateIsInGroup(h(),Gl);return jsx("span",{className:clsx("rbc-label",_d&&"rbc-now"),children:d.format(Xl,"timeGutterFormat")})},[Hl,d,h]);return jsx(Ml,{slotMetrics:Hl,children:jsx("div",{className:"rbc-time-gutter rbc-time-column",ref:Rl,children:Hl.groups.map(function(Xl,Gl){return jsx(TimeSlotGroup,{group:Xl,resource:g,components:_,renderSlot:Yl,getters:$l},Gl)})})})},TimeGutter$1=React$6.forwardRef(function(i,e){return jsx(TimeGutter,{...Object.assign({gutterRef:e},i)})}),ResourceHeader=function(e){var s=e.label;return jsx(Fragment,{children:s})},TimeGridHeader=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck$2(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),o.handleHeaderClick=function(h,g,_){_.preventDefault(),notify(o.props.onDrillDown,[h,g])},o.renderRow=function(h){var g=o.props,_=g.events,$l=g.rtl,Rl=g.selectable,Ml=g.getNow,Ul=g.range,Fl=g.getters,Ll=g.localizer,Bl=g.accessors,zl=g.components,Hl=g.resizable,Wl=Bl.resourceId(h),Yl=h?_.filter(function(Xl){return Bl.resource(Xl)===Wl}):_;return jsx(DateContentRow,{isAllDay:!0,rtl:$l,getNow:Ml,minRows:2,range:Ul,events:Yl,resourceId:Wl,className:"rbc-allday-cell",selectable:Rl,selected:o.props.selected,components:zl,accessors:Bl,getters:Fl,localizer:Ll,onSelect:o.props.onSelectEvent,onDoubleClick:o.props.onDoubleClickEvent,onKeyPress:o.props.onKeyPressEvent,onSelectSlot:o.props.onSelectSlot,longPressThreshold:o.props.longPressThreshold,resizable:Hl})},o}return _createClass$1(s,[{key:"renderHeaderCells",value:function(a){var c=this,d=this.props,h=d.localizer,g=d.getDrilldownView,_=d.getNow,$l=d.getters.dayProp,Rl=d.components.header,Ml=Rl===void 0?Header:Rl,Ul=_();return a.map(function(Fl,Ll){var Bl=g(Fl),zl=h.format(Fl,"dayFormat"),Hl=$l(Fl),Wl=Hl.className,Yl=Hl.style,Xl=jsx(Ml,{date:Fl,label:zl,localizer:h});return jsx("div",{style:Yl,className:clsx("rbc-header",Wl,h.isSameDate(Fl,Ul)&&"rbc-today"),children:Bl?jsx("button",{type:"button",className:"rbc-button-link",onClick:function(_d){return c.handleHeaderClick(Fl,Bl,_d)},children:Xl}):jsx("span",{children:Xl})},Ll)})}},{key:"render",value:function(){var a=this,c=this.props,d=c.width,h=c.rtl,g=c.resources,_=c.range,$l=c.events,Rl=c.getNow,Ml=c.accessors,Ul=c.selectable,Fl=c.components,Ll=c.getters,Bl=c.scrollRef,zl=c.localizer,Hl=c.isOverflowing,Wl=c.components,Yl=Wl.timeGutterHeader,Xl=Wl.resourceHeader,Gl=Xl===void 0?ResourceHeader:Xl,_d=c.resizable,Kl={};Hl&&(Kl[h?"marginLeft":"marginRight"]="".concat(scrollbarSize(),"px"));var ru=g.groupEvents($l);return jsxs("div",{style:Kl,ref:Bl,className:clsx("rbc-time-header",Hl&&"rbc-overflowing"),children:[jsx("div",{className:"rbc-label rbc-time-header-gutter",style:{width:d,minWidth:d,maxWidth:d},children:Yl&&jsx(Yl,{})}),g.map(function(Zl,tp){var op=_slicedToArray(Zl,2),bp=op[0],ap=op[1];return jsxs("div",{className:"rbc-time-header-content",children:[ap&&jsx("div",{className:"rbc-row rbc-row-resource",children:jsx("div",{className:"rbc-header",children:jsx(Gl,{index:tp,label:Ml.resourceTitle(ap),resource:ap})})},"resource_".concat(tp)),jsx("div",{className:"rbc-row rbc-time-header-cell".concat(_.length<=1?" rbc-time-header-cell-single-day":""),children:a.renderHeaderCells(_)}),jsx(DateContentRow,{isAllDay:!0,rtl:h,getNow:Rl,minRows:2,range:_,events:ru.get(bp)||[],resourceId:ap&&bp,className:"rbc-allday-cell",selectable:Ul,selected:a.props.selected,components:Fl,accessors:Ml,getters:Ll,localizer:zl,onSelect:a.props.onSelectEvent,onDoubleClick:a.props.onDoubleClickEvent,onKeyPress:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:_d})]},bp||tp)})]})}}]),s}(React$6.Component),NONE={};function Resources(i,e){return{map:function(o){return i?i.map(function(a,c){return o([e.resourceId(a),a],c)}):[o([NONE,null],0)]},groupEvents:function(o){var a=new Map;return i?(o.forEach(function(c){var d=e.resource(c)||NONE,h=a.get(d)||[];h.push(c),a.set(d,h)}),a):(a.set(NONE,o),a)}}}var TimeGrid=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(o){var a;return _classCallCheck$2(this,s),a=e.call(this,o),a.handleScroll=function(c){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=c.target.scrollLeft)},a.handleResize=function(){cancel(a.rafHandle),a.rafHandle=request(a.checkOverflow)},a.handleSelectAlldayEvent=function(){a.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];notify(a.props.onSelectEvent,d)},a.handleSelectAllDaySlot=function(c,d){var h=a.props.onSelectSlot,g=new Date(c[0]),_=new Date(c[c.length-1]);_.setDate(c[c.length-1].getDate()+1),notify(h,{slots:c,start:g,end:_,action:d.action,resourceId:d.resourceId})},a.checkOverflow=function(){if(!a._updatingOverflow){var c=a.contentRef.current,d=c.scrollHeight>c.clientHeight;a.state.isOverflowing!==d&&(a._updatingOverflow=!0,a.setState({isOverflowing:d},function(){a._updatingOverflow=!1}))}},a.memoizedResources=memoizeOne(function(c,d){return Resources(c,d)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=React$6.createRef(),a.contentRef=React$6.createRef(),a._scrollRatio=null,a.gutterRef=react$1.exports.createRef(),a}return _createClass$1(s,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),cancel(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(a,c,d,h){var g=this,_=this.props,$l=_.min,Rl=_.max,Ml=_.components,Ul=_.accessors,Fl=_.localizer,Ll=_.dayLayoutAlgorithm,Bl=this.memoizedResources(this.props.resources,Ul),zl=Bl.groupEvents(c),Hl=Bl.groupEvents(d);return Bl.map(function(Wl,Yl){var Xl=_slicedToArray(Wl,2),Gl=Xl[0],_d=Xl[1];return a.map(function(Kl,ru){var Zl=(zl.get(Gl)||[]).filter(function(op){return Fl.inRange(Kl,Ul.start(op),Ul.end(op),"day")}),tp=(Hl.get(Gl)||[]).filter(function(op){return Fl.inRange(Kl,Ul.start(op),Ul.end(op),"day")});return jsx(DayColumn,{...Object.assign({},g.props,{localizer:Fl,min:Fl.merge(Kl,$l),max:Fl.merge(Kl,Rl),resource:_d&&Gl,components:Ml,isNow:Fl.isSameDate(Kl,h),key:Yl+"-"+ru,date:Kl,events:Zl,backgroundEvents:tp,dayLayoutAlgorithm:Ll})})})})}},{key:"render",value:function(){var a=this.props,c=a.events,d=a.backgroundEvents,h=a.range,g=a.width,_=a.rtl,$l=a.selected,Rl=a.getNow,Ml=a.resources,Ul=a.components,Fl=a.accessors,Ll=a.getters,Bl=a.localizer,zl=a.min,Hl=a.max,Wl=a.showMultiDayTimes,Yl=a.longPressThreshold,Xl=a.resizable;g=g||this.state.gutterWidth;var Gl=h[0],_d=h[h.length-1];this.slots=h.length;var Kl=[],ru=[],Zl=[];return c.forEach(function(tp){if(inRange(tp,Gl,_d,Fl,Bl)){var op=Fl.start(tp),bp=Fl.end(tp);Fl.allDay(tp)||Bl.startAndEndAreDateOnly(op,bp)||!Wl&&!Bl.isSameDate(op,bp)?Kl.push(tp):ru.push(tp)}}),d.forEach(function(tp){inRange(tp,Gl,_d,Fl,Bl)&&Zl.push(tp)}),Kl.sort(function(tp,op){return sortEvents(tp,op,Fl,Bl)}),jsxs("div",{className:clsx("rbc-time-view",Ml&&"rbc-time-view-resources"),children:[jsx(TimeGridHeader,{range:h,events:Kl,width:g,rtl:_,getNow:Rl,localizer:Bl,selected:$l,resources:this.memoizedResources(Ml,Fl),selectable:this.props.selectable,accessors:Fl,getters:Ll,components:Ul,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:Yl,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:Xl}),jsxs("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll,children:[jsx(TimeGutter$1,{date:Gl,ref:this.gutterRef,localizer:Bl,min:Bl.merge(Gl,zl),max:Bl.merge(Gl,Hl),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:Ul,className:"rbc-time-gutter",getters:Ll}),this.renderEvents(h,ru,Zl,Rl())]})]})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var c,d=(c=a.gutterRef)!==null&&c!==void 0&&c.current?getWidth(a.gutterRef.current):void 0;d&&a.state.gutterWidth!==d&&a.setState({gutterWidth:d})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,c=a.min,d=a.max,h=a.scrollToTime,g=a.localizer,_=h-g.startOf(h,"day"),$l=g.diff(c,d,"milliseconds");this._scrollRatio=_/$l}}]),s}(react$1.exports.Component);TimeGrid.defaultProps={step:30,timeslots:2};var _excluded$4=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Day=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.date,d=a.localizer,h=a.min,g=h===void 0?d.startOf(new Date,"day"):h,_=a.max,$l=_===void 0?d.endOf(new Date,"day"):_,Rl=a.scrollToTime,Ml=Rl===void 0?d.startOf(new Date,"day"):Rl,Ul=a.enableAutoScroll,Fl=Ul===void 0?!0:Ul,Ll=_objectWithoutProperties(a,_excluded$4),Bl=s.range(c,{localizer:d});return jsx(TimeGrid,{...Object.assign({},Ll,{range:Bl,eventOffset:10,localizer:d,min:g,max:$l,scrollToTime:Ml,enableAutoScroll:Fl})})}}]),s}(React$6.Component);Day.range=function(i,e){var s=e.localizer;return[s.startOf(i,"day")]};Day.navigate=function(i,e,s){var o=s.localizer;switch(e){case navigate.PREVIOUS:return o.add(i,-1,"day");case navigate.NEXT:return o.add(i,1,"day");default:return i}};Day.title=function(i,e){var s=e.localizer;return s.format(i,"dayHeaderFormat")};var _excluded$3=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Week=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.date,d=a.localizer,h=a.min,g=h===void 0?d.startOf(new Date,"day"):h,_=a.max,$l=_===void 0?d.endOf(new Date,"day"):_,Rl=a.scrollToTime,Ml=Rl===void 0?d.startOf(new Date,"day"):Rl,Ul=a.enableAutoScroll,Fl=Ul===void 0?!0:Ul,Ll=_objectWithoutProperties(a,_excluded$3),Bl=s.range(c,this.props);return jsx(TimeGrid,{...Object.assign({},Ll,{range:Bl,eventOffset:15,localizer:d,min:g,max:$l,scrollToTime:Ml,enableAutoScroll:Fl})})}}]),s}(React$6.Component);Week.defaultProps=TimeGrid.defaultProps;Week.navigate=function(i,e,s){var o=s.localizer;switch(e){case navigate.PREVIOUS:return o.add(i,-1,"week");case navigate.NEXT:return o.add(i,1,"week");default:return i}};Week.range=function(i,e){var s=e.localizer,o=s.startOfWeek(),a=s.startOf(i,"week",o),c=s.endOf(i,"week",o);return s.range(a,c)};Week.title=function(i,e){var s=e.localizer,o=Week.range(i,{localizer:s}),a=_toArray(o),c=a[0],d=a.slice(1);return s.format({start:c,end:d.pop()},"dayRangeHeaderFormat")};var _excluded$2=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function workWeekRange(i,e){return Week.range(i,e).filter(function(s){return[6,0].indexOf(s.getDay())===-1})}var WorkWeek=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){return _classCallCheck$2(this,s),e.apply(this,arguments)}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.date,d=a.localizer,h=a.min,g=h===void 0?d.startOf(new Date,"day"):h,_=a.max,$l=_===void 0?d.endOf(new Date,"day"):_,Rl=a.scrollToTime,Ml=Rl===void 0?d.startOf(new Date,"day"):Rl,Ul=a.enableAutoScroll,Fl=Ul===void 0?!0:Ul,Ll=_objectWithoutProperties(a,_excluded$2),Bl=workWeekRange(c,this.props);return jsx(TimeGrid,{...Object.assign({},Ll,{range:Bl,eventOffset:15,localizer:d,min:g,max:$l,scrollToTime:Ml,enableAutoScroll:Fl})})}}]),s}(React$6.Component);WorkWeek.defaultProps=TimeGrid.defaultProps;WorkWeek.range=workWeekRange;WorkWeek.navigate=Week.navigate;WorkWeek.title=function(i,e){var s=e.localizer,o=workWeekRange(i,{localizer:s}),a=_toArray(o),c=a[0],d=a.slice(1);return s.format({start:c,end:d.pop()},"dayRangeHeaderFormat")};function Agenda(i){var e=i.accessors,s=i.components,o=i.date,a=i.events,c=i.getters,d=i.length,h=i.localizer,g=i.onDoubleClickEvent,_=i.onSelectEvent,$l=i.selected,Rl=react$1.exports.useRef(null),Ml=react$1.exports.useRef(null),Ul=react$1.exports.useRef(null),Fl=react$1.exports.useRef(null),Ll=react$1.exports.useRef(null);react$1.exports.useEffect(function(){Hl()});var Bl=function(_d,Kl,ru){var Zl=s.event,tp=s.date;return Kl=Kl.filter(function(op){return inRange(op,h.startOf(_d,"day"),h.endOf(_d,"day"),e,h)}),Kl.map(function(op,bp){var ap=e.title(op),hp=e.end(op),gp=e.start(op),rp=c.eventProp(op,gp,hp,isSelected(op,$l)),up=bp===0&&h.format(_d,"agendaDateFormat"),$p=bp===0?jsx("td",{rowSpan:Kl.length,className:"rbc-agenda-date-cell",children:tp?jsx(tp,{day:_d,label:up}):up}):!1;return jsxs("tr",{className:rp.className,style:rp.style,children:[$p,jsx("td",{className:"rbc-agenda-time-cell",children:zl(_d,op)}),jsx("td",{className:"rbc-agenda-event-cell",onClick:function(dp){return _&&_(op,dp)},onDoubleClick:function(dp){return g&&g(op,dp)},children:Zl?jsx(Zl,{event:op,title:ap}):ap})]},ru+"_"+bp)},[])},zl=function(_d,Kl){var ru="",Zl=s.time,tp=h.messages.allDay,op=e.end(Kl),bp=e.start(Kl);return e.allDay(Kl)||(h.eq(bp,op)?tp=h.format(bp,"agendaTimeFormat"):h.isSameDate(bp,op)?tp=h.format({start:bp,end:op},"agendaTimeRangeFormat"):h.isSameDate(_d,bp)?tp=h.format(bp,"agendaTimeFormat"):h.isSameDate(_d,op)&&(tp=h.format(op,"agendaTimeFormat"))),h.gt(_d,bp,"day")&&(ru="rbc-continues-prior"),h.lt(_d,op,"day")&&(ru+=" rbc-continues-after"),jsx("span",{className:ru.trim(),children:Zl?jsx(Zl,{event:Kl,day:_d,label:tp}):tp})},Hl=function(){if(!!Ll.current){var _d=Rl.current,Kl=Ll.current.firstChild;if(!!Kl){var ru=Fl.current.scrollHeight>Fl.current.clientHeight,Zl=[],tp=Zl;Zl=[getWidth(Kl.children[0]),getWidth(Kl.children[1])],(tp[0]!==Zl[0]||tp[1]!==Zl[1])&&(Ml.current.style.width=Zl[0]+"px",Ul.current.style.width=Zl[1]+"px"),ru?(addClass(_d,"rbc-header-overflowing"),_d.style.marginRight=scrollbarSize()+"px"):removeClass$1(_d,"rbc-header-overflowing")}}},Wl=h.messages,Yl=h.add(o,d,"day"),Xl=h.range(o,Yl,"day");return a=a.filter(function(Gl){return inRange(Gl,h.startOf(o,"day"),h.endOf(Yl,"day"),e,h)}),a.sort(function(Gl,_d){return+e.start(Gl)-+e.start(_d)}),jsx("div",{className:"rbc-agenda-view",children:a.length!==0?jsxs(Fragment,{children:[jsx("table",{ref:Rl,className:"rbc-agenda-table",children:jsx("thead",{children:jsxs("tr",{children:[jsx("th",{className:"rbc-header",ref:Ml,children:Wl.date}),jsx("th",{className:"rbc-header",ref:Ul,children:Wl.time}),jsx("th",{className:"rbc-header",children:Wl.event})]})})}),jsx("div",{className:"rbc-agenda-content",ref:Fl,children:jsx("table",{className:"rbc-agenda-table",children:jsx("tbody",{ref:Ll,children:Xl.map(function(Gl,_d){return Bl(Gl,a,_d)})})})})]}):jsx("span",{className:"rbc-agenda-empty",children:Wl.noEventsInRange})})}Agenda.defaultProps={length:30};Agenda.range=function(i,e){var s=e.length,o=s===void 0?Agenda.defaultProps.length:s,a=e.localizer,c=a.add(i,o,"day");return{start:i,end:c}};Agenda.navigate=function(i,e,s){var o=s.length,a=o===void 0?Agenda.defaultProps.length:o,c=s.localizer;switch(e){case navigate.PREVIOUS:return c.add(i,-a,"day");case navigate.NEXT:return c.add(i,a,"day");default:return i}};Agenda.title=function(i,e){var s=e.length,o=s===void 0?Agenda.defaultProps.length:s,a=e.localizer,c=a.add(i,o,"day");return a.format({start:i,end:c},"agendaHeaderFormat")};var _VIEWS,VIEWS=(_VIEWS={},_defineProperty(_VIEWS,views.MONTH,MonthView),_defineProperty(_VIEWS,views.WEEK,Week),_defineProperty(_VIEWS,views.WORK_WEEK,WorkWeek),_defineProperty(_VIEWS,views.DAY,Day),_defineProperty(_VIEWS,views.AGENDA,Agenda),_VIEWS),_excluded$1=["action","date","today"];function moveDate(i,e){var s=e.action,o=e.date,a=e.today,c=_objectWithoutProperties(e,_excluded$1);switch(i=typeof i=="string"?VIEWS[i]:i,s){case navigate.TODAY:o=a||new Date;break;case navigate.DATE:break;default:browser$1(i&&typeof i.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),o=i.navigate(o,s,c)}return o}var Toolbar=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck$2(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),o.navigate=function(h){o.props.onNavigate(h)},o.view=function(h){o.props.onView(h)},o}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.localizer.messages,d=a.label;return jsxs("div",{className:"rbc-toolbar",children:[jsxs("span",{className:"rbc-btn-group",children:[jsx("button",{type:"button",onClick:this.navigate.bind(null,navigate.TODAY),children:c.today}),jsx("button",{type:"button",onClick:this.navigate.bind(null,navigate.PREVIOUS),children:c.previous}),jsx("button",{type:"button",onClick:this.navigate.bind(null,navigate.NEXT),children:c.next})]}),jsx("span",{className:"rbc-toolbar-label",children:d}),jsx("span",{className:"rbc-btn-group",children:this.viewNamesGroup(c)})]})}},{key:"viewNamesGroup",value:function(a){var c=this,d=this.props.views,h=this.props.view;if(d.length>1)return d.map(function(g){return jsx("button",{type:"button",className:clsx({"rbc-active":h===g}),onClick:c.view.bind(null,g),children:a[g]},g)})}}]),s}(React$6.Component);function accessor(i,e){var s=null;return typeof e=="function"?s=e(i):typeof e=="string"&&_typeof(i)==="object"&&i!=null&&e in i&&(s=i[e]),s}var wrapAccessor=function(e){return function(s){return accessor(s,e)}},_excluded=["view","date","getNow","onNavigate"],_excluded2=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function viewNames(i){return Array.isArray(i)?i:Object.keys(i)}function isValidView(i,e){var s=e.views,o=viewNames(s);return o.indexOf(i)!==-1}var Calendar=function(i){_inherits$1(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck$2(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=e.call.apply(e,[this].concat(c)),o.getViews=function(){var h=o.props.views;return Array.isArray(h)?transform(h,function(g,_){return g[_]=VIEWS[_]},{}):_typeof(h)==="object"?mapValues(h,function(g,_){return g===!0?VIEWS[_]:g}):VIEWS},o.getView=function(){var h=o.getViews();return h[o.props.view]},o.getDrilldownView=function(h){var g=o.props,_=g.view,$l=g.drilldownView,Rl=g.getDrilldownView;return Rl?Rl(h,_,Object.keys(o.getViews())):$l},o.handleRangeChange=function(h,g,_){var $l=o.props,Rl=$l.onRangeChange,Ml=$l.localizer;Rl&&g.range&&Rl(g.range(h,{localizer:Ml}),_)},o.handleNavigate=function(h,g){var _=o.props,$l=_.view,Rl=_.date,Ml=_.getNow,Ul=_.onNavigate,Fl=_objectWithoutProperties(_,_excluded),Ll=o.getView(),Bl=Ml();Rl=moveDate(Ll,_objectSpread2(_objectSpread2({},Fl),{},{action:h,date:g||Rl||Bl,today:Bl})),Ul(Rl,$l,h),o.handleRangeChange(Rl,Ll)},o.handleViewChange=function(h){h!==o.props.view&&isValidView(h,o.props)&&o.props.onView(h);var g=o.getViews();o.handleRangeChange(o.props.date||o.props.getNow(),g[h],h)},o.handleSelectEvent=function(){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onSelectEvent,g)},o.handleDoubleClickEvent=function(){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onDoubleClickEvent,g)},o.handleKeyPressEvent=function(){for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];notify(o.props.onKeyPressEvent,g)},o.handleSelectSlot=function(h){notify(o.props.onSelectSlot,h)},o.handleDrillDown=function(h,g){var _=o.props.onDrillDown;if(_){_(h,g,o.drilldownView);return}g&&o.handleViewChange(g),o.handleNavigate(navigate.DATE,h)},o.state={context:s.getContext(o.props)},o}return _createClass$1(s,[{key:"render",value:function(){var a=this.props,c=a.view,d=a.toolbar,h=a.events,g=a.backgroundEvents,_=a.style,$l=a.className,Rl=a.elementProps,Ml=a.date,Ul=a.getNow,Fl=a.length,Ll=a.showMultiDayTimes,Bl=a.onShowMore,zl=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var Hl=_objectWithoutProperties(a,_excluded2);Ml=Ml||Ul();var Wl=this.getView(),Yl=this.state.context,Xl=Yl.accessors,Gl=Yl.components,_d=Yl.getters,Kl=Yl.localizer,ru=Yl.viewNames,Zl=Gl.toolbar||Toolbar,tp=Wl.title(Ml,{localizer:Kl,length:Fl});return jsxs("div",{...Object.assign({},Rl,{className:clsx($l,"rbc-calendar",Hl.rtl&&"rbc-rtl"),style:_}),children:[d&&jsx(Zl,{date:Ml,view:c,views:ru,label:tp,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:Kl}),jsx(Wl,{...Object.assign({},Hl,{events:h,backgroundEvents:g,date:Ml,getNow:Ul,length:Fl,localizer:Kl,getters:_d,components:Gl,accessors:Xl,showMultiDayTimes:Ll,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:Bl,doShowMoreDrillDown:zl})})]})}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:s.getContext(a)}}},{key:"getContext",value:function(a){var c=a.startAccessor,d=a.endAccessor,h=a.allDayAccessor,g=a.tooltipAccessor,_=a.titleAccessor,$l=a.resourceAccessor,Rl=a.resourceIdAccessor,Ml=a.resourceTitleAccessor,Ul=a.eventPropGetter,Fl=a.backgroundEventPropGetter,Ll=a.slotPropGetter,Bl=a.slotGroupPropGetter,zl=a.dayPropGetter,Hl=a.view,Wl=a.views,Yl=a.localizer,Xl=a.culture,Gl=a.messages,_d=Gl===void 0?{}:Gl,Kl=a.components,ru=Kl===void 0?{}:Kl,Zl=a.formats,tp=Zl===void 0?{}:Zl,op=viewNames(Wl),bp=messages(_d);return{viewNames:op,localizer:mergeWithDefaults(Yl,Xl,tp,bp),getters:{eventProp:function(){return Ul&&Ul.apply(void 0,arguments)||{}},backgroundEventProp:function(){return Fl&&Fl.apply(void 0,arguments)||{}},slotProp:function(){return Ll&&Ll.apply(void 0,arguments)||{}},slotGroupProp:function(){return Bl&&Bl.apply(void 0,arguments)||{}},dayProp:function(){return zl&&zl.apply(void 0,arguments)||{}}},components:defaults$2(ru[Hl]||{},omit$1(ru,op),{eventWrapper:NoopWrapper,backgroundEventWrapper:NoopWrapper,eventContainerWrapper:NoopWrapper,dateCellWrapper:NoopWrapper,weekWrapper:NoopWrapper,timeSlotWrapper:NoopWrapper,timeGutterWrapper:NoopWrapper}),accessors:{start:wrapAccessor(c),end:wrapAccessor(d),allDay:wrapAccessor(h),tooltip:wrapAccessor(g),title:wrapAccessor(_),resource:wrapAccessor($l),resourceId:wrapAccessor(Rl),resourceTitle:wrapAccessor(Ml)}}}}]),s}(React$6.Component);Calendar.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:views.MONTH,views:[views.MONTH,views.WEEK,views.DAY,views.AGENDA],step:30,length:30,doShowMoreDrillDown:!0,drilldownView:views.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Calendar$1=uncontrollable(Calendar,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),weekRangeFormat$4=function(e,s,o){var a=e.start,c=e.end;return o.format(a,"MMMM DD",s)+" \u2013 "+o.format(c,o.eq(a,c,"month")?"DD":"MMMM DD",s)},dateRangeFormat$4=function(e,s,o){var a=e.start,c=e.end;return o.format(a,"L",s)+" \u2013 "+o.format(c,"L",s)},timeRangeFormat$4=function(e,s,o){var a=e.start,c=e.end;return o.format(a,"LT",s)+" \u2013 "+o.format(c,"LT",s)},timeRangeStartFormat$4=function(e,s,o){var a=e.start;return o.format(a,"LT",s)+" \u2013 "},timeRangeEndFormat$4=function(e,s,o){var a=e.end;return" \u2013 "+o.format(a,"LT",s)},formats$4={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:timeRangeFormat$4,eventTimeRangeFormat:timeRangeFormat$4,eventTimeRangeStartFormat:timeRangeStartFormat$4,eventTimeRangeEndFormat:timeRangeEndFormat$4,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:weekRangeFormat$4,agendaHeaderFormat:dateRangeFormat$4,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:timeRangeFormat$4};function fixUnit$1(i){var e=i&&i.toLowerCase();return e==="FullYear"?e="year":e||(e=void 0),e}function moment(i){var e=function(dp,ep){return ep?dp.locale(ep):dp};function s(yp){return i(yp).toDate().getTimezoneOffset()}function o(yp,dp){var ep,Ql,Jl=i(yp),np=i(dp);if(!i.tz)return Jl.toDate().getTimezoneOffset()-np.toDate().getTimezoneOffset();var cp=(ep=Jl==null||(Ql=Jl._z)===null||Ql===void 0?void 0:Ql.name)!==null&&ep!==void 0?ep:i.tz.guess(),fp=i.tz.zone(cp).utcOffset(+Jl),vp=i.tz.zone(cp).utcOffset(+np);return fp-vp}function a(yp){var dp=i(yp).startOf("day");return o(dp,yp)}function c(yp,dp,ep){var Ql=fixUnit$1(ep),Jl=Ql?i(yp).startOf(Ql):i(yp),np=Ql?i(dp).startOf(Ql):i(dp);return[Jl,np,Ql]}function d(){var yp=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,dp=arguments.length>1?arguments[1]:void 0,ep=fixUnit$1(dp);return ep?i(yp).startOf(ep).toDate():i(yp).toDate()}function h(){var yp=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,dp=arguments.length>1?arguments[1]:void 0,ep=fixUnit$1(dp);return ep?i(yp).endOf(ep).toDate():i(yp).toDate()}function g(yp,dp,ep){var Ql=c(yp,dp,ep),Jl=_slicedToArray(Ql,3),np=Jl[0],cp=Jl[1],fp=Jl[2];return np.isSame(cp,fp)}function _(yp,dp,ep){return!g(yp,dp,ep)}function $l(yp,dp,ep){var Ql=c(yp,dp,ep),Jl=_slicedToArray(Ql,3),np=Jl[0],cp=Jl[1],fp=Jl[2];return np.isAfter(cp,fp)}function Rl(yp,dp,ep){var Ql=c(yp,dp,ep),Jl=_slicedToArray(Ql,3),np=Jl[0],cp=Jl[1],fp=Jl[2];return np.isBefore(cp,fp)}function Ml(yp,dp,ep){var Ql=c(yp,dp,ep),Jl=_slicedToArray(Ql,3),np=Jl[0],cp=Jl[1],fp=Jl[2];return np.isSameOrBefore(cp,fp)}function Ul(yp,dp,ep){var Ql=c(yp,dp,ep),Jl=_slicedToArray(Ql,3),np=Jl[0],cp=Jl[1],fp=Jl[2];return np.isSameOrBefore(cp,fp)}function Fl(yp,dp,ep){var Ql=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Jl=fixUnit$1(Ql),np=i(yp),cp=i(dp),fp=i(ep);return np.isBetween(cp,fp,Jl,"[]")}function Ll(yp,dp){var ep=i(yp),Ql=i(dp),Jl=i.min(ep,Ql);return Jl.toDate()}function Bl(yp,dp){var ep=i(yp),Ql=i(dp),Jl=i.max(ep,Ql);return Jl.toDate()}function zl(yp,dp){if(!yp&&!dp)return null;var ep=i(dp).format("HH:mm:ss"),Ql=i(yp).startOf("day").format("MM/DD/YYYY");return i("".concat(Ql," ").concat(ep),"MM/DD/YYYY HH:mm:ss").toDate()}function Hl(yp,dp,ep){var Ql=fixUnit$1(ep);return i(yp).add(dp,Ql).toDate()}function Wl(yp,dp){for(var ep=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Ql=fixUnit$1(ep),Jl=i(yp).toDate(),np=[];Ul(Jl,dp);)np.push(Jl),Jl=Hl(Jl,1,Ql);return np}function Yl(yp,dp){var ep=fixUnit$1(dp),Ql=d(yp,ep);return g(Ql,yp)?Ql:Hl(Ql,1,ep)}function Xl(yp,dp){var ep=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Ql=fixUnit$1(ep),Jl=i(yp),np=i(dp);return np.diff(Jl,Ql)}function Gl(yp){var dp=i(yp);return dp.minutes()}function _d(yp){var dp=yp?i.localeData(yp):i.localeData();return dp?dp.firstDayOfWeek():0}function Kl(yp){return i(yp).startOf("month").startOf("week").toDate()}function ru(yp){return i(yp).endOf("month").endOf("week").toDate()}function Zl(yp){for(var dp=Kl(yp),ep=ru(yp),Ql=[];Ul(dp,ep);)Ql.push(dp),dp=Hl(dp,1,"d");return Ql}function tp(yp,dp,ep){return i(yp).startOf("day").minute(dp+ep).toDate()}function op(yp,dp){return Xl(yp,dp,"minutes")}function bp(yp){var dp=i(yp).startOf("day"),ep=i(yp);return ep.diff(dp,"minutes")+a(yp)}function ap(yp,dp){var ep=i(yp),Ql=i(dp);return ep.isBefore(Ql,"day")}function hp(yp,dp,ep){var Ql=i(dp),Jl=i(ep);return Ql.isSameOrAfter(Jl,"minutes")}function gp(yp){var dp=yp.evtA,ep=dp.start,Ql=dp.end,Jl=dp.allDay,np=yp.evtB,cp=np.start,fp=np.end,vp=np.allDay,wp=+d(ep,"day")-+d(cp,"day"),xp=Xl(ep,Yl(Ql,"day"),"day"),_f=Xl(cp,Yl(fp,"day"),"day");return wp||Math.max(_f,1)-Math.max(xp,1)||!!vp-!!Jl||+ep-+cp||+Ql-+fp}function rp(yp){var dp=yp.event,ep=dp.start,Ql=dp.end,Jl=yp.range,np=Jl.start,cp=Jl.end,fp=i(ep).startOf("day"),vp=i(Ql),wp=i(np),xp=i(cp),_f=fp.isSameOrBefore(xp,"day"),ip=!fp.isSame(vp,"minutes"),sp=ip?vp.isAfter(wp,"minutes"):vp.isSameOrAfter(wp,"minutes");return _f&&sp}function up(yp,dp){var ep=i(yp),Ql=i(dp);return ep.isSame(Ql,"date")}function $p(){var yp=new Date,dp=/-/.test(yp.toString())?"-":"",ep=yp.getTimezoneOffset(),Ql=Number("".concat(dp).concat(Math.abs(ep))),Jl=i().utcOffset();return Jl>Ql?1:0}return new DateLocalizer({formats:formats$4,firstOfWeek:_d,firstVisibleDay:Kl,lastVisibleDay:ru,visibleDays:Zl,format:function(dp,ep,Ql){return e(i(dp),Ql).format(ep)},lt:Rl,lte:Ul,gt:$l,gte:Ml,eq:g,neq:_,merge:zl,inRange:Fl,startOf:d,endOf:h,range:Wl,add:Hl,diff:Xl,ceil:Yl,min:Ll,max:Bl,minutes:Gl,getSlotDate:tp,getTimezoneOffset:s,getDstOffset:o,getTotalMin:op,getMinutesFromMidnight:bp,continuesPrior:ap,continuesAfter:hp,sortEvents:gp,inEventRange:rp,isSameDate:up,browserTZOffset:$p})}const reactBigCalendar="";//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(i){hookCallback=i}function isArray(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function isObject(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function hasOwnProp(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function isObjectEmpty(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var e;for(e in i)if(hasOwnProp(i,e))return!1;return!0}function isUndefined(i){return i===void 0}function isNumber(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function isDate(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function map(i,e){var s=[],o,a=i.length;for(o=0;o<a;++o)s.push(e(i[o],o));return s}function extend(i,e){for(var s in e)hasOwnProp(e,s)&&(i[s]=e[s]);return hasOwnProp(e,"toString")&&(i.toString=e.toString),hasOwnProp(e,"valueOf")&&(i.valueOf=e.valueOf),i}function createUTC(i,e,s,o){return createLocalOrUTC(i,e,s,o,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(i){return i._pf==null&&(i._pf=defaultParsingFlags()),i._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(i){var e=Object(this),s=e.length>>>0,o;for(o=0;o<s;o++)if(o in e&&i.call(this,e[o],o,e))return!0;return!1};function isValid(i){if(i._isValid==null){var e=getParsingFlags(i),s=some.call(e.parsedDateParts,function(a){return a!=null}),o=!isNaN(i._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s);if(i._strict&&(o=o&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=o;else return o}return i._isValid}function createInvalid(i){var e=createUTC(NaN);return i!=null?extend(getParsingFlags(e),i):getParsingFlags(e).userInvalidated=!0,e}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(i,e){var s,o,a,c=momentProperties.length;if(isUndefined(e._isAMomentObject)||(i._isAMomentObject=e._isAMomentObject),isUndefined(e._i)||(i._i=e._i),isUndefined(e._f)||(i._f=e._f),isUndefined(e._l)||(i._l=e._l),isUndefined(e._strict)||(i._strict=e._strict),isUndefined(e._tzm)||(i._tzm=e._tzm),isUndefined(e._isUTC)||(i._isUTC=e._isUTC),isUndefined(e._offset)||(i._offset=e._offset),isUndefined(e._pf)||(i._pf=getParsingFlags(e)),isUndefined(e._locale)||(i._locale=e._locale),c>0)for(s=0;s<c;s++)o=momentProperties[s],a=e[o],isUndefined(a)||(i[o]=a);return i}function Moment(i){copyConfig(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(i){return i instanceof Moment||i!=null&&i._isAMomentObject!=null}function warn(i){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function deprecate(i,e){var s=!0;return extend(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,i),s){var o=[],a,c,d,h=arguments.length;for(c=0;c<h;c++){if(a="",typeof arguments[c]=="object"){a+=`
[`+c+"] ";for(d in arguments[0])hasOwnProp(arguments[0],d)&&(a+=d+": "+arguments[0][d]+", ");a=a.slice(0,-2)}else a=arguments[c];o.push(a)}warn(i+`
Arguments: `+Array.prototype.slice.call(o).join("")+`
`+new Error().stack),s=!1}return e.apply(this,arguments)},e)}var deprecations={};function deprecateSimple(i,e){hooks.deprecationHandler!=null&&hooks.deprecationHandler(i,e),deprecations[i]||(warn(e),deprecations[i]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function set(i){var e,s;for(s in i)hasOwnProp(i,s)&&(e=i[s],isFunction(e)?this[s]=e:this["_"+s]=e);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(i,e){var s=extend({},i),o;for(o in e)hasOwnProp(e,o)&&(isObject(i[o])&&isObject(e[o])?(s[o]={},extend(s[o],i[o]),extend(s[o],e[o])):e[o]!=null?s[o]=e[o]:delete s[o]);for(o in i)hasOwnProp(i,o)&&!hasOwnProp(e,o)&&isObject(i[o])&&(s[o]=extend({},s[o]));return s}function Locale(i){i!=null&&this.set(i)}var keys;Object.keys?keys=Object.keys:keys=function(i){var e,s=[];for(e in i)hasOwnProp(i,e)&&s.push(e);return s};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(i,e,s){var o=this._calendar[i]||this._calendar.sameElse;return isFunction(o)?o.call(e,s):o}function zeroFill(i,e,s){var o=""+Math.abs(i),a=e-o.length,c=i>=0;return(c?s?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+o}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(i,e,s,o){var a=o;typeof o=="string"&&(a=function(){return this[o]()}),i&&(formatTokenFunctions[i]=a),e&&(formatTokenFunctions[e[0]]=function(){return zeroFill(a.apply(this,arguments),e[1],e[2])}),s&&(formatTokenFunctions[s]=function(){return this.localeData().ordinal(a.apply(this,arguments),i)})}function removeFormattingTokens(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function makeFormatFunction(i){var e=i.match(formattingTokens),s,o;for(s=0,o=e.length;s<o;s++)formatTokenFunctions[e[s]]?e[s]=formatTokenFunctions[e[s]]:e[s]=removeFormattingTokens(e[s]);return function(a){var c="",d;for(d=0;d<o;d++)c+=isFunction(e[d])?e[d].call(a,i):e[d];return c}}function formatMoment(i,e){return i.isValid()?(e=expandFormat(e,i.localeData()),formatFunctions[e]=formatFunctions[e]||makeFormatFunction(e),formatFunctions[e](i)):i.localeData().invalidDate()}function expandFormat(i,e){var s=5;function o(a){return e.longDateFormat(a)||a}for(localFormattingTokens.lastIndex=0;s>=0&&localFormattingTokens.test(i);)i=i.replace(localFormattingTokens,o),localFormattingTokens.lastIndex=0,s-=1;return i}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(i){var e=this._longDateFormat[i],s=this._longDateFormat[i.toUpperCase()];return e||!s?e:(this._longDateFormat[i]=s.match(formattingTokens).map(function(o){return o==="MMMM"||o==="MM"||o==="DD"||o==="dddd"?o.slice(1):o}).join(""),this._longDateFormat[i])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(i){return this._ordinal.replace("%d",i)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(i,e,s,o){var a=this._relativeTime[s];return isFunction(a)?a(i,e,s,o):a.replace(/%d/i,i)}function pastFuture(i,e){var s=this._relativeTime[i>0?"future":"past"];return isFunction(s)?s(e):s.replace(/%s/i,e)}var aliases={};function addUnitAlias(i,e){var s=i.toLowerCase();aliases[s]=aliases[s+"s"]=aliases[e]=i}function normalizeUnits(i){return typeof i=="string"?aliases[i]||aliases[i.toLowerCase()]:void 0}function normalizeObjectUnits(i){var e={},s,o;for(o in i)hasOwnProp(i,o)&&(s=normalizeUnits(o),s&&(e[s]=i[o]));return e}var priorities={};function addUnitPriority(i,e){priorities[i]=e}function getPrioritizedUnits(i){var e=[],s;for(s in i)hasOwnProp(i,s)&&e.push({unit:s,priority:priorities[s]});return e.sort(function(o,a){return o.priority-a.priority}),e}function isLeapYear(i){return i%4===0&&i%100!==0||i%400===0}function absFloor(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function toInt(i){var e=+i,s=0;return e!==0&&isFinite(e)&&(s=absFloor(e)),s}function makeGetSet(i,e){return function(s){return s!=null?(set$1(this,i,s),hooks.updateOffset(this,e),this):get(this,i)}}function get(i,e){return i.isValid()?i._d["get"+(i._isUTC?"UTC":"")+e]():NaN}function set$1(i,e,s){i.isValid()&&!isNaN(s)&&(e==="FullYear"&&isLeapYear(i.year())&&i.month()===1&&i.date()===29?(s=toInt(s),i._d["set"+(i._isUTC?"UTC":"")+e](s,i.month(),daysInMonth(s,i.month()))):i._d["set"+(i._isUTC?"UTC":"")+e](s))}function stringGet(i){return i=normalizeUnits(i),isFunction(this[i])?this[i]():this}function stringSet(i,e){if(typeof i=="object"){i=normalizeObjectUnits(i);var s=getPrioritizedUnits(i),o,a=s.length;for(o=0;o<a;o++)this[s[o].unit](i[s[o].unit])}else if(i=normalizeUnits(i),isFunction(this[i]))return this[i](e);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(i,e,s){regexes[i]=isFunction(e)?e:function(o,a){return o&&s?s:e}}function getParseRegexForToken(i,e){return hasOwnProp(regexes,i)?regexes[i](e._strict,e._locale):new RegExp(unescapeFormat(i))}function unescapeFormat(i){return regexEscape(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,s,o,a,c){return s||o||a||c}))}function regexEscape(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(i,e){var s,o=e,a;for(typeof i=="string"&&(i=[i]),isNumber(e)&&(o=function(c,d){d[e]=toInt(c)}),a=i.length,s=0;s<a;s++)tokens[i[s]]=o}function addWeekParseToken(i,e){addParseToken(i,function(s,o,a,c){a._w=a._w||{},e(s,a._w,a,c)})}function addTimeToArrayFromToken(i,e,s){e!=null&&hasOwnProp(tokens,i)&&tokens[i](e,s._a,s,i)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(i,e){return(i%e+e)%e}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(i){var e;for(e=0;e<this.length;++e)if(this[e]===i)return e;return-1};function daysInMonth(i,e){if(isNaN(i)||isNaN(e))return NaN;var s=mod(e,12);return i+=(e-s)/12,s===1?isLeapYear(i)?29:28:31-s%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)});addFormatToken("MMMM",0,0,function(i){return this.localeData().months(this,i)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(i,e){return e.monthsShortRegex(i)});addRegexToken("MMMM",function(i,e){return e.monthsRegex(i)});addParseToken(["M","MM"],function(i,e){e[MONTH]=toInt(i)-1});addParseToken(["MMM","MMMM"],function(i,e,s,o){var a=s._locale.monthsParse(i,o,s._strict);a!=null?e[MONTH]=a:getParsingFlags(s).invalidMonth=i});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(i,e){return i?isArray(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(e)?"format":"standalone"][i.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(i,e){return i?isArray(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(e)?"format":"standalone"][i.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(i,e,s){var o,a,c,d=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)c=createUTC([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(c,"").toLocaleLowerCase();return s?e==="MMM"?(a=indexOf.call(this._shortMonthsParse,d),a!==-1?a:null):(a=indexOf.call(this._longMonthsParse,d),a!==-1?a:null):e==="MMM"?(a=indexOf.call(this._shortMonthsParse,d),a!==-1?a:(a=indexOf.call(this._longMonthsParse,d),a!==-1?a:null)):(a=indexOf.call(this._longMonthsParse,d),a!==-1?a:(a=indexOf.call(this._shortMonthsParse,d),a!==-1?a:null))}function localeMonthsParse(i,e,s){var o,a,c;if(this._monthsParseExact)return handleStrictParse.call(this,i,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(a=createUTC([2e3,o]),s&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!s&&!this._monthsParse[o]&&(c="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[o]=new RegExp(c.replace(".",""),"i")),s&&e==="MMMM"&&this._longMonthsParse[o].test(i))return o;if(s&&e==="MMM"&&this._shortMonthsParse[o].test(i))return o;if(!s&&this._monthsParse[o].test(i))return o}}function setMonth(i,e){var s;if(!i.isValid())return i;if(typeof e=="string"){if(/^\d+$/.test(e))e=toInt(e);else if(e=i.localeData().monthsParse(e),!isNumber(e))return i}return s=Math.min(i.date(),daysInMonth(i.year(),e)),i._d["set"+(i._isUTC?"UTC":"")+"Month"](e,s),i}function getSetMonth(i){return i!=null?(setMonth(this,i),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(i){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(i){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),i?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function i(d,h){return h.length-d.length}var e=[],s=[],o=[],a,c;for(a=0;a<12;a++)c=createUTC([2e3,a]),e.push(this.monthsShort(c,"")),s.push(this.months(c,"")),o.push(this.months(c,"")),o.push(this.monthsShort(c,""));for(e.sort(i),s.sort(i),o.sort(i),a=0;a<12;a++)e[a]=regexEscape(e[a]),s[a]=regexEscape(s[a]);for(a=0;a<24;a++)o[a]=regexEscape(o[a]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}addFormatToken("Y",0,0,function(){var i=this.year();return i<=9999?zeroFill(i,4):"+"+i});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(i,e){e[YEAR]=i.length===2?hooks.parseTwoDigitYear(i):toInt(i)});addParseToken("YY",function(i,e){e[YEAR]=hooks.parseTwoDigitYear(i)});addParseToken("Y",function(i,e){e[YEAR]=parseInt(i,10)});function daysInYear(i){return isLeapYear(i)?366:365}hooks.parseTwoDigitYear=function(i){return toInt(i)+(toInt(i)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(i,e,s,o,a,c,d){var h;return i<100&&i>=0?(h=new Date(i+400,e,s,o,a,c,d),isFinite(h.getFullYear())&&h.setFullYear(i)):h=new Date(i,e,s,o,a,c,d),h}function createUTCDate(i){var e,s;return i<100&&i>=0?(s=Array.prototype.slice.call(arguments),s[0]=i+400,e=new Date(Date.UTC.apply(null,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(i)):e=new Date(Date.UTC.apply(null,arguments)),e}function firstWeekOffset(i,e,s){var o=7+e-s,a=(7+createUTCDate(i,0,o).getUTCDay()-e)%7;return-a+o-1}function dayOfYearFromWeeks(i,e,s,o,a){var c=(7+s-o)%7,d=firstWeekOffset(i,o,a),h=1+7*(e-1)+c+d,g,_;return h<=0?(g=i-1,_=daysInYear(g)+h):h>daysInYear(i)?(g=i+1,_=h-daysInYear(i)):(g=i,_=h),{year:g,dayOfYear:_}}function weekOfYear(i,e,s){var o=firstWeekOffset(i.year(),e,s),a=Math.floor((i.dayOfYear()-o-1)/7)+1,c,d;return a<1?(d=i.year()-1,c=a+weeksInYear(d,e,s)):a>weeksInYear(i.year(),e,s)?(c=a-weeksInYear(i.year(),e,s),d=i.year()+1):(d=i.year(),c=a),{week:c,year:d}}function weeksInYear(i,e,s){var o=firstWeekOffset(i,e,s),a=firstWeekOffset(i+1,e,s);return(daysInYear(i)-o+a)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(i,e,s,o){e[o.substr(0,1)]=toInt(i)});function localeWeek(i){return weekOfYear(i,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(i){var e=this.localeData().week(this);return i==null?e:this.add((i-e)*7,"d")}function getSetISOWeek(i){var e=weekOfYear(this,1,4).week;return i==null?e:this.add((i-e)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)});addFormatToken("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)});addFormatToken("dddd",0,0,function(i){return this.localeData().weekdays(this,i)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(i,e){return e.weekdaysMinRegex(i)});addRegexToken("ddd",function(i,e){return e.weekdaysShortRegex(i)});addRegexToken("dddd",function(i,e){return e.weekdaysRegex(i)});addWeekParseToken(["dd","ddd","dddd"],function(i,e,s,o){var a=s._locale.weekdaysParse(i,o,s._strict);a!=null?e.d=a:getParsingFlags(s).invalidWeekday=i});addWeekParseToken(["d","e","E"],function(i,e,s,o){e[o]=toInt(i)});function parseWeekday(i,e){return typeof i!="string"?i:isNaN(i)?(i=e.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function parseIsoWeekday(i,e){return typeof i=="string"?e.weekdaysParse(i)%7||7:isNaN(i)?null:i}function shiftWeekdays(i,e){return i.slice(e,7).concat(i.slice(0,e))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(i,e){var s=isArray(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return i===!0?shiftWeekdays(s,this._week.dow):i?s[i.day()]:s}function localeWeekdaysShort(i){return i===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function localeWeekdaysMin(i){return i===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function handleStrictParse$1(i,e,s){var o,a,c,d=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)c=createUTC([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(c,"").toLocaleLowerCase();return s?e==="dddd"?(a=indexOf.call(this._weekdaysParse,d),a!==-1?a:null):e==="ddd"?(a=indexOf.call(this._shortWeekdaysParse,d),a!==-1?a:null):(a=indexOf.call(this._minWeekdaysParse,d),a!==-1?a:null):e==="dddd"?(a=indexOf.call(this._weekdaysParse,d),a!==-1||(a=indexOf.call(this._shortWeekdaysParse,d),a!==-1)?a:(a=indexOf.call(this._minWeekdaysParse,d),a!==-1?a:null)):e==="ddd"?(a=indexOf.call(this._shortWeekdaysParse,d),a!==-1||(a=indexOf.call(this._weekdaysParse,d),a!==-1)?a:(a=indexOf.call(this._minWeekdaysParse,d),a!==-1?a:null)):(a=indexOf.call(this._minWeekdaysParse,d),a!==-1||(a=indexOf.call(this._weekdaysParse,d),a!==-1)?a:(a=indexOf.call(this._shortWeekdaysParse,d),a!==-1?a:null))}function localeWeekdaysParse(i,e,s){var o,a,c;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,i,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(a=createUTC([2e3,1]).day(o),s&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(c="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[o]=new RegExp(c.replace(".",""),"i")),s&&e==="dddd"&&this._fullWeekdaysParse[o].test(i))return o;if(s&&e==="ddd"&&this._shortWeekdaysParse[o].test(i))return o;if(s&&e==="dd"&&this._minWeekdaysParse[o].test(i))return o;if(!s&&this._weekdaysParse[o].test(i))return o}}function getSetDayOfWeek(i){if(!this.isValid())return i!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return i!=null?(i=parseWeekday(i,this.localeData()),this.add(i-e,"d")):e}function getSetLocaleDayOfWeek(i){if(!this.isValid())return i!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return i==null?e:this.add(i-e,"d")}function getSetISODayOfWeek(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var e=parseIsoWeekday(i,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function weekdaysRegex(i){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(i){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(i){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function i($l,Rl){return Rl.length-$l.length}var e=[],s=[],o=[],a=[],c,d,h,g,_;for(c=0;c<7;c++)d=createUTC([2e3,1]).day(c),h=regexEscape(this.weekdaysMin(d,"")),g=regexEscape(this.weekdaysShort(d,"")),_=regexEscape(this.weekdays(d,"")),e.push(h),s.push(g),o.push(_),a.push(h),a.push(g),a.push(_);e.sort(i),s.sort(i),o.sort(i),a.sort(i),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(i,e){addFormatToken(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(i,e){return e._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(i,e,s){var o=toInt(i);e[HOUR]=o===24?0:o});addParseToken(["a","A"],function(i,e,s){s._isPm=s._locale.isPM(i),s._meridiem=i});addParseToken(["h","hh"],function(i,e,s){e[HOUR]=toInt(i),getParsingFlags(s).bigHour=!0});addParseToken("hmm",function(i,e,s){var o=i.length-2;e[HOUR]=toInt(i.substr(0,o)),e[MINUTE]=toInt(i.substr(o)),getParsingFlags(s).bigHour=!0});addParseToken("hmmss",function(i,e,s){var o=i.length-4,a=i.length-2;e[HOUR]=toInt(i.substr(0,o)),e[MINUTE]=toInt(i.substr(o,2)),e[SECOND]=toInt(i.substr(a)),getParsingFlags(s).bigHour=!0});addParseToken("Hmm",function(i,e,s){var o=i.length-2;e[HOUR]=toInt(i.substr(0,o)),e[MINUTE]=toInt(i.substr(o))});addParseToken("Hmmss",function(i,e,s){var o=i.length-4,a=i.length-2;e[HOUR]=toInt(i.substr(0,o)),e[MINUTE]=toInt(i.substr(o,2)),e[SECOND]=toInt(i.substr(a))});function localeIsPM(i){return(i+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(i,e,s){return i>11?s?"pm":"PM":s?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(i,e){var s,o=Math.min(i.length,e.length);for(s=0;s<o;s+=1)if(i[s]!==e[s])return s;return o}function normalizeLocale(i){return i&&i.toLowerCase().replace("_","-")}function chooseLocale(i){for(var e=0,s,o,a,c;e<i.length;){for(c=normalizeLocale(i[e]).split("-"),s=c.length,o=normalizeLocale(i[e+1]),o=o?o.split("-"):null;s>0;){if(a=loadLocale(c.slice(0,s).join("-")),a)return a;if(o&&o.length>=s&&commonPrefix(c,o)>=s-1)break;s--}e++}return globalLocale}function isLocaleNameSane(i){return i.match("^[^/\\\\]*$")!=null}function loadLocale(i){var e=null,s;if(locales[i]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(i))try{e=globalLocale._abbr,s=require,s("./locale/"+i),getSetGlobalLocale(e)}catch{locales[i]=null}return locales[i]}function getSetGlobalLocale(i,e){var s;return i&&(isUndefined(e)?s=getLocale(i):s=defineLocale(i,e),s?globalLocale=s:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(i,e){if(e!==null){var s,o=baseConfig;if(e.abbr=i,locales[i]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=locales[i]._config;else if(e.parentLocale!=null)if(locales[e.parentLocale]!=null)o=locales[e.parentLocale]._config;else if(s=loadLocale(e.parentLocale),s!=null)o=s._config;else return localeFamilies[e.parentLocale]||(localeFamilies[e.parentLocale]=[]),localeFamilies[e.parentLocale].push({name:i,config:e}),null;return locales[i]=new Locale(mergeConfigs(o,e)),localeFamilies[i]&&localeFamilies[i].forEach(function(a){defineLocale(a.name,a.config)}),getSetGlobalLocale(i),locales[i]}else return delete locales[i],null}function updateLocale(i,e){if(e!=null){var s,o,a=baseConfig;locales[i]!=null&&locales[i].parentLocale!=null?locales[i].set(mergeConfigs(locales[i]._config,e)):(o=loadLocale(i),o!=null&&(a=o._config),e=mergeConfigs(a,e),o==null&&(e.abbr=i),s=new Locale(e),s.parentLocale=locales[i],locales[i]=s),getSetGlobalLocale(i)}else locales[i]!=null&&(locales[i].parentLocale!=null?(locales[i]=locales[i].parentLocale,i===getSetGlobalLocale()&&getSetGlobalLocale(i)):locales[i]!=null&&delete locales[i]);return locales[i]}function getLocale(i){var e;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return globalLocale;if(!isArray(i)){if(e=loadLocale(i),e)return e;i=[i]}return chooseLocale(i)}function listLocales(){return keys(locales)}function checkOverflow(i){var e,s=i._a;return s&&getParsingFlags(i).overflow===-2&&(e=s[MONTH]<0||s[MONTH]>11?MONTH:s[DATE]<1||s[DATE]>daysInMonth(s[YEAR],s[MONTH])?DATE:s[HOUR]<0||s[HOUR]>24||s[HOUR]===24&&(s[MINUTE]!==0||s[SECOND]!==0||s[MILLISECOND]!==0)?HOUR:s[MINUTE]<0||s[MINUTE]>59?MINUTE:s[SECOND]<0||s[SECOND]>59?SECOND:s[MILLISECOND]<0||s[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(i)._overflowDayOfYear&&(e<YEAR||e>DATE)&&(e=DATE),getParsingFlags(i)._overflowWeeks&&e===-1&&(e=WEEK),getParsingFlags(i)._overflowWeekday&&e===-1&&(e=WEEKDAY),getParsingFlags(i).overflow=e),i}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(i){var e,s,o=i._i,a=extendedIsoRegex.exec(o)||basicIsoRegex.exec(o),c,d,h,g,_=isoDates.length,$l=isoTimes.length;if(a){for(getParsingFlags(i).iso=!0,e=0,s=_;e<s;e++)if(isoDates[e][1].exec(a[1])){d=isoDates[e][0],c=isoDates[e][2]!==!1;break}if(d==null){i._isValid=!1;return}if(a[3]){for(e=0,s=$l;e<s;e++)if(isoTimes[e][1].exec(a[3])){h=(a[2]||" ")+isoTimes[e][0];break}if(h==null){i._isValid=!1;return}}if(!c&&h!=null){i._isValid=!1;return}if(a[4])if(tzRegex.exec(a[4]))g="Z";else{i._isValid=!1;return}i._f=d+(h||"")+(g||""),configFromStringAndFormat(i)}else i._isValid=!1}function extractFromRFC2822Strings(i,e,s,o,a,c){var d=[untruncateYear(i),defaultLocaleMonthsShort.indexOf(e),parseInt(s,10),parseInt(o,10),parseInt(a,10)];return c&&d.push(parseInt(c,10)),d}function untruncateYear(i){var e=parseInt(i,10);return e<=49?2e3+e:e<=999?1900+e:e}function preprocessRFC2822(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(i,e,s){if(i){var o=defaultLocaleWeekdaysShort.indexOf(i),a=new Date(e[0],e[1],e[2]).getDay();if(o!==a)return getParsingFlags(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function calculateOffset(i,e,s){if(i)return obsOffsets[i];if(e)return 0;var o=parseInt(s,10),a=o%100,c=(o-a)/100;return c*60+a}function configFromRFC2822(i){var e=rfc2822.exec(preprocessRFC2822(i._i)),s;if(e){if(s=extractFromRFC2822Strings(e[4],e[3],e[2],e[5],e[6],e[7]),!checkWeekday(e[1],s,i))return;i._a=s,i._tzm=calculateOffset(e[8],e[9],e[10]),i._d=createUTCDate.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),getParsingFlags(i).rfc2822=!0}else i._isValid=!1}function configFromString(i){var e=aspNetJsonRegex.exec(i._i);if(e!==null){i._d=new Date(+e[1]);return}if(configFromISO(i),i._isValid===!1)delete i._isValid;else return;if(configFromRFC2822(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:hooks.createFromInputFallback(i)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function defaults(i,e,s){return i!=null?i:e!=null?e:s}function currentDateArray(i){var e=new Date(hooks.now());return i._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function configFromArray(i){var e,s,o=[],a,c,d;if(!i._d){for(a=currentDateArray(i),i._w&&i._a[DATE]==null&&i._a[MONTH]==null&&dayOfYearFromWeekInfo(i),i._dayOfYear!=null&&(d=defaults(i._a[YEAR],a[YEAR]),(i._dayOfYear>daysInYear(d)||i._dayOfYear===0)&&(getParsingFlags(i)._overflowDayOfYear=!0),s=createUTCDate(d,0,i._dayOfYear),i._a[MONTH]=s.getUTCMonth(),i._a[DATE]=s.getUTCDate()),e=0;e<3&&i._a[e]==null;++e)i._a[e]=o[e]=a[e];for(;e<7;e++)i._a[e]=o[e]=i._a[e]==null?e===2?1:0:i._a[e];i._a[HOUR]===24&&i._a[MINUTE]===0&&i._a[SECOND]===0&&i._a[MILLISECOND]===0&&(i._nextDay=!0,i._a[HOUR]=0),i._d=(i._useUTC?createUTCDate:createDate).apply(null,o),c=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[HOUR]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==c&&(getParsingFlags(i).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(i){var e,s,o,a,c,d,h,g,_;e=i._w,e.GG!=null||e.W!=null||e.E!=null?(c=1,d=4,s=defaults(e.GG,i._a[YEAR],weekOfYear(createLocal(),1,4).year),o=defaults(e.W,1),a=defaults(e.E,1),(a<1||a>7)&&(g=!0)):(c=i._locale._week.dow,d=i._locale._week.doy,_=weekOfYear(createLocal(),c,d),s=defaults(e.gg,i._a[YEAR],_.year),o=defaults(e.w,_.week),e.d!=null?(a=e.d,(a<0||a>6)&&(g=!0)):e.e!=null?(a=e.e+c,(e.e<0||e.e>6)&&(g=!0)):a=c),o<1||o>weeksInYear(s,c,d)?getParsingFlags(i)._overflowWeeks=!0:g!=null?getParsingFlags(i)._overflowWeekday=!0:(h=dayOfYearFromWeeks(s,o,a,c,d),i._a[YEAR]=h.year,i._dayOfYear=h.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(i){if(i._f===hooks.ISO_8601){configFromISO(i);return}if(i._f===hooks.RFC_2822){configFromRFC2822(i);return}i._a=[],getParsingFlags(i).empty=!0;var e=""+i._i,s,o,a,c,d,h=e.length,g=0,_,$l;for(a=expandFormat(i._f,i._locale).match(formattingTokens)||[],$l=a.length,s=0;s<$l;s++)c=a[s],o=(e.match(getParseRegexForToken(c,i))||[])[0],o&&(d=e.substr(0,e.indexOf(o)),d.length>0&&getParsingFlags(i).unusedInput.push(d),e=e.slice(e.indexOf(o)+o.length),g+=o.length),formatTokenFunctions[c]?(o?getParsingFlags(i).empty=!1:getParsingFlags(i).unusedTokens.push(c),addTimeToArrayFromToken(c,o,i)):i._strict&&!o&&getParsingFlags(i).unusedTokens.push(c);getParsingFlags(i).charsLeftOver=h-g,e.length>0&&getParsingFlags(i).unusedInput.push(e),i._a[HOUR]<=12&&getParsingFlags(i).bigHour===!0&&i._a[HOUR]>0&&(getParsingFlags(i).bigHour=void 0),getParsingFlags(i).parsedDateParts=i._a.slice(0),getParsingFlags(i).meridiem=i._meridiem,i._a[HOUR]=meridiemFixWrap(i._locale,i._a[HOUR],i._meridiem),_=getParsingFlags(i).era,_!==null&&(i._a[YEAR]=i._locale.erasConvertYear(_,i._a[YEAR])),configFromArray(i),checkOverflow(i)}function meridiemFixWrap(i,e,s){var o;return s==null?e:i.meridiemHour!=null?i.meridiemHour(e,s):(i.isPM!=null&&(o=i.isPM(s),o&&e<12&&(e+=12),!o&&e===12&&(e=0)),e)}function configFromStringAndArray(i){var e,s,o,a,c,d,h=!1,g=i._f.length;if(g===0){getParsingFlags(i).invalidFormat=!0,i._d=new Date(NaN);return}for(a=0;a<g;a++)c=0,d=!1,e=copyConfig({},i),i._useUTC!=null&&(e._useUTC=i._useUTC),e._f=i._f[a],configFromStringAndFormat(e),isValid(e)&&(d=!0),c+=getParsingFlags(e).charsLeftOver,c+=getParsingFlags(e).unusedTokens.length*10,getParsingFlags(e).score=c,h?c<o&&(o=c,s=e):(o==null||c<o||d)&&(o=c,s=e,d&&(h=!0));extend(i,s||e)}function configFromObject(i){if(!i._d){var e=normalizeObjectUnits(i._i),s=e.day===void 0?e.date:e.day;i._a=map([e.year,e.month,s,e.hour,e.minute,e.second,e.millisecond],function(o){return o&&parseInt(o,10)}),configFromArray(i)}}function createFromConfig(i){var e=new Moment(checkOverflow(prepareConfig(i)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function prepareConfig(i){var e=i._i,s=i._f;return i._locale=i._locale||getLocale(i._l),e===null||s===void 0&&e===""?createInvalid({nullInput:!0}):(typeof e=="string"&&(i._i=e=i._locale.preparse(e)),isMoment(e)?new Moment(checkOverflow(e)):(isDate(e)?i._d=e:isArray(s)?configFromStringAndArray(i):s?configFromStringAndFormat(i):configFromInput(i),isValid(i)||(i._d=null),i))}function configFromInput(i){var e=i._i;isUndefined(e)?i._d=new Date(hooks.now()):isDate(e)?i._d=new Date(e.valueOf()):typeof e=="string"?configFromString(i):isArray(e)?(i._a=map(e.slice(0),function(s){return parseInt(s,10)}),configFromArray(i)):isObject(e)?configFromObject(i):isNumber(e)?i._d=new Date(e):hooks.createFromInputFallback(i)}function createLocalOrUTC(i,e,s,o,a){var c={};return(e===!0||e===!1)&&(o=e,e=void 0),(s===!0||s===!1)&&(o=s,s=void 0),(isObject(i)&&isObjectEmpty(i)||isArray(i)&&i.length===0)&&(i=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=s,c._i=i,c._f=e,c._strict=o,createFromConfig(c)}function createLocal(i,e,s,o){return createLocalOrUTC(i,e,s,o,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=createLocal.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=createLocal.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:createInvalid()});function pickBy(i,e){var s,o;if(e.length===1&&isArray(e[0])&&(e=e[0]),!e.length)return createLocal();for(s=e[0],o=1;o<e.length;++o)(!e[o].isValid()||e[o][i](s))&&(s=e[o]);return s}function min(){var i=[].slice.call(arguments,0);return pickBy("isBefore",i)}function max(){var i=[].slice.call(arguments,0);return pickBy("isAfter",i)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(i){var e,s=!1,o,a=ordering.length;for(e in i)if(hasOwnProp(i,e)&&!(indexOf.call(ordering,e)!==-1&&(i[e]==null||!isNaN(i[e]))))return!1;for(o=0;o<a;++o)if(i[ordering[o]]){if(s)return!1;parseFloat(i[ordering[o]])!==toInt(i[ordering[o]])&&(s=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(i){var e=normalizeObjectUnits(i),s=e.year||0,o=e.quarter||0,a=e.month||0,c=e.week||e.isoWeek||0,d=e.day||0,h=e.hour||0,g=e.minute||0,_=e.second||0,$l=e.millisecond||0;this._isValid=isDurationValid(e),this._milliseconds=+$l+_*1e3+g*6e4+h*1e3*60*60,this._days=+d+c*7,this._months=+a+o*3+s*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(i){return i instanceof Duration}function absRound(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function compareArrays(i,e,s){var o=Math.min(i.length,e.length),a=Math.abs(i.length-e.length),c=0,d;for(d=0;d<o;d++)(s&&i[d]!==e[d]||!s&&toInt(i[d])!==toInt(e[d]))&&c++;return c+a}function offset(i,e){addFormatToken(i,0,0,function(){var s=this.utcOffset(),o="+";return s<0&&(s=-s,o="-"),o+zeroFill(~~(s/60),2)+e+zeroFill(~~s%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(i,e,s){s._useUTC=!0,s._tzm=offsetFromString(matchShortOffset,i)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(i,e){var s=(e||"").match(i),o,a,c;return s===null?null:(o=s[s.length-1]||[],a=(o+"").match(chunkOffset)||["-",0,0],c=+(a[1]*60)+toInt(a[2]),c===0?0:a[0]==="+"?c:-c)}function cloneWithOffset(i,e){var s,o;return e._isUTC?(s=e.clone(),o=(isMoment(i)||isDate(i)?i.valueOf():createLocal(i).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+o),hooks.updateOffset(s,!1),s):createLocal(i).local()}function getDateOffset(i){return-Math.round(i._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(i,e,s){var o=this._offset||0,a;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=offsetFromString(matchShortOffset,i),i===null)return this}else Math.abs(i)<16&&!s&&(i=i*60);return!this._isUTC&&e&&(a=getDateOffset(this)),this._offset=i,this._isUTC=!0,a!=null&&this.add(a,"m"),o!==i&&(!e||this._changeInProgress?addSubtract(this,createDuration(i-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?o:getDateOffset(this)}function getSetZone(i,e){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,e),this):-this.utcOffset()}function setOffsetToUTC(i){return this.utcOffset(0,i)}function setOffsetToLocal(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=offsetFromString(matchOffset,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(i){return this.isValid()?(i=i?createLocal(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var i={},e;return copyConfig(i,this),i=prepareConfig(i),i._a?(e=i._isUTC?createUTC(i._a):createLocal(i._a),this._isDSTShifted=this.isValid()&&compareArrays(i._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(i,e){var s=i,o=null,a,c,d;return isDuration(i)?s={ms:i._milliseconds,d:i._days,M:i._months}:isNumber(i)||!isNaN(+i)?(s={},e?s[e]=+i:s.milliseconds=+i):(o=aspNetRegex.exec(i))?(a=o[1]==="-"?-1:1,s={y:0,d:toInt(o[DATE])*a,h:toInt(o[HOUR])*a,m:toInt(o[MINUTE])*a,s:toInt(o[SECOND])*a,ms:toInt(absRound(o[MILLISECOND]*1e3))*a}):(o=isoRegex.exec(i))?(a=o[1]==="-"?-1:1,s={y:parseIso(o[2],a),M:parseIso(o[3],a),w:parseIso(o[4],a),d:parseIso(o[5],a),h:parseIso(o[6],a),m:parseIso(o[7],a),s:parseIso(o[8],a)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(d=momentsDifference(createLocal(s.from),createLocal(s.to)),s={},s.ms=d.milliseconds,s.M=d.months),c=new Duration(s),isDuration(i)&&hasOwnProp(i,"_locale")&&(c._locale=i._locale),isDuration(i)&&hasOwnProp(i,"_isValid")&&(c._isValid=i._isValid),c}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(i,e){var s=i&&parseFloat(i.replace(",","."));return(isNaN(s)?0:s)*e}function positiveMomentsDifference(i,e){var s={};return s.months=e.month()-i.month()+(e.year()-i.year())*12,i.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+i.clone().add(s.months,"M"),s}function momentsDifference(i,e){var s;return i.isValid()&&e.isValid()?(e=cloneWithOffset(e,i),i.isBefore(e)?s=positiveMomentsDifference(i,e):(s=positiveMomentsDifference(e,i),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function createAdder(i,e){return function(s,o){var a,c;return o!==null&&!isNaN(+o)&&(deprecateSimple(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),c=s,s=o,o=c),a=createDuration(s,o),addSubtract(this,a,i),this}}function addSubtract(i,e,s,o){var a=e._milliseconds,c=absRound(e._days),d=absRound(e._months);!i.isValid()||(o=o==null?!0:o,d&&setMonth(i,get(i,"Month")+d*s),c&&set$1(i,"Date",get(i,"Date")+c*s),a&&i._d.setTime(i._d.valueOf()+a*s),o&&hooks.updateOffset(i,c||d))}var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString(i){return typeof i=="string"||i instanceof String}function isMomentInput(i){return isMoment(i)||isDate(i)||isString(i)||isNumber(i)||isNumberOrStringArray(i)||isMomentInputObject(i)||i===null||i===void 0}function isMomentInputObject(i){var e=isObject(i)&&!isObjectEmpty(i),s=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,c,d=o.length;for(a=0;a<d;a+=1)c=o[a],s=s||hasOwnProp(i,c);return e&&s}function isNumberOrStringArray(i){var e=isArray(i),s=!1;return e&&(s=i.filter(function(o){return!isNumber(o)&&isString(i)}).length===0),e&&s}function isCalendarSpec(i){var e=isObject(i)&&!isObjectEmpty(i),s=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,c;for(a=0;a<o.length;a+=1)c=o[a],s=s||hasOwnProp(i,c);return e&&s}function getCalendarFormat(i,e){var s=i.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function calendar$1(i,e){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(i=arguments[0],e=void 0):isCalendarSpec(arguments[0])&&(e=arguments[0],i=void 0):(i=void 0,e=void 0));var s=i||createLocal(),o=cloneWithOffset(s,this).startOf("day"),a=hooks.calendarFormat(this,o)||"sameElse",c=e&&(isFunction(e[a])?e[a].call(this,s):e[a]);return this.format(c||this.localeData().calendar(a,this,createLocal(s)))}function clone(){return new Moment(this)}function isAfter(i,e){var s=isMoment(i)?i:createLocal(i);return this.isValid()&&s.isValid()?(e=normalizeUnits(e)||"millisecond",e==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf()):!1}function isBefore(i,e){var s=isMoment(i)?i:createLocal(i);return this.isValid()&&s.isValid()?(e=normalizeUnits(e)||"millisecond",e==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf()):!1}function isBetween(i,e,s,o){var a=isMoment(i)?i:createLocal(i),c=isMoment(e)?e:createLocal(e);return this.isValid()&&a.isValid()&&c.isValid()?(o=o||"()",(o[0]==="("?this.isAfter(a,s):!this.isBefore(a,s))&&(o[1]===")"?this.isBefore(c,s):!this.isAfter(c,s))):!1}function isSame(i,e){var s=isMoment(i)?i:createLocal(i),o;return this.isValid()&&s.isValid()?(e=normalizeUnits(e)||"millisecond",e==="millisecond"?this.valueOf()===s.valueOf():(o=s.valueOf(),this.clone().startOf(e).valueOf()<=o&&o<=this.clone().endOf(e).valueOf())):!1}function isSameOrAfter(i,e){return this.isSame(i,e)||this.isAfter(i,e)}function isSameOrBefore(i,e){return this.isSame(i,e)||this.isBefore(i,e)}function diff(i,e,s){var o,a,c;if(!this.isValid())return NaN;if(o=cloneWithOffset(i,this),!o.isValid())return NaN;switch(a=(o.utcOffset()-this.utcOffset())*6e4,e=normalizeUnits(e),e){case"year":c=monthDiff(this,o)/12;break;case"month":c=monthDiff(this,o);break;case"quarter":c=monthDiff(this,o)/3;break;case"second":c=(this-o)/1e3;break;case"minute":c=(this-o)/6e4;break;case"hour":c=(this-o)/36e5;break;case"day":c=(this-o-a)/864e5;break;case"week":c=(this-o-a)/6048e5;break;default:c=this-o}return s?c:absFloor(c)}function monthDiff(i,e){if(i.date()<e.date())return-monthDiff(e,i);var s=(e.year()-i.year())*12+(e.month()-i.month()),o=i.clone().add(s,"months"),a,c;return e-o<0?(a=i.clone().add(s-1,"months"),c=(e-o)/(o-a)):(a=i.clone().add(s+1,"months"),c=(e-o)/(a-o)),-(s+c)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(i){if(!this.isValid())return null;var e=i!==!0,s=e?this.clone().utc():this;return s.year()<0||s.year()>9999?formatMoment(s,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(s,"Z")):formatMoment(s,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",e="",s,o,a,c;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),s="["+i+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",c=e+'[")]',this.format(s+o+a+c)}function format(i){i||(i=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var e=formatMoment(this,i);return this.localeData().postformat(e)}function from(i,e){return this.isValid()&&(isMoment(i)&&i.isValid()||createLocal(i).isValid())?createDuration({to:this,from:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fromNow(i){return this.from(createLocal(),i)}function to(i,e){return this.isValid()&&(isMoment(i)&&i.isValid()||createLocal(i).isValid())?createDuration({from:this,to:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function toNow(i){return this.to(createLocal(),i)}function locale(i){var e;return i===void 0?this._locale._abbr:(e=getLocale(i),e!=null&&(this._locale=e),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(i,e){return(i%e+e)%e}function localStartOfDate(i,e,s){return i<100&&i>=0?new Date(i+400,e,s)-MS_PER_400_YEARS:new Date(i,e,s).valueOf()}function utcStartOfDate(i,e,s){return i<100&&i>=0?Date.UTC(i+400,e,s)-MS_PER_400_YEARS:Date.UTC(i,e,s)}function startOf(i){var e,s;if(i=normalizeUnits(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?utcStartOfDate:localStartOfDate,i){case"year":e=s(this.year(),0,1);break;case"quarter":e=s(this.year(),this.month()-this.month()%3,1);break;case"month":e=s(this.year(),this.month(),1);break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=s(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=mod$1(e+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":e=this._d.valueOf(),e-=mod$1(e,MS_PER_MINUTE);break;case"second":e=this._d.valueOf(),e-=mod$1(e,MS_PER_SECOND);break}return this._d.setTime(e),hooks.updateOffset(this,!0),this}function endOf(i){var e,s;if(i=normalizeUnits(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?utcStartOfDate:localStartOfDate,i){case"year":e=s(this.year()+1,0,1)-1;break;case"quarter":e=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=s(this.year(),this.month()+1,1)-1;break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=MS_PER_HOUR-mod$1(e+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":e=this._d.valueOf(),e+=MS_PER_MINUTE-mod$1(e,MS_PER_MINUTE)-1;break;case"second":e=this._d.valueOf(),e+=MS_PER_SECOND-mod$1(e,MS_PER_SECOND)-1;break}return this._d.setTime(e),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function toObject(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(i,e,s,o){var a=s._locale.erasParse(i,o,s._strict);a?getParsingFlags(s).era=a:getParsingFlags(s).invalidEra=i});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(i,e,s,o){var a;s._locale._eraYearOrdinalRegex&&(a=i.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?e[YEAR]=s._locale.eraYearOrdinalParse(i,a):e[YEAR]=parseInt(i,10)});function localeEras(i,e){var s,o,a,c=this._eras||getLocale("en")._eras;for(s=0,o=c.length;s<o;++s){switch(typeof c[s].since){case"string":a=hooks(c[s].since).startOf("day"),c[s].since=a.valueOf();break}switch(typeof c[s].until){case"undefined":c[s].until=1/0;break;case"string":a=hooks(c[s].until).startOf("day").valueOf(),c[s].until=a.valueOf();break}}return c}function localeErasParse(i,e,s){var o,a,c=this.eras(),d,h,g;for(i=i.toUpperCase(),o=0,a=c.length;o<a;++o)if(d=c[o].name.toUpperCase(),h=c[o].abbr.toUpperCase(),g=c[o].narrow.toUpperCase(),s)switch(e){case"N":case"NN":case"NNN":if(h===i)return c[o];break;case"NNNN":if(d===i)return c[o];break;case"NNNNN":if(g===i)return c[o];break}else if([d,h,g].indexOf(i)>=0)return c[o]}function localeErasConvertYear(i,e){var s=i.since<=i.until?1:-1;return e===void 0?hooks(i.since).year():hooks(i.since).year()+(e-i.offset)*s}function getEraName(){var i,e,s,o=this.localeData().eras();for(i=0,e=o.length;i<e;++i)if(s=this.clone().startOf("day").valueOf(),o[i].since<=s&&s<=o[i].until||o[i].until<=s&&s<=o[i].since)return o[i].name;return""}function getEraNarrow(){var i,e,s,o=this.localeData().eras();for(i=0,e=o.length;i<e;++i)if(s=this.clone().startOf("day").valueOf(),o[i].since<=s&&s<=o[i].until||o[i].until<=s&&s<=o[i].since)return o[i].narrow;return""}function getEraAbbr(){var i,e,s,o=this.localeData().eras();for(i=0,e=o.length;i<e;++i)if(s=this.clone().startOf("day").valueOf(),o[i].since<=s&&s<=o[i].until||o[i].until<=s&&s<=o[i].since)return o[i].abbr;return""}function getEraYear(){var i,e,s,o,a=this.localeData().eras();for(i=0,e=a.length;i<e;++i)if(s=a[i].since<=a[i].until?1:-1,o=this.clone().startOf("day").valueOf(),a[i].since<=o&&o<=a[i].until||a[i].until<=o&&o<=a[i].since)return(this.year()-hooks(a[i].since).year())*s+a[i].offset;return this.year()}function erasNameRegex(i){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),i?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(i){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),i?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(i){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),i?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(i,e){return e.erasAbbrRegex(i)}function matchEraName(i,e){return e.erasNameRegex(i)}function matchEraNarrow(i,e){return e.erasNarrowRegex(i)}function matchEraYearOrdinal(i,e){return e._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var i=[],e=[],s=[],o=[],a,c,d=this.eras();for(a=0,c=d.length;a<c;++a)e.push(regexEscape(d[a].name)),i.push(regexEscape(d[a].abbr)),s.push(regexEscape(d[a].narrow)),o.push(regexEscape(d[a].name)),o.push(regexEscape(d[a].abbr)),o.push(regexEscape(d[a].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(i,e){addFormatToken(0,[i,i.length],0,e)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(i,e,s,o){e[o.substr(0,2)]=toInt(i)});addWeekParseToken(["gg","GG"],function(i,e,s,o){e[o]=hooks.parseTwoDigitYear(i)});function getSetWeekYear(i){return getSetWeekYearHelper.call(this,i,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(i){return getSetWeekYearHelper.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var i=this.localeData()._week;return weeksInYear(this.year(),i.dow,i.doy)}function getWeeksInWeekYear(){var i=this.localeData()._week;return weeksInYear(this.weekYear(),i.dow,i.doy)}function getSetWeekYearHelper(i,e,s,o,a){var c;return i==null?weekOfYear(this,o,a).year:(c=weeksInYear(i,o,a),e>c&&(e=c),setWeekAll.call(this,i,e,s,o,a))}function setWeekAll(i,e,s,o,a){var c=dayOfYearFromWeeks(i,e,s,o,a),d=createUTCDate(c.year,0,c.dayOfYear);return this.year(d.getUTCFullYear()),this.month(d.getUTCMonth()),this.date(d.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(i,e){e[MONTH]=(toInt(i)-1)*3});function getSetQuarter(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(i,e){return i?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(i,e){e[DATE]=toInt(i.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(i,e,s){s._dayOfYear=toInt(i)});function getSetDayOfYear(i){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?e:this.add(i-e,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(i,e){e[MILLISECOND]=toInt(("0."+i)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(i){return createLocal(i*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(i){return i}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(i,e,s,o){var a=getLocale(),c=createUTC().set(o,e);return a[s](c,i)}function listMonthsImpl(i,e,s){if(isNumber(i)&&(e=i,i=void 0),i=i||"",e!=null)return get$1(i,e,s,"month");var o,a=[];for(o=0;o<12;o++)a[o]=get$1(i,o,s,"month");return a}function listWeekdaysImpl(i,e,s,o){typeof i=="boolean"?(isNumber(e)&&(s=e,e=void 0),e=e||""):(e=i,s=e,i=!1,isNumber(e)&&(s=e,e=void 0),e=e||"");var a=getLocale(),c=i?a._week.dow:0,d,h=[];if(s!=null)return get$1(e,(s+c)%7,o,"day");for(d=0;d<7;d++)h[d]=get$1(e,(d+c)%7,o,"day");return h}function listMonths(i,e){return listMonthsImpl(i,e,"months")}function listMonthsShort(i,e){return listMonthsImpl(i,e,"monthsShort")}function listWeekdays(i,e,s){return listWeekdaysImpl(i,e,s,"weekdays")}function listWeekdaysShort(i,e,s){return listWeekdaysImpl(i,e,s,"weekdaysShort")}function listWeekdaysMin(i,e,s){return listWeekdaysImpl(i,e,s,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var e=i%10,s=toInt(i%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return i+s}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var i=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),i.milliseconds=mathAbs(i.milliseconds),i.seconds=mathAbs(i.seconds),i.minutes=mathAbs(i.minutes),i.hours=mathAbs(i.hours),i.months=mathAbs(i.months),i.years=mathAbs(i.years),this}function addSubtract$1(i,e,s,o){var a=createDuration(e,s);return i._milliseconds+=o*a._milliseconds,i._days+=o*a._days,i._months+=o*a._months,i._bubble()}function add$1(i,e){return addSubtract$1(this,i,e,1)}function subtract$1(i,e){return addSubtract$1(this,i,e,-1)}function absCeil(i){return i<0?Math.floor(i):Math.ceil(i)}function bubble(){var i=this._milliseconds,e=this._days,s=this._months,o=this._data,a,c,d,h,g;return i>=0&&e>=0&&s>=0||i<=0&&e<=0&&s<=0||(i+=absCeil(monthsToDays(s)+e)*864e5,e=0,s=0),o.milliseconds=i%1e3,a=absFloor(i/1e3),o.seconds=a%60,c=absFloor(a/60),o.minutes=c%60,d=absFloor(c/60),o.hours=d%24,e+=absFloor(d/24),g=absFloor(daysToMonths(e)),s+=g,e-=absCeil(monthsToDays(g)),h=absFloor(s/12),s%=12,o.days=e,o.months=s,o.years=h,this}function daysToMonths(i){return i*4800/146097}function monthsToDays(i){return i*146097/4800}function as(i){if(!this.isValid())return NaN;var e,s,o=this._milliseconds;if(i=normalizeUnits(i),i==="month"||i==="quarter"||i==="year")switch(e=this._days+o/864e5,s=this._months+daysToMonths(e),i){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(e=this._days+Math.round(monthsToDays(this._months)),i){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return e*24+o/36e5;case"minute":return e*1440+o/6e4;case"second":return e*86400+o/1e3;case"millisecond":return Math.floor(e*864e5)+o;default:throw new Error("Unknown unit "+i)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(i){return function(){return this.as(i)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2(i){return i=normalizeUnits(i),this.isValid()?this[i+"s"]():NaN}function makeGetter(i){return function(){return this.isValid()?this._data[i]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(i,e,s,o,a){return a.relativeTime(e||1,!!s,i,o)}function relativeTime$1(i,e,s,o){var a=createDuration(i).abs(),c=round(a.as("s")),d=round(a.as("m")),h=round(a.as("h")),g=round(a.as("d")),_=round(a.as("M")),$l=round(a.as("w")),Rl=round(a.as("y")),Ml=c<=s.ss&&["s",c]||c<s.s&&["ss",c]||d<=1&&["m"]||d<s.m&&["mm",d]||h<=1&&["h"]||h<s.h&&["hh",h]||g<=1&&["d"]||g<s.d&&["dd",g];return s.w!=null&&(Ml=Ml||$l<=1&&["w"]||$l<s.w&&["ww",$l]),Ml=Ml||_<=1&&["M"]||_<s.M&&["MM",_]||Rl<=1&&["y"]||["yy",Rl],Ml[2]=e,Ml[3]=+i>0,Ml[4]=o,substituteTimeAgo.apply(null,Ml)}function getSetRelativeTimeRounding(i){return i===void 0?round:typeof i=="function"?(round=i,!0):!1}function getSetRelativeTimeThreshold(i,e){return thresholds[i]===void 0?!1:e===void 0?thresholds[i]:(thresholds[i]=e,i==="s"&&(thresholds.ss=e-1),!0)}function humanize(i,e){if(!this.isValid())return this.localeData().invalidDate();var s=!1,o=thresholds,a,c;return typeof i=="object"&&(e=i,i=!1),typeof i=="boolean"&&(s=i),typeof e=="object"&&(o=Object.assign({},thresholds,e),e.s!=null&&e.ss==null&&(o.ss=e.s-1)),a=this.localeData(),c=relativeTime$1(this,!s,o,a),s&&(c=a.pastFuture(+this,c)),a.postformat(c)}var abs$1=Math.abs;function sign(i){return(i>0)-(i<0)||+i}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var i=abs$1(this._milliseconds)/1e3,e=abs$1(this._days),s=abs$1(this._months),o,a,c,d,h=this.asSeconds(),g,_,$l,Rl;return h?(o=absFloor(i/60),a=absFloor(o/60),i%=60,o%=60,c=absFloor(s/12),s%=12,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",g=h<0?"-":"",_=sign(this._months)!==sign(h)?"-":"",$l=sign(this._days)!==sign(h)?"-":"",Rl=sign(this._milliseconds)!==sign(h)?"-":"",g+"P"+(c?_+c+"Y":"")+(s?_+s+"M":"")+(e?$l+e+"D":"")+(a||o||i?"T":"")+(a?Rl+a+"H":"")+(o?Rl+o+"M":"")+(i?Rl+d+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(i,e,s){s._d=new Date(parseFloat(i)*1e3)});addParseToken("x",function(i,e,s){s._d=new Date(toInt(i))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};moment(hooks);const Citas$4=()=>{const[i,e]=react$1.exports.useState([]),[s,o]=react$1.exports.useState([]),[a,c]=react$1.exports.useState([]),[d,h]=react$1.exports.useState([]),[g,_]=react$1.exports.useState(0),[$l,Rl]=react$1.exports.useState(0),[Ml,Ul]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let Ql=localStorage.getItem("datos");Ql!=null?Ql===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[Ml]),react$1.exports.useEffect(()=>{let Ql=localStorage.getItem("usuario");Ql!=null&&(Ql=Ql.replace(/['"]+/g,"")),Ql!=null?(console.log(Ql),app.firestore().collection("users").doc(Ql).get().then(Jl=>{Jl.exists?(Rl(Jl.data().rol),console.log("Document data:",Jl.data().rol),Jl.data().nombre!=null&&Jl.data().apellido!=null&&Jl.data().curp!=null&&Jl.data().telefono!=null&&Jl.data().id!=null&&Jl.data().rol!=null?Ul(!0):Ul(!1)):(_(0),console.log("No such document!"))}).catch(Jl=>{console.log("Error getting document:",Jl)})):Rl(0)},[]);let Fl=localStorage.getItem("usuario");Fl=Fl.replace(/['"]+/g,"");const[Ll,Bl]=react$1.exports.useState(""),[zl,Hl]=react$1.exports.useState(""),[Wl,Yl]=react$1.exports.useState(""),[Xl,Gl]=react$1.exports.useState(""),[_d,Kl]=react$1.exports.useState(""),[ru,Zl]=react$1.exports.useState(""),[tp]=react$1.exports.useState(Fl),[op,bp]=react$1.exports.useState(""),[ap,hp]=react$1.exports.useState(null);react$1.exports.useEffect(()=>{let Ql=localStorage.getItem("usuario");Ql!=null&&(Ql=Ql.replace(/['"]+/g,"")),Ql!=null&&(console.log(Ql),app.firestore().collection("Citas").where("usuario","==",Ql).get().then(Jl=>{const np=[];console.log(Jl),Jl.forEach(cp=>{np.push({...cp.data(),id:np.length+1})}),e(np),console.log(np)}))},[]),react$1.exports.useEffect(()=>{(async()=>{try{const cp=(await app.firestore().collection("Citas").get()).docs.map(fp=>({id:fp.id,...fp.data()}));o(cp),console.log(cp)}catch(Jl){console.log(Jl)}})()},[]),react$1.exports.useEffect(()=>{(async()=>{try{const cp=(await app.firestore().collection("Servicios").get()).docs.map(fp=>({id:fp.id,...fp.data()}));c(cp)}catch(Jl){console.log(Jl)}})()},[]),react$1.exports.useEffect(()=>{(async()=>{try{const cp=(await app.firestore().collection("Especialistas").get()).docs.map(fp=>({id:fp.id,...fp.data()}));h(cp),console.log(cp)}catch(Jl){console.log(Jl)}})()},[]),i.map(Ql=>({title:Ql.paciente,start:hooks(Ql.fecha).toDate(),end:hooks(Ql.fecha).toDate(),desc:Ql.Description}));const gp=async Ql=>{if(Ql.preventDefault(),!Ll.trim()){hp("El campo nombre esta vacio");return}if(!Wl.trim()){hp("El campo hora esta vacio");return}if(!tp.trim()){hp("El campo usuario esta vacio");return}if(!_d.trim()){hp("El campo ubicacion esta vacio");return}if(!ru.trim()){hp("El campo precio esta vacio");return}try{const Jl=app.firestore();let np=Xl.split(",")[0];console.log("name"),console.log(Xl);const cp=Xl.split(",")[1],fp={paciente:Ll,fecha:zl.toISOString().substring(0,10),hora:Wl,usuario:tp,Description:op,name:cp,ubicacion:_d,price:ru,id:np},vp=await Jl.collection("Citas").add(fp);e([...i,{...fp,id:vp.id}]),Bl(""),Hl(""),localStorage.setItem("fecha",zl.toISOString().substring(0,10)),console.log(zl),Yl(""),Gl(""),bp(""),Kl(""),console.log("UBICACION "),console.log(_d),Zl(""),hp(null)}catch(Jl){console.log(Jl)}},rp=async Ql=>{try{await app.firestore().collection("Citas").doc(Ql).delete();const np=i.filter(cp=>cp.id!==Ql);e(np)}catch(Jl){console.log(Jl)}},up=Ql=>{let Jl=Ql.toISOString().substring(0,10),np=s.map(xp=>xp.fecha),cp=0,fp=0,vp=0,wp=d.map(xp=>xp.Name);return console.log(wp),wp.forEach(xp=>{xp===xp&&fp++}),np.forEach(xp=>{xp===Jl&&cp++}),Ql.getDay()===6||Ql.getDay()===0?!1:(vp=fp*1,console.log(vp),cp>=vp?(np.includes(Jl),!1):!0)},$p=Ql=>{let Jl=0,np=i.map(cp=>cp.name);return np.forEach(cp=>{cp===Ql&&Jl++}),Jl>=1?(np.includes(Ql),!0):!1},yp=Ql=>{let Jl=0;return i.forEach(np=>{np.Description===Ql&&np.usuario===tp&&Jl++}),Jl},dp=Ql=>yp(Ql)>=1,ep=Ql=>{let Jl=new Date().getHours();console.log("horaActual"),console.log(Jl);let np=parseInt(Ql.substring(0,2));return console.log("horaCita"),console.log(np),np<=Jl};return jsx("div",{className:"container mt-5",children:jsxs("div",{className:"row",children:[jsxs("div",{className:"col-md-6",children:[jsx("h3",{className:"text-center",children:"Agendar Cita"}),jsxs("form",{onSubmit:gp,className:"form-group",children:[jsx("input",{type:"text",placeholder:"Nombre del paciente",className:"form-control mb-2",onChange:Ql=>Bl(Ql.target.value),value:Ll}),jsx(Wt,{className:"form-control mb-2",selected:zl,onChange:Ql=>Hl(Ql),dateFormat:"dd/MM/yyyy",minDate:new Date,placeholderText:"Seleccione una fecha",excludeDates:i.map(Ql=>new Date(Ql.fecha)),filterDate:up}),jsxs("select",{className:"form-control mb-2",onChange:Ql=>Yl(Ql.target.value),value:Wl,children:[jsx("option",{value:"",children:"Seleccione una hora"}),jsx("option",{value:"08:00",children:"08:00"}),jsx("option",{value:"09:00",disabled:ep("09:00"),children:"09:00"}),jsx("option",{value:"10:00",disabled:ep("10:00"),children:"10:00"}),jsx("option",{value:"11:00",disabled:ep("11:00"),children:"11:00"}),jsx("option",{value:"12:00",disabled:ep("12:00"),children:"12:00"}),jsx("option",{value:"13:00",disabled:ep("13:00"),children:"13:00"}),jsx("option",{value:"14:00",disabled:ep("14:00"),children:"14:00"}),jsx("option",{value:"15:00",disabled:ep("15:00"),children:"15:00"}),jsx("option",{value:"16:00",disabled:ep("16:00"),children:"16:00"}),jsx("option",{value:"17:00",disabled:ep("17:00"),children:"17:00"}),jsx("option",{value:"20:00",disabled:ep("20:00"),children:"20:00"})]}),jsxs("select",{className:"form-control mb-2",onChange:Ql=>bp(Ql.target.value),value:op,children:[jsx("option",{value:"",children:"Seleccione un servicio"}),a.map(Ql=>jsx("option",{value:Ql.Description,disabled:dp(Ql.Description),children:Ql.Description},Ql.id))]}),jsxs("select",{className:"form-control mb-2",onChange:Ql=>Zl(Ql.target.value),value:ru,children:[jsx("option",{value:"",children:"Seleccione una ubicacion"}),a.map(Ql=>Ql.Description===op?jsx("option",{value:Ql.Price,children:Ql.Price},Ql.id):null)]}),jsxs("select",{className:"form-control mb-2",onChange:Ql=>Gl(Ql.target.value),value:Xl,children:[jsx("option",{value:"",children:"Seleccione un doctor"}),d.map(Ql=>jsx("option",{value:Ql.id+","+Ql.Name,disabled:$p(Ql.Name),children:Ql.Name},Ql.id))]}),jsxs("select",{className:"form-control mb-2",onChange:Ql=>Kl(Ql.target.value),value:_d,children:[jsx("option",{value:"",children:"Seleccione una ubicacion"}),d.map(Ql=>Ql.id+","+Ql.Name===Xl?jsx("option",{value:Ql.ubicacion,children:Ql.ubicacion},Ql.id):null)]}),jsx("button",{className:"btn btn-success btn-block",type:"submit",children:"Agregar"})]}),ap?jsx("div",{className:"alert alert-danger",children:ap}):jsx("div",{})]}),jsxs("div",{className:"col-md-6",children:[jsx("h3",{className:"text-center",children:"Citas"}),jsx("ul",{className:"list-group",children:i.map(Ql=>Ql.usuario===tp?jsx("li",{className:"list-group-item",children:jsx("div",{class:"container",children:jsxs("div",{class:"row",children:[jsx("div",{class:"col",children:jsxs("p",{children:["Doctor: ",Ql.name]})}),jsx("div",{class:"col",children:jsxs("p",{children:["Horario: ",Ql.hora]})}),jsx("div",{class:"col",children:jsxs("p",{children:["Ubicacion: ",Ql.ubicacion]})}),jsx("div",{class:"col",children:jsxs("p",{children:["Fecha: ",Ql.fecha]})}),jsx("div",{class:"col",children:jsx("button",{className:"btn btn-danger",onClick:()=>rp(Ql.id),children:jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16",children:[jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),jsx("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})})]})})},Ql.id):null)})]})]})})},NavBar=()=>{const[i,e]=react$1.exports.useState(0),[s,o]=react$1.exports.useState(0);react$1.exports.useEffect(()=>{o(localStorage.getItem("usuario"))},[]),react$1.exports.useEffect(()=>{let h=localStorage.getItem("usuario");h!=null&&(h=h.replace(/['"]+/g,"")),h!=null?(console.log(h),app.firestore().collection("users").doc(h).get().then(g=>{g.exists?(e(g.data().rol),console.log("Document data:",g.data().rol)):(o(0),console.log("No such document!"))}).catch(g=>{console.log("Error getting document:",g)})):e(0)},[]);const a=()=>{localStorage.removeItem("usuario"),localStorage.removeItem("correo"),localStorage.removeItem("datos"),window.location.href="/"},[c,d]=react$1.exports.useState("");return react$1.exports.useEffect(()=>{d(localStorage.getItem("correo"))},[]),jsx("div",{children:jsx("nav",{class:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#0070C0"},children:jsxs("div",{class:"container-fluid",children:[jsx("img",{src:".\\resourses\\logoA.png",alt:"...",height:"60"}),jsx("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:jsx("span",{class:"navbar-toggler-icon"})}),jsxs("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:[i=="admin"?jsxs("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/",children:"Inicio"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Agenda",children:"Agenda"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Servicios",children:"Servicios"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Especialistas",children:"Especialistas"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Perfil",children:"Perfil"})})]}):i=="doctor"?jsxs("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/",children:"Inicio"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Agenda",children:"Agenda"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Perfil",children:"Perfil"})})]}):jsxs("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/",children:"Inicio"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Citas",children:"Citas"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Agenda",children:"Agenda"})}),jsx("li",{class:"nav-item",children:jsx("a",{class:"nav-link active","aria-current":"page",href:"/Perfil",children:"Perfil"})})]}),jsx("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:jsx("li",{class:"nav-item",children:jsxs("a",{class:"nav-link active","aria-current":"page",children:["Bienvenido: ",c]})})}),jsx("form",{class:"d-flex",onSubmit:a,children:jsx("button",{class:"btn btn-danger",type:"submit",children:"Cerrar Sesion"})})]})]})})})};class EventDispatcher{constructor(){this._listeners=new Map}addEventListener(e,s){var o;this.removeEventListener(e,s),this._listeners.get(e)||this._listeners.set(e,[]),(o=this._listeners.get(e))===null||o===void 0||o.push(s)}dispatchEvent(e,s){var o;(o=this._listeners.get(e))===null||o===void 0||o.forEach(a=>a(s))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,s){const o=this._listeners.get(e);if(!o)return;const a=o.length,c=o.indexOf(s);c<0||(a===1?this._listeners.delete(e):o.splice(c,1))}}class Vector3d{constructor(e,s,o){if(typeof e!="number"&&e){this.x=e.x,this.y=e.y;const a=e;this.z=a.z?a.z:0}else if(e!==void 0&&s!==void 0)this.x=e,this.y=s,this.z=o!=null?o:0;else throw new Error("tsParticles - Vector3d not initialized correctly")}static get origin(){return Vector3d.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}static clone(e){return Vector3d.create(e.x,e.y,e.z)}static create(e,s,o){return new Vector3d(e,s,o)}add(e){return Vector3d.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Vector3d.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Vector3d.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Vector3d.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}rotate(e){return Vector3d.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:0}sub(e){return Vector3d.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}updateFromAngle(e,s){this.x=Math.cos(e)*s,this.y=Math.sin(e)*s}}class Vector extends Vector3d{constructor(e,s){super(e,s,0)}static get origin(){return Vector.create(0,0)}static clone(e){return Vector.create(e.x,e.y)}static create(e,s){return new Vector(e,s)}}let _random=Math.random;const easings=new Map;function getEasing(i){var e;const s=o=>o;return(e=easings.get(i))!==null&&e!==void 0?e:s}function getRandom(){return clamp(_random(),0,1-1e-16)}function clamp(i,e,s){return Math.min(Math.max(i,e),s)}function mix(i,e,s,o){return Math.floor((i*s+e*o)/(s+o))}function randomInRange(i){const e=getRangeMax(i);let s=getRangeMin(i);return e===s&&(s=0),getRandom()*(e-s)+s}function getRangeValue(i){return typeof i=="number"?i:randomInRange(i)}function getRangeMin(i){return typeof i=="number"?i:i.min}function getRangeMax(i){return typeof i=="number"?i:i.max}function setRangeValue(i,e){if(i===e||e===void 0&&typeof i=="number")return i;const s=getRangeMin(i),o=getRangeMax(i);return e!==void 0?{min:Math.min(s,e),max:Math.max(o,e)}:setRangeValue(s,o)}function getValue(i){const e=i.random,{enable:s,minimumValue:o}=typeof e=="boolean"?{enable:e,minimumValue:0}:e;return getRangeValue(s?setRangeValue(i.value,o):i.value)}function getDistances(i,e){const s=i.x-e.x,o=i.y-e.y;return{dx:s,dy:o,distance:Math.sqrt(s*s+o*o)}}function getDistance(i,e){return getDistances(i,e).distance}function getParticleDirectionAngle(i,e,s){if(typeof i=="number")return i*Math.PI/180;switch(i){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(s.y-e.y,s.x-e.x);case"outside":return Math.atan2(e.y-s.y,e.x-s.x);default:return getRandom()*Math.PI*2}}function getParticleBaseVelocity(i){const e=Vector.origin;return e.length=1,e.angle=i,e}function collisionVelocity(i,e,s,o){return Vector.create(i.x*(s-o)/(s+o)+e.x*2*o/(s+o),i.y)}function calcPositionFromSize(i){return i.position&&i.position.x!==void 0&&i.position.y!==void 0?{x:i.position.x*i.size.width/100,y:i.position.y*i.size.height/100}:void 0}function calcPositionOrRandomFromSize(i){var e,s,o,a;return{x:((s=(e=i.position)===null||e===void 0?void 0:e.x)!==null&&s!==void 0?s:getRandom()*100)*i.size.width/100,y:((a=(o=i.position)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:getRandom()*100)*i.size.height/100}}function calcPositionOrRandomFromSizeRanged(i){var e,s;const o={x:((e=i.position)===null||e===void 0?void 0:e.x)!==void 0?getRangeValue(i.position.x):void 0,y:((s=i.position)===null||s===void 0?void 0:s.y)!==void 0?getRangeValue(i.position.y):void 0};return calcPositionOrRandomFromSize({size:i.size,position:o})}function calcExactPositionOrRandomFromSize(i){var e,s,o,a;return{x:(s=(e=i.position)===null||e===void 0?void 0:e.x)!==null&&s!==void 0?s:getRandom()*i.size.width,y:(a=(o=i.position)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:getRandom()*i.size.height}}function parseAlpha(i){return i?i.endsWith("%")?parseFloat(i)/100:parseFloat(i):1}function rectSideBounce(i,e,s,o,a,c){const d={bounced:!1};return e.min<o.min||e.min>o.max||e.max<o.min||e.max>o.max||(i.max>=s.min&&i.max<=(s.max+s.min)/2&&a>0||i.min<=s.max&&i.min>(s.max+s.min)/2&&a<0)&&(d.velocity=a*-c,d.bounced=!0),d}function checkSelector(i,e){const s=executeOnSingleOrMultiple(e,o=>i.matches(o));return s instanceof Array?s.some(o=>o):s}function isSsr(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function hasMatchMedia(){return!isSsr()&&typeof matchMedia<"u"}function safeMatchMedia(i){if(!!hasMatchMedia())return matchMedia(i)}function animate(){return isSsr()?i=>setTimeout(i):i=>(requestAnimationFrame||setTimeout)(i)}function cancelAnimation(){return isSsr()?i=>clearTimeout(i):i=>(cancelAnimationFrame||clearTimeout)(i)}function isInArray(i,e){return i===e||e instanceof Array&&e.indexOf(i)>-1}async function loadFont(i,e){try{await document.fonts.load(`${e!=null?e:"400"} 36px '${i!=null?i:"Verdana"}'`)}catch{}}function arrayRandomIndex(i){return Math.floor(getRandom()*i.length)}function itemFromArray(i,e,s=!0){return i[e!==void 0&&s?e%i.length:arrayRandomIndex(i)]}function isPointInside(i,e,s,o,a){return areBoundsInside(calculateBounds(i,o!=null?o:0),e,s,a)}function areBoundsInside(i,e,s,o){let a=!0;return(!o||o==="bottom")&&(a=i.top<e.height+s.x),a&&(!o||o==="left")&&(a=i.right>s.x),a&&(!o||o==="right")&&(a=i.left<e.width+s.y),a&&(!o||o==="top")&&(a=i.bottom>s.y),a}function calculateBounds(i,e){return{bottom:i.y+e,left:i.x-e,right:i.x+e,top:i.y-e}}function deepExtend(i,...e){for(const s of e){if(s==null)continue;if(typeof s!="object"){i=s;continue}const o=Array.isArray(s);o&&(typeof i!="object"||!i||!Array.isArray(i))?i=[]:!o&&(typeof i!="object"||!i||Array.isArray(i))&&(i={});for(const a in s){if(a==="__proto__")continue;const c=s,d=c[a],h=typeof d=="object",g=i;g[a]=h&&Array.isArray(d)?d.map(_=>deepExtend(g[a],_)):deepExtend(g[a],d)}}return i}function isDivModeEnabled(i,e){return!!findItemFromSingleOrMultiple(e,s=>s.enable&&isInArray(i,s.mode))}function divModeExecute(i,e,s){executeOnSingleOrMultiple(e,o=>{const a=o.mode;o.enable&&isInArray(i,a)&&singleDivModeExecute(o,s)})}function singleDivModeExecute(i,e){const s=i.selectors;executeOnSingleOrMultiple(s,o=>{e(o,i)})}function divMode(i,e){if(!(!e||!i))return findItemFromSingleOrMultiple(i,s=>checkSelector(e,s.selectors))}function circleBounceDataFromParticle(i){return{position:i.getPosition(),radius:i.getRadius(),mass:i.getMass(),velocity:i.velocity,factor:Vector.create(getValue(i.options.bounce.horizontal),getValue(i.options.bounce.vertical))}}function circleBounce(i,e){const{x:s,y:o}=i.velocity.sub(e.velocity),[a,c]=[i.position,e.position],{dx:d,dy:h}=getDistances(c,a);if(s*d+o*h<0)return;const g=-Math.atan2(h,d),_=i.mass,$l=e.mass,Rl=i.velocity.rotate(g),Ml=e.velocity.rotate(g),Ul=collisionVelocity(Rl,Ml,_,$l),Fl=collisionVelocity(Ml,Rl,_,$l),Ll=Ul.rotate(-g),Bl=Fl.rotate(-g);i.velocity.x=Ll.x*i.factor.x,i.velocity.y=Ll.y*i.factor.y,e.velocity.x=Bl.x*e.factor.x,e.velocity.y=Bl.y*e.factor.y}function rectBounce(i,e){const s=i.getPosition(),o=i.getRadius(),a=calculateBounds(s,o),c=rectSideBounce({min:a.left,max:a.right},{min:a.top,max:a.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},i.velocity.x,getValue(i.options.bounce.horizontal));c.bounced&&(c.velocity!==void 0&&(i.velocity.x=c.velocity),c.position!==void 0&&(i.position.x=c.position));const d=rectSideBounce({min:a.top,max:a.bottom},{min:a.left,max:a.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},i.velocity.y,getValue(i.options.bounce.vertical));d.bounced&&(d.velocity!==void 0&&(i.velocity.y=d.velocity),d.position!==void 0&&(i.position.y=d.position))}function executeOnSingleOrMultiple(i,e){return i instanceof Array?i.map(s=>e(s)):e(i)}function itemFromSingleOrMultiple(i,e,s){return i instanceof Array?itemFromArray(i,e,s):i}function findItemFromSingleOrMultiple(i,e){return i instanceof Array?i.find(s=>e(s)):e(i)?i:void 0}const randomColorValue="random",midColorValue="mid",colorManagers=new Map;function addColorManager(i){colorManagers.set(i.key,i)}function hue2rgb(i,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(e-i)*6*s:s<1/2?e:s<2/3?i+(e-i)*(2/3-s)*6:i}function stringToRgba(i){for(const[,c]of colorManagers)if(i.startsWith(c.stringPrefix))return c.parseString(i);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,s=i.replace(e,(c,d,h,g,_)=>d+d+h+h+g+g+(_!==void 0?_+_:"")),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,a=o.exec(s);return a?{a:a[4]!==void 0?parseInt(a[4],16)/255:1,b:parseInt(a[3],16),g:parseInt(a[2],16),r:parseInt(a[1],16)}:void 0}function rangeColorToRgb(i,e,s=!0){if(!i)return;const o=typeof i=="string"?{value:i}:i;if(typeof o.value=="string")return colorToRgb(o.value,e,s);if(o.value instanceof Array)return rangeColorToRgb({value:itemFromArray(o.value,e,s)});for(const[,a]of colorManagers){const c=a.handleRangeColor(o);if(c)return c}}function colorToRgb(i,e,s=!0){if(!i)return;const o=typeof i=="string"?{value:i}:i;if(typeof o.value=="string")return o.value===randomColorValue?getRandomRgbColor():stringToRgb(o.value);if(o.value instanceof Array)return colorToRgb({value:itemFromArray(o.value,e,s)});for(const[,a]of colorManagers){const c=a.handleColor(o);if(c)return c}}function rangeColorToHsl(i,e,s=!0){const o=rangeColorToRgb(i,e,s);return o?rgbToHsl(o):void 0}function rgbToHsl(i){const e=i.r/255,s=i.g/255,o=i.b/255,a=Math.max(e,s,o),c=Math.min(e,s,o),d={h:0,l:(a+c)/2,s:0};return a!==c&&(d.s=d.l<.5?(a-c)/(a+c):(a-c)/(2-a-c),d.h=e===a?(s-o)/(a-c):d.h=s===a?2+(o-e)/(a-c):4+(e-s)/(a-c)),d.l*=100,d.s*=100,d.h*=60,d.h<0&&(d.h+=360),d.h>=360&&(d.h-=360),d}function stringToRgb(i){return stringToRgba(i)}function hslToRgb(i){const e={b:0,g:0,r:0},s={h:i.h/360,l:i.l/100,s:i.s/100};if(!s.s)e.b=s.l,e.g=s.l,e.r=s.l;else{const o=s.l<.5?s.l*(1+s.s):s.l+s.s-s.l*s.s,a=2*s.l-o;e.r=hue2rgb(a,o,s.h+1/3),e.g=hue2rgb(a,o,s.h),e.b=hue2rgb(a,o,s.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function hslaToRgba(i){const e=hslToRgb(i);return{a:i.a,b:e.b,g:e.g,r:e.r}}function getRandomRgbColor(i){const e=i!=null?i:0;return{b:Math.floor(randomInRange(setRangeValue(e,256))),g:Math.floor(randomInRange(setRangeValue(e,256))),r:Math.floor(randomInRange(setRangeValue(e,256)))}}function getStyleFromRgb(i,e){return`rgba(${i.r}, ${i.g}, ${i.b}, ${e!=null?e:1})`}function getStyleFromHsl(i,e){return`hsla(${i.h}, ${i.s}%, ${i.l}%, ${e!=null?e:1})`}function colorMix(i,e,s,o){let a=i,c=e;return a.r===void 0&&(a=hslToRgb(i)),c.r===void 0&&(c=hslToRgb(e)),{b:mix(a.b,c.b,s,o),g:mix(a.g,c.g,s,o),r:mix(a.r,c.r,s,o)}}function getLinkColor(i,e,s){var o,a;if(s===randomColorValue)return getRandomRgbColor();if(s===midColorValue){const c=(o=i.getFillColor())!==null&&o!==void 0?o:i.getStrokeColor(),d=(a=e==null?void 0:e.getFillColor())!==null&&a!==void 0?a:e==null?void 0:e.getStrokeColor();if(c&&d&&e)return colorMix(c,d,i.getRadius(),e.getRadius());{const h=c!=null?c:d;if(h)return hslToRgb(h)}}else return s}function getLinkRandomColor(i,e,s){const o=typeof i=="string"?i:i.value;return o===randomColorValue?s?rangeColorToRgb({value:o}):e?randomColorValue:midColorValue:o===midColorValue?midColorValue:rangeColorToRgb({value:o})}function getHslFromAnimation(i){return i!==void 0?{h:i.h.value,s:i.s.value,l:i.l.value}:void 0}function getHslAnimationFromHsl(i,e,s){const o={h:{enable:!1,value:i.h},s:{enable:!1,value:i.s},l:{enable:!1,value:i.l}};return e&&(setColorAnimation(o.h,e.h,s),setColorAnimation(o.s,e.s,s),setColorAnimation(o.l,e.l,s)),o}function setColorAnimation(i,e,s){i.enable=e.enable,i.enable?(i.velocity=getRangeValue(e.speed)/100*s,i.decay=1-getRangeValue(e.decay),i.status=0,e.sync||(i.velocity*=getRandom(),i.value*=getRandom())):i.velocity=0}function drawLine(i,e,s){i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(s.x,s.y),i.closePath()}function drawTriangle(i,e,s,o){i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(s.x,s.y),i.lineTo(o.x,o.y),i.closePath()}function paintBase(i,e,s){i.fillStyle=s!=null?s:"rgba(0,0,0,0)",i.fillRect(0,0,e.width,e.height)}function clear(i,e){i.clearRect(0,0,e.width,e.height)}function drawParticle(i){var e,s,o,a,c,d;const{container:h,context:g,particle:_,delta:$l,colorStyles:Rl,backgroundMask:Ml,composite:Ul,radius:Fl,opacity:Ll,shadow:Bl,transform:zl}=i,Hl=_.getPosition(),Wl=_.rotation+(_.pathRotation?_.velocity.angle:0),Yl={sin:Math.sin(Wl),cos:Math.cos(Wl)},Xl={a:Yl.cos*((e=zl.a)!==null&&e!==void 0?e:1),b:Yl.sin*((s=zl.b)!==null&&s!==void 0?s:1),c:-Yl.sin*((o=zl.c)!==null&&o!==void 0?o:1),d:Yl.cos*((a=zl.d)!==null&&a!==void 0?a:1)};g.setTransform(Xl.a,Xl.b,Xl.c,Xl.d,Hl.x,Hl.y),g.beginPath(),Ml&&(g.globalCompositeOperation=Ul);const Gl=_.shadowColor;Bl.enable&&Gl&&(g.shadowBlur=Bl.blur,g.shadowColor=getStyleFromRgb(Gl),g.shadowOffsetX=Bl.offset.x,g.shadowOffsetY=Bl.offset.y),Rl.fill&&(g.fillStyle=Rl.fill);const _d=_.stroke;g.lineWidth=(c=_.strokeWidth)!==null&&c!==void 0?c:0,Rl.stroke&&(g.strokeStyle=Rl.stroke),drawShape(h,g,_,Fl,Ll,$l),((d=_d==null?void 0:_d.width)!==null&&d!==void 0?d:0)>0&&g.stroke(),_.close&&g.closePath(),_.fill&&g.fill(),drawShapeAfterEffect(h,g,_,Fl,Ll,$l),g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0)}function drawShape(i,e,s,o,a,c){if(!s.shape)return;const d=i.drawers.get(s.shape);!d||d.draw(e,s,o,a,c,i.retina.pixelRatio)}function drawShapeAfterEffect(i,e,s,o,a,c){if(!s.shape)return;const d=i.drawers.get(s.shape);!(d!=null&&d.afterEffect)||d.afterEffect(e,s,o,a,c,i.retina.pixelRatio)}function drawPlugin(i,e,s){!e.draw||e.draw(i,s)}function drawParticlePlugin(i,e,s,o){!e.drawParticle||e.drawParticle(i,s,o)}function alterHsl(i,e,s){return{h:i.h,s:i.s,l:i.l+(e==="darken"?-1:1)*s}}const generatedAttribute="generated",touchEndEvent="touchend",mouseDownEvent="pointerdown",mouseUpEvent="pointerup",mouseMoveEvent="pointermove",touchStartEvent="touchstart",touchMoveEvent="touchmove",mouseLeaveEvent="pointerleave",mouseOutEvent="pointerout",touchCancelEvent="touchcancel",resizeEvent="resize",visibilityChangeEvent="visibilitychange";function setTransformValue(i,e,s){var o;const a=e[s];a!==void 0&&(i[s]=((o=i[s])!==null&&o!==void 0?o:1)*a)}class Canvas{constructor(e){this.container=e,this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._mutationObserver=!isSsr()&&typeof MutationObserver<"u"?new MutationObserver(s=>{for(const o of s)o.type==="attributes"&&o.attributeName==="style"&&this._repairStyle()}):void 0}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,s=e.particles.move.trail;e.backgroundMask.enable?this.paint():s.enable&&s.length>0&&this._trailFillColor?this._paintBase(getStyleFromRgb(this._trailFillColor,1/s.length)):this.draw(o=>{clear(o,this.size)})}destroy(){var e,s;(e=this._mutationObserver)===null||e===void 0||e.disconnect(),this._generated?(s=this.element)===null||s===void 0||s.remove():this._resetOriginalStyle(),this.draw(o=>{clear(o,this.size)}),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){if(!!this._context)return e(this._context)}drawParticle(e,s){var o;if(e.spawning||e.destroyed)return;const a=e.getRadius();if(a<=0)return;const c=e.getFillColor(),d=(o=e.getStrokeColor())!==null&&o!==void 0?o:c;let[h,g]=this._getPluginParticleColors(e);h||(h=c),g||(g=d),!(!h&&!g)&&this.draw(_=>{var $l,Rl,Ml,Ul,Fl;const Ll=this.container.actualOptions,Bl=e.options.zIndex,zl=(1-e.zIndexFactor)**Bl.opacityRate,Hl=(Ml=($l=e.bubble.opacity)!==null&&$l!==void 0?$l:(Rl=e.opacity)===null||Rl===void 0?void 0:Rl.value)!==null&&Ml!==void 0?Ml:1,Wl=(Fl=(Ul=e.stroke)===null||Ul===void 0?void 0:Ul.opacity)!==null&&Fl!==void 0?Fl:Hl,Yl=Hl*zl,Xl=Wl*zl,Gl={},_d={fill:h?getStyleFromHsl(h,Yl):void 0};_d.stroke=g?getStyleFromHsl(g,Xl):_d.fill,this._applyPreDrawUpdaters(_,e,a,Yl,_d,Gl),drawParticle({container:this.container,context:_,particle:e,delta:s,colorStyles:_d,backgroundMask:Ll.backgroundMask.enable,composite:Ll.backgroundMask.composite,radius:a*(1-e.zIndexFactor)**Bl.sizeRate,opacity:Yl,shadow:e.options.shadow,transform:Gl}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,s,o){this.draw(a=>{drawParticlePlugin(a,e,s,o)})}drawPlugin(e,s){this.draw(o=>{drawPlugin(o,e,s)})}init(){var e;this.resize(),this._initStyle(),this._initCover(),this._initTrail(),this.initBackground(),this.element&&((e=this._mutationObserver)===null||e===void 0||e.observe(this.element,{attributes:!0})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,s=e.background,o=this.element,a=o==null?void 0:o.style;if(!!a){if(s.color){const c=rangeColorToRgb(s.color);a.backgroundColor=c?getStyleFromRgb(c,s.opacity):""}else a.backgroundColor="";a.backgroundImage=s.image||"",a.backgroundPosition=s.position||"",a.backgroundRepeat=s.repeat||"",a.backgroundSize=s.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){var s,o;this._generated&&((s=this.element)===null||s===void 0||s.remove()),this._generated=e.dataset&&generatedAttribute in e.dataset?e.dataset[generatedAttribute]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=deepExtend({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),(o=this._mutationObserver)===null||o===void 0||o.observe(this.element,{attributes:!0}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(s=>{e.backgroundMask.enable&&e.backgroundMask.cover?(clear(s,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return;const e=this.container,s=e.retina.pixelRatio,o=e.canvas.size,a={width:this.element.offsetWidth*s,height:this.element.offsetHeight*s};if(a.height===o.height&&a.width===o.width&&a.height===this.element.height&&a.width===this.element.width)return;const c=Object.assign({},o);this.element.width=o.width=this.element.offsetWidth*s,this.element.height=o.height=this.element.offsetHeight*s,this.container.started&&(this.resizeFactor={width:o.width/c.width,height:o.height/c.height})}async windowResize(){if(!this.element)return;this.resize();const e=this.container,s=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),s&&await e.refresh()}_applyPostDrawUpdaters(e){var s;for(const o of this._postDrawUpdaters)(s=o.afterDraw)===null||s===void 0||s.call(o,e)}_applyPreDrawUpdaters(e,s,o,a,c,d){var h;for(const g of this._preDrawUpdaters){if(g.getColorStyles){const{fill:_,stroke:$l}=g.getColorStyles(s,e,o,a);_&&(c.fill=_),$l&&(c.stroke=$l)}if(g.getTransformValues){const _=g.getTransformValues(s);for(const $l in _)setTransformValue(d,_,$l)}(h=g.beforeDraw)===null||h===void 0||h.call(g,s)}}_applyResizePlugins(){for(const e of this._resizePlugins)e.resize&&e.resize()}_getPluginParticleColors(e){let s,o;for(const a of this._colorPlugins)if(!s&&a.particleFillColor&&(s=rangeColorToHsl(a.particleFillColor(e))),!o&&a.particleStrokeColor&&(o=rangeColorToHsl(a.particleStrokeColor(e))),s&&o)break;return[s,o]}_initCover(){const e=this.container.actualOptions,s=e.backgroundMask.cover,o=s.color,a=rangeColorToRgb(o);if(a){const c={r:a.r,g:a.g,b:a.b,a:s.opacity};this._coverColorStyle=getStyleFromRgb(c,c.a)}}_initStyle(){const e=this.element,s=this.container.actualOptions;if(!!e){this._fullScreen?(this._originalStyle=deepExtend({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const o in s.style){if(!o||!s.style)continue;const a=s.style[o];!a||e.style.setProperty(o,a,"important")}}}_initTrail(){const e=this.container.actualOptions,s=e.particles.move.trail,o=rangeColorToRgb(s.fillColor);if(o){const a=e.particles.move.trail;this._trailFillColor=Object.assign(Object.assign({},o),{a:1/a.length})}}_paintBase(e){this.draw(s=>{paintBase(s,this.size,e)})}_repairStyle(){var e,s;const o=this.element;!o||((e=this._mutationObserver)===null||e===void 0||e.disconnect(),this._initStyle(),this.initBackground(),(s=this._mutationObserver)===null||s===void 0||s.observe(o,{attributes:!0}))}_resetOriginalStyle(){const e=this.element,s=this._originalStyle;!(e&&s)||(e.style.position=s.position,e.style.zIndex=s.zIndex,e.style.top=s.top,e.style.left=s.left,e.style.width=s.width,e.style.height=s.height)}_setFullScreenStyle(){const e=this.element;if(!e)return;const s="important";e.style.setProperty("position","fixed",s),e.style.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),s),e.style.setProperty("top","0",s),e.style.setProperty("left","0",s),e.style.setProperty("width","100%",s),e.style.setProperty("height","100%",s)}}function manageListener(i,e,s,o,a){if(o){let c={passive:!0};typeof a=="boolean"?c.capture=a:a!==void 0&&(c=a),i.addEventListener(e,s,c)}else{const c=a;i.removeEventListener(e,s,c)}}class EventListeners{constructor(e){this.container=e,this.canPush=!0,this.mouseMoveHandler=s=>this.mouseTouchMove(s),this.touchStartHandler=s=>this.mouseTouchMove(s),this.touchMoveHandler=s=>this.mouseTouchMove(s),this.touchEndHandler=()=>this.mouseTouchFinish(),this.mouseLeaveHandler=()=>this.mouseTouchFinish(),this.touchCancelHandler=()=>this.mouseTouchFinish(),this.touchEndClickHandler=s=>this.mouseTouchClick(s),this.mouseUpHandler=s=>this.mouseTouchClick(s),this.mouseDownHandler=()=>this.mouseDown(),this.visibilityChangeHandler=()=>this.handleVisibilityChange(),this.themeChangeHandler=s=>this.handleThemeChange(s),this.oldThemeChangeHandler=s=>this.handleThemeChange(s),this.resizeHandler=()=>this.handleWindowResize()}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}doMouseTouchClick(e){const s=this.container,o=s.actualOptions;if(this.canPush){const a=s.interactivity.mouse.position;if(!a)return;s.interactivity.mouse.clickPosition=Object.assign({},a),s.interactivity.mouse.clickTime=new Date().getTime();const c=o.interactivity.events.onClick;executeOnSingleOrMultiple(c.mode,d=>this.handleClickMode(d))}e.type==="touchend"&&setTimeout(()=>this.mouseTouchFinish(),500)}handleClickMode(e){this.container.handleClickMode(e)}handleThemeChange(e){const s=e,o=s.matches?this.container.options.defaultThemes.dark:this.container.options.defaultThemes.light,a=this.container.options.themes.find(c=>c.name===o);a&&a.default.auto&&this.container.loadTheme(o)}handleVisibilityChange(){const e=this.container,s=e.actualOptions;this.mouseTouchFinish(),s.pauseOnBlur&&(document!=null&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var e;return(e=this.container.canvas)===null||e===void 0?void 0:e.windowResize()},500)}manageListeners(e){var s;const o=this.container,a=o.actualOptions,c=a.interactivity.detectsOn;let d=mouseLeaveEvent;if(c==="window")o.interactivity.element=window,d=mouseOutEvent;else if(c==="parent"&&o.canvas.element){const $l=o.canvas.element;o.interactivity.element=(s=$l.parentElement)!==null&&s!==void 0?s:$l.parentNode}else o.interactivity.element=o.canvas.element;const h=safeMatchMedia("(prefers-color-scheme: dark)");h&&(h.addEventListener!==void 0?manageListener(h,"change",this.themeChangeHandler,e):h.addListener!==void 0&&(e?h.addListener(this.oldThemeChangeHandler):h.removeListener(this.oldThemeChangeHandler)));const g=o.interactivity.element;if(!g)return;const _=g;(a.interactivity.events.onHover.enable||a.interactivity.events.onClick.enable)&&(manageListener(g,mouseMoveEvent,this.mouseMoveHandler,e),manageListener(g,touchStartEvent,this.touchStartHandler,e),manageListener(g,touchMoveEvent,this.touchMoveHandler,e),a.interactivity.events.onClick.enable?(manageListener(g,touchEndEvent,this.touchEndClickHandler,e),manageListener(g,mouseUpEvent,this.mouseUpHandler,e),manageListener(g,mouseDownEvent,this.mouseDownHandler,e)):manageListener(g,touchEndEvent,this.touchEndHandler,e),manageListener(g,d,this.mouseLeaveHandler,e),manageListener(g,touchCancelEvent,this.touchCancelHandler,e)),o.canvas.element&&(o.canvas.element.style.pointerEvents=_===o.canvas.element?"initial":"none"),a.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(o.canvas.element&&this.resizeObserver.unobserve(o.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&o.canvas.element&&(this.resizeObserver=new ResizeObserver($l=>{!$l.find(Ml=>Ml.target===o.canvas.element)||this.handleWindowResize()}),this.resizeObserver.observe(o.canvas.element)):manageListener(window,resizeEvent,this.resizeHandler,e)),document&&manageListener(document,visibilityChangeEvent,this.visibilityChangeHandler,e,!1)}mouseDown(){const e=this.container.interactivity;if(e){const s=e.mouse;s.clicking=!0,s.downPosition=s.position}}mouseTouchClick(e){const s=this.container,o=s.actualOptions,a=s.interactivity.mouse;a.inside=!0;let c=!1;const d=a.position;if(!(!d||!o.interactivity.events.onClick.enable)){for(const[,h]of s.plugins)if(!!h.clickPositionValid&&(c=h.clickPositionValid(d),c))break;c||this.doMouseTouchClick(e),a.clicking=!1}}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const s=e.mouse;delete s.position,delete s.clickPosition,delete s.downPosition,e.status=mouseLeaveEvent,s.inside=!1,s.clicking=!1}mouseTouchMove(e){var s,o,a,c,d,h,g;const _=this.container,$l=_.actualOptions;if(!(!((s=_.interactivity)===null||s===void 0)&&s.element))return;_.interactivity.mouse.inside=!0;let Rl;const Ml=_.canvas.element;if(e.type.startsWith("pointer")){this.canPush=!0;const Fl=e;if(_.interactivity.element===window){if(Ml){const Ll=Ml.getBoundingClientRect();Rl={x:Fl.clientX-Ll.left,y:Fl.clientY-Ll.top}}}else if($l.interactivity.detectsOn==="parent"){const Ll=Fl.target,Bl=Fl.currentTarget,zl=_.canvas.element;if(Ll&&Bl&&zl){const Hl=Ll.getBoundingClientRect(),Wl=Bl.getBoundingClientRect(),Yl=zl.getBoundingClientRect();Rl={x:Fl.offsetX+2*Hl.left-(Wl.left+Yl.left),y:Fl.offsetY+2*Hl.top-(Wl.top+Yl.top)}}else Rl={x:(o=Fl.offsetX)!==null&&o!==void 0?o:Fl.clientX,y:(a=Fl.offsetY)!==null&&a!==void 0?a:Fl.clientY}}else Fl.target===_.canvas.element&&(Rl={x:(c=Fl.offsetX)!==null&&c!==void 0?c:Fl.clientX,y:(d=Fl.offsetY)!==null&&d!==void 0?d:Fl.clientY})}else{this.canPush=e.type!=="touchmove";const Fl=e,Ll=Fl.touches[Fl.touches.length-1],Bl=Ml==null?void 0:Ml.getBoundingClientRect();Rl={x:Ll.clientX-((h=Bl==null?void 0:Bl.left)!==null&&h!==void 0?h:0),y:Ll.clientY-((g=Bl==null?void 0:Bl.top)!==null&&g!==void 0?g:0)}}const Ul=_.retina.pixelRatio;Rl&&(Rl.x*=Ul,Rl.y*=Ul),_.interactivity.mouse.position=Rl,_.interactivity.status=mouseMoveEvent}}function initDelta(i,e=60,s=!1){return{value:i,factor:s?60/e:60*i/1e3}}class FrameManager{constructor(e){this.container=e}async nextFrame(e){var s;try{const o=this.container;if(!o.smooth&&o.lastFrameTime!==void 0&&e<o.lastFrameTime+1e3/o.fpsLimit){o.draw(!1);return}(s=o.lastFrameTime)!==null&&s!==void 0||(o.lastFrameTime=e);const a=initDelta(e-o.lastFrameTime,o.fpsLimit,o.smooth);if(o.lifeTime+=a.value,o.lastFrameTime=e,a.value>1e3){o.draw(!1);return}if(await o.particles.draw(a),o.duration>0&&o.lifeTime>o.duration){o.destroy();return}o.getAnimationStatus()&&o.draw(!1)}catch(o){console.error("tsParticles error in animation loop",o)}}}class OptionsColor{constructor(){this.value=""}static create(e,s){const o=new OptionsColor;return o.load(e),s!==void 0&&(typeof s=="string"||s instanceof Array?o.load({value:s}):o.load(s)),o}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class Background{constructor(){this.color=new OptionsColor,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=OptionsColor.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class BackgroundMaskCover{constructor(){this.color=new OptionsColor,this.color.value="#fff",this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=OptionsColor.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class BackgroundMask{constructor(){this.composite="destination-out",this.cover=new BackgroundMaskCover,this.enable=!1}load(e){if(!!e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const s=e.cover,o=typeof e.cover=="string"?{color:e.cover}:e.cover;this.cover.load(s.color!==void 0?s:{color:o})}e.enable!==void 0&&(this.enable=e.enable)}}}class FullScreen{constructor(){this.enable=!0,this.zIndex=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class ClickEvent{constructor(){this.enable=!1,this.mode=[]}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class DivEvent{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return executeOnSingleOrMultiple(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=executeOnSingleOrMultiple(e,s=>`#${s}`)}load(e){var s,o;if(!e)return;const a=(o=(s=e.ids)!==null&&s!==void 0?s:e.elementId)!==null&&o!==void 0?o:e.el;a!==void 0&&(this.ids=a),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class Parallax{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class HoverEvent{constructor(){this.enable=!1,this.mode=[],this.parallax=new Parallax}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class Events{constructor(){this.onClick=new ClickEvent,this.onDiv=new DivEvent,this.onHover=new HoverEvent,this.resize=!0}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var s,o,a;if(!e)return;this.onClick.load((s=e.onClick)!==null&&s!==void 0?s:e.onclick);const c=(o=e.onDiv)!==null&&o!==void 0?o:e.ondiv;c!==void 0&&(this.onDiv=executeOnSingleOrMultiple(c,d=>{const h=new DivEvent;return h.load(d),h})),this.onHover.load((a=e.onHover)!==null&&a!==void 0?a:e.onhover),e.resize!==void 0&&(this.resize=e.resize)}}class Modes{constructor(e,s){this._engine=e,this._container=s}load(e){if(!!e&&this._container){const s=this._engine.plugins.interactors.get(this._container);if(s)for(const o of s)o.loadModeOptions&&o.loadModeOptions(this,e)}}}class Interactivity{constructor(e,s){this.detectsOn="window",this.events=new Events,this.modes=new Modes(e,s)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var s;if(!e)return;const o=(s=e.detectsOn)!==null&&s!==void 0?s:e.detect_on;o!==void 0&&(this.detectsOn=o),this.events.load(e.events),this.modes.load(e.modes)}}class ManualParticle{load(e){var s,o;!e||(e.position!==void 0&&(this.position={x:(s=e.position.x)!==null&&s!==void 0?s:50,y:(o=e.position.y)!==null&&o!==void 0?o:50}),e.options!==void 0&&(this.options=deepExtend({},e.options)))}}class Responsive{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){!e||(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=deepExtend({},e.options)))}}class ThemeDefault{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){!e||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Theme{constructor(){this.name="",this.default=new ThemeDefault}load(e){!e||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=deepExtend({},e.options)))}}class ColorAnimation{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.decay=0,this.sync=!0}load(e){!e||(e.count!==void 0&&(this.count=setRangeValue(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=setRangeValue(e.offset)),e.speed!==void 0&&(this.speed=setRangeValue(e.speed)),e.decay!==void 0&&(this.decay=setRangeValue(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class HslAnimation{constructor(){this.h=new ColorAnimation,this.s=new ColorAnimation,this.l=new ColorAnimation}load(e){!e||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class AnimatableColor extends OptionsColor{constructor(){super(),this.animation=new HslAnimation}static create(e,s){const o=new AnimatableColor;return o.load(e),s!==void 0&&(typeof s=="string"||s instanceof Array?o.load({value:s}):o.load(s)),o}load(e){if(super.load(e),!e)return;const s=e.animation;s!==void 0&&(s.enable!==void 0?this.animation.h.load(s):this.animation.load(e.animation))}}class CollisionsAbsorb{constructor(){this.speed=2}load(e){!e||e.speed!==void 0&&(this.speed=e.speed)}}class CollisionsOverlap{constructor(){this.enable=!0,this.retries=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Random{constructor(){this.enable=!1,this.minimumValue=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class ValueWithRandom{constructor(){this.random=new Random,this.value=0}load(e){!e||(typeof e.random=="boolean"?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=setRangeValue(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class ParticlesBounceFactor extends ValueWithRandom{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class ParticlesBounce{constructor(){this.horizontal=new ParticlesBounceFactor,this.vertical=new ParticlesBounceFactor}load(e){!e||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Collisions{constructor(){this.absorb=new CollisionsAbsorb,this.bounce=new ParticlesBounce,this.enable=!1,this.mode="bounce",this.overlap=new CollisionsOverlap}load(e){!e||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class MoveAngle{constructor(){this.offset=0,this.value=90}load(e){!e||(e.offset!==void 0&&(this.offset=setRangeValue(e.offset)),e.value!==void 0&&(this.value=setRangeValue(e.value)))}}class MoveAttract{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var s,o,a,c;if(!e)return;e.distance!==void 0&&(this.distance=setRangeValue(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const d=(o=(s=e.rotate)===null||s===void 0?void 0:s.x)!==null&&o!==void 0?o:e.rotateX;d!==void 0&&(this.rotate.x=d);const h=(c=(a=e.rotate)===null||a===void 0?void 0:a.y)!==null&&c!==void 0?c:e.rotateY;h!==void 0&&(this.rotate.y=h)}}class MoveCenter{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){!e||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class MoveGravity{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=setRangeValue(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=setRangeValue(e.maxSpeed)))}}class MovePath{constructor(){this.clamp=!0,this.delay=new ValueWithRandom,this.enable=!1,this.options={}}load(e){!e||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=deepExtend(this.options,e.options)))}}class MoveTrail{constructor(){this.enable=!1,this.length=10,this.fillColor=new OptionsColor,this.fillColor.value="#000000"}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),this.fillColor=OptionsColor.create(this.fillColor,e.fillColor),e.length!==void 0&&(this.length=e.length))}}class OutModes{constructor(){this.default="out"}load(e){var s,o,a,c;!e||(e.default!==void 0&&(this.default=e.default),this.bottom=(s=e.bottom)!==null&&s!==void 0?s:e.default,this.left=(o=e.left)!==null&&o!==void 0?o:e.default,this.right=(a=e.right)!==null&&a!==void 0?a:e.default,this.top=(c=e.top)!==null&&c!==void 0?c:e.default)}}class Spin{constructor(){this.acceleration=0,this.enable=!1}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=setRangeValue(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),this.position=e.position?deepExtend({},e.position):void 0)}}class Move{constructor(){this.angle=new MoveAngle,this.attract=new MoveAttract,this.center=new MoveCenter,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new MoveGravity,this.path=new MovePath,this.outModes=new OutModes,this.random=!1,this.size=!1,this.speed=2,this.spin=new Spin,this.straight=!1,this.trail=new MoveTrail,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var s,o,a;if(!e)return;this.angle.load(typeof e.angle=="number"?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=e.decay),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=typeof e.distance=="number"?{horizontal:e.distance,vertical:e.distance}:Object.assign({},e.distance)),e.drift!==void 0&&(this.drift=setRangeValue(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const c=(o=(s=e.outModes)!==null&&s!==void 0?s:e.outMode)!==null&&o!==void 0?o:e.out_mode;c!==void 0&&(typeof c=="object"?this.outModes.load(c):this.outModes.load({default:c})),this.path.load((a=e.path)!==null&&a!==void 0?a:e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=setRangeValue(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class AnimationOptions{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.sync=!1}load(e){!e||(e.count!==void 0&&(this.count=setRangeValue(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=setRangeValue(e.speed)),e.decay!==void 0&&(this.decay=setRangeValue(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class OpacityAnimation extends AnimationOptions{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var s;!e||(super.load(e),e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(s=e.minimumValue)!==null&&s!==void 0?s:e.opacity_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class Opacity extends ValueWithRandom{constructor(){super(),this.animation=new OpacityAnimation,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var s;if(!e)return;super.load(e);const o=(s=e.animation)!==null&&s!==void 0?s:e.anim;o!==void 0&&(this.animation.load(o),this.value=setRangeValue(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class ParticlesDensity{constructor(){this.enable=!1,this.area=800,this.factor=1e3}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var s;if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const o=(s=e.area)!==null&&s!==void 0?s:e.value_area;o!==void 0&&(this.area=o),e.factor!==void 0&&(this.factor=e.factor)}}class ParticlesNumber{constructor(){this.density=new ParticlesDensity,this.limit=0,this.value=100}get max(){return this.limit}set max(e){this.limit=e}load(e){var s;if(!e)return;this.density.load(e.density);const o=(s=e.limit)!==null&&s!==void 0?s:e.max;o!==void 0&&(this.limit=o),e.value!==void 0&&(this.value=e.value)}}class Shadow{constructor(){this.blur=0,this.color=new OptionsColor,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){!e||(e.blur!==void 0&&(this.blur=e.blur),this.color=OptionsColor.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const charKey="character",charAltKey="char",imageKey="image",imageAltKey="images",polygonKey="polygon",polygonAltKey="star";class Shape{constructor(){this.options={},this.type="circle"}get character(){var e;return(e=this.options[charKey])!==null&&e!==void 0?e:this.options[charAltKey]}set character(e){this.options[charAltKey]=this.options[charKey]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return(e=this.options[imageKey])!==null&&e!==void 0?e:this.options[imageAltKey]}set image(e){this.options[imageAltKey]=this.options[imageKey]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return(e=this.options[polygonKey])!==null&&e!==void 0?e:this.options[polygonAltKey]}set polygon(e){this.options[polygonAltKey]=this.options[polygonKey]=e}get stroke(){return[]}set stroke(e){}load(e){var s,o,a;if(!e)return;const c=(s=e.options)!==null&&s!==void 0?s:e.custom;if(c!==void 0)for(const d in c){const h=c[d];h&&(this.options[d]=deepExtend((o=this.options[d])!==null&&o!==void 0?o:{},h))}this.loadShape(e.character,charKey,charAltKey,!0),this.loadShape(e.polygon,polygonKey,polygonAltKey,!1),this.loadShape((a=e.image)!==null&&a!==void 0?a:e.images,imageKey,imageAltKey,!0),e.type!==void 0&&(this.type=e.type)}loadShape(e,s,o,a){var c,d;if(!e)return;const h=e instanceof Array,g=h?[]:{},_=h!==this.options[s]instanceof Array,$l=h!==this.options[o]instanceof Array;_&&(this.options[s]=g),$l&&a&&(this.options[o]=g),this.options[s]=deepExtend((c=this.options[s])!==null&&c!==void 0?c:g,e),(!this.options[o]||a)&&(this.options[o]=deepExtend((d=this.options[o])!==null&&d!==void 0?d:g,e))}}class SizeAnimation extends AnimationOptions{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var s;super.load(e),e&&(e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(s=e.minimumValue)!==null&&s!==void 0?s:e.size_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class Size extends ValueWithRandom{constructor(){super(),this.animation=new SizeAnimation,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var s;if(super.load(e),!e)return;const o=(s=e.animation)!==null&&s!==void 0?s:e.anim;o!==void 0&&(this.animation.load(o),this.value=setRangeValue(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Stroke{constructor(){this.width=0}load(e){!e||(e.color!==void 0&&(this.color=AnimatableColor.create(this.color,e.color)),e.width!==void 0&&(this.width=e.width),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ZIndex extends ValueWithRandom{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class ParticlesOptions{constructor(e,s){this._engine=e,this._container=s,this.bounce=new ParticlesBounce,this.collisions=new Collisions,this.color=new AnimatableColor,this.color.value="#fff",this.groups={},this.move=new Move,this.number=new ParticlesNumber,this.opacity=new Opacity,this.reduceDuplicates=!1,this.shadow=new Shadow,this.shape=new Shape,this.size=new Size,this.stroke=new Stroke,this.zIndex=new ZIndex}load(e){var s,o,a,c,d,h;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(AnimatableColor.create(this.color,e.color)),e.groups!==void 0)for(const $l in e.groups){const Rl=e.groups[$l];Rl!==void 0&&(this.groups[$l]=deepExtend((s=this.groups[$l])!==null&&s!==void 0?s:{},Rl))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const g=(a=(o=e.move)===null||o===void 0?void 0:o.collisions)!==null&&a!==void 0?a:(c=e.move)===null||c===void 0?void 0:c.bounce;g!==void 0&&(this.collisions.enable=g),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=deepExtend({},e.interactivity));const _=(d=e.stroke)!==null&&d!==void 0?d:(h=e.shape)===null||h===void 0?void 0:h.stroke;if(_&&(this.stroke=executeOnSingleOrMultiple(_,$l=>{const Rl=new Stroke;return Rl.load($l),Rl})),this._container){const $l=this._engine.plugins.updaters.get(this._container);if($l)for(const Ml of $l)Ml.loadOptions&&Ml.loadOptions(this,e);const Rl=this._engine.plugins.interactors.get(this._container);if(Rl)for(const Ml of Rl)Ml.loadParticlesOptions&&Ml.loadParticlesOptions(this,e)}}}function loadOptions(i,...e){for(const s of e)i.load(s)}function loadParticlesOptions(i,e,...s){const o=new ParticlesOptions(i,e);return loadOptions(o,...s),o}class Options{constructor(e,s){this._engine=e,this._container=s,this.autoPlay=!0,this.background=new Background,this.backgroundMask=new BackgroundMask,this.defaultThemes={},this.delay=0,this.fullScreen=new FullScreen,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Interactivity(e,s),this.manualParticles=[],this.particles=loadParticlesOptions(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var s,o,a,c,d;if(!e)return;e.preset!==void 0&&executeOnSingleOrMultiple(e.preset,Rl=>this._importPreset(Rl)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=setRangeValue(e.delay));const h=(s=e.detectRetina)!==null&&s!==void 0?s:e.retina_detect;h!==void 0&&(this.detectRetina=h),e.duration!==void 0&&(this.duration=setRangeValue(e.duration));const g=(o=e.fpsLimit)!==null&&o!==void 0?o:e.fps_limit;g!==void 0&&(this.fpsLimit=g),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const _=(a=e.fullScreen)!==null&&a!==void 0?a:e.backgroundMode;typeof _=="boolean"?this.fullScreen.enable=_:this.fullScreen.load(_),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles!==void 0&&(this.manualParticles=e.manualParticles.map(Rl=>{const Ml=new ManualParticle;return Ml.load(Rl),Ml})),this.particles.load(e.particles),this.style=deepExtend(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const $l=this._engine.plugins.interactors.get(this._container);if($l)for(const Rl of $l)Rl.loadOptions&&Rl.loadOptions(this,e);if(e.responsive!==void 0)for(const Rl of e.responsive){const Ml=new Responsive;Ml.load(Rl),this.responsive.push(Ml)}if(this.responsive.sort((Rl,Ml)=>Rl.maxWidth-Ml.maxWidth),e.themes!==void 0)for(const Rl of e.themes){const Ml=new Theme;Ml.load(Rl),this.themes.push(Ml)}this.defaultThemes.dark=(c=this._findDefaultTheme("dark"))===null||c===void 0?void 0:c.name,this.defaultThemes.light=(d=this._findDefaultTheme("light"))===null||d===void 0?void 0:d.name}setResponsive(e,s,o){this.load(o);const a=this.responsive.find(c=>c.mode==="screen"&&screen?c.maxWidth>screen.availWidth:c.maxWidth*s>e);return this.load(a==null?void 0:a.options),a==null?void 0:a.maxWidth}setTheme(e){if(e){const s=this.themes.find(o=>o.name===e);s&&this.load(s.options)}else{const s=safeMatchMedia("(prefers-color-scheme: dark)"),o=s&&s.matches,a=this._findDefaultTheme(o?"dark":"light");a&&this.load(a.options)}}_findDefaultTheme(e){var s;return(s=this.themes.find(o=>o.default.value&&o.default.mode===e))!==null&&s!==void 0?s:this.themes.find(o=>o.default.value&&o.default.mode==="any")}_importPreset(e){this.load(this._engine.plugins.getPreset(e))}}class InteractionManager{constructor(e,s){this.container=s,this._engine=e,this._interactors=this._engine.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const s of this._externalInteractors)s.isEnabled()&&await s.interact(e)}handleClickMode(e){for(const s of this._externalInteractors)s.handleClickMode&&s.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case 0:this._externalInteractors.push(e);break;case 1:this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,s){for(const o of this._externalInteractors)o.clear(e,s);for(const o of this._particleInteractors)o.isEnabled(e)&&await o.interact(e,s)}async reset(e){for(const s of this._externalInteractors)s.isEnabled()&&await s.reset(e);for(const s of this._particleInteractors)s.isEnabled(e)&&await s.reset(e)}}const fixOutMode=i=>{!isInArray(i.outMode,i.checkModes)||(i.coord>i.maxCoord-i.radius*2?i.setCb(-i.radius):i.coord<i.radius*2&&i.setCb(i.radius))};class Particle{constructor(e,s,o,a,c,d){this.container=o,this._engine=e,this.init(s,a,c,d)}destroy(e){if(!(this.unbreakable||this.destroyed)){this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;for(const[,s]of this.container.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of this.container.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e)}}draw(e){const s=this.container;for(const[,o]of s.plugins)s.canvas.drawParticlePlugin(o,this,e);s.canvas.drawParticle(this,e)}getFillColor(){var e,s;const o=(e=this.bubble.color)!==null&&e!==void 0?e:getHslFromAnimation(this.color);if(o&&this.roll&&(this.backColor||this.roll.alter)){const a=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;if(Math.floor((((s=this.roll.angle)!==null&&s!==void 0?s:0)+c)/(Math.PI/a))%2){if(this.backColor)return this.backColor;if(this.roll.alter)return alterHsl(o,this.roll.alter.type,this.roll.alter.value)}}return o}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return(e=this.bubble.radius)!==null&&e!==void 0?e:this.size.value}getStrokeColor(){var e,s;return(s=(e=this.bubble.color)!==null&&e!==void 0?e:getHslFromAnimation(this.strokeColor))!==null&&s!==void 0?s:this.getFillColor()}init(e,s,o,a){var c,d,h,g,_,$l,Rl,Ml,Ul;const Fl=this.container,Ll=this._engine;this.id=e,this.group=a,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const Bl=Fl.retina.pixelRatio,zl=Fl.actualOptions,Hl=loadParticlesOptions(this._engine,Fl,zl.particles),Wl=Hl.shape.type,{reduceDuplicates:Yl}=Hl;this.shape=itemFromSingleOrMultiple(Wl,this.id,Yl);const Xl=Hl.shape;if(o&&o.shape&&o.shape.type){const rp=o.shape.type,up=itemFromSingleOrMultiple(rp,this.id,Yl);up&&(this.shape=up,Xl.load(o.shape))}this.shapeData=this._loadShapeData(Xl,Yl),Hl.load(o),Hl.load((c=this.shapeData)===null||c===void 0?void 0:c.particles),this.interactivity=new Interactivity(Ll,Fl),this.interactivity.load(Fl.actualOptions.interactivity),this.interactivity.load(Hl.interactivity),this.fill=(h=(d=this.shapeData)===null||d===void 0?void 0:d.fill)!==null&&h!==void 0?h:this.fill,this.close=(_=(g=this.shapeData)===null||g===void 0?void 0:g.close)!==null&&_!==void 0?_:this.close,this.options=Hl;const Gl=this.options.move.path;this.pathDelay=getValue(Gl.delay)*1e3,Gl.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(Gl.generator),this.pathGenerator&&Fl.addPath(Gl.generator,this.pathGenerator)&&this.pathGenerator.init(Fl));const _d=getRangeValue(this.options.zIndex.value);Fl.retina.initParticle(this);const Kl=this.options.size,ru=Kl.value,Zl=Kl.animation;if(this.size={enable:Kl.animation.enable,value:getRangeValue(Kl.value)*Fl.retina.pixelRatio,max:getRangeMax(ru)*Bl,min:getRangeMin(ru)*Bl,loops:0,maxLoops:getRangeValue(Kl.animation.count)},Zl.enable)switch(this.size.status=0,this.size.decay=1-getRangeValue(Zl.decay),Zl.startValue){case"min":this.size.value=this.size.min,this.size.status=0;break;case"random":this.size.value=randomInRange(this.size)*Bl,this.size.status=getRandom()>=.5?0:1;break;case"max":default:this.size.value=this.size.max,this.size.status=1;break}this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this.position=this._calcPosition(Fl,s,clamp(_d,0,Fl.zLayers)),this.initialPosition=this.position.copy();const tp=Fl.canvas.size,op=Object.assign({},this.options.move.center),bp=op.mode==="percent";switch(this.moveCenter={x:op.x*(bp?tp.width/100:1),y:op.y*(bp?tp.height/100:1),radius:($l=this.options.move.center.radius)!==null&&$l!==void 0?$l:0,mode:(Rl=this.options.move.center.mode)!==null&&Rl!==void 0?Rl:"percent"},this.direction=getParticleDirectionAngle(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-getRangeValue(this.options.move.decay),this.offset=Vector.origin;const ap=Fl.particles;ap.needsSort=ap.needsSort||ap.lastZIndex<this.position.z,ap.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/Fl.zLayers,this.sides=24;let hp=Fl.drawers.get(this.shape);hp||(hp=this._engine.plugins.getShapeDrawer(this.shape),hp&&Fl.drawers.set(this.shape,hp)),hp!=null&&hp.loadShape&&(hp==null||hp.loadShape(this));const gp=hp==null?void 0:hp.getSidesCount;gp&&(this.sides=gp(this)),this.spawning=!1,this.shadowColor=rangeColorToRgb(this.options.shadow.color);for(const rp of Fl.particles.updaters)rp.init(this);for(const rp of Fl.particles.movers)(Ml=rp.init)===null||Ml===void 0||Ml.call(rp,this);hp!=null&&hp.particleInit&&hp.particleInit(Fl,this);for(const[,rp]of Fl.plugins)(Ul=rp.particleCreated)===null||Ul===void 0||Ul.call(rp,this)}isInsideCanvas(){const e=this.getRadius(),s=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=s.height+e&&this.position.x<=s.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const s of this.container.particles.updaters)(e=s.reset)===null||e===void 0||e.call(s,this)}_calcPosition(e,s,o,a=0){var c,d,h,g;for(const[,Bl]of e.plugins){const zl=Bl.particlePosition!==void 0?Bl.particlePosition(s,this):void 0;if(zl!==void 0)return Vector3d.create(zl.x,zl.y,o)}const _=e.canvas.size,$l=calcExactPositionOrRandomFromSize({size:_,position:s}),Rl=Vector3d.create($l.x,$l.y,o),Ml=this.getRadius(),Ul=this.options.move.outModes,Fl=Bl=>{fixOutMode({outMode:Bl,checkModes:["bounce","bounce-horizontal"],coord:Rl.x,maxCoord:e.canvas.size.width,setCb:zl=>Rl.x+=zl,radius:Ml})},Ll=Bl=>{fixOutMode({outMode:Bl,checkModes:["bounce","bounce-vertical"],coord:Rl.y,maxCoord:e.canvas.size.height,setCb:zl=>Rl.y+=zl,radius:Ml})};return Fl((c=Ul.left)!==null&&c!==void 0?c:Ul.default),Fl((d=Ul.right)!==null&&d!==void 0?d:Ul.default),Ll((h=Ul.top)!==null&&h!==void 0?h:Ul.default),Ll((g=Ul.bottom)!==null&&g!==void 0?g:Ul.default),this._checkOverlap(Rl,a)?this._calcPosition(e,void 0,o,a+1):Rl}_calculateVelocity(){const s=getParticleBaseVelocity(this.direction).copy(),o=this.options.move;if(o.direction==="inside"||o.direction==="outside")return s;const a=Math.PI/180*getRangeValue(o.angle.value),c=Math.PI/180*getRangeValue(o.angle.offset),d={left:c-a/2,right:c+a/2};return o.straight||(s.angle+=randomInRange(setRangeValue(d.left,d.right))),o.random&&typeof o.speed=="number"&&(s.length*=getRandom()),s}_checkOverlap(e,s=0){const o=this.options.collisions,a=this.getRadius();if(!o.enable)return!1;const c=o.overlap;if(c.enable)return!1;const d=c.retries;if(d>=0&&s>d)throw new Error("Particle is overlapping and can't be placed");let h=!1;for(const g of this.container.particles.array)if(getDistance(e,g.position)<a+g.getRadius()){h=!0;break}return h}_loadShapeData(e,s){const o=e.options[this.shape];if(o)return deepExtend({},itemFromSingleOrMultiple(o,this.id,s))}}class Point{constructor(e,s){this.position=e,this.particle=s}}class Range{constructor(e,s){this.position={x:e,y:s}}}class Circle extends Range{constructor(e,s,o){super(e,s),this.radius=o}contains(e){return getDistance(e,this.position)<=this.radius}intersects(e){const s=e,o=e,a=this.position,c=e.position,d={x:Math.abs(c.x-a.x),y:Math.abs(c.y-a.y)},h=this.radius;if(o.radius!==void 0){const g=h+o.radius,_=Math.sqrt(d.x**2+d.y**2);return g>_}else if(s.size!==void 0){const g=s.size.width,_=s.size.height;return Math.pow(d.x-g,2)+Math.pow(d.y-_,2)<=h**2||d.x<=h+g&&d.y<=h+_||d.x<=g||d.y<=_}return!1}}class Rectangle extends Range{constructor(e,s,o,a){super(e,s),this.size={height:a,width:o}}contains(e){const s=this.size.width,o=this.size.height,a=this.position;return e.x>=a.x&&e.x<=a.x+s&&e.y>=a.y&&e.y<=a.y+o}intersects(e){e instanceof Circle&&e.intersects(this);const s=this.size.width,o=this.size.height,a=this.position,c=e.position,d=e instanceof Rectangle?e.size:{width:0,height:0},h=d.width,g=d.height;return c.x<a.x+s&&c.x+h>a.x&&c.y<a.y+o&&c.y+g>a.y}}class QuadTree{constructor(e,s){this.rectangle=e,this.capacity=s,this._points=[],this._divided=!1}insert(e){var s,o,a,c,d;return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this.subdivide(),(d=((s=this._NE)===null||s===void 0?void 0:s.insert(e))||((o=this._NW)===null||o===void 0?void 0:o.insert(e))||((a=this._SE)===null||a===void 0?void 0:a.insert(e))||((c=this._SW)===null||c===void 0?void 0:c.insert(e)))!==null&&d!==void 0?d:!1):!1}query(e,s,o){var a,c,d,h;const g=o!=null?o:[];if(!e.intersects(this.rectangle))return[];for(const _ of this._points)!e.contains(_.position)&&getDistance(e.position,_.position)>_.particle.getRadius()&&(!s||s(_.particle))||g.push(_.particle);return this._divided&&((a=this._NE)===null||a===void 0||a.query(e,s,g),(c=this._NW)===null||c===void 0||c.query(e,s,g),(d=this._SE)===null||d===void 0||d.query(e,s,g),(h=this._SW)===null||h===void 0||h.query(e,s,g)),g}queryCircle(e,s,o){return this.query(new Circle(e.x,e.y,s),o)}queryRectangle(e,s,o){return this.query(new Rectangle(e.x,e.y,s.width,s.height),o)}subdivide(){const e=this.rectangle.position.x,s=this.rectangle.position.y,o=this.rectangle.size.width,a=this.rectangle.size.height,c=this.capacity;this._NE=new QuadTree(new Rectangle(e,s,o/2,a/2),c),this._NW=new QuadTree(new Rectangle(e+o/2,s,o/2,a/2),c),this._SE=new QuadTree(new Rectangle(e,s+a/2,o/2,a/2),c),this._SW=new QuadTree(new Rectangle(e+o/2,s+a/2,o/2,a/2),c),this._divided=!0}}class Particles$1{constructor(e,s){this.container=s,this._engine=e,this.nextId=0,this.array=[],this.zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.interactionManager=new InteractionManager(this._engine,s);const o=this.container.canvas.size;this.quadTree=new QuadTree(new Rectangle(-o.width/4,-o.height/4,o.width*3/2,o.height*3/2),4),this.movers=this._engine.plugins.getMovers(s,!0),this.updaters=this._engine.plugins.getUpdaters(s,!0)}get count(){return this.array.length}addManualParticles(){const e=this.container,s=e.actualOptions;for(const o of s.manualParticles)this.addParticle(calcPositionFromSize({size:e.canvas.size,position:o.position}),o.options)}addParticle(e,s,o,a){const c=this.container,d=c.actualOptions,h=d.particles.number.limit;if(h>0){const g=this.count+1-h;g>0&&this.removeQuantity(g)}return this._pushParticle(e,s,o,a)}clear(){this.array=[],this.zArray=[]}destroy(){this.array=[],this.zArray=[],this.movers=[],this.updaters=[]}async draw(e){const s=this.container,o=this.container.canvas.size;this.quadTree=new QuadTree(new Rectangle(-o.width/4,-o.height/4,o.width*3/2,o.height*3/2),4),s.canvas.clear(),await this.update(e),this.needsSort&&(this.zArray.sort((a,c)=>c.position.z-a.position.z||a.id-c.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,a]of s.plugins)s.canvas.drawPlugin(a,e);for(const a of this.zArray)a.draw(e)}handleClickMode(e){this.interactionManager.handleClickMode(e)}init(){var e;const s=this.container,o=s.actualOptions;this.lastZIndex=0,this.needsSort=!1;let a=!1;this.updaters=this._engine.plugins.getUpdaters(s,!0),this.interactionManager.init();for(const[,c]of s.plugins)if(c.particlesInitialization!==void 0&&(a=c.particlesInitialization()),a)break;this.interactionManager.init();for(const[,c]of s.pathGenerators)c.init(s);if(this.addManualParticles(),!a){for(const c in o.particles.groups){const d=o.particles.groups[c];for(let h=this.count,g=0;g<((e=d.number)===null||e===void 0?void 0:e.value)&&h<o.particles.number.value;h++,g++)this.addParticle(void 0,d,c)}for(let c=this.count;c<o.particles.number.value;c++)this.addParticle()}}push(e,s,o,a){this.pushing=!0;for(let c=0;c<e;c++)this.addParticle(s==null?void 0:s.position,o,a);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,s,o){this.removeAt(this.array.indexOf(e),void 0,s,o)}removeAt(e,s=1,o,a){if(e<0||e>this.count)return;let c=0;for(let d=e;c<s&&d<this.count;d++){const h=this.array[d];if(!h||h.group!==o)continue;h.destroy(a),this.array.splice(d--,1);const g=this.zArray.indexOf(h);this.zArray.splice(g,1),this.pool.push(h),c++,this._engine.dispatchEvent("particleRemoved",{container:this.container,data:{particle:h}})}}removeQuantity(e,s){this.removeAt(0,e,s)}setDensity(){const e=this.container.actualOptions;for(const s in e.particles.groups)this._applyDensity(e.particles.groups[s],0,s);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){var s,o;const a=this.container,c=[];for(const[,d]of a.pathGenerators)d.update();for(const[,d]of a.plugins)(s=d.update)===null||s===void 0||s.call(d,e);for(const d of this.array){const h=a.canvas.resizeFactor;h&&!d.ignoresResizeRatio&&(d.position.x*=h.width,d.position.y*=h.height,d.initialPosition.x*=h.width,d.initialPosition.y*=h.height),d.ignoresResizeRatio=!1,await this.interactionManager.reset(d);for(const[,g]of this.container.plugins){if(d.destroyed)break;(o=g.particleUpdate)===null||o===void 0||o.call(g,d,e)}for(const g of this.movers)g.isEnabled(d)&&g.move(d,e);if(d.destroyed){c.push(d);continue}this.quadTree.insert(new Point(d.getPosition(),d))}for(const d of c)this.remove(d);await this.interactionManager.externalInteract(e);for(const d of this.array){for(const h of this.updaters)h.update(d,e);!d.destroyed&&!d.spawning&&await this.interactionManager.particlesInteract(d,e)}delete a.canvas.resizeFactor}_applyDensity(e,s,o){var a;if(!(!((a=e.number.density)===null||a===void 0)&&a.enable))return;const c=e.number,d=this._initDensityFactor(c.density),h=c.value,g=c.limit>0?c.limit:h,_=Math.min(h,g)*d+s,$l=Math.min(this.count,this.array.filter(Rl=>Rl.group===o).length);this.limit=c.limit*d,$l<_?this.push(Math.abs(_-$l),void 0,e,o):$l>_&&this.removeQuantity($l-_,o)}_initDensityFactor(e){const s=this.container;if(!s.canvas.element||!e.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(e.factor*a**2*e.area)}_pushParticle(e,s,o,a){try{let c=this.pool.pop();c?c.init(this.nextId,e,s,o):c=new Particle(this._engine,this.nextId,this.container,e,s,o);let d=!0;return a&&(d=a(c)),d?(this.array.push(c),this.zArray.push(c),this.nextId++,this._engine.dispatchEvent("particleAdded",{container:this.container,data:{particle:c}}),c):void 0}catch(c){console.warn(`error adding particle: ${c}`);return}}}class Retina{constructor(e){this.container=e}init(){const e=this.container,s=e.actualOptions;this.pixelRatio=!s.detectRetina||isSsr()?1:window.devicePixelRatio,this.reduceFactor=1;const o=this.pixelRatio;if(e.canvas.element){const c=e.canvas.element;e.canvas.size.width=c.offsetWidth*o,e.canvas.size.height=c.offsetHeight*o}const a=s.particles;this.attractDistance=getRangeValue(a.move.attract.distance)*o,this.sizeAnimationSpeed=getRangeValue(a.size.animation.speed)*o,this.maxSpeed=getRangeValue(a.move.gravity.maxSpeed)*o}initParticle(e){const s=e.options,o=this.pixelRatio,a=s.move.distance,c=e.retina;c.attractDistance=getRangeValue(s.move.attract.distance)*o,c.moveDrift=getRangeValue(s.move.drift)*o,c.moveSpeed=getRangeValue(s.move.speed)*o,c.sizeAnimationSpeed=getRangeValue(s.size.animation.speed)*o;const d=c.maxDistance;d.horizontal=a.horizontal!==void 0?a.horizontal*o:void 0,d.vertical=a.vertical!==void 0?a.vertical*o:void 0,c.maxSpeed=getRangeValue(s.move.gravity.maxSpeed)*o}}function guardCheck(i){return i&&!i.destroyed}function loadContainerOptions(i,e,...s){const o=new Options(i,e);return loadOptions(o,...s),o}const defaultPathGeneratorKey="default",defaultPathGenerator={generate:i=>{const e=i.velocity.copy();return e.angle+=e.length*Math.PI/180,e},init:()=>{},update:()=>{}};class Container{constructor(e,s,o){this.id=s,this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this.duration=0,this.lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=o,this._initialSourceOptions=o,this.retina=new Retina(this),this.canvas=new Canvas(this),this.particles=new Particles$1(this._engine,this),this.frameManager=new FrameManager(this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=loadContainerOptions(this._engine,this),this.actualOptions=loadContainerOptions(this._engine,this),this._eventListeners=new EventListeners(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(a=>this._intersectionManager(a))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!guardCheck(this))return;const s=this.interactivity.element;if(!s)return;const o=(Rl,Ml,Ul)=>{if(!guardCheck(this))return;const Fl=this.retina.pixelRatio,Ll={x:Ml.x*Fl,y:Ml.y*Fl},Bl=this.particles.quadTree.queryCircle(Ll,Ul*Fl);e(Rl,Bl)},a=Rl=>{if(!guardCheck(this))return;const Ml=Rl,Ul={x:Ml.offsetX||Ml.clientX,y:Ml.offsetY||Ml.clientY};o(Rl,Ul,1)},c=()=>{!guardCheck(this)||(_=!0,$l=!1)},d=()=>{!guardCheck(this)||($l=!0)},h=Rl=>{if(!!guardCheck(this)){if(_&&!$l){const Ml=Rl;let Ul=Ml.touches[Ml.touches.length-1];if(!Ul&&(Ul=Ml.changedTouches[Ml.changedTouches.length-1],!Ul))return;const Fl=this.canvas.element,Ll=Fl?Fl.getBoundingClientRect():void 0,Bl={x:Ul.clientX-(Ll?Ll.left:0),y:Ul.clientY-(Ll?Ll.top:0)};o(Rl,Bl,Math.max(Ul.radiusX,Ul.radiusY))}_=!1,$l=!1}},g=()=>{!guardCheck(this)||(_=!1,$l=!1)};let _=!1,$l=!1;s.addEventListener("click",a),s.addEventListener("touchstart",c),s.addEventListener("touchmove",d),s.addEventListener("touchend",h),s.addEventListener("touchcancel",g)}addPath(e,s,o=!1){return!guardCheck(this)||!o&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,s!=null?s:defaultPathGenerator),!0)}destroy(){if(!guardCheck(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,o]of this.drawers)o.destroy&&o.destroy(this);for(const o of this.drawers.keys())this.drawers.delete(o);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),s=e.findIndex(o=>o===this);s>=0&&e.splice(s,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!guardCheck(this))return;let s=e;this._drawAnimationFrame=animate()(async o=>{s&&(this.lastFrameTime=void 0,s=!1),await this.frameManager.nextFrame(o)})}exportConfiguration(){return JSON.stringify(this.actualOptions,(e,s)=>{if(!(e==="_engine"||e==="_container"))return s},2)}exportImage(e,s,o){const a=this.canvas.element;a&&a.toBlob(e,s!=null?s:"image/png",o)}exportImg(e){this.exportImage(e)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&guardCheck(this)}handleClickMode(e){if(!!guardCheck(this)){this.particles.handleClickMode(e);for(const[,s]of this.plugins)s.handleClickMode&&s.handleClickMode(e)}}async init(){if(!guardCheck(this))return;const e=this._engine.plugins.getSupportedShapes();for(const o of e){const a=this._engine.plugins.getShapeDrawer(o);a&&this.drawers.set(o,a)}this._options=loadContainerOptions(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=loadContainerOptions(this._engine,this,this._options);const s=this._engine.plugins.getAvailablePlugins(this);for(const[o,a]of s)this.plugins.set(o,a);this.retina.init(),this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=getRangeValue(this.actualOptions.duration)*1e3,this._delay=getRangeValue(this.actualOptions.delay)*1e3,this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,o]of this.drawers)o.init&&await o.init(this);for(const[,o]of this.plugins)o.init&&await o.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,o]of this.plugins)o.particlesSetup&&o.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){!guardCheck(this)||(this._currentTheme=e,await this.refresh())}pause(){if(!!guardCheck(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimation()(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!guardCheck(this))return;const s=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),s)for(const[,o]of this.plugins)o.play&&o.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(s||!1)}async refresh(){if(!!guardCheck(this))return this.stop(),this.start()}async reset(){if(!!guardCheck(this))return this._options=loadContainerOptions(this._engine,this),this.refresh()}setNoise(e,s,o){!guardCheck(this)||this.setPath(e,s,o)}setPath(e,s,o){if(!e||!guardCheck(this))return;const a=Object.assign({},defaultPathGenerator);if(typeof e=="function")a.generate=e,s&&(a.init=s),o&&(a.update=o);else{const c=a;a.generate=e.generate||c.generate,a.init=e.init||c.init,a.update=e.update||c.update}this.addPath(defaultPathGeneratorKey,a,!0)}async start(){!guardCheck(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,s]of this.plugins)s.start&&await s.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!guardCheck(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.clear(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}_intersectionManager(e){if(!(!guardCheck(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of e)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()}}function fetchError(i){console.error(`tsParticles - Error ${i} while retrieving config file`)}async function getDataFromUrl(i,e){const s=itemFromSingleOrMultiple(i,e);if(!s)return;const o=await fetch(s);if(o.ok)return o.json();fetchError(o.status)}class Loader{constructor(e){this._engine=e}load(e,s,o){const a={index:o,remote:!1};return typeof e=="string"?a.tagId=e:a.options=e,typeof s=="number"?a.index=s:a.options=s!=null?s:a.options,this.loadOptions(a)}async loadJSON(e,s,o){let a,c;return typeof s=="number"||s===void 0?a=e:(c=e,a=s),this.loadRemoteOptions({tagId:c,url:a,index:o,remote:!0})}async loadOptions(e){var s,o,a;const c=(s=e.tagId)!==null&&s!==void 0?s:`tsparticles${Math.floor(getRandom()*1e4)}`,{index:d,url:h,remote:g}=e,_=g?await getDataFromUrl(h,d):e.options;let $l=(o=e.element)!==null&&o!==void 0?o:document.getElementById(c);$l||($l=document.createElement("div"),$l.id=c,(a=document.querySelector("body"))===null||a===void 0||a.append($l));const Rl=itemFromSingleOrMultiple(_,d),Ml=this._engine.dom(),Ul=Ml.findIndex(Bl=>Bl.id===c);if(Ul>=0){const Bl=this._engine.domItem(Ul);Bl&&!Bl.destroyed&&(Bl.destroy(),Ml.splice(Ul,1))}let Fl;if($l.tagName.toLowerCase()==="canvas")Fl=$l,Fl.dataset[generatedAttribute]="false";else{const Bl=$l.getElementsByTagName("canvas");Bl.length?(Fl=Bl[0],Fl.dataset[generatedAttribute]="false"):(Fl=document.createElement("canvas"),Fl.dataset[generatedAttribute]="true",$l.appendChild(Fl))}Fl.style.width||(Fl.style.width="100%"),Fl.style.height||(Fl.style.height="100%");const Ll=new Container(this._engine,c,Rl);return Ul>=0?Ml.splice(Ul,0,Ll):Ml.push(Ll),Ll.canvas.loadCanvas(Fl),await Ll.start(),Ll}async loadRemoteOptions(e){return this.loadOptions(e)}async set(e,s,o,a){const c={index:a,remote:!1};return typeof e=="string"?c.tagId=e:c.element=e,s instanceof HTMLElement?c.element=s:c.options=s,typeof o=="number"?c.index=o:c.options=o!=null?o:c.options,this.loadOptions(c)}async setJSON(e,s,o,a){let c,d,h,g;return e instanceof HTMLElement?(g=e,c=s,h=o):(d=e,g=s,c=o,h=a),this.loadRemoteOptions({tagId:d,url:c,index:h,element:g,remote:!0})}}function getItemsFromInitializer(i,e,s,o=!1){let a=e.get(i);return(!a||o)&&(a=[...s.values()].map(c=>c(i)),e.set(i,a)),a}class Plugins{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,s){this._initializers.interactors.set(e,s)}addParticleMover(e,s){this._initializers.movers.set(e,s)}addParticleUpdater(e,s){this._initializers.updaters.set(e,s)}addPathGenerator(e,s){this.getPathGenerator(e)||this.pathGenerators.set(e,s)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}addPreset(e,s,o=!1){(o||!this.getPreset(e))&&this.presets.set(e,s)}addShapeDrawer(e,s){this.getShapeDrawer(e)||this.drawers.set(e,s)}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const s=new Map;for(const o of this.plugins)!o.needsPlugin(e.actualOptions)||s.set(o.id,o.getPlugin(e));return s}getInteractors(e,s=!1){return getItemsFromInitializer(e,this.interactors,this._initializers.interactors,s)}getMovers(e,s=!1){return getItemsFromInitializer(e,this.movers,this._initializers.movers,s)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(s=>s.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,s=!1){return getItemsFromInitializer(e,this.updaters,this._initializers.updaters,s)}loadOptions(e,s){for(const o of this.plugins)o.loadOptions(e,s)}loadParticlesOptions(e,s,...o){const a=this.updaters.get(e);if(!!a)for(const c of a)c.loadOptions&&c.loadOptions(s,...o)}}class Engine{constructor(){this._domArray=[],this._eventDispatcher=new EventDispatcher,this._initialized=!1,this._loader=new Loader(this),this.plugins=new Plugins(this)}addEventListener(e,s){this._eventDispatcher.addEventListener(e,s)}async addInteractor(e,s){this.plugins.addInteractor(e,s),await this.refresh()}async addMover(e,s){this.plugins.addParticleMover(e,s),await this.refresh()}async addParticleUpdater(e,s){this.plugins.addParticleUpdater(e,s),await this.refresh()}async addPathGenerator(e,s){this.plugins.addPathGenerator(e,s),await this.refresh()}async addPlugin(e){this.plugins.addPlugin(e),await this.refresh()}async addPreset(e,s,o=!1){this.plugins.addPreset(e,s,o),await this.refresh()}async addShape(e,s,o,a,c){let d;typeof s=="function"?d={afterEffect:a,destroy:c,draw:s,init:o}:d=s,this.plugins.addShapeDrawer(e,d),await this.refresh()}dispatchEvent(e,s){this._eventDispatcher.dispatchEvent(e,s)}dom(){return this._domArray}domItem(e){const s=this.dom(),o=s[e];if(o&&!o.destroyed)return o;s.splice(e,1)}init(){this._initialized||(this._initialized=!0)}async load(e,s){return this._loader.load(e,s)}async loadFromArray(e,s,o){return this._loader.load(e,s,o)}async loadJSON(e,s,o){return this._loader.loadJSON(e,s,o)}async refresh(){for(const e of this.dom())await e.refresh()}removeEventListener(e,s){this._eventDispatcher.removeEventListener(e,s)}async set(e,s,o){return this._loader.set(e,s,o)}async setJSON(e,s,o,a){return this._loader.setJSON(e,s,o,a)}setOnClickHandler(e){const s=this.dom();if(!s.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const o of s)o.addClickHandler(e)}}class HslColorManager{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var s;const o=e.value,a=(s=o.hsl)!==null&&s!==void 0?s:e.value;if(a.h!==void 0&&a.l!==void 0)return hslToRgb(a)}handleRangeColor(e){var s;const o=e.value,a=(s=o.hsl)!==null&&s!==void 0?s:e.value;if(a.h!==void 0&&a.l!==void 0)return hslToRgb({h:getRangeValue(a.h),l:getRangeValue(a.l),s:getRangeValue(a.s)})}parseString(e){if(!e.startsWith("hsl"))return;const s=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,o=s.exec(e);return o?hslaToRgba({a:o.length>4?parseAlpha(o[5]):1,h:parseInt(o[1],10),l:parseInt(o[3],10),s:parseInt(o[2],10)}):void 0}}class RgbColorManager{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var s;const o=e.value,a=(s=o.rgb)!==null&&s!==void 0?s:e.value;if(a.r!==void 0)return a}handleRangeColor(e){var s;const o=e.value,a=(s=o.rgb)!==null&&s!==void 0?s:e.value;if(a.r!==void 0)return{r:getRangeValue(a.r),g:getRangeValue(a.g),b:getRangeValue(a.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const s=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,o=s.exec(e);return o?{a:o.length>4?parseAlpha(o[5]):1,b:parseInt(o[3],10),g:parseInt(o[2],10),r:parseInt(o[1],10)}:void 0}}class ExternalInteractorBase{constructor(e){this.container=e,this.type=0}}class ParticlesInteractorBase{constructor(e){this.container=e,this.type=1}}const rgbColorManager=new RgbColorManager,hslColorManager=new HslColorManager;addColorManager(rgbColorManager);addColorManager(hslColorManager);const tsParticles=new Engine;tsParticles.init();var react=function i(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var o,a,c;if(Array.isArray(e)){if(o=e.length,o!=s.length)return!1;for(a=o;a--!==0;)if(!i(e[a],s[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if(c=Object.keys(e),o=c.length,o!==Object.keys(s).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,c[a]))return!1;for(a=o;a--!==0;){var d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!i(e[d],s[d]))return!1}return!0}return e!==e&&s!==s};const defaultId="tsparticles";class Particles extends react$1.exports.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){!this.state.library||(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return!react(e,this.props)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(tsParticles),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:s,className:o,canvasClassName:a,id:c}=this.props;return jsx("div",{className:o,id:c,children:jsx("canvas",{className:a,style:Object.assign(Object.assign({},this.props.style),{width:e,height:s})})})}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){var e,s,o;if(!this.state.init)return;const a=async h=>{this.props.container&&(this.props.container.current=h),this.setState({library:h}),this.props.loaded&&await this.props.loaded(h)},c=(s=(e=this.props.id)!==null&&e!==void 0?e:Particles.defaultProps.id)!==null&&s!==void 0?s:defaultId,d=this.props.url?await tsParticles.loadJSON(c,this.props.url):await tsParticles.load(c,(o=this.props.params)!==null&&o!==void 0?o:this.props.options);await a(d)}}Particles.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:defaultId};class AbsorberSizeLimit{constructor(){this.radius=0,this.mass=0}load(e){!e||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class AbsorberSize extends ValueWithRandom{constructor(){super(),this.density=5,this.value=50,this.limit=new AbsorberSizeLimit}load(e){!e||(super.load(e),e.density!==void 0&&(this.density=e.density),typeof e.limit=="number"?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Absorber{constructor(){this.color=new OptionsColor,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new AbsorberSize}load(e){e!==void 0&&(e.color!==void 0&&(this.color=OptionsColor.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=setRangeValue(e.position.x)),e.position.y!==void 0&&(this.position.y=setRangeValue(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}class AbsorberInstance{constructor(e,s,o,a){var c,d,h;this.absorbers=e,this.container=s,this.initialPosition=a?Vector.create(a.x,a.y):void 0,o instanceof Absorber?this.options=o:(this.options=new Absorber,this.options.load(o)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=getRangeValue(this.options.size.value)*s.retina.pixelRatio,this.mass=this.size*this.options.size.density*s.retina.reduceFactor;const g=this.options.size.limit;this.limit={radius:g.radius*s.retina.pixelRatio*s.retina.reduceFactor,mass:g.mass},this.color=(c=rangeColorToRgb(this.options.color))!==null&&c!==void 0?c:{b:0,g:0,r:0},this.position=(h=(d=this.initialPosition)===null||d===void 0?void 0:d.copy())!==null&&h!==void 0?h:this.calcPosition()}attract(e){const s=this.container,o=this.options;if(o.draggable){const _=s.interactivity.mouse;_.clicking&&_.downPosition?getDistance(this.position,_.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&_.position&&(this.position.x=_.position.x,this.position.y=_.position.y)}const a=e.getPosition(),{dx:c,dy:d,distance:h}=getDistances(this.position,a),g=Vector.create(c,d);if(g.length=this.mass/Math.pow(h,2)*s.retina.reduceFactor,h<this.size+e.getRadius()){const _=e.getRadius()*.033*s.retina.pixelRatio;this.size>e.getRadius()&&h<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<0?o.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,g)):(o.destroy&&(e.size.value-=_),this.updateParticlePosition(e,g)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=_),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=_*this.options.size.density*s.retina.reduceFactor)}else this.updateParticlePosition(e,g)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,Math.PI*2,!1),e.closePath(),e.fillStyle=getStyleFromRgb(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&isPointInside(e,this.container.canvas.size,Vector.origin)?e:this.calcPosition()}calcPosition(){const e=calcPositionOrRandomFromSizeRanged({size:this.container.canvas.size,position:this.options.position});return Vector.create(e.x,e.y)}updateParticlePosition(e,s){var o;if(e.destroyed)return;const a=this.container,c=a.canvas.size;if(e.needsNewPosition){const d=calcPositionOrRandomFromSize({size:c});e.position.setTo(d),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(e.absorberOrbit===void 0&&(e.absorberOrbit=Vector.create(0,0),e.absorberOrbit.length=getDistance(e.getPosition(),this.position),e.absorberOrbit.angle=getRandom()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const $l=Math.min(c.width,c.height);e.absorberOrbit.length=$l*(1+(getRandom()*.2-.1))}e.absorberOrbitDirection===void 0&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const d=e.absorberOrbit.length,h=e.absorberOrbit.angle,g=e.absorberOrbitDirection;e.velocity.setTo(Vector.origin);const _={x:g==="clockwise"?Math.cos:Math.sin,y:g==="clockwise"?Math.sin:Math.cos};e.position.x=this.position.x+d*_.x(h),e.position.y=this.position.y+d*_.y(h),e.absorberOrbit.length-=s.length,e.absorberOrbit.angle+=((o=e.retina.moveSpeed)!==null&&o!==void 0?o:0)*a.retina.pixelRatio/100*a.retina.reduceFactor}else{const d=Vector.origin;d.length=s.length,d.angle=s.angle,e.velocity.addTo(d)}}}class Absorbers{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=s=>s===void 0||typeof s=="number"?this.array[s||0]:this.array.find(o=>o.name===s),e.addAbsorber=(s,o)=>this.addAbsorber(s,o)}addAbsorber(e,s){const o=new AbsorberInstance(this,this.container,e,s);return this.array.push(o),o}draw(e){for(const s of this.array)s.draw(e)}handleClickMode(e){const s=this.absorbers,o=this.interactivityAbsorbers;if(e==="absorber"){const a=itemFromSingleOrMultiple(o),c=a!=null?a:itemFromSingleOrMultiple(s),d=this.container.interactivity.mouse.clickPosition;this.addAbsorber(c,d)}}async init(){this.absorbers=this.container.actualOptions.absorbers,this.interactivityAbsorbers=this.container.actualOptions.interactivity.modes.absorbers,executeOnSingleOrMultiple(this.absorbers,e=>{this.addAbsorber(e)})}particleUpdate(e){for(const s of this.array)if(s.attract(e),e.destroyed)break}removeAbsorber(e){const s=this.array.indexOf(e);s>=0&&this.array.splice(s,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class AbsorbersPlugin{constructor(){this.id="absorbers"}getPlugin(e){return new Absorbers(e)}loadOptions(e,s){var o,a;!this.needsPlugin(e)&&!this.needsPlugin(s)||(s!=null&&s.absorbers&&(e.absorbers=executeOnSingleOrMultiple(s.absorbers,c=>{const d=new Absorber;return d.load(c),d})),e.interactivity.modes.absorbers=executeOnSingleOrMultiple((a=(o=s==null?void 0:s.interactivity)===null||o===void 0?void 0:o.modes)===null||a===void 0?void 0:a.absorbers,c=>{const d=new Absorber;return d.load(c),d}))}needsPlugin(e){var s,o,a;if(!e)return!1;const c=e.absorbers;return c instanceof Array?!!c.length:c?!0:!!(((a=(o=(s=e.interactivity)===null||s===void 0?void 0:s.events)===null||o===void 0?void 0:o.onClick)===null||a===void 0?void 0:a.mode)&&isInArray("absorber",e.interactivity.events.onClick.mode))}}async function loadAbsorbersPlugin(i){const e=new AbsorbersPlugin;await i.addPlugin(e)}class DestroyBounds{load(e){!e||(e.bottom!==void 0&&(this.bottom=setRangeValue(e.bottom)),e.left!==void 0&&(this.left=setRangeValue(e.left)),e.right!==void 0&&(this.right=setRangeValue(e.right)),e.top!==void 0&&(this.top=setRangeValue(e.top)))}}class SplitFactor extends ValueWithRandom{constructor(){super(),this.value=3}}class SplitRate extends ValueWithRandom{constructor(){super(),this.value={min:4,max:9}}}class Split{constructor(){this.count=1,this.factor=new SplitFactor,this.rate=new SplitRate,this.sizeOffset=!0}load(e){!e||(e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=executeOnSingleOrMultiple(e.particles,s=>deepExtend({},s)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset))}}class Destroy{constructor(){this.bounds=new DestroyBounds,this.mode="none",this.split=new Split}load(e){!e||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}class DestroyUpdater{constructor(e,s){this.engine=e,this.container=s}init(e){const s=this.container,o=e.options,a=o.destroy;if(!a)return;e.splitCount=0;const c=a.bounds;e.destroyBounds||(e.destroyBounds={}),c.bottom&&(e.destroyBounds.bottom=getRangeValue(c.bottom)*s.canvas.size.height/100),c.left&&(e.destroyBounds.left=getRangeValue(c.left)*s.canvas.size.width/100),c.right&&(e.destroyBounds.right=getRangeValue(c.right)*s.canvas.size.width/100),c.top&&(e.destroyBounds.top=getRangeValue(c.top)*s.canvas.size.height/100)}isEnabled(e){return!e.destroyed}loadOptions(e,...s){e.destroy||(e.destroy=new Destroy);for(const o of s)e.destroy.load(o==null?void 0:o.destroy)}particleDestroyed(e,s){if(s)return;const o=e.options.destroy;o&&o.mode==="split"&&this.split(e)}update(e){if(!this.isEnabled(e))return;const s=e.getPosition(),o=e.destroyBounds;!o||(o.bottom!==void 0&&s.y>=o.bottom||o.left!==void 0&&s.x<=o.left||o.right!==void 0&&s.x>=o.right||o.top!==void 0&&s.y<=o.top)&&e.destroy()}addSplitParticle(e,s){const o=e.options.destroy;if(!o)return;const a=o.split,c=loadParticlesOptions(this.engine,this.container,e.options),d=getValue(a.factor);c.color.load({value:{hsl:e.getFillColor()}}),c.move.load({center:{x:e.position.x,y:e.position.y,mode:"precise"}}),typeof c.size.value=="number"?c.size.value/=d:(c.size.value.min/=d,c.size.value.max/=d),c.load(s);const h=a.sizeOffset?setRangeValue(-e.size.value,e.size.value):0,g={x:e.position.x+randomInRange(h),y:e.position.y+randomInRange(h)};return this.container.particles.addParticle(g,c,e.group,_=>{var $l;return _.size.value<.5?!1:(_.velocity.length=randomInRange(setRangeValue(e.velocity.length,_.velocity.length)),_.splitCount=(($l=e.splitCount)!==null&&$l!==void 0?$l:0)+1,_.unbreakable=!0,setTimeout(()=>{_.unbreakable=!1},500),!0)})}split(e){const s=e.options.destroy;if(!s)return;const o=s.split;if(o.count>=0&&(e.splitCount===void 0||e.splitCount++>o.count))return;const a=getValue(o.rate),c=itemFromSingleOrMultiple(o.particles);for(let d=0;d<a;d++)this.addSplitParticle(e,c)}}async function loadDestroyUpdater(i){await i.addParticleUpdater("destroy",e=>new DestroyUpdater(i,e))}class CircleShape{randomPosition(e,s,o){const a=(Rl,Ml)=>{const Ul=getRandom()/4,Fl=Math.atan(Ml/Rl*Math.tan(2*Math.PI*Ul)),Ll=getRandom();return Ll<.25?Fl:Ll<.5?Math.PI-Fl:Ll<.75?Math.PI+Fl:-Fl},c=(Rl,Ml,Ul)=>Rl*Ml/Math.sqrt((Ml*Math.cos(Ul))**2+(Rl*Math.sin(Ul))**2),[d,h]=[s.width/2,s.height/2],g=a(d,h),_=c(d,h,g),$l=o?_*Math.sqrt(getRandom()):_;return{x:e.x+$l*Math.cos(g),y:e.y+$l*Math.sin(g)}}}class EmitterLife{constructor(){this.wait=!1}load(e){e!==void 0&&(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=e.delay),e.duration!==void 0&&(this.duration=e.duration),e.wait!==void 0&&(this.wait=e.wait))}}class EmitterRate{constructor(){this.quantity=1,this.delay=.1}load(e){e!==void 0&&(e.quantity!==void 0&&(this.quantity=setRangeValue(e.quantity)),e.delay!==void 0&&(this.delay=setRangeValue(e.delay)))}}class EmitterSize{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){e!==void 0&&(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Emitter{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new EmitterLife,this.rate=new EmitterRate,this.shape="square",this.startCount=0}load(e){e!==void 0&&(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size===void 0&&(this.size=new EmitterSize),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=executeOnSingleOrMultiple(e.particles,s=>deepExtend({},s)),this.rate.load(e.rate),e.shape!==void 0&&(this.shape=e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=setRangeValue(e.position.x)),e.position.y!==void 0&&(this.position.y=setRangeValue(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new AnimatableColor),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}class EmitterInstance{constructor(e,s,o,a,c){var d,h,g,_,$l,Rl,Ml,Ul;this.emitters=s,this.container=o,this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=c,a instanceof Emitter?this.options=a:(this.options=new Emitter,this.options.load(a)),this._spawnDelay=((d=this.options.life.delay)!==null&&d!==void 0?d:0)*1e3/this.container.retina.reduceFactor,this.position=(h=this._initialPosition)!==null&&h!==void 0?h:this.calcPosition(),this.name=this.options.name,this._shape=(g=this._engine.emitterShapeManager)===null||g===void 0?void 0:g.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let Fl=deepExtend({},this.options.particles);Fl!=null||(Fl={}),(_=Fl.move)!==null&&_!==void 0||(Fl.move={}),($l=(Ul=Fl.move).direction)!==null&&$l!==void 0||(Ul.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=rangeColorToHsl(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=Fl,this.size=(Rl=this.options.size)!==null&&Rl!==void 0?Rl:(()=>{const Ll=new EmitterSize;return Ll.load({height:0,mode:"percent",width:0}),Ll})(),this._lifeCount=(Ml=this.options.life.count)!==null&&Ml!==void 0?Ml:-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:o,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,s=document.getElementById(this.options.domId);if(s){const o=s.getBoundingClientRect();return{x:(o.x+o.width/2)*e.retina.pixelRatio,y:(o.y+o.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const s=document.getElementById(this.options.domId);if(s){const o=s.getBoundingClientRect();return{width:o.width*e.retina.pixelRatio,height:o.height*e.retina.pixelRatio}}}return{width:this.size.mode==="percent"?e.canvas.size.width*this.size.width/100:this.size.width,height:this.size.mode==="percent"?e.canvas.size.height*this.size.height/100:this.size.height}}pause(){this._paused||delete this._emitDelay}play(){var e;if(!this._paused&&!!(this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=((e=this._spawnDelay)!==null&&e!==void 0?e:0)))){if(this._emitDelay===void 0){const s=getRangeValue(this.options.rate.delay);this._emitDelay=1e3*s/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this.prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&isPointInside(e,this.container.canvas.size,Vector.origin)?e:this.calcPosition()}update(e){var s,o,a;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=(s=this._spawnDelay)!==null&&s!==void 0?s:0,this._currentEmitDelay=(o=this._emitDelay)!==null&&o!==void 0?o:0),this._startParticlesAdded||(this._startParticlesAdded=!0,this.emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this.calcPosition(),this._spawnDelay=((a=this.options.life.delay)!==null&&a!==void 0?a:0)*1e3/this.container.retina.reduceFactor):this.destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this.emit(),this._currentEmitDelay-=this._emitDelay)))}calcPosition(){return calcPositionOrRandomFromSizeRanged({size:this.container.canvas.size,position:this.options.position})}destroy(){this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}emit(){if(this._paused)return;const e=getRangeValue(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var s,o,a;const c=this.getPosition(),d=this.getSize(),h=itemFromSingleOrMultiple(this._particlesOptions);for(let g=0;g<e;g++){const _=deepExtend({},h);if(this.spawnColor){const Rl=(s=this.options.spawnColor)===null||s===void 0?void 0:s.animation;Rl&&(this.spawnColor.h=this.setColorAnimation(Rl.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(Rl.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(Rl.l,this.spawnColor.l,100)),_.color?_.color.value=this.spawnColor:_.color={value:this.spawnColor}}if(!c)return;const $l=(a=(o=this._shape)===null||o===void 0?void 0:o.randomPosition(c,d,this.fill))!==null&&a!==void 0?a:c;this.container.particles.addParticle($l,_)}}prepareToDie(){var e;if(this._paused)return;const s=(e=this.options.life)===null||e===void 0?void 0:e.duration;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&s!==void 0&&s>0&&(this._duration=s*1e3)}setColorAnimation(e,s,o){var a;const c=this.container;if(!e.enable)return s;const d=randomInRange(e.offset),h=getRangeValue(this.options.rate.delay),g=1e3*h/c.retina.reduceFactor,_=getRangeValue((a=e.speed)!==null&&a!==void 0?a:0);return(s+_*c.fpsLimit/g+d*3.6)%o}}class Emitters{constructor(e,s){this.container=s,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},s.getEmitter=o=>o===void 0||typeof o=="number"?this.array[o||0]:this.array.find(a=>a.name===o),s.addEmitter=(o,a)=>this.addEmitter(o,a),s.removeEmitter=o=>{const a=s.getEmitter(o);a&&this.removeEmitter(a)},s.playEmitter=o=>{const a=s.getEmitter(o);a&&a.externalPlay()},s.pauseEmitter=o=>{const a=s.getEmitter(o);a&&a.externalPause()}}addEmitter(e,s){const o=new Emitter;o.load(e);const a=new EmitterInstance(this._engine,this,this.container,o,s);return this.array.push(a),a}handleClickMode(e){const s=this.emitters,o=this.interactivityEmitters;if(e==="emitter"){let a;if(o&&o.value instanceof Array)if(o.value.length>0&&o.random.enable){a=[];const h=[];for(let g=0;g<o.random.count;g++){const _=arrayRandomIndex(o.value);if(h.includes(_)&&h.length<o.value.length){g--;continue}h.push(_),a.push(itemFromArray(o.value,_))}}else a=o.value;else a=o==null?void 0:o.value;const c=a!=null?a:s,d=this.container.interactivity.mouse.clickPosition;executeOnSingleOrMultiple(c,h=>{this.addEmitter(h,d)})}}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,this.emitters instanceof Array)for(const e of this.emitters)this.addEmitter(e);else this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const s=this.array.indexOf(e);s>=0&&this.array.splice(s,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const s of this.array)s.update(e)}}const shapes=new Map;class ShapeManager{constructor(e){this._engine=e}addShape(e,s){this.getShape(e)||shapes.set(e,s)}getShape(e){return shapes.get(e)}getSupportedShapes(){return shapes.keys()}}function randomSquareCoordinate(i,e){return i+e*(getRandom()-.5)}class SquareShape{randomPosition(e,s,o){if(o)return{x:randomSquareCoordinate(e.x,s.width),y:randomSquareCoordinate(e.y,s.height)};{const a=s.width/2,c=s.height/2,d=Math.floor(getRandom()*4),h=(getRandom()-.5)*2;switch(d){case 0:return{x:e.x+h*a,y:e.y-c};case 1:return{x:e.x-a,y:e.y+h*c};case 2:return{x:e.x+h*a,y:e.y+c};case 3:default:return{x:e.x+a,y:e.y+h*c}}}}}class EmittersPlugin{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return new Emitters(this._engine,e)}loadOptions(e,s){var o,a,c,d,h,g;if(!this.needsPlugin(e)&&!this.needsPlugin(s))return;s!=null&&s.emitters&&(e.emitters=executeOnSingleOrMultiple(s.emitters,$l=>{const Rl=new Emitter;return Rl.load($l),Rl}));const _=(a=(o=s==null?void 0:s.interactivity)===null||o===void 0?void 0:o.modes)===null||a===void 0?void 0:a.emitters;if(_)if(_ instanceof Array)e.interactivity.modes.emitters={random:{count:1,enable:!0},value:_.map($l=>{const Rl=new Emitter;return Rl.load($l),Rl})};else{const $l=_;if($l.value!==void 0)if($l.value instanceof Array)e.interactivity.modes.emitters={random:{count:(c=$l.random.count)!==null&&c!==void 0?c:1,enable:(d=$l.random.enable)!==null&&d!==void 0?d:!1},value:$l.value.map(Rl=>{const Ml=new Emitter;return Ml.load(Rl),Ml})};else{const Rl=new Emitter;Rl.load($l.value),e.interactivity.modes.emitters={random:{count:(h=$l.random.count)!==null&&h!==void 0?h:1,enable:(g=$l.random.enable)!==null&&g!==void 0?g:!1},value:Rl}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Emitter}).value.load(_)}}needsPlugin(e){var s,o,a;if(!e)return!1;const c=e.emitters;return c instanceof Array&&!!c.length||c!==void 0||!!(!((a=(o=(s=e.interactivity)===null||s===void 0?void 0:s.events)===null||o===void 0?void 0:o.onClick)===null||a===void 0)&&a.mode)&&isInArray("emitter",e.interactivity.events.onClick.mode)}}async function loadEmittersPlugin(i){i.emitterShapeManager||(i.emitterShapeManager=new ShapeManager(i)),i.addEmitterShape||(i.addEmitterShape=(s,o)=>{var a;(a=i.emitterShapeManager)===null||a===void 0||a.addShape(s,o)});const e=new EmittersPlugin(i);await i.addPlugin(e),i.addEmitterShape("circle",new CircleShape),i.addEmitterShape("square",new SquareShape)}class Trail{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){!e||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=deepExtend({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}class TrailMaker extends ExternalInteractorBase{constructor(e){super(e),this._delay=0}clear(){}init(){}async interact(e){var s,o,a,c;if(!this.container.retina.reduceFactor)return;const d=this.container,h=d.actualOptions,g=h.interactivity.modes.trail;if(!g)return;const _=g.delay*1e3/this.container.retina.reduceFactor;if(this._delay<_&&(this._delay+=e.value),this._delay<_)return;let $l=!0;g.pauseOnStop&&(d.interactivity.mouse.position===this._lastPosition||((s=d.interactivity.mouse.position)===null||s===void 0?void 0:s.x)===((o=this._lastPosition)===null||o===void 0?void 0:o.x)&&((a=d.interactivity.mouse.position)===null||a===void 0?void 0:a.y)===((c=this._lastPosition)===null||c===void 0?void 0:c.y))&&($l=!1),d.interactivity.mouse.position?this._lastPosition={x:d.interactivity.mouse.position.x,y:d.interactivity.mouse.position.y}:delete this._lastPosition,$l&&d.particles.push(g.quantity,d.interactivity.mouse,g.particles),this._delay-=_}isEnabled(e){var s;const o=this.container,a=o.actualOptions,c=o.interactivity.mouse,d=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:a.interactivity).events;return c.clicking&&c.inside&&!!c.position&&isInArray("trail",d.onClick.mode)||c.inside&&!!c.position&&isInArray("trail",d.onHover.mode)}loadModeOptions(e,...s){e.trail||(e.trail=new Trail);for(const o of s)e.trail.load(o==null?void 0:o.trail)}reset(){}}async function loadExternalTrailInteraction(i){await i.addInteractor("externalTrail",e=>new TrailMaker(e))}class RollLight{constructor(){this.enable=!1,this.value=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=setRangeValue(e.value)))}}class Roll{constructor(){this.darken=new RollLight,this.enable=!1,this.enlighten=new RollLight,this.mode="vertical",this.speed=25}load(e){!e||(e.backColor!==void 0&&(this.backColor=OptionsColor.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=setRangeValue(e.speed)))}}function updateRoll(i,e){const s=i.options.roll;if(!i.roll||!(s!=null&&s.enable))return;const o=i.roll.speed*e.factor,a=2*Math.PI;i.roll.angle+=o,i.roll.angle>a&&(i.roll.angle-=a)}class RollUpdater{getTransformValues(e){var s;const o=((s=e.roll)===null||s===void 0?void 0:s.enable)&&e.roll,a=o&&o.horizontal,c=o&&o.vertical;return{a:a?Math.cos(o.angle):void 0,d:c?Math.sin(o.angle):void 0}}init(e){const s=e.options.roll;if(s!=null&&s.enable)if(e.roll={enable:s.enable,horizontal:s.mode==="horizontal"||s.mode==="both",vertical:s.mode==="vertical"||s.mode==="both",angle:getRandom()*Math.PI*2,speed:getRangeValue(s.speed)/360},s.backColor)e.backColor=rangeColorToHsl(s.backColor);else if(s.darken.enable&&s.enlighten.enable){const o=getRandom()>=.5?"darken":"enlighten";e.roll.alter={type:o,value:getRangeValue(o==="darken"?s.darken.value:s.enlighten.value)}}else s.darken.enable?e.roll.alter={type:"darken",value:getRangeValue(s.darken.value)}:s.enlighten.enable&&(e.roll.alter={type:"enlighten",value:getRangeValue(s.enlighten.value)});else e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}isEnabled(e){const s=e.options.roll;return!e.destroyed&&!e.spawning&&!!(s!=null&&s.enable)}loadOptions(e,...s){e.roll||(e.roll=new Roll);for(const o of s)e.roll.load(o==null?void 0:o.roll)}update(e,s){!this.isEnabled(e)||updateRoll(e,s)}}async function loadRollUpdater(i){await i.addParticleUpdater("roll",()=>new RollUpdater)}const initPjs=i=>{const e=(o,a)=>i.load(o,a);e.load=(o,a,c)=>{i.loadJSON(o,a).then(d=>{d&&c(d)}).catch(()=>{c(void 0)})},e.setOnClickHandler=o=>{i.setOnClickHandler(o)};const s=i.dom();return{particlesJS:e,pJSDom:s}};class RotateAnimation{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=setRangeValue(e.speed)),e.decay!==void 0&&(this.decay=setRangeValue(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Rotate extends ValueWithRandom{constructor(){super(),this.animation=new RotateAnimation,this.direction="clockwise",this.path=!1,this.value=0}load(e){!e||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function updateAngle(i,e){var s,o;const a=i.rotate,c=i.options.rotate;if(!a||!c)return;const d=c.animation,h=((s=a.velocity)!==null&&s!==void 0?s:0)*e.factor,g=2*Math.PI,_=(o=a.decay)!==null&&o!==void 0?o:1;if(!!d.enable){switch(a.status){case 0:a.value+=h,a.value>g&&(a.value-=g);break;case 1:default:a.value-=h,a.value<0&&(a.value+=g);break}a.velocity&&_!==1&&(a.velocity*=_)}}class RotateUpdater{constructor(e){this.container=e}init(e){const s=e.options.rotate;if(!s)return;e.rotate={enable:s.animation.enable,value:getRangeValue(s.value)*Math.PI/180},e.pathRotation=s.path;let o=s.direction;switch(o==="random"&&(o=Math.floor(getRandom()*2)>0?"counter-clockwise":"clockwise"),o){case"counter-clockwise":case"counterClockwise":e.rotate.status=1;break;case"clockwise":e.rotate.status=0;break}const a=s.animation;a.enable&&(e.rotate.decay=1-getRangeValue(a.decay),e.rotate.velocity=getRangeValue(a.speed)/360*this.container.retina.reduceFactor,a.sync||(e.rotate.velocity*=getRandom())),e.rotation=e.rotate.value}isEnabled(e){const s=e.options.rotate;return s?!e.destroyed&&!e.spawning&&s.animation.enable&&!s.path:!1}loadOptions(e,...s){e.rotate||(e.rotate=new Rotate);for(const o of s)e.rotate.load(o==null?void 0:o.rotate)}update(e,s){var o,a;!this.isEnabled(e)||(updateAngle(e,s),e.rotation=(a=(o=e.rotate)===null||o===void 0?void 0:o.value)!==null&&a!==void 0?a:0)}}async function loadAngleUpdater(i){await i.addParticleUpdater("rotate",e=>new RotateUpdater(e))}function applyDistance(i){const e=i.initialPosition,{dx:s,dy:o}=getDistances(e,i.position),a=Math.abs(s),c=Math.abs(o),d=i.retina.maxDistance.horizontal,h=i.retina.maxDistance.vertical;if(!(!d&&!h)){if((d&&a>=d||h&&c>=h)&&!i.misplaced)i.misplaced=!!d&&a>d||!!h&&c>h,d&&(i.velocity.x=i.velocity.y/2-i.velocity.x),h&&(i.velocity.y=i.velocity.x/2-i.velocity.y);else if((!d||a<d)&&(!h||c<h)&&i.misplaced)i.misplaced=!1;else if(i.misplaced){const g=i.position,_=i.velocity;d&&(g.x<e.x&&_.x<0||g.x>e.x&&_.x>0)&&(_.x*=-getRandom()),h&&(g.y<e.y&&_.y<0||g.y>e.y&&_.y>0)&&(_.y*=-getRandom())}}}function spin(i,e){const s=i.container;if(!i.spin)return;const o={x:i.spin.direction==="clockwise"?Math.cos:Math.sin,y:i.spin.direction==="clockwise"?Math.sin:Math.cos};i.position.x=i.spin.center.x+i.spin.radius*o.x(i.spin.angle),i.position.y=i.spin.center.y+i.spin.radius*o.y(i.spin.angle),i.spin.radius+=i.spin.acceleration;const a=Math.max(s.canvas.size.width,s.canvas.size.height);i.spin.radius>a/2?(i.spin.radius=a/2,i.spin.acceleration*=-1):i.spin.radius<0&&(i.spin.radius=0,i.spin.acceleration*=-1),i.spin.angle+=e/100*(1-i.spin.radius/a)}function applyPath(i,e){var s;const o=i.options,a=o.move.path;if(!a.enable)return;if(i.lastPathTime<=i.pathDelay){i.lastPathTime+=e.value;return}const d=(s=i.pathGenerator)===null||s===void 0?void 0:s.generate(i);d&&i.velocity.addTo(d),a.clamp&&(i.velocity.x=clamp(i.velocity.x,-1,1),i.velocity.y=clamp(i.velocity.y,-1,1)),i.lastPathTime-=i.pathDelay}function getProximitySpeedFactor(i){return i.slow.inRange?i.slow.factor:1}class BaseMover{init(e){var s;const o=e.container,a=e.options,c=a.move.gravity,d=a.move.spin;if(e.gravity={enable:c.enable,acceleration:getRangeValue(c.acceleration),inverse:c.inverse},d.enable){const h=(s=d.position)!==null&&s!==void 0?s:{x:50,y:50},g={x:h.x/100*o.canvas.size.width,y:h.y/100*o.canvas.size.height},_=e.getPosition(),$l=getDistance(_,g),Rl=getRangeValue(d.acceleration);e.retina.spinAcceleration=Rl*o.retina.pixelRatio,e.spin={center:g,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:$l,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,s){var o,a,c,d,h;const g=e.options,_=g.move;if(!_.enable)return;const $l=e.container,Rl=getProximitySpeedFactor(e),Ml=((o=(d=e.retina).moveSpeed)!==null&&o!==void 0?o:d.moveSpeed=getRangeValue(_.speed)*$l.retina.pixelRatio)*$l.retina.reduceFactor,Ul=(a=(h=e.retina).moveDrift)!==null&&a!==void 0?a:h.moveDrift=getRangeValue(e.options.move.drift)*$l.retina.pixelRatio,Fl=getRangeMax(g.size.value)*$l.retina.pixelRatio,Ll=_.size?e.getRadius()/Fl:1,Bl=Ll*Rl*(s.factor||1),zl=2,Hl=Ml*Bl/zl;if(_.spin.enable)spin(e,Hl);else{applyPath(e,s);const Wl=e.gravity,Yl=(Wl==null?void 0:Wl.enable)&&Wl.inverse?-1:1;(Wl==null?void 0:Wl.enable)&&Hl&&(e.velocity.y+=Yl*(Wl.acceleration*s.factor)/(60*Hl)),Ul&&Hl&&(e.velocity.x+=Ul*s.factor/(60*Hl));const Xl=e.moveDecay;Xl!=1&&e.velocity.multTo(Xl);const Gl=e.velocity.mult(Hl),_d=(c=e.retina.maxSpeed)!==null&&c!==void 0?c:$l.retina.maxSpeed;(Wl==null?void 0:Wl.enable)&&_d>0&&(!Wl.inverse&&Gl.y>=0&&Gl.y>=_d||Wl.inverse&&Gl.y<=0&&Gl.y<=-_d)&&(Gl.y=Yl*_d,Hl&&(e.velocity.y=Gl.y/Hl));const Kl=e.options.zIndex,ru=(1-e.zIndexFactor)**Kl.velocityRate;ru!=1&&Gl.multTo(ru),e.position.addTo(Gl),_.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))}applyDistance(e)}}async function loadBaseMover(i){i.addMover("base",()=>new BaseMover)}class CircleDrawer{draw(e,s,o){e.arc(0,0,o,0,Math.PI*2,!1)}getSidesCount(){return 12}}async function loadCircleShape(i){await i.addShape("circle",new CircleDrawer)}function updateColorValue$1(i,e,s,o,a){var c,d;const h=e;if(!h||!s.enable)return;const g=randomInRange(s.offset),_=((c=e.velocity)!==null&&c!==void 0?c:0)*i.factor+g*3.6,$l=(d=e.decay)!==null&&d!==void 0?d:1;!a||h.status===0?(h.value+=_,a&&h.value>o&&(h.status=1,h.value-=h.value%o)):(h.value-=_,h.value<0&&(h.status=0,h.value+=h.value)),h.velocity&&$l!==1&&(h.velocity*=$l),h.value>o&&(h.value%=o)}function updateColor(i,e){var s,o,a;const c=i.options.color.animation;((s=i.color)===null||s===void 0?void 0:s.h)!==void 0&&updateColorValue$1(e,i.color.h,c.h,360,!1),((o=i.color)===null||o===void 0?void 0:o.s)!==void 0&&updateColorValue$1(e,i.color.s,c.s,100,!0),((a=i.color)===null||a===void 0?void 0:a.l)!==void 0&&updateColorValue$1(e,i.color.l,c.l,100,!0)}class ColorUpdater{constructor(e){this.container=e}init(e){const s=rangeColorToHsl(e.options.color,e.id,e.options.reduceDuplicates);s&&(e.color=getHslAnimationFromHsl(s,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var s,o,a;const c=e.options.color.animation;return!e.destroyed&&!e.spawning&&(((s=e.color)===null||s===void 0?void 0:s.h.value)!==void 0&&c.h.enable||((o=e.color)===null||o===void 0?void 0:o.s.value)!==void 0&&c.s.enable||((a=e.color)===null||a===void 0?void 0:a.l.value)!==void 0&&c.l.enable)}update(e,s){updateColor(e,s)}}async function loadColorUpdater(i){await i.addParticleUpdater("color",e=>new ColorUpdater(e))}class Attract{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}class Attractor$1 extends ExternalInteractorBase{constructor(e,s){super(s),this._engine=e,s.attract||(s.attract={particles:[]}),this.handleClickMode=o=>{const a=this.container.actualOptions,c=a.interactivity.modes.attract;if(!(!c||o!=="attract")){s.attract||(s.attract={particles:[]}),s.attract.clicking=!0,s.attract.count=0;for(const d of s.attract.particles)!this.isEnabled(d)||d.velocity.setTo(d.initialVelocity);s.attract.particles=[],s.attract.finish=!1,setTimeout(()=>{s.destroyed||(s.attract||(s.attract={particles:[]}),s.attract.clicking=!1)},c.duration*1e3)}}}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.attract;!s||(e.retina.attractModeDistance=s.distance*e.retina.pixelRatio)}async interact(){const e=this.container,s=e.actualOptions,o=e.interactivity.status===mouseMoveEvent,a=s.interactivity.events,c=a.onHover.enable,d=a.onHover.mode,h=a.onClick.enable,g=a.onClick.mode;o&&c&&isInArray("attract",d)?this.hoverAttract():h&&isInArray("attract",g)&&this.clickAttract()}isEnabled(e){var s;const o=this.container,a=o.actualOptions,c=o.interactivity.mouse,d=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:a.interactivity).events;if((!c.position||!d.onHover.enable)&&(!c.clickPosition||!d.onClick.enable))return!1;const h=d.onHover.mode,g=d.onClick.mode;return isInArray("attract",h)||isInArray("attract",g)}loadModeOptions(e,...s){e.attract||(e.attract=new Attract);for(const o of s)e.attract.load(o==null?void 0:o.attract)}reset(){}clickAttract(){const e=this.container;if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const s=e.interactivity.mouse.clickPosition,o=e.retina.attractModeDistance;if(!o||o<0||!s)return;this.processAttract(s,o,new Circle(s.x,s.y,o))}else e.attract.clicking===!1&&(e.attract.particles=[])}hoverAttract(){const e=this.container,s=e.interactivity.mouse.position,o=e.retina.attractModeDistance;!o||o<0||!s||this.processAttract(s,o,new Circle(s.x,s.y,o))}processAttract(e,s,o){const a=this.container,c=a.actualOptions.interactivity.modes.attract;if(!c)return;const d=a.particles.quadTree.query(o,h=>this.isEnabled(h));for(const h of d){const{dx:g,dy:_,distance:$l}=getDistances(h.position,e),Rl=c.speed*c.factor,Ml=clamp(getEasing(c.easing)(1-$l/s)*Rl,0,c.maxSpeed),Ul=Vector.create($l===0?Rl:g/$l*Ml,$l===0?Rl:_/$l*Ml);h.position.subFrom(Ul)}}}async function loadExternalAttractInteraction(i){await i.addInteractor("externalAttract",e=>new Attractor$1(i,e))}class Bounce{constructor(){this.distance=200}load(e){!e||e.distance!==void 0&&(this.distance=e.distance)}}class Bouncer extends ExternalInteractorBase{constructor(e){super(e)}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.bounce;!s||(e.retina.bounceModeDistance=s.distance*e.retina.pixelRatio)}async interact(){const e=this.container,s=e.actualOptions,o=s.interactivity.events,a=e.interactivity.status===mouseMoveEvent,c=o.onHover.enable,d=o.onHover.mode,h=o.onDiv;a&&c&&isInArray("bounce",d)?this.processMouseBounce():divModeExecute("bounce",h,(g,_)=>this.singleSelectorBounce(g,_))}isEnabled(e){var s;const o=this.container,a=o.actualOptions,c=o.interactivity.mouse,d=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:a.interactivity).events,h=d.onDiv;return c.position&&d.onHover.enable&&isInArray("bounce",d.onHover.mode)||isDivModeEnabled("bounce",h)}loadModeOptions(e,...s){e.bounce||(e.bounce=new Bounce);for(const o of s)e.bounce.load(o==null?void 0:o.bounce)}reset(){}processBounce(e,s,o){const a=this.container.particles.quadTree.query(o,c=>this.isEnabled(c));for(const c of a)o instanceof Circle?circleBounce(circleBounceDataFromParticle(c),{position:e,radius:s,mass:s**2*Math.PI/2,velocity:Vector.origin,factor:Vector.origin}):o instanceof Rectangle&&rectBounce(c,calculateBounds(e,s))}processMouseBounce(){const e=this.container,s=e.retina.pixelRatio,o=10*s,a=e.interactivity.mouse.position,c=e.retina.bounceModeDistance;!c||c<0||!a||this.processBounce(a,c,new Circle(a.x,a.y,c+o))}singleSelectorBounce(e,s){const o=this.container,a=document.querySelectorAll(e);!a.length||a.forEach(c=>{const d=c,h=o.retina.pixelRatio,g={x:(d.offsetLeft+d.offsetWidth/2)*h,y:(d.offsetTop+d.offsetHeight/2)*h},_=d.offsetWidth/2*h,$l=10*h,Rl=s.type==="circle"?new Circle(g.x,g.y,_+$l):new Rectangle(d.offsetLeft*h-$l,d.offsetTop*h-$l,d.offsetWidth*h+$l*2,d.offsetHeight*h+$l*2);this.processBounce(g,_,Rl)})}}async function loadExternalBounceInteraction(i){await i.addInteractor("externalBounce",e=>new Bouncer(e))}class BubbleBase{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!!e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const s=this.color instanceof Array?void 0:this.color;this.color=executeOnSingleOrMultiple(e.color,o=>OptionsColor.create(s,o))}e.size!==void 0&&(this.size=e.size)}}}class BubbleDiv extends BubbleBase{constructor(){super(),this.selectors=[]}get ids(){return executeOnSingleOrMultiple(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=executeOnSingleOrMultiple(e,s=>`#${s}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class Bubble extends BubbleBase{load(e){super.load(e),e&&(this.divs=executeOnSingleOrMultiple(e.divs,s=>{const o=new BubbleDiv;return o.load(s),o}))}}function calculateBubbleValue(i,e,s,o){if(e>=s){const a=i+(e-s)*o;return clamp(a,i,e)}else if(e<s){const a=i-(s-e)*o;return clamp(a,e,i)}}class Bubbler extends ExternalInteractorBase{constructor(e){super(e),e.bubble||(e.bubble={}),this.handleClickMode=s=>{s==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,s,o){e.bubble.inRange&&!o||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,s=e.actualOptions.interactivity.modes.bubble;!s||(e.retina.bubbleModeDistance=s.distance*e.retina.pixelRatio,s.size!==void 0&&(e.retina.bubbleModeSize=s.size*e.retina.pixelRatio))}async interact(e){const s=this.container.actualOptions,o=s.interactivity.events,a=o.onHover,c=o.onClick,d=a.enable,h=a.mode,g=c.enable,_=c.mode,$l=o.onDiv;d&&isInArray("bubble",h)?this.hoverBubble(e):g&&isInArray("bubble",_)?this.clickBubble(e):divModeExecute("bubble",$l,(Rl,Ml)=>this.singleSelectorHover(e,Rl,Ml))}isEnabled(e){var s;const o=this.container,a=o.actualOptions,c=o.interactivity.mouse,d=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:a.interactivity).events,h=d.onDiv,g=isDivModeEnabled("bubble",h);if(!(g||d.onHover.enable&&c.position||d.onClick.enable&&c.clickPosition))return!1;const _=d.onHover.mode,$l=d.onClick.mode;return isInArray("bubble",_)||isInArray("bubble",$l)||g}loadModeOptions(e,...s){e.bubble||(e.bubble=new Bubble);for(const o of s)e.bubble.load(o==null?void 0:o.bubble)}reset(e){e.bubble.inRange=!1}clickBubble(e){var s,o;const a=this.container,c=a.actualOptions,d=a.interactivity.mouse.clickPosition,h=c.interactivity.modes.bubble;if(!h||!d)return;a.bubble||(a.bubble={});const g=a.retina.bubbleModeDistance;if(!g||g<0)return;const _=a.particles.quadTree.queryCircle(d,g,$l=>this.isEnabled($l));for(const $l of _){if(!a.bubble.clicking)continue;$l.bubble.inRange=!a.bubble.durationEnd;const Rl=$l.getPosition(),Ml=getDistance(Rl,d),Ul=(new Date().getTime()-(a.interactivity.mouse.clickTime||0))/1e3;Ul>h.duration&&(a.bubble.durationEnd=!0),Ul>h.duration*2&&(a.bubble.clicking=!1,a.bubble.durationEnd=!1);const Fl={bubbleObj:{optValue:a.retina.bubbleModeSize,value:$l.bubble.radius},particlesObj:{optValue:getRangeMax($l.options.size.value)*a.retina.pixelRatio,value:$l.size.value},type:"size"};this.process($l,Ml,Ul,Fl);const Ll={bubbleObj:{optValue:h.opacity,value:$l.bubble.opacity},particlesObj:{optValue:getRangeMax($l.options.opacity.value),value:(o=(s=$l.opacity)===null||s===void 0?void 0:s.value)!==null&&o!==void 0?o:1},type:"opacity"};this.process($l,Ml,Ul,Ll),a.bubble.durationEnd?delete $l.bubble.color:Ml<=g?this.hoverBubbleColor($l,Ml):delete $l.bubble.color}}hoverBubble(e){const s=this.container,o=s.interactivity.mouse.position,a=s.retina.bubbleModeDistance;if(!a||a<0||o===void 0)return;const c=s.particles.quadTree.queryCircle(o,a,d=>this.isEnabled(d));for(const d of c){d.bubble.inRange=!0;const h=d.getPosition(),g=getDistance(h,o),_=1-g/a;g<=a?_>=0&&s.interactivity.status===mouseMoveEvent&&(this.hoverBubbleSize(d,_),this.hoverBubbleOpacity(d,_),this.hoverBubbleColor(d,_)):this.reset(d),s.interactivity.status===mouseLeaveEvent&&this.reset(d)}}hoverBubbleColor(e,s,o){const a=this.container.actualOptions,c=o!=null?o:a.interactivity.modes.bubble;if(!!c){if(!e.bubble.finalColor){const d=c.color;if(!d)return;const h=itemFromSingleOrMultiple(d);e.bubble.finalColor=rangeColorToHsl(h)}if(!!e.bubble.finalColor)if(c.mix){e.bubble.color=void 0;const d=e.getFillColor();e.bubble.color=d?rgbToHsl(colorMix(d,e.bubble.finalColor,1-s,s)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}hoverBubbleOpacity(e,s,o){var a,c,d,h;const g=this.container,_=g.actualOptions,$l=(a=o==null?void 0:o.opacity)!==null&&a!==void 0?a:(c=_.interactivity.modes.bubble)===null||c===void 0?void 0:c.opacity;if(!$l)return;const Rl=e.options.opacity.value,Ml=(h=(d=e.opacity)===null||d===void 0?void 0:d.value)!==null&&h!==void 0?h:1,Ul=calculateBubbleValue(Ml,$l,getRangeMax(Rl),s);Ul!==void 0&&(e.bubble.opacity=Ul)}hoverBubbleSize(e,s,o){const a=this.container,c=o!=null&&o.size?o.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(c===void 0)return;const d=getRangeMax(e.options.size.value)*a.retina.pixelRatio,h=e.size.value,g=calculateBubbleValue(h,c,d,s);g!==void 0&&(e.bubble.radius=g)}process(e,s,o,a){const c=this.container,d=a.bubbleObj.optValue,h=c.actualOptions,g=h.interactivity.modes.bubble;if(!g||d===void 0)return;const _=g.duration,$l=c.retina.bubbleModeDistance,Rl=a.particlesObj.optValue,Ml=a.bubbleObj.value,Ul=a.particlesObj.value||0,Fl=a.type;if(!(!$l||$l<0||d===Rl))if(c.bubble||(c.bubble={}),c.bubble.durationEnd)Ml&&(Fl==="size"&&delete e.bubble.radius,Fl==="opacity"&&delete e.bubble.opacity);else if(s<=$l){if((Ml!=null?Ml:Ul)!==d){const Bl=Ul-o*(Ul-d)/_;Fl==="size"&&(e.bubble.radius=Bl),Fl==="opacity"&&(e.bubble.opacity=Bl)}}else Fl==="size"&&delete e.bubble.radius,Fl==="opacity"&&delete e.bubble.opacity}singleSelectorHover(e,s,o){const a=this.container,c=document.querySelectorAll(s),d=a.actualOptions.interactivity.modes.bubble;!d||!c.length||c.forEach(h=>{const g=h,_=a.retina.pixelRatio,$l={x:(g.offsetLeft+g.offsetWidth/2)*_,y:(g.offsetTop+g.offsetHeight/2)*_},Rl=g.offsetWidth/2*_,Ml=o.type==="circle"?new Circle($l.x,$l.y,Rl):new Rectangle(g.offsetLeft*_,g.offsetTop*_,g.offsetWidth*_,g.offsetHeight*_),Ul=a.particles.quadTree.query(Ml,Fl=>this.isEnabled(Fl));for(const Fl of Ul){if(!Ml.contains(Fl.getPosition()))continue;Fl.bubble.inRange=!0;const Ll=d.divs,Bl=divMode(Ll,g);(!Fl.bubble.div||Fl.bubble.div!==g)&&(this.clear(Fl,e,!0),Fl.bubble.div=g),this.hoverBubbleSize(Fl,1,Bl),this.hoverBubbleOpacity(Fl,1,Bl),this.hoverBubbleColor(Fl,1,Bl)}})}}async function loadExternalBubbleInteraction(i){await i.addInteractor("externalBubble",e=>new Bubbler(e))}class ConnectLinks{constructor(){this.opacity=.5}load(e){!e||e.opacity!==void 0&&(this.opacity=e.opacity)}}class Connect{constructor(){this.distance=80,this.links=new ConnectLinks,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var s,o;!e||(e.distance!==void 0&&(this.distance=e.distance),this.links.load((o=(s=e.links)!==null&&s!==void 0?s:e.lineLinked)!==null&&o!==void 0?o:e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function gradient(i,e,s,o){const a=Math.floor(s.getRadius()/e.getRadius()),c=e.getFillColor(),d=s.getFillColor();if(!c||!d)return;const h=e.getPosition(),g=s.getPosition(),_=colorMix(c,d,e.getRadius(),s.getRadius()),$l=i.createLinearGradient(h.x,h.y,g.x,g.y);return $l.addColorStop(0,getStyleFromHsl(c,o)),$l.addColorStop(a>1?1:a,getStyleFromRgb(_,o)),$l.addColorStop(1,getStyleFromHsl(d,o)),$l}function drawConnectLine(i,e,s,o,a){drawLine(i,o,a),i.lineWidth=e,i.strokeStyle=s,i.stroke()}function lineStyle(i,e,s,o){const a=i.actualOptions,c=a.interactivity.modes.connect;if(!!c)return gradient(e,s,o,c.links.opacity)}function drawConnection(i,e,s){i.canvas.draw(o=>{var a;const c=lineStyle(i,o,e,s);if(!c)return;const d=e.getPosition(),h=s.getPosition();drawConnectLine(o,(a=e.retina.linksWidth)!==null&&a!==void 0?a:0,c,d,h)})}class Connector extends ExternalInteractorBase{constructor(e){super(e)}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.connect;!s||(e.retina.connectModeDistance=s.distance*e.retina.pixelRatio,e.retina.connectModeRadius=s.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const o=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!o)return;const a=Math.abs(e.retina.connectModeRadius),c=e.particles.quadTree.queryCircle(o,a,h=>this.isEnabled(h));let d=0;for(const h of c){const g=h.getPosition();for(const _ of c.slice(d+1)){const $l=_.getPosition(),Rl=Math.abs(e.retina.connectModeDistance),Ml=Math.abs(g.x-$l.x),Ul=Math.abs(g.y-$l.y);Ml<Rl&&Ul<Rl&&drawConnection(e,h,_)}++d}}}isEnabled(e){var s;const o=this.container,a=o.interactivity.mouse,c=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:o.actualOptions.interactivity).events;return c.onHover.enable&&a.position?isInArray("connect",c.onHover.mode):!1}loadModeOptions(e,...s){e.connect||(e.connect=new Connect);for(const o of s)e.connect.load(o==null?void 0:o.connect)}reset(){}}async function loadExternalConnectInteraction(i){await i.addInteractor("externalConnect",e=>new Connector(e))}class GrabLinks{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){!e||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=OptionsColor.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Grab{constructor(){this.distance=100,this.links=new GrabLinks}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var s,o;!e||(e.distance!==void 0&&(this.distance=e.distance),this.links.load((o=(s=e.links)!==null&&s!==void 0?s:e.lineLinked)!==null&&o!==void 0?o:e.line_linked))}}function drawGrabLine(i,e,s,o,a,c){drawLine(i,s,o),i.strokeStyle=getStyleFromRgb(a,c),i.lineWidth=e,i.stroke()}function drawGrab(i,e,s,o,a){i.canvas.draw(c=>{var d;const h=e.getPosition();drawGrabLine(c,(d=e.retina.linksWidth)!==null&&d!==void 0?d:0,h,a,s,o)})}class Grabber extends ExternalInteractorBase{constructor(e){super(e)}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.grab;!s||(e.retina.grabModeDistance=s.distance*e.retina.pixelRatio)}async interact(){var e,s;const o=this.container,a=o.actualOptions,c=a.interactivity;if(!c.modes.grab||!c.events.onHover.enable||o.interactivity.status!==mouseMoveEvent)return;const d=o.interactivity.mouse.position;if(!d)return;const h=o.retina.grabModeDistance;if(!h||h<0)return;const g=o.particles.quadTree.queryCircle(d,h,_=>this.isEnabled(_));for(const _ of g){const $l=_.getPosition(),Rl=getDistance($l,d);if(Rl>h)continue;const Ml=c.modes.grab.links,Ul=Ml.opacity,Fl=Ul-Rl*Ul/h;if(Fl<=0)continue;const Ll=(e=Ml.color)!==null&&e!==void 0?e:(s=_.options.links)===null||s===void 0?void 0:s.color;if(!o.particles.grabLineColor&&Ll){const zl=c.modes.grab.links;o.particles.grabLineColor=getLinkRandomColor(Ll,zl.blink,zl.consent)}const Bl=getLinkColor(_,void 0,o.particles.grabLineColor);if(!Bl)return;drawGrab(o,_,Bl,Fl,d)}}isEnabled(e){var s;const o=this.container,a=o.interactivity.mouse,c=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:o.actualOptions.interactivity).events;return c.onHover.enable&&!!a.position&&isInArray("grab",c.onHover.mode)}loadModeOptions(e,...s){e.grab||(e.grab=new Grab);for(const o of s)e.grab.load(o==null?void 0:o.grab)}reset(){}}async function loadExternalGrabInteraction(i){await i.addInteractor("externalGrab",e=>new Grabber(e))}class Pauser extends ExternalInteractorBase{constructor(e){super(e),this.handleClickMode=s=>{if(s!=="pause")return;const o=this.container;o.getAnimationStatus()?o.pause():o.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}function loadExternalPauseInteraction(i){i.addInteractor("externalPause",e=>new Pauser(e))}class Push{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var s;if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(a=>a)),this.groups.length||(this.default=!0);const o=(s=e.quantity)!==null&&s!==void 0?s:e.particles_nb;o!==void 0&&(this.quantity=o)}}class Pusher extends ExternalInteractorBase{constructor(e){super(e),this.handleClickMode=s=>{if(s!=="push")return;const o=this.container,a=o.actualOptions,c=a.interactivity.modes.push;if(!c)return;const d=c.quantity;if(d<=0)return;const h=itemFromArray([void 0,...c.groups]),g=h!==void 0?o.actualOptions.particles.groups[h]:void 0;o.particles.push(d,o.interactivity.mouse,g,h)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...s){e.push||(e.push=new Push);for(const o of s)e.push.load(o==null?void 0:o.push)}reset(){}}async function loadExternalPushInteraction(i){await i.addInteractor("externalPush",e=>new Pusher(e))}class Remove{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var s;if(!e)return;const o=(s=e.quantity)!==null&&s!==void 0?s:e.particles_nb;o!==void 0&&(this.quantity=o)}}class Remover extends ExternalInteractorBase{constructor(e){super(e),this.handleClickMode=s=>{const o=this.container,a=o.actualOptions;if(!a.interactivity.modes.remove||s!=="remove")return;const c=a.interactivity.modes.remove.quantity;o.particles.removeQuantity(c)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...s){e.remove||(e.remove=new Remove);for(const o of s)e.remove.load(o==null?void 0:o.remove)}reset(){}}function loadExternalRemoveInteraction(i){i.addInteractor("externalRemove",e=>new Remover(e))}class RepulseBase{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class RepulseDiv extends RepulseBase{constructor(){super(),this.selectors=[]}get ids(){return executeOnSingleOrMultiple(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=executeOnSingleOrMultiple(e,s=>`#${s}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class Repulse extends RepulseBase{load(e){super.load(e),e&&(this.divs=executeOnSingleOrMultiple(e.divs,s=>{const o=new RepulseDiv;return o.load(s),o}))}}class Repulser extends ExternalInteractorBase{constructor(e,s){super(s),this._engine=e,s.repulse||(s.repulse={particles:[]}),this.handleClickMode=o=>{const a=this.container.actualOptions,c=a.interactivity.modes.repulse;if(!(!c||o!=="repulse")){s.repulse||(s.repulse={particles:[]}),s.repulse.clicking=!0,s.repulse.count=0;for(const d of s.repulse.particles)!this.isEnabled(d)||d.velocity.setTo(d.initialVelocity);s.repulse.particles=[],s.repulse.finish=!1,setTimeout(()=>{s.destroyed||(s.repulse||(s.repulse={particles:[]}),s.repulse.clicking=!1)},c.duration*1e3)}}}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.repulse;!s||(e.retina.repulseModeDistance=s.distance*e.retina.pixelRatio)}async interact(){const e=this.container,s=e.actualOptions,o=e.interactivity.status===mouseMoveEvent,a=s.interactivity.events,c=a.onHover.enable,d=a.onHover.mode,h=a.onClick.enable,g=a.onClick.mode,_=a.onDiv;o&&c&&isInArray("repulse",d)?this.hoverRepulse():h&&isInArray("repulse",g)?this.clickRepulse():divModeExecute("repulse",_,($l,Rl)=>this.singleSelectorRepulse($l,Rl))}isEnabled(e){var s;const o=this.container,a=o.actualOptions,c=o.interactivity.mouse,d=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:a.interactivity).events,h=d.onDiv,g=isDivModeEnabled("repulse",h);if(!(g||d.onHover.enable&&c.position||d.onClick.enable&&c.clickPosition))return!1;const _=d.onHover.mode,$l=d.onClick.mode;return isInArray("repulse",_)||isInArray("repulse",$l)||g}loadModeOptions(e,...s){e.repulse||(e.repulse=new Repulse);for(const o of s)e.repulse.load(o==null?void 0:o.repulse)}reset(){}clickRepulse(){const e=this.container,s=e.actualOptions.interactivity.modes.repulse;if(!!s){if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const o=e.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),c=e.interactivity.mouse.clickPosition;if(c===void 0)return;const d=new Circle(c.x,c.y,a),h=e.particles.quadTree.query(d,g=>this.isEnabled(g));for(const g of h){const{dx:_,dy:$l,distance:Rl}=getDistances(c,g.position),Ml=Rl**2,Ul=s.speed,Fl=-a*Ul/Ml;if(Ml<=a){e.repulse.particles.push(g);const Ll=Vector.create(_,$l);Ll.length=Fl,g.velocity.setTo(Ll)}}}else if(e.repulse.clicking===!1){for(const o of e.repulse.particles)o.velocity.setTo(o.initialVelocity);e.repulse.particles=[]}}}hoverRepulse(){const e=this.container,s=e.interactivity.mouse.position,o=e.retina.repulseModeDistance;!o||o<0||!s||this.processRepulse(s,o,new Circle(s.x,s.y,o))}processRepulse(e,s,o,a){var c;const d=this.container,h=d.particles.quadTree.query(o,_=>this.isEnabled(_)),g=d.actualOptions.interactivity.modes.repulse;if(!!g)for(const _ of h){const{dx:$l,dy:Rl,distance:Ml}=getDistances(_.position,e),Ul=((c=a==null?void 0:a.speed)!==null&&c!==void 0?c:g.speed)*g.factor,Fl=clamp(getEasing(g.easing)(1-Ml/s)*Ul,0,g.maxSpeed),Ll=Vector.create(Ml===0?Ul:$l/Ml*Fl,Ml===0?Ul:Rl/Ml*Fl);_.position.addTo(Ll)}}singleSelectorRepulse(e,s){const o=this.container,a=o.actualOptions.interactivity.modes.repulse;if(!a)return;const c=document.querySelectorAll(e);!c.length||c.forEach(d=>{const h=d,g=o.retina.pixelRatio,_={x:(h.offsetLeft+h.offsetWidth/2)*g,y:(h.offsetTop+h.offsetHeight/2)*g},$l=h.offsetWidth/2*g,Rl=s.type==="circle"?new Circle(_.x,_.y,$l):new Rectangle(h.offsetLeft*g,h.offsetTop*g,h.offsetWidth*g,h.offsetHeight*g),Ml=a.divs,Ul=divMode(Ml,h);this.processRepulse(_,$l,Rl,Ul)})}}async function loadExternalRepulseInteraction(i){await i.addInteractor("externalRepulse",e=>new Repulser(i,e))}class Slow{constructor(){this.factor=3,this.radius=200}load(e){!e||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class Slower extends ExternalInteractorBase{constructor(e){super(e)}clear(e,s,o){e.slow.inRange&&!o||(e.slow.factor=1)}init(){const e=this.container,s=e.actualOptions.interactivity.modes.slow;!s||(e.retina.slowModeRadius=s.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){var s;const o=this.container,a=o.interactivity.mouse,c=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:o.actualOptions.interactivity).events;return c.onHover.enable&&!!a.position&&isInArray("slow",c.onHover.mode)}loadModeOptions(e,...s){e.slow||(e.slow=new Slow);for(const o of s)e.slow.load(o==null?void 0:o.slow)}reset(e){e.slow.inRange=!1;const s=this.container,o=s.actualOptions,a=s.interactivity.mouse.position,c=s.retina.slowModeRadius,d=o.interactivity.modes.slow;if(!d||!c||c<0||!a)return;const h=e.getPosition(),g=getDistance(a,h),_=g/c,$l=d.factor;g<=c&&(e.slow.inRange=!0,e.slow.factor=_/$l)}}async function loadExternalSlowInteraction(i){await i.addInteractor("externalSlow",e=>new Slower(e))}const currentColorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function replaceColorSvg(i,e,s){const{svgData:o}=i;if(!o)return"";const a=getStyleFromHsl(e,s);if(o.includes("fill"))return o.replace(currentColorRegex,()=>a);const c=o.indexOf(">");return`${o.substring(0,c)} fill="${a}"${o.substring(c)}`}async function loadImage(i){return new Promise(e=>{i.loading=!0;const s=new Image;i.element=s,s.addEventListener("load",()=>{i.loading=!1,e()}),s.addEventListener("error",()=>{i.element=void 0,i.error=!0,i.loading=!1,console.error(`Error tsParticles - loading image: ${i.source}`),e()}),s.src=i.source})}async function downloadSvgImage(i){if(i.type!=="svg"){await loadImage(i);return}i.loading=!0;const e=await fetch(i.source);e.ok||(console.error("Error tsParticles - Image not found"),i.error=!0),i.error||(i.svgData=await e.text()),i.loading=!1}function replaceImageColor(i,e,s,o){var a,c,d;const h=replaceColorSvg(i,s,(c=(a=o.opacity)===null||a===void 0?void 0:a.value)!==null&&c!==void 0?c:1),g={color:s,data:Object.assign(Object.assign({},i),{svgData:h}),loaded:!1,ratio:e.width/e.height,replaceColor:(d=e.replaceColor)!==null&&d!==void 0?d:e.replace_color,source:e.src};return new Promise(_=>{const $l=new Blob([h],{type:"image/svg+xml"}),Rl=URL||window.URL||window.webkitURL||window,Ml=Rl.createObjectURL($l),Ul=new Image;Ul.addEventListener("load",()=>{g.loaded=!0,g.element=Ul,_(g),Rl.revokeObjectURL(Ml)}),Ul.addEventListener("error",async()=>{Rl.revokeObjectURL(Ml);const Fl=Object.assign(Object.assign({},i),{error:!1,loading:!0});await loadImage(Fl),g.loaded=!0,g.element=Fl.element,_(g)}),Ul.src=Ml})}class ImageDrawer{constructor(){this._images=[]}addImage(e,s){const o=this.getImages(e);o==null||o.images.push(s)}destroy(){this._images=[]}draw(e,s,o,a){var c;const d=s.image,h=d==null?void 0:d.element;if(!h)return;const g=(c=d==null?void 0:d.ratio)!==null&&c!==void 0?c:1,_={x:-o,y:-o};e.globalAlpha=a,e.drawImage(h,_.x,_.y,o*2,o*2/g),e.globalAlpha=1}getImages(e){const s=this._images.find(o=>o.id===e.id);return s||(this._images.push({id:e.id,images:[]}),this.getImages(e))}getSidesCount(){return 12}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;const s=e.container,o=this.getImages(s).images,a=e.shapeData;o.find(d=>d.source===a.src)||this.loadImageShape(s,a).then(()=>{this.loadShape(e)})}particleInit(e,s){var o;if(s.shape!=="image"&&s.shape!=="images")return;const a=this.getImages(e).images,c=s.shapeData,d=s.getFillColor(),h=(o=c.replaceColor)!==null&&o!==void 0?o:c.replace_color,g=a.find(_=>_.source===c.src);if(!!g){if(g.loading){setTimeout(()=>{this.particleInit(e,s)});return}(async()=>{var _,$l;let Rl;g.svgData&&d?Rl=await replaceImageColor(g,c,d,s):Rl={color:d,data:g,element:g.element,loaded:!0,ratio:c.width/c.height,replaceColor:h,source:c.src},Rl.ratio||(Rl.ratio=1);const Ml=(_=c.fill)!==null&&_!==void 0?_:s.fill,Ul=($l=c.close)!==null&&$l!==void 0?$l:s.close,Fl={image:Rl,fill:Ml,close:Ul};s.image=Fl.image,s.fill=Fl.fill,s.close=Fl.close})()}}async loadImageShape(e,s){var o;const a=s.src;if(!a)throw new Error("Error tsParticles - No image.src");try{const c={source:a,type:a.substring(a.length-3),error:!1,loading:!0};this.addImage(e,c),await(((o=s.replaceColor)!==null&&o!==void 0?o:s.replace_color)?downloadSvgImage:loadImage)(c)}catch{throw new Error(`tsParticles error - ${s.src} not found`)}}}async function loadImageShape(i){const e=new ImageDrawer;await i.addShape("image",e),await i.addShape("images",e)}class LifeDelay extends ValueWithRandom{constructor(){super(),this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class LifeDuration extends ValueWithRandom{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Life{constructor(){this.count=0,this.delay=new LifeDelay,this.duration=new LifeDuration}load(e){!e||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class LifeUpdater{constructor(e){this.container=e}init(e){const s=this.container,o=e.options,a=o.life;!a||(e.life={delay:s.retina.reduceFactor?getRangeValue(a.delay.value)*(a.delay.sync?1:getRandom())/s.retina.reduceFactor*1e3:0,delayTime:0,duration:s.retina.reduceFactor?getRangeValue(a.duration.value)*(a.duration.sync?1:getRandom())/s.retina.reduceFactor*1e3:0,time:0,count:a.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...s){e.life||(e.life=new Life);for(const o of s)e.life.load(o==null?void 0:o.life)}update(e,s){if(!this.isEnabled(e)||!e.life)return;const o=e.life;let a=!1;if(e.spawning)if(o.delayTime+=s.value,o.delayTime>=e.life.delay)a=!0,e.spawning=!1,o.delayTime=0,o.time=0;else return;if(o.duration===-1||e.spawning||(a?o.time=0:o.time+=s.value,o.time<o.duration))return;if(o.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const c=this.container.canvas.size,d=setRangeValue(0,c.width),h=setRangeValue(0,c.width);e.position.x=randomInRange(d),e.position.y=randomInRange(h),e.spawning=!0,o.delayTime=0,o.time=0,e.reset();const g=e.options.life;g&&(o.delay=getRangeValue(g.delay.value)*1e3,o.duration=getRangeValue(g.duration.value)*1e3)}}async function loadLifeUpdater(i){await i.addParticleUpdater("life",e=>new LifeUpdater(e))}class LineDrawer{draw(e,s,o){e.moveTo(-o/2,0),e.lineTo(o/2,0)}getSidesCount(){return 1}}async function loadLineShape(i){await i.addShape("line",new LineDrawer)}function checkDestroy$1(i,e,s,o){switch(i.options.opacity.animation.destroy){case"max":e>=o&&i.destroy();break;case"min":e<=s&&i.destroy();break}}function updateOpacity(i,e){var s,o,a,c,d,h;if(!i.opacity)return;const g=i.opacity.min,_=i.opacity.max,$l=(s=i.opacity.decay)!==null&&s!==void 0?s:1;if(!(i.destroyed||!i.opacity.enable||((o=i.opacity.maxLoops)!==null&&o!==void 0?o:0)>0&&((a=i.opacity.loops)!==null&&a!==void 0?a:0)>((c=i.opacity.maxLoops)!==null&&c!==void 0?c:0))){switch(i.opacity.status){case 0:i.opacity.value>=_?(i.opacity.status=1,i.opacity.loops||(i.opacity.loops=0),i.opacity.loops++):i.opacity.value+=((d=i.opacity.velocity)!==null&&d!==void 0?d:0)*e.factor;break;case 1:i.opacity.value<=g?(i.opacity.status=0,i.opacity.loops||(i.opacity.loops=0),i.opacity.loops++):i.opacity.value-=((h=i.opacity.velocity)!==null&&h!==void 0?h:0)*e.factor;break}i.opacity.velocity&&i.opacity.decay!==1&&(i.opacity.velocity*=$l),checkDestroy$1(i,i.opacity.value,g,_),i.destroyed||(i.opacity.value=clamp(i.opacity.value,g,_))}}class OpacityUpdater{constructor(e){this.container=e}init(e){const s=e.options.opacity;e.opacity={enable:s.animation.enable,max:getRangeMax(s.value),min:getRangeMin(s.value),value:getRangeValue(s.value),loops:0,maxLoops:getRangeValue(s.animation.count)};const o=s.animation;if(o.enable){e.opacity.decay=1-getRangeValue(o.decay),e.opacity.status=0;const a=s.value;switch(e.opacity.min=getRangeMin(a),e.opacity.max=getRangeMax(a),o.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status=0;break;case"random":e.opacity.value=randomInRange(e.opacity),e.opacity.status=getRandom()>=.5?0:1;break;case"max":default:e.opacity.value=e.opacity.max,e.opacity.status=1;break}e.opacity.velocity=getRangeValue(o.speed)/100*this.container.retina.reduceFactor,o.sync||(e.opacity.velocity*=getRandom())}}isEnabled(e){var s,o,a,c;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&(((s=e.opacity.maxLoops)!==null&&s!==void 0?s:0)<=0||((o=e.opacity.maxLoops)!==null&&o!==void 0?o:0)>0&&((a=e.opacity.loops)!==null&&a!==void 0?a:0)<((c=e.opacity.maxLoops)!==null&&c!==void 0?c:0))}reset(e){e.opacity&&(e.opacity.loops=0)}update(e,s){!this.isEnabled(e)||updateOpacity(e,s)}}async function loadOpacityUpdater(i){await i.addParticleUpdater("opacity",e=>new OpacityUpdater(e))}function bounceHorizontal(i){if(i.outMode!=="bounce"&&i.outMode!=="bounce-horizontal"&&i.outMode!=="bounceHorizontal"&&i.outMode!=="split")return;i.bounds.right<0?i.particle.position.x=i.size+i.offset.x:i.bounds.left>i.canvasSize.width&&(i.particle.position.x=i.canvasSize.width-i.size-i.offset.x);const e=i.particle.velocity.x;let s=!1;if(i.direction==="right"&&i.bounds.right>=i.canvasSize.width&&e>0||i.direction==="left"&&i.bounds.left<=0&&e<0){const a=getValue(i.particle.options.bounce.horizontal);i.particle.velocity.x*=-a,s=!0}if(!s)return;const o=i.offset.x+i.size;i.bounds.right>=i.canvasSize.width?i.particle.position.x=i.canvasSize.width-o:i.bounds.left<=0&&(i.particle.position.x=o),i.outMode==="split"&&i.particle.destroy()}function bounceVertical(i){if(i.outMode!=="bounce"&&i.outMode!=="bounce-vertical"&&i.outMode!=="bounceVertical"&&i.outMode!=="split")return;i.bounds.bottom<0?i.particle.position.y=i.size+i.offset.y:i.bounds.top>i.canvasSize.height&&(i.particle.position.y=i.canvasSize.height-i.size-i.offset.y);const e=i.particle.velocity.y;let s=!1;if(i.direction==="bottom"&&i.bounds.bottom>=i.canvasSize.height&&e>0||i.direction==="top"&&i.bounds.top<=0&&e<0){const a=getValue(i.particle.options.bounce.vertical);i.particle.velocity.y*=-a,s=!0}if(!s)return;const o=i.offset.y+i.size;i.bounds.bottom>=i.canvasSize.height?i.particle.position.y=i.canvasSize.height-o:i.bounds.top<=0&&(i.particle.position.y=o),i.outMode==="split"&&i.particle.destroy()}class BounceOutMode{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,s,o,a){if(!this.modes.includes(a))return;const c=this.container;let d=!1;for(const[,Ml]of c.plugins)if(Ml.particleBounce!==void 0&&(d=Ml.particleBounce(e,o,s)),d)break;if(d)return;const h=e.getPosition(),g=e.offset,_=e.getRadius(),$l=calculateBounds(h,_),Rl=c.canvas.size;bounceHorizontal({particle:e,outMode:a,direction:s,bounds:$l,canvasSize:Rl,offset:g,size:_}),bounceVertical({particle:e,outMode:a,direction:s,bounds:$l,canvasSize:Rl,offset:g,size:_})}}class DestroyOutMode{constructor(e){this.container=e,this.modes=["destroy"]}update(e,s,o,a){if(!this.modes.includes(a))return;const c=this.container;switch(e.outType){case"normal":case"outside":if(isPointInside(e.position,c.canvas.size,Vector.origin,e.getRadius(),s))return;break;case"inside":{const{dx:d,dy:h}=getDistances(e.position,e.moveCenter),{x:g,y:_}=e.velocity;if(g<0&&d>e.moveCenter.radius||_<0&&h>e.moveCenter.radius||g>=0&&d<-e.moveCenter.radius||_>=0&&h<-e.moveCenter.radius)return;break}}c.particles.remove(e,void 0,!0)}}class NoneOutMode{constructor(e){this.container=e,this.modes=["none"]}update(e,s,o,a){if(!this.modes.includes(a)||e.options.move.distance.horizontal&&(s==="left"||s==="right")||e.options.move.distance.vertical&&(s==="top"||s==="bottom"))return;const c=e.options.move.gravity,d=this.container,h=d.canvas.size,g=e.getRadius();if(c.enable){const _=e.position;(!c.inverse&&_.y>h.height+g&&s==="bottom"||c.inverse&&_.y<-g&&s==="top")&&d.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+g||e.velocity.y<0&&e.position.y>=-g||e.velocity.x>0&&e.position.x<=h.width+g||e.velocity.x<0&&e.position.x>=-g)return;isPointInside(e.position,d.canvas.size,Vector.origin,g,s)||d.particles.remove(e)}}}class OutOutMode{constructor(e){this.container=e,this.modes=["out"]}update(e,s,o,a){if(!this.modes.includes(a))return;const c=this.container;switch(e.outType){case"inside":{const{x:d,y:h}=e.velocity,g=Vector.origin;g.length=e.moveCenter.radius,g.angle=e.velocity.angle+Math.PI,g.addTo(Vector.create(e.moveCenter));const{dx:_,dy:$l}=getDistances(e.position,g);if(d<=0&&_>=0||h<=0&&$l>=0||d>=0&&_<=0||h>=0&&$l<=0)return;e.position.x=Math.floor(randomInRange({min:0,max:c.canvas.size.width})),e.position.y=Math.floor(randomInRange({min:0,max:c.canvas.size.height}));const{dx:Rl,dy:Ml}=getDistances(e.position,e.moveCenter);e.direction=Math.atan2(-Ml,-Rl),e.velocity.angle=e.direction;break}default:{if(isPointInside(e.position,c.canvas.size,Vector.origin,e.getRadius(),s))return;switch(e.outType){case"outside":{e.position.x=Math.floor(randomInRange({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(randomInRange({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:d,dy:h}=getDistances(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,d),e.velocity.angle=e.direction);break}case"normal":{const d=e.options.move.warp,h=c.canvas.size,g={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},_=e.getRadius(),$l=calculateBounds(e.position,_);s==="right"&&$l.left>h.width+e.offset.x?(e.position.x=g.left,e.initialPosition.x=e.position.x,d||(e.position.y=getRandom()*h.height,e.initialPosition.y=e.position.y)):s==="left"&&$l.right<-e.offset.x&&(e.position.x=g.right,e.initialPosition.x=e.position.x,d||(e.position.y=getRandom()*h.height,e.initialPosition.y=e.position.y)),s==="bottom"&&$l.top>h.height+e.offset.y?(d||(e.position.x=getRandom()*h.width,e.initialPosition.x=e.position.x),e.position.y=g.top,e.initialPosition.y=e.position.y):s==="top"&&$l.bottom<-e.offset.y&&(d||(e.position.x=getRandom()*h.width,e.initialPosition.x=e.position.x),e.position.y=g.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class OutOfCanvasUpdater{constructor(e){this.container=e,this.updaters=[new BounceOutMode(e),new DestroyOutMode(e),new OutOutMode(e),new NoneOutMode(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,s){var o,a,c,d;const h=e.options.move.outModes;this.updateOutMode(e,s,(o=h.bottom)!==null&&o!==void 0?o:h.default,"bottom"),this.updateOutMode(e,s,(a=h.left)!==null&&a!==void 0?a:h.default,"left"),this.updateOutMode(e,s,(c=h.right)!==null&&c!==void 0?c:h.default,"right"),this.updateOutMode(e,s,(d=h.top)!==null&&d!==void 0?d:h.default,"top")}updateOutMode(e,s,o,a){for(const c of this.updaters)c.update(e,a,s,o)}}async function loadOutModesUpdater(i){await i.addParticleUpdater("outModes",e=>new OutOfCanvasUpdater(e))}class ParallaxMover{init(){}isEnabled(e){return!isSsr()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const s=e.container,o=s.actualOptions;if(isSsr()||!o.interactivity.events.onHover.parallax.enable)return;const a=o.interactivity.events.onHover.parallax.force,c=s.interactivity.mouse.position;if(!c)return;const d={x:s.canvas.size.width/2,y:s.canvas.size.height/2},h=o.interactivity.events.onHover.parallax.smooth,g=e.getRadius()/a,_={x:(c.x-d.x)*g,y:(c.y-d.y)*g};e.offset.x+=(_.x-e.offset.x)/h,e.offset.y+=(_.y-e.offset.y)/h}}async function loadParallaxMover(i){i.addMover("parallax",()=>new ParallaxMover)}class Attractor extends ParticlesInteractorBase{constructor(e){super(e)}clear(){}init(){}async interact(e){var s;const o=this.container,a=(s=e.retina.attractDistance)!==null&&s!==void 0?s:o.retina.attractDistance,c=e.getPosition(),d=o.particles.quadTree.queryCircle(c,a);for(const h of d){if(e===h||!h.options.move.attract.enable||h.destroyed||h.spawning)continue;const g=h.getPosition(),{dx:_,dy:$l}=getDistances(c,g),Rl=e.options.move.attract.rotate,Ml=_/(Rl.x*1e3),Ul=$l/(Rl.y*1e3),Fl=h.size.value/e.size.value,Ll=1/Fl;e.velocity.x-=Ml*Fl,e.velocity.y-=Ul*Fl,h.velocity.x+=Ml*Ll,h.velocity.y+=Ul*Ll}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function loadParticlesAttractInteraction(i){await i.addInteractor("particlesAttract",e=>new Attractor(e))}function updateAbsorb(i,e,s,o,a,c){const d=clamp(i.options.collisions.absorb.speed*a.factor/10,0,o);i.size.value+=d/2,s.size.value-=d,o<=c&&(s.size.value=0,s.destroy())}function absorb(i,e,s,o){const a=i.getRadius(),c=e.getRadius();a===void 0&&c!==void 0?i.destroy():a!==void 0&&c===void 0?e.destroy():a!==void 0&&c!==void 0&&(a>=c?updateAbsorb(i,a,e,c,s,o):updateAbsorb(e,c,i,a,s,o))}function bounce(i,e){circleBounce(circleBounceDataFromParticle(i),circleBounceDataFromParticle(e))}function destroy(i,e){!i.unbreakable&&!e.unbreakable&&bounce(i,e),i.getRadius()===void 0&&e.getRadius()!==void 0?i.destroy():i.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():i.getRadius()!==void 0&&e.getRadius()!==void 0&&(i.getRadius()>=e.getRadius()?i:e).destroy()}function resolveCollision(i,e,s,o){switch(i.options.collisions.mode){case"absorb":{absorb(i,e,s,o);break}case"bounce":{bounce(i,e);break}case"destroy":{destroy(i,e);break}}}class Collider extends ParticlesInteractorBase{constructor(e){super(e)}clear(){}init(){}async interact(e,s){const o=this.container,a=e.getPosition(),c=e.getRadius(),d=o.particles.quadTree.queryCircle(a,c*2);for(const h of d){if(e===h||!h.options.collisions.enable||e.options.collisions.mode!==h.options.collisions.mode||h.destroyed||h.spawning)continue;const g=h.getPosition(),_=h.getRadius();if(Math.abs(Math.round(a.z)-Math.round(g.z))>c+_)continue;const $l=getDistance(a,g),Rl=c+_;$l>Rl||resolveCollision(e,h,s,o.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function loadParticlesCollisionsInteraction(i){await i.addInteractor("particlesCollisions",e=>new Collider(e))}class CircleWarp extends Circle{constructor(e,s,o,a){super(e,s,o),this.canvasSize=a,this.canvasSize=Object.assign({},a)}contains(e){if(super.contains(e))return!0;const s={x:e.x-this.canvasSize.width,y:e.y};if(super.contains(s))return!0;const o={x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height};if(super.contains(o))return!0;const a={x:e.x,y:e.y-this.canvasSize.height};return super.contains(a)}intersects(e){if(super.intersects(e))return!0;const s=e,o=e,a={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(o.radius!==void 0){const c=new Circle(a.x,a.y,o.radius*2);return super.intersects(c)}else if(s.size!==void 0){const c=new Rectangle(a.x,a.y,s.size.width*2,s.size.height*2);return super.intersects(c)}return!1}}class LinksShadow{constructor(){this.blur=5,this.color=new OptionsColor,this.color.value="#000",this.enable=!1}load(e){!e||(e.blur!==void 0&&(this.blur=e.blur),this.color=OptionsColor.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class LinksTriangle{constructor(){this.enable=!1,this.frequency=1}load(e){!e||(e.color!==void 0&&(this.color=OptionsColor.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Links{constructor(){this.blink=!1,this.color=new OptionsColor,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new LinksShadow,this.triangles=new LinksTriangle,this.width=1,this.warp=!1}load(e){!e||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=OptionsColor.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function getLinkDistance(i,e,s,o,a){let c=getDistance(i,e);if(!a||c<=s)return c;const d={x:e.x-o.width,y:e.y};if(c=getDistance(i,d),c<=s)return c;const h={x:e.x-o.width,y:e.y-o.height};if(c=getDistance(i,h),c<=s)return c;const g={x:e.x,y:e.y-o.height};return c=getDistance(i,g),c}class Linker extends ParticlesInteractorBase{constructor(e){super(e),this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColors=new Map}async interact(e){var s;if(!e.options.links)return;e.links=[];const o=e.getPosition(),a=this.container,c=a.canvas.size;if(o.x<0||o.y<0||o.x>c.width||o.y>c.height)return;const d=e.options.links,h=d.opacity,g=(s=e.retina.linksDistance)!==null&&s!==void 0?s:0,_=d.warp,$l=_?new CircleWarp(o.x,o.y,g,c):new Circle(o.x,o.y,g),Rl=a.particles.quadTree.query($l);for(const Ml of Rl){const Ul=Ml.options.links;if(e===Ml||!(Ul!=null&&Ul.enable)||d.id!==Ul.id||Ml.spawning||Ml.destroyed||!Ml.links||e.links.map(zl=>zl.destination).indexOf(Ml)!==-1||Ml.links.map(zl=>zl.destination).indexOf(e)!==-1)continue;const Fl=Ml.getPosition();if(Fl.x<0||Fl.y<0||Fl.x>c.width||Fl.y>c.height)continue;const Ll=getLinkDistance(o,Fl,g,c,_&&Ul.warp);if(Ll>g)return;const Bl=(1-Ll/g)*h;this.setColor(e),e.links.push({destination:Ml,opacity:Bl})}}isEnabled(e){var s;return!!(!((s=e.options.links)===null||s===void 0)&&s.enable)}loadParticlesOptions(e,...s){var o,a;e.links||(e.links=new Links);for(const c of s)e.links.load((a=(o=c==null?void 0:c.links)!==null&&o!==void 0?o:c==null?void 0:c.lineLinked)!==null&&a!==void 0?a:c==null?void 0:c.line_linked)}reset(){}setColor(e){if(!e.options.links)return;const s=this.linkContainer,o=e.options.links;let a=o.id===void 0?s.particles.linksColor:s.particles.linksColors.get(o.id);if(a)return;const c=o.color;a=getLinkRandomColor(c,o.blink,o.consent),o.id===void 0?s.particles.linksColor=a:s.particles.linksColors.set(o.id,a)}}async function loadInteraction(i){await i.addInteractor("particlesLinks",e=>new Linker(e))}function drawLinkLine(i,e,s,o,a,c,d,h,g,_,$l,Rl){let Ml=!1;if(getDistance(s,o)<=a)drawLine(i,s,o),Ml=!0;else if(d){let Ul,Fl;const Ll={x:o.x-c.width,y:o.y},Bl=getDistances(s,Ll);if(Bl.distance<=a){const zl=s.y-Bl.dy/Bl.dx*s.x;Ul={x:0,y:zl},Fl={x:c.width,y:zl}}else{const zl={x:o.x,y:o.y-c.height},Hl=getDistances(s,zl);if(Hl.distance<=a){const Yl=-(s.y-Hl.dy/Hl.dx*s.x)/(Hl.dy/Hl.dx);Ul={x:Yl,y:0},Fl={x:Yl,y:c.height}}else{const Wl={x:o.x-c.width,y:o.y-c.height},Yl=getDistances(s,Wl);if(Yl.distance<=a){const Xl=s.y-Yl.dy/Yl.dx*s.x;Ul={x:-Xl/(Yl.dy/Yl.dx),y:Xl},Fl={x:Ul.x+c.width,y:Ul.y+c.height}}}}Ul&&Fl&&(drawLine(i,s,Ul),drawLine(i,o,Fl),Ml=!0)}if(!!Ml){if(i.lineWidth=e,h&&(i.globalCompositeOperation=g),i.strokeStyle=getStyleFromRgb(_,$l),Rl.enable){const Ul=rangeColorToRgb(Rl.color);Ul&&(i.shadowBlur=Rl.blur,i.shadowColor=getStyleFromRgb(Ul))}i.stroke()}}function drawLinkTriangle(i,e,s,o,a,c,d,h){drawTriangle(i,e,s,o),a&&(i.globalCompositeOperation=c),i.fillStyle=getStyleFromRgb(d,h),i.fill()}function getLinkKey(i){return i.sort((e,s)=>e-s),i.join("_")}function setLinkFrequency(i,e){const s=getLinkKey(i.map(a=>a.id));let o=e.get(s);return o===void 0&&(o=getRandom(),e.set(s,o)),o}class LinkInstance{constructor(e){this.container=e,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,s){var o;const a=this.container,c=s.options;if(!s.links||s.links.length<=0)return;const d=s.links.filter(h=>c.links&&this.getLinkFrequency(s,h.destination)<=c.links.frequency);for(const h of d)this.drawTriangles(a,c,s,h,d),h.opacity>0&&((o=s.retina.linksWidth)!==null&&o!==void 0?o:0)>0&&this.drawLinkLine(s,h)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const s=this.container.retina.pixelRatio;e.retina.linksDistance=e.options.links.distance*s,e.retina.linksWidth=e.options.links.width*s}particleDestroyed(e){e.links=[]}drawLinkLine(e,s){const o=this.container,a=o.actualOptions,c=s.destination,d=e.getPosition(),h=c.getPosition();let g=s.opacity;o.canvas.draw(_=>{var $l,Rl,Ml;if(!e.options.links)return;let Ul;const Fl=($l=e.options.twinkle)===null||$l===void 0?void 0:$l.lines;if(Fl!=null&&Fl.enable){const zl=Fl.frequency,Hl=rangeColorToRgb(Fl.color);getRandom()<zl&&Hl&&(Ul=Hl,g=getRangeValue(Fl.opacity))}if(!Ul){const zl=e.options.links,Hl=(zl==null?void 0:zl.id)!==void 0?o.particles.linksColors.get(zl.id):o.particles.linksColor;Ul=getLinkColor(e,c,Hl)}if(!Ul)return;const Ll=(Rl=e.retina.linksWidth)!==null&&Rl!==void 0?Rl:0,Bl=(Ml=e.retina.linksDistance)!==null&&Ml!==void 0?Ml:0;drawLinkLine(_,Ll,d,h,Bl,o.canvas.size,e.options.links.warp,a.backgroundMask.enable,a.backgroundMask.composite,Ul,g,e.options.links.shadow)})}drawLinkTriangle(e,s,o){var a;if(!e.options.links)return;const c=this.container,d=c.actualOptions,h=s.destination,g=o.destination,_=e.options.links.triangles,$l=(a=_.opacity)!==null&&a!==void 0?a:(s.opacity+o.opacity)/2;$l<=0||c.canvas.draw(Rl=>{var Ml;const Ul=e.getPosition(),Fl=h.getPosition(),Ll=g.getPosition(),Bl=(Ml=e.retina.linksDistance)!==null&&Ml!==void 0?Ml:0;if(getDistance(Ul,Fl)>Bl||getDistance(Ll,Fl)>Bl||getDistance(Ll,Ul)>Bl)return;let zl=rangeColorToRgb(_.color);if(!zl){const Hl=e.options.links,Wl=(Hl==null?void 0:Hl.id)!==void 0?c.particles.linksColors.get(Hl.id):c.particles.linksColor;zl=getLinkColor(e,h,Wl)}!zl||drawLinkTriangle(Rl,Ul,Fl,Ll,d.backgroundMask.enable,d.backgroundMask.composite,zl,$l)})}drawTriangles(e,s,o,a,c){var d,h,g;const _=a.destination;if(!(((d=s.links)===null||d===void 0?void 0:d.triangles.enable)&&((h=_.options.links)===null||h===void 0?void 0:h.triangles.enable)))return;const $l=(g=_.links)===null||g===void 0?void 0:g.filter(Rl=>{const Ml=this.getLinkFrequency(_,Rl.destination);return _.options.links&&Ml<=_.options.links.frequency&&c.findIndex(Ul=>Ul.destination===Rl.destination)>=0});if(!!($l!=null&&$l.length))for(const Rl of $l){const Ml=Rl.destination;this.getTriangleFrequency(o,_,Ml)>s.links.triangles.frequency||this.drawLinkTriangle(o,a,Rl)}}getLinkFrequency(e,s){return setLinkFrequency([e,s],this._freqs.links)}getTriangleFrequency(e,s,o){return setLinkFrequency([e,s,o],this._freqs.triangles)}}class LinksPlugin{constructor(){this.id="links"}getPlugin(e){return new LinkInstance(e)}loadOptions(){}needsPlugin(){return!0}}async function loadPlugin(i){const e=new LinksPlugin;await i.addPlugin(e)}async function loadParticlesLinksInteraction(i){await loadInteraction(i),await loadPlugin(i)}class PolygonDrawerBase{draw(e,s,o){const a=this.getCenter(s,o),c=this.getSidesData(s,o),d=c.count.numerator*c.count.denominator,h=c.count.numerator/c.count.denominator,g=180*(h-2)/h,_=Math.PI-Math.PI*g/180;if(!!e){e.beginPath(),e.translate(a.x,a.y),e.moveTo(0,0);for(let $l=0;$l<d;$l++)e.lineTo(c.length,0),e.translate(c.length,0),e.rotate(_)}}getSidesCount(e){var s,o;const a=e.shapeData;return(o=(s=a==null?void 0:a.sides)!==null&&s!==void 0?s:a==null?void 0:a.nb_sides)!==null&&o!==void 0?o:5}}class PolygonDrawer extends PolygonDrawerBase{getCenter(e,s){const o=this.getSidesCount(e);return{x:-s/(o/3.5),y:-s/(2.66/3.5)}}getSidesData(e,s){var o,a;const c=e.shapeData,d=(a=(o=c==null?void 0:c.sides)!==null&&o!==void 0?o:c==null?void 0:c.nb_sides)!==null&&a!==void 0?a:5;return{count:{denominator:1,numerator:d},length:s*2.66/(d/3)}}}class TriangleDrawer extends PolygonDrawerBase{getCenter(e,s){return{x:-s,y:s/1.66}}getSidesCount(){return 3}getSidesData(e,s){return{count:{denominator:2,numerator:3},length:s*2}}}async function loadGenericPolygonShape(i){await i.addShape("polygon",new PolygonDrawer)}async function loadTriangleShape(i){await i.addShape("triangle",new TriangleDrawer)}async function loadPolygonShape(i){await loadGenericPolygonShape(i),await loadTriangleShape(i)}function checkDestroy(i,e,s,o){switch(i.options.size.animation.destroy){case"max":e>=o&&i.destroy();break;case"min":e<=s&&i.destroy();break}}function updateSize(i,e){var s,o,a,c,d;const h=((s=i.size.velocity)!==null&&s!==void 0?s:0)*e.factor,g=i.size.min,_=i.size.max,$l=(o=i.size.decay)!==null&&o!==void 0?o:1;if(!(i.destroyed||!i.size.enable||((a=i.size.maxLoops)!==null&&a!==void 0?a:0)>0&&((c=i.size.loops)!==null&&c!==void 0?c:0)>((d=i.size.maxLoops)!==null&&d!==void 0?d:0))){switch(i.size.status){case 0:i.size.value>=_?(i.size.status=1,i.size.loops||(i.size.loops=0),i.size.loops++):i.size.value+=h;break;case 1:i.size.value<=g?(i.size.status=0,i.size.loops||(i.size.loops=0),i.size.loops++):i.size.value-=h}i.size.velocity&&$l!==1&&(i.size.velocity*=$l),checkDestroy(i,i.size.value,g,_),i.destroyed||(i.size.value=clamp(i.size.value,g,_))}}class SizeUpdater{init(e){var s;const o=e.container,a=e.options.size,c=a.animation;c.enable&&(e.size.velocity=((s=e.retina.sizeAnimationSpeed)!==null&&s!==void 0?s:o.retina.sizeAnimationSpeed)/100*o.retina.reduceFactor,c.sync||(e.size.velocity*=getRandom()))}isEnabled(e){var s,o,a,c;return!e.destroyed&&!e.spawning&&e.size.enable&&(((s=e.size.maxLoops)!==null&&s!==void 0?s:0)<=0||((o=e.size.maxLoops)!==null&&o!==void 0?o:0)>0&&((a=e.size.loops)!==null&&a!==void 0?a:0)<((c=e.size.maxLoops)!==null&&c!==void 0?c:0))}reset(e){e.size.loops=0}update(e,s){!this.isEnabled(e)||updateSize(e,s)}}async function loadSizeUpdater(i){await i.addParticleUpdater("size",()=>new SizeUpdater)}const fixFactor=Math.sqrt(2);class SquareDrawer{draw(e,s,o){e.rect(-o/fixFactor,-o/fixFactor,o*2/fixFactor,o*2/fixFactor)}getSidesCount(){return 4}}async function loadSquareShape(i){const e=new SquareDrawer;await i.addShape("edge",e),await i.addShape("square",e)}class StarDrawer{draw(e,s,o){var a;const c=s.shapeData,d=this.getSidesCount(s),h=(a=c==null?void 0:c.inset)!==null&&a!==void 0?a:2;e.moveTo(0,0-o);for(let g=0;g<d;g++)e.rotate(Math.PI/d),e.lineTo(0,0-o*h),e.rotate(Math.PI/d),e.lineTo(0,0-o)}getSidesCount(e){var s,o;const a=e.shapeData;return(o=(s=a==null?void 0:a.sides)!==null&&s!==void 0?s:a==null?void 0:a.nb_sides)!==null&&o!==void 0?o:5}}async function loadStarShape(i){await i.addShape("star",new StarDrawer)}function updateColorValue(i,e,s,o,a){var c,d;const h=e;if(!h||!h.enable)return;const g=randomInRange(s.offset),_=((c=e.velocity)!==null&&c!==void 0?c:0)*i.factor+g*3.6,$l=(d=e.decay)!==null&&d!==void 0?d:1;!a||h.status===0?(h.value+=_,a&&h.value>o&&(h.status=1,h.value-=h.value%o)):(h.value-=_,h.value<0&&(h.status=0,h.value+=h.value)),h.velocity&&$l!==1&&(h.velocity*=$l),h.value>o&&(h.value%=o)}function updateStrokeColor(i,e){var s,o,a,c,d,h,g,_,$l,Rl;if(!(!((s=i.stroke)===null||s===void 0)&&s.color))return;const Ml=i.stroke.color.animation,Ul=(a=(o=i.strokeColor)===null||o===void 0?void 0:o.h)!==null&&a!==void 0?a:(c=i.color)===null||c===void 0?void 0:c.h;Ul&&updateColorValue(e,Ul,Ml.h,360,!1);const Fl=(h=(d=i.strokeColor)===null||d===void 0?void 0:d.s)!==null&&h!==void 0?h:(g=i.color)===null||g===void 0?void 0:g.s;Fl&&updateColorValue(e,Fl,Ml.s,100,!0);const Ll=($l=(_=i.strokeColor)===null||_===void 0?void 0:_.l)!==null&&$l!==void 0?$l:(Rl=i.color)===null||Rl===void 0?void 0:Rl.l;Ll&&updateColorValue(e,Ll,Ml.l,100,!0)}class StrokeColorUpdater{constructor(e){this.container=e}init(e){var s,o;const a=this.container;e.stroke=itemFromSingleOrMultiple(e.options.stroke,e.id,e.options.reduceDuplicates),e.strokeWidth=e.stroke.width*a.retina.pixelRatio;const c=(s=rangeColorToHsl(e.stroke.color))!==null&&s!==void 0?s:e.getFillColor();c&&(e.strokeColor=getHslAnimationFromHsl(c,(o=e.stroke.color)===null||o===void 0?void 0:o.animation,a.retina.reduceFactor))}isEnabled(e){var s,o,a,c;const d=(s=e.stroke)===null||s===void 0?void 0:s.color;return!e.destroyed&&!e.spawning&&!!d&&(((o=e.strokeColor)===null||o===void 0?void 0:o.h.value)!==void 0&&d.animation.h.enable||((a=e.strokeColor)===null||a===void 0?void 0:a.s.value)!==void 0&&d.animation.s.enable||((c=e.strokeColor)===null||c===void 0?void 0:c.l.value)!==void 0&&d.animation.l.enable)}update(e,s){!this.isEnabled(e)||updateStrokeColor(e,s)}}async function loadStrokeColorUpdater(i){await i.addParticleUpdater("strokeColor",e=>new StrokeColorUpdater(e))}const validTypes=["text","character","char"];class TextDrawer{draw(e,s,o,a){var c,d,h;const g=s.shapeData;if(g===void 0)return;const _=g.value;if(_===void 0)return;const $l=s;$l.text===void 0&&($l.text=itemFromSingleOrMultiple(_,s.randomIndexData));const Rl=$l.text,Ml=(c=g.style)!==null&&c!==void 0?c:"",Ul=(d=g.weight)!==null&&d!==void 0?d:"400",Fl=Math.round(o)*2,Ll=(h=g.font)!==null&&h!==void 0?h:"Verdana",Bl=s.fill,zl=Rl.length*o/2;e.font=`${Ml} ${Ul} ${Fl}px "${Ll}"`;const Hl={x:-zl,y:o/2};e.globalAlpha=a,Bl?e.fillText(Rl,Hl.x,Hl.y):e.strokeText(Rl,Hl.x,Hl.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const s=e.actualOptions;if(validTypes.find(o=>isInArray(o,s.particles.shape.type))){const o=validTypes.map(c=>s.particles.shape.options[c]).find(c=>!!c),a=[];executeOnSingleOrMultiple(o,c=>{a.push(loadFont(c.font,c.weight))}),await Promise.all(a)}}}async function loadTextShape(i){const e=new TextDrawer;for(const s of validTypes)await i.addShape(s,e)}async function loadSlim(i){await loadBaseMover(i),await loadParallaxMover(i),await loadExternalAttractInteraction(i),await loadExternalBounceInteraction(i),await loadExternalBubbleInteraction(i),await loadExternalConnectInteraction(i),await loadExternalGrabInteraction(i),await loadExternalPauseInteraction(i),await loadExternalPushInteraction(i),await loadExternalRemoveInteraction(i),await loadExternalRepulseInteraction(i),await loadExternalSlowInteraction(i),await loadParticlesAttractInteraction(i),await loadParticlesCollisionsInteraction(i),await loadParticlesLinksInteraction(i),await loadCircleShape(i),await loadImageShape(i),await loadLineShape(i),await loadPolygonShape(i),await loadSquareShape(i),await loadStarShape(i),await loadTextShape(i),await loadLifeUpdater(i),await loadOpacityUpdater(i),await loadSizeUpdater(i),await loadAngleUpdater(i),await loadColorUpdater(i),await loadStrokeColorUpdater(i),await loadOutModesUpdater(i),await initPjs(i)}class TiltAnimation{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=setRangeValue(e.speed)),e.decay!==void 0&&(this.decay=setRangeValue(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Tilt extends ValueWithRandom{constructor(){super(),this.animation=new TiltAnimation,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}function updateTilt(i,e){var s,o;if(!i.tilt||!i.options.tilt)return;const a=i.options.tilt,c=a.animation,d=((s=i.tilt.velocity)!==null&&s!==void 0?s:0)*e.factor,h=2*Math.PI,g=(o=i.tilt.decay)!==null&&o!==void 0?o:1;if(!!c.enable){switch(i.tilt.status){case 0:i.tilt.value+=d,i.tilt.value>h&&(i.tilt.value-=h);break;case 1:default:i.tilt.value-=d,i.tilt.value<0&&(i.tilt.value+=h);break}i.tilt.velocity&&g!==1&&(i.tilt.velocity*=g)}}class TiltUpdater{constructor(e){this.container=e}getTransformValues(e){var s;const o=((s=e.tilt)===null||s===void 0?void 0:s.enable)&&e.tilt;return{b:o?Math.cos(o.value)*o.cosDirection:void 0,c:o?Math.sin(o.value)*o.sinDirection:void 0}}init(e){var s;const o=e.options.tilt;if(!o)return;e.tilt={enable:o.enable,value:getRangeValue(o.value)*Math.PI/180,sinDirection:getRandom()>=.5?1:-1,cosDirection:getRandom()>=.5?1:-1};let a=o.direction;switch(a==="random"&&(a=Math.floor(getRandom()*2)>0?"counter-clockwise":"clockwise"),a){case"counter-clockwise":case"counterClockwise":e.tilt.status=1;break;case"clockwise":e.tilt.status=0;break}const c=(s=e.options.tilt)===null||s===void 0?void 0:s.animation;c!=null&&c.enable&&(e.tilt.decay=1-getRangeValue(c.decay),e.tilt.velocity=getRangeValue(c.speed)/360*this.container.retina.reduceFactor,c.sync||(e.tilt.velocity*=getRandom()))}isEnabled(e){var s;const o=(s=e.options.tilt)===null||s===void 0?void 0:s.animation;return!e.destroyed&&!e.spawning&&!!(o!=null&&o.enable)}loadOptions(e,...s){e.tilt||(e.tilt=new Tilt);for(const o of s)e.tilt.load(o==null?void 0:o.tilt)}update(e,s){!this.isEnabled(e)||updateTilt(e,s)}}async function loadTiltUpdater(i){await i.addParticleUpdater("tilt",e=>new TiltUpdater(e))}class TwinkleValues{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=OptionsColor.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=setRangeValue(e.opacity)))}}class Twinkle{constructor(){this.lines=new TwinkleValues,this.particles=new TwinkleValues}load(e){!e||(this.lines.load(e.lines),this.particles.load(e.particles))}}class TwinkleUpdater{getColorStyles(e,s,o,a){const c=e.options,d=c.twinkle;if(!d)return{};const h=d.particles,g=h.enable&&getRandom()<h.frequency,_=e.options.zIndex,$l=(1-e.zIndexFactor)**_.opacityRate,Rl=g?getRangeValue(h.opacity)*$l:a,Ml=rangeColorToHsl(h.color),Ul=Ml?getStyleFromHsl(Ml,Rl):void 0,Fl={},Ll=g&&Ul;return Fl.fill=Ll?Ul:void 0,Fl.stroke=Ll?Ul:void 0,Fl}init(){}isEnabled(e){const s=e.options,o=s.twinkle;return o?o.particles.enable:!1}loadOptions(e,...s){e.twinkle||(e.twinkle=new Twinkle);for(const o of s)e.twinkle.load(o==null?void 0:o.twinkle)}update(){}}async function loadTwinkleUpdater(i){await i.addParticleUpdater("twinkle",()=>new TwinkleUpdater)}class WobbleSpeed{constructor(){this.angle=50,this.move=10}load(e){!e||(e.angle!==void 0&&(this.angle=setRangeValue(e.angle)),e.move!==void 0&&(this.move=setRangeValue(e.move)))}}class Wobble{constructor(){this.distance=5,this.enable=!1,this.speed=new WobbleSpeed}load(e){if(!!e&&(e.distance!==void 0&&(this.distance=setRangeValue(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(typeof e.speed=="number")this.speed.load({angle:e.speed});else{const s=e.speed;s.min!==void 0?this.speed.load({angle:s}):this.speed.load(e.speed)}}}function updateWobble(i,e){var s;const o=i.options.wobble;if(!(o!=null&&o.enable)||!i.wobble)return;const a=i.wobble.angleSpeed*e.factor,c=i.wobble.moveSpeed*e.factor,d=c*(((s=i.retina.wobbleDistance)!==null&&s!==void 0?s:0)*e.factor)/(1e3/60),h=2*Math.PI;i.wobble.angle+=a,i.wobble.angle>h&&(i.wobble.angle-=h),i.position.x+=d*Math.cos(i.wobble.angle),i.position.y+=d*Math.abs(Math.sin(i.wobble.angle))}class WobbleUpdater{constructor(e){this.container=e}init(e){var s;const o=e.options.wobble;o!=null&&o.enable?e.wobble={angle:getRandom()*Math.PI*2,angleSpeed:getRangeValue(o.speed.angle)/360,moveSpeed:getRangeValue(o.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=getRangeValue((s=o==null?void 0:o.distance)!==null&&s!==void 0?s:0)*this.container.retina.pixelRatio}isEnabled(e){var s;return!e.destroyed&&!e.spawning&&!!(!((s=e.options.wobble)===null||s===void 0)&&s.enable)}loadOptions(e,...s){e.wobble||(e.wobble=new Wobble);for(const o of s)e.wobble.load(o==null?void 0:o.wobble)}update(e,s){!this.isEnabled(e)||updateWobble(e,s)}}async function loadWobbleUpdater(i){await i.addParticleUpdater("wobble",e=>new WobbleUpdater(e))}async function loadFull(i){await loadSlim(i),await loadDestroyUpdater(i),await loadRollUpdater(i),await loadTiltUpdater(i),await loadTwinkleUpdater(i),await loadWobbleUpdater(i),await loadExternalTrailInteraction(i),await loadAbsorbersPlugin(i),await loadEmittersPlugin(i)}const particlesOptions={background:{color:{value:"#0070C0"}},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#FC6088"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{directions:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0},Login=()=>{const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState(""),a=Rl=>{Rl.preventDefault();var Ml=i,Ul=s;app.auth().signInWithEmailAndPassword(Ml,Ul).then(Fl=>{Fl.user.emailVerified?(localStorage.setItem("user",JSON.stringify(Fl.user)),console.log("usuario logueado"),app.firestore().collection("users").doc(Fl.user.uid).get().then(Ll=>{Ll.exists?(Ll.data().rol=="admin"||Ll.data().rol=="doctor",window.location.href="/",localStorage.setItem("usuario",JSON.stringify(Ll.data().id)),localStorage.setItem("correo",JSON.stringify(Fl.user.email))):console.log("No such document!")}).catch(Ll=>{console.log("Error getting document:",Ll)})):swal("Para acceder","Por favor verifica tu correo electr\xF3nico","info")}).catch(Fl=>{var Ll=Fl.code,Bl=Fl.message;console.log(Ll,Bl),swal("Error","Usuario o contrase\xF1a incorrectos","error")})},c=()=>{var Rl=new firebase.auth.GoogleAuthProvider;app.auth().signInWithPopup(Rl).then(Ml=>{var Ul=Ml.credential;Ul.accessToken;var Fl=Ml.user;db.collection("users").doc(Fl.uid).get().then(Ll=>{Ll.exists?console.log("El usuario ya existe"):app.firestore().collection("users").doc(Fl.uid).set({id:Fl.uid,rol:"user"}).then(()=>{app.firestore().collection("users").doc(Fl.uid).get().then(Bl=>{Bl.exists?(Bl.data().rol=="admin"||Bl.data().rol=="doctor",window.location.href="/",localStorage.setItem("usuario",JSON.stringify(Bl.data().id)),localStorage.setItem("correo",JSON.stringify(Fl.email))):console.log("No such document!")}).catch(Bl=>{console.log("Error getting document:",Bl)})}).catch(Bl=>{console.error("Error writing document: ",Bl)})}).catch(Ll=>{console.log("Error getting document:",Ll)}),app.firestore().collection("users").doc(Fl.uid).get().then(Ll=>{Ll.exists?(Ll.data().rol=="admin"||Ll.data().rol=="doctor",window.location.href="/",localStorage.setItem("usuario",JSON.stringify(Ll.data().id)),localStorage.setItem("correo",JSON.stringify(Fl.email))):console.log("No such document!")}).catch(Ll=>{console.log("Error getting document:",Ll)})}).catch(Ml=>{var Ul=Ml.code,Fl=Ml.message;Ml.email,Ml.credential,console.log(Ul,Fl)})},d=()=>{var Rl=i,Ml=s;app.auth().createUserWithEmailAndPassword(Rl,Ml).then(Ul=>{var Fl=Ul.user;console.log(json(Ul.user)),console.log("usuario registrado"),app.firestore().collection("users").doc(Fl.uid).set({id:Fl.uid,rol:"user"}).then(()=>{console.log("Document successfully written!")}).catch(Ll=>{console.error("Error writing document: ",Ll)}),app.auth().currentUser.sendEmailVerification().then(()=>{console.log("correo enviado")}).catch(Ll=>{console.log(Ll)}),document.getElementById("login").removeAttribute("hidden"),document.getElementById("exampleModal").setAttribute("hidden","false")}).catch(Ul=>{var Fl=Ul.code,Ll=Ul.message;console.log(Fl,Ll)})},h=()=>{document.getElementById("exampleModal").removeAttribute("hidden"),document.getElementById("login").setAttribute("hidden","true")},g=react$1.exports.useCallback(async Rl=>{console.log(Rl),await loadFull(Rl)},[]),_=react$1.exports.useCallback(async Rl=>{await console.log(Rl)},[]);return jsxs("div",{className:"container",children:[jsx(Particles,{id:"tsparticles",init:g,loaded:_,options:particlesOptions}),jsxs("center",{children:[jsx("div",{id:"login",className:"col-md-4",children:jsx("div",{className:"row",children:jsxs("div",{className:"card ",children:[jsxs("form",{onSubmit:a,children:[jsx("img",{src:".\\resourses\\logoB.png",alt:"...",height:"150"}),jsxs("div",{className:"card-body",children:[jsx("div",{className:"form-group",children:jsxs("div",{class:"input-group",children:[jsx("div",{class:"input-group-prepend",children:jsx("span",{class:"input-group-text",children:jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"24",fill:"currentColor",class:"bi bi-envelope-at",viewBox:"0 0 16 16",children:[jsx("path",{d:"M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"}),jsx("path",{d:"M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z"})]})})}),jsx("input",{type:"email",className:"form-control",placeholder:"Email",onChange:Rl=>e(Rl.target.value),required:!0})]})}),jsx("div",{className:"form-group mt-3",children:jsxs("div",{class:"input-group",children:[jsx("div",{class:"input-group-prepend",children:jsx("span",{class:"input-group-text",children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"24",fill:"currentColor",class:"bi bi-lock",viewBox:"0 0 16 16",children:jsx("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"})})})}),jsx("input",{type:"password",className:"form-control",placeholder:"Contrase\xF1a",onChange:Rl=>o(Rl.target.value),required:!0})]})})]}),jsx("button",{type:"submit",className:"btn btn-primary btn-block mt-2",children:"Ingresar"}),jsx("br",{}),jsx("br",{})]}),jsxs("div",{className:"card-footer ",children:[jsx("button",{className:"btn btn-success btn-block mt-2 ",onClick:h,children:"Registrar"}),jsx("button",{className:"btn btn-danger btn-block mt-2 mx-2",onClick:c,children:"Google"}),jsx("br",{}),jsx("a",{onClick:()=>{var Rl=firebase.auth(),Ml=i;Rl.sendPasswordResetEmail(Ml).then(function(){swal("Recuperar contrase\xF1a","Se ha enviado un correo electr\xF3nico para recuperar tu contrase\xF1a","success")}).catch(function(Ul){swal("Recuperar contrase\xF1a","No se ha podido enviar el correo electr\xF3nico","error")})},className:"btn btn-link",children:"\xBFOlvidaste tu contrase\xF1a?"}),jsx("br",{})]}),jsx("br",{})]})})}),jsx("div",{id:"exampleModal",className:"col-md-4",hidden:!0,children:jsx("div",{className:"row",children:jsx("div",{className:"card",children:jsxs("div",{className:"card-body",children:[jsx("h3",{className:"text-center",children:"Registro"}),jsxs("div",{className:"form-group",children:[jsx("label",{children:"Usuario"}),jsx("input",{type:"text",className:"form-control",placeholder:"Usuario",onChange:Rl=>e(Rl.target.value)}),jsx("label",{children:"Contrase\xF1a"}),jsx("input",{type:"password",className:"form-control",placeholder:"Contrase\xF1a",onChange:Rl=>o(Rl.target.value)})]}),jsx("button",{type:"submit",className:"btn btn-primary btn-block",onClick:d,children:"Registrarse"})]})})})})]})]})};var reactMultiCarousel={exports:{}},lib$1={},Carousel$3={};const require$$0=getAugmentedNamespace(jsxRuntime);var utils={},clones={};(function(i){function e(d,h,g){var _=h.slidesToShow,$l=h.currentSlide;return g.length>2*_?d+2*_:$l>=g.length?g.length+d:d}function s(d,h){if(h.length>2*d){for(var g={},_=h.length-2*d,$l=h.length-_,Rl=_,Ml=0;Ml<$l;Ml++)g[Ml]=Rl,Rl++;var Ul=h.length+$l,Fl=Ul+h.slice(0,2*d).length,Ll=0;for(Ml=Ul;Ml<=Fl;Ml++)g[Ml]=Ll,Ll++;var Bl=Ul,zl=0;for(Ml=$l;Ml<Bl;Ml++)g[Ml]=zl,zl++;return g}g={};var Hl=3*h.length,Wl=0;for(Ml=0;Ml<Hl;Ml++)g[Ml]=Wl,++Wl===h.length&&(Wl=0);return g}function o(d,h){return h.length<d?h:h.length>2*d?h.slice(h.length-2*d,h.length).concat(h,h.slice(0,2*d)):h.concat(h,h)}function a(d,h){return h.length>2*d?2*d:h.length}function c(d,h,g){var _,$l=d.currentSlide,Rl=d.slidesToShow,Ml=d.itemWidth,Ul=d.totalItems,Fl=0,Ll=0,Bl=$l===0,zl=h.length-(h.length-2*Rl);return h.length<Rl?(Ll=Fl=0,Bl=_=!1):h.length>2*Rl?((_=$l>=zl+h.length)&&(Ll=-Ml*(Fl=$l-h.length)),Bl&&(Ll=-Ml*(Fl=zl+(h.length-2*Rl)))):((_=$l>=2*h.length)&&(Ll=-Ml*(Fl=$l-h.length)),Bl&&(Ll=g.showDots?-Ml*(Fl=h.length):-Ml*(Fl=Ul/3))),{isReachingTheEnd:_,isReachingTheStart:Bl,nextSlide:Fl,nextPosition:Ll}}Object.defineProperty(i,"__esModule",{value:!0}),i.getOriginalCounterPart=e,i.getOriginalIndexLookupTableByClones=s,i.getClones=o,i.getInitialSlideInInfiniteMode=a,i.checkClonesPosition=c})(clones);var elementWidth={};Object.defineProperty(elementWidth,"__esModule",{value:!0});function getPartialVisibilityGutter(i,e,s,o){var a=0,c=o||s;return e&&c&&(a=i[c].partialVisibilityGutter||i[c].paritialVisibilityGutter),a}function getWidthFromDeviceType(i,e){var s;return e[i]&&(s=(100/e[i].items).toFixed(1)),s}function getItemClientSideWidth(i,e,s){return Math.round(s/(e+(i.centerMode?1:0)))}elementWidth.getPartialVisibilityGutter=getPartialVisibilityGutter,elementWidth.getWidthFromDeviceType=getWidthFromDeviceType,elementWidth.getItemClientSideWidth=getItemClientSideWidth;var common={};Object.defineProperty(common,"__esModule",{value:!0});var elementWidth_1$1=elementWidth;function notEnoughChildren(i){var e=i.slidesToShow;return i.totalItems<e}function getInitialState(i,e){var s,o=i.domLoaded,a=i.slidesToShow,c=i.containerWidth,d=i.itemWidth,h=e.deviceType,g=e.responsive,_=e.ssr,$l=e.partialVisbile,Rl=e.partialVisible,Ml=Boolean(o&&a&&c&&d);_&&h&&!Ml&&(s=elementWidth_1$1.getWidthFromDeviceType(h,g));var Ul=Boolean(_&&h&&!Ml&&s);return{shouldRenderOnSSR:Ul,flexBisis:s,domFullyLoaded:Ml,partialVisibilityGutter:elementWidth_1$1.getPartialVisibilityGutter(g,$l||Rl,h,i.deviceType),shouldRenderAtAll:Ul||Ml}}function getIfSlideIsVisbile(i,e){var s=e.currentSlide,o=e.slidesToShow;return s<=i&&i<s+o}function getTransformForCenterMode(i,e,s){var o=s||i.transform;return!e.infinite&&i.currentSlide===0||notEnoughChildren(i)?o:o+i.itemWidth/2}function isInLeftEnd(i){return!(0<i.currentSlide)}function isInRightEnd(i){var e=i.currentSlide,s=i.totalItems;return!(e+i.slidesToShow<s)}function getTransformForPartialVsibile(i,e,s,o){e===void 0&&(e=0);var a=i.currentSlide,c=i.slidesToShow,d=isInRightEnd(i),h=!s.infinite&&d,g=o||i.transform;if(notEnoughChildren(i))return g;var _=g+a*e;return h?_+(i.containerWidth-(i.itemWidth-e)*c):_}function parsePosition(i,e){return i.rtl?-1*e:e}function getTransform(i,e,s){var o=e.partialVisbile,a=e.partialVisible,c=e.responsive,d=e.deviceType,h=e.centerMode,g=s||i.transform,_=elementWidth_1$1.getPartialVisibilityGutter(c,o||a,d,i.deviceType);return parsePosition(e,a||o?getTransformForPartialVsibile(i,_,e,s):h?getTransformForCenterMode(i,e,s):g)}function getSlidesToSlide(i,e){var s=i.domLoaded,o=i.slidesToShow,a=i.containerWidth,c=i.itemWidth,d=e.deviceType,h=e.responsive,g=e.slidesToSlide||1,_=Boolean(s&&o&&a&&c);return e.ssr&&e.deviceType&&!_&&Object.keys(h).forEach(function($l){var Rl=h[$l].slidesToSlide;d===$l&&Rl&&(g=Rl)}),_&&Object.keys(h).forEach(function($l){var Rl=h[$l],Ml=Rl.breakpoint,Ul=Rl.slidesToSlide,Fl=Ml.max,Ll=Ml.min;Ul&&window.innerWidth>=Ll&&window.innerWidth<=Fl&&(g=Ul)}),g}common.notEnoughChildren=notEnoughChildren,common.getInitialState=getInitialState,common.getIfSlideIsVisbile=getIfSlideIsVisbile,common.getTransformForCenterMode=getTransformForCenterMode,common.isInLeftEnd=isInLeftEnd,common.isInRightEnd=isInRightEnd,common.getTransformForPartialVsibile=getTransformForPartialVsibile,common.parsePosition=parsePosition,common.getTransform=getTransform,common.getSlidesToSlide=getSlidesToSlide;var throttle$1={};Object.defineProperty(throttle$1,"__esModule",{value:!0});var throttle=function(i,e,s){var o;return function(){var a=arguments;o||(i.apply(this,a),o=!0,typeof s=="function"&&s(!0),setTimeout(function(){o=!1,typeof s=="function"&&s(!1)},e))}};throttle$1.default=throttle;var throwError={};(function(i){function e(s,o){var a=o.partialVisbile,c=o.partialVisible,d=o.centerMode,h=o.ssr,g=o.responsive;if((a||c)&&d)throw new Error("center mode can not be used at the same time with partialVisible");if(!g)throw h?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(g&&typeof g!="object")throw new Error("responsive prop must be an object")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=e})(throwError);var next={};Object.defineProperty(next,"__esModule",{value:!0});var common_1$5=common;function populateNextSlides(i,e,s){s===void 0&&(s=0);var o,a,c=i.slidesToShow,d=i.currentSlide,h=i.itemWidth,g=i.totalItems,_=common_1$5.getSlidesToSlide(i,e),$l=d+1+s+c+(0<s?0:_);return a=$l<=g?-h*(o=d+s+(0<s?0:_)):g<$l&&d!==g-c?-h*(o=g-c):o=void 0,{nextSlides:o,nextPosition:a}}next.populateNextSlides=populateNextSlides;var previous={};Object.defineProperty(previous,"__esModule",{value:!0});var React$5=react$1.exports,common_1$4=common,common_2=common;function populatePreviousSlides(i,e,s){s===void 0&&(s=0);var o,a,c=i.currentSlide,d=i.itemWidth,h=i.slidesToShow,g=e.children,_=e.showDots,$l=e.infinite,Rl=common_1$4.getSlidesToSlide(i,e),Ml=c-s-(0<s?0:Rl),Ul=(React$5.Children.toArray(g).length-h)%Rl;return a=0<=Ml?(o=Ml,_&&!$l&&0<Ul&&common_2.isInRightEnd(i)&&(o=c-Ul),-d*o):o=Ml<0&&c!==0?0:void 0,{nextSlides:o,nextPosition:a}}previous.populatePreviousSlides=populatePreviousSlides;var mouseOrTouchMove={};(function(i){function e(s,o,a,c,d,h){var g,_,$l=s.itemWidth,Rl=s.slidesToShow,Ml=s.totalItems,Ul=s.currentSlide,Fl=o.infinite,Ll=!1,Bl=Math.round((a-c)/$l),zl=Math.round((c-a)/$l),Hl=a<d;if(d<a&&Bl<=Rl){g="right";var Wl=Math.abs(-$l*(Ml-Rl)),Yl=h-(c-d),Xl=Ul===Ml-Rl;(Math.abs(Yl)<=Wl||Xl&&Fl)&&(_=Yl,Ll=!0)}return Hl&&zl<=Rl&&(g="left",((Yl=h+(d-c))<=0||Ul===0&&Fl)&&(Ll=!0,_=Yl)),{direction:g,nextPosition:_,canContinue:Ll}}Object.defineProperty(i,"__esModule",{value:!0}),i.populateSlidesOnMouseTouchMove=e})(mouseOrTouchMove);Object.defineProperty(utils,"__esModule",{value:!0});var clones_1$2=clones;utils.getOriginalCounterPart=clones_1$2.getOriginalCounterPart,utils.getClones=clones_1$2.getClones,utils.checkClonesPosition=clones_1$2.checkClonesPosition,utils.getInitialSlideInInfiniteMode=clones_1$2.getInitialSlideInInfiniteMode;var elementWidth_1=elementWidth;utils.getWidthFromDeviceType=elementWidth_1.getWidthFromDeviceType,utils.getPartialVisibilityGutter=elementWidth_1.getPartialVisibilityGutter,utils.getItemClientSideWidth=elementWidth_1.getItemClientSideWidth;var common_1$3=common;utils.getInitialState=common_1$3.getInitialState,utils.getIfSlideIsVisbile=common_1$3.getIfSlideIsVisbile,utils.getTransformForCenterMode=common_1$3.getTransformForCenterMode,utils.getTransformForPartialVsibile=common_1$3.getTransformForPartialVsibile,utils.isInLeftEnd=common_1$3.isInLeftEnd,utils.isInRightEnd=common_1$3.isInRightEnd,utils.notEnoughChildren=common_1$3.notEnoughChildren,utils.getSlidesToSlide=common_1$3.getSlidesToSlide;var throttle_1=throttle$1;utils.throttle=throttle_1.default;var throwError_1=throwError;utils.throwError=throwError_1.default;var next_1=next;utils.populateNextSlides=next_1.populateNextSlides;var previous_1=previous;utils.populatePreviousSlides=previous_1.populatePreviousSlides;var mouseOrTouchMove_1=mouseOrTouchMove;utils.populateSlidesOnMouseTouchMove=mouseOrTouchMove_1.populateSlidesOnMouseTouchMove;var types={},__extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var i=function(e,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)a.hasOwnProperty(c)&&(o[c]=a[c])})(e,s)};return function(e,s){function o(){this.constructor=e}i(e,s),e.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(types,"__esModule",{value:!0});var React$4=react$1.exports;function isMouseMoveEvent(i){return"clientY"in i}types.isMouseMoveEvent=isMouseMoveEvent;var Carousel$2=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return __extends$1(e,i),e}(React$4.Component);types.default=Carousel$2;var Dots$1={},dots={};Object.defineProperty(dots,"__esModule",{value:!0});var clones_1$1=clones,common_1$2=common;function getLookupTableForNextSlides(i,e,s,o){var a={},c=common_1$2.getSlidesToSlide(e,s);return Array(i).fill(0).forEach(function(d,h){var g=clones_1$1.getOriginalCounterPart(h,e,o);if(h===0)a[0]=g;else{var _=a[h-1]+c;a[h]=_}}),a}dots.getLookupTableForNextSlides=getLookupTableForNextSlides;var _jsx$3=require$$0.jsx;Object.defineProperty(Dots$1,"__esModule",{value:!0});var React$3=react$1.exports,clones_1=clones,dots_1=dots,common_1$1=common,Dots=function(i){var e=i.props,s=i.state,o=i.goToSlide,a=i.getState,c=e.showDots,d=e.customDot,h=e.dotListClass,g=e.infinite,_=e.children;if(!c||common_1$1.notEnoughChildren(s))return null;var $l,Rl=s.currentSlide,Ml=s.slidesToShow,Ul=common_1$1.getSlidesToSlide(s,e),Fl=React$3.Children.toArray(_);$l=g?Math.ceil(Fl.length/Ul):Math.ceil((Fl.length-Ml)/Ul)+1;var Ll=dots_1.getLookupTableForNextSlides($l,s,e,Fl),Bl=clones_1.getOriginalIndexLookupTableByClones(Ml,Fl),zl=Bl[Rl];return _jsx$3("ul",{className:"react-multi-carousel-dot-list "+h,children:Array($l).fill(0).map(function(Hl,Wl){var Yl,Xl;if(g){Xl=Ll[Wl];var Gl=Bl[Xl];Yl=zl===Gl||Gl<=zl&&zl<Gl+Ul}else{var _d=Fl.length-Ml,Kl=Wl*Ul;Yl=(Xl=_d<Kl?_d:Kl)===Rl||Xl<Rl&&Rl<Xl+Ul&&Rl<Fl.length-Ml}return d?React$3.cloneElement(d,{index:Wl,active:Yl,key:Wl,onClick:function(){return o(Xl)},carouselState:a()}):_jsx$3("li",{"data-index":Wl,className:"react-multi-carousel-dot "+(Yl?"react-multi-carousel-dot--active":""),children:_jsx$3("button",{"aria-label":"Go to slide "+(Wl+1),onClick:function(){return o(Xl)}})},Wl)})})};Dots$1.default=Dots;var Arrows={},_jsx$2=require$$0.jsx;Object.defineProperty(Arrows,"__esModule",{value:!0});var React$2=react$1.exports,LeftArrow=function(i){var e=i.customLeftArrow,s=i.getState,o=i.previous,a=i.disabled,c=i.rtl;if(e)return React$2.cloneElement(e,{onClick:function(){return o()},carouselState:s(),disabled:a,rtl:c});var d=c?"rtl":"";return _jsx$2("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+d,onClick:function(){return o()},type:"button",disabled:a})};Arrows.LeftArrow=LeftArrow;var RightArrow=function(i){var e=i.customRightArrow,s=i.getState,o=i.next,a=i.disabled,c=i.rtl;if(e)return React$2.cloneElement(e,{onClick:function(){return o()},carouselState:s(),disabled:a,rtl:c});var d=c?"rtl":"";return _jsx$2("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+d,onClick:function(){return o()},type:"button",disabled:a})};Arrows.RightArrow=RightArrow;var CarouselItems$1={},_jsx$1=require$$0.jsx,_Fragment$1=require$$0.Fragment;Object.defineProperty(CarouselItems$1,"__esModule",{value:!0});var React$1=react$1.exports,utils_1$1=utils,CarouselItems=function(i){var e=i.props,s=i.state,o=i.goToSlide,a=i.clones,c=i.notEnoughChildren,d=s.itemWidth,h=e.children,g=e.infinite,_=e.itemClass,$l=e.itemAriaLabel,Rl=e.partialVisbile,Ml=e.partialVisible,Ul=utils_1$1.getInitialState(s,e),Fl=Ul.flexBisis,Ll=Ul.shouldRenderOnSSR,Bl=Ul.domFullyLoaded,zl=Ul.partialVisibilityGutter;return Ul.shouldRenderAtAll?(Rl&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),_jsx$1(_Fragment$1,{children:(g?a:React$1.Children.toArray(h)).map(function(Hl,Wl){return _jsx$1("li",{"data-index":Wl,onClick:function(){e.focusOnSelect&&o(Wl)},"aria-hidden":utils_1$1.getIfSlideIsVisbile(Wl,s)?"false":"true","aria-label":$l||(Hl.props.ariaLabel?Hl.props.ariaLabel:null),style:{flex:Ll?"1 0 "+Fl+"%":"auto",position:"relative",width:Bl?((Rl||Ml)&&zl&&!c?d-zl:d)+"px":"auto"},className:"react-multi-carousel-item "+(utils_1$1.getIfSlideIsVisbile(Wl,s)?"react-multi-carousel-item--active":"")+" "+_,children:Hl},Wl)})})):null};CarouselItems$1.default=CarouselItems;var _jsx=require$$0.jsx,_jsxs=require$$0.jsxs,_Fragment=require$$0.Fragment,__extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var i=function(e,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)a.hasOwnProperty(c)&&(o[c]=a[c])})(e,s)};return function(e,s){function o(){this.constructor=e}i(e,s),e.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(Carousel$3,"__esModule",{value:!0});var React=react$1.exports,utils_1=utils,types_1=types,Dots_1=Dots$1,Arrows_1=Arrows,CarouselItems_1=CarouselItems$1,common_1=common,defaultTransitionDuration=400,defaultTransition="transform 400ms ease-in-out",Carousel$1=function(i){function e(s){var o=i.call(this,s)||this;return o.containerRef=React.createRef(),o.listRef=React.createRef(),o.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:React.Children.count(s.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},o.onResize=o.onResize.bind(o),o.handleDown=o.handleDown.bind(o),o.handleMove=o.handleMove.bind(o),o.handleOut=o.handleOut.bind(o),o.onKeyUp=o.onKeyUp.bind(o),o.handleEnter=o.handleEnter.bind(o),o.setIsInThrottle=o.setIsInThrottle.bind(o),o.next=utils_1.throttle(o.next.bind(o),s.transitionDuration||defaultTransitionDuration,o.setIsInThrottle),o.previous=utils_1.throttle(o.previous.bind(o),s.transitionDuration||defaultTransitionDuration,o.setIsInThrottle),o.goToSlide=utils_1.throttle(o.goToSlide.bind(o),s.transitionDuration||defaultTransitionDuration,o.setIsInThrottle),o.onMove=!1,o.initialX=0,o.lastX=0,o.isAnimationAllowed=!1,o.direction="",o.initialY=0,o.isInThrottle=!1,o.transformPlaceHolder=0,o}return __extends(e,i),e.prototype.resetTotalItems=function(){var s=this,o=React.Children.count(this.props.children),a=utils_1.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,o));this.setState({totalItems:o,currentSlide:a},function(){s.setContainerAndItemWidth(s.state.slidesToShow,!0)})},e.prototype.setIsInThrottle=function(s){s===void 0&&(s=!1),this.isInThrottle=s},e.prototype.setTransformDirectly=function(s,o){var a=this.props.additionalTransfrom;this.transformPlaceHolder=s;var c=common_1.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(o),this.listRef.current.style.transform="translate3d("+(c+a)+"px,0,0)")},e.prototype.setAnimationDirectly=function(s){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=s?this.props.customTransition||defaultTransition:"none")},e.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},e.prototype.setClones=function(s,o,a,c){var d=this;c===void 0&&(c=!1),this.isAnimationAllowed=!1;var h=React.Children.toArray(this.props.children),g=utils_1.getInitialSlideInInfiniteMode(s||this.state.slidesToShow,h),_=utils_1.getClones(this.state.slidesToShow,h),$l=h.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:_.length,currentSlide:a&&!c?$l:g},function(){d.correctItemsPosition(o||d.state.itemWidth)})},e.prototype.setItemsToShow=function(s,o){var a=this,c=this.props.responsive;Object.keys(c).forEach(function(d){var h=c[d],g=h.breakpoint,_=h.items,$l=g.max,Rl=g.min;window.innerWidth>=Rl&&window.innerWidth<=$l&&(a.setState({slidesToShow:_,deviceType:d}),a.setContainerAndItemWidth(_,s,o))})},e.prototype.setContainerAndItemWidth=function(s,o,a){var c=this;if(this.containerRef&&this.containerRef.current){var d=this.containerRef.current.offsetWidth,h=utils_1.getItemClientSideWidth(this.props,s,d);this.setState({containerWidth:d,itemWidth:h},function(){c.props.infinite&&c.setClones(s,h,o,a)}),o&&this.correctItemsPosition(h)}},e.prototype.correctItemsPosition=function(s,o,a){o&&(this.isAnimationAllowed=!0),!o&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var c=this.state.totalItems<this.state.slidesToShow?0:-s*this.state.currentSlide;a&&this.setTransformDirectly(c,!0),this.setState({transform:c})},e.prototype.onResize=function(s){var o;o=!!this.props.infinite&&(typeof s!="boolean"||!s),this.setItemsToShow(o)},e.prototype.componentDidUpdate=function(s,o){var a=this,c=s.keyBoardControl,d=s.autoPlay,h=s.children,g=o.containerWidth,_=o.domLoaded,$l=o.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==g&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout(function(){a.setItemsToShow(!0)},this.props.transitionDuration||defaultTransitionDuration)),c&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!c&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),d&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),d||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),h.length!==this.props.children.length?setTimeout(function(){a.props.infinite?a.setClones(a.state.slidesToShow,a.state.itemWidth,!0,!0):a.resetTotalItems()},this.props.transitionDuration||defaultTransitionDuration):this.props.infinite&&this.state.currentSlide!==$l&&this.correctClonesPosition({domLoaded:_}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&utils_1.isInRightEnd(this.state)){var Rl=this.props.transitionDuration||defaultTransitionDuration;setTimeout(function(){a.setIsInThrottle(!1),a.resetAutoplayInterval(),a.goToSlide(0,void 0,!!a.props.rewindWithAnimation)},Rl+this.props.autoPlaySpeed)}},e.prototype.correctClonesPosition=function(s){var o=this,a=s.domLoaded,c=React.Children.toArray(this.props.children),d=utils_1.checkClonesPosition(this.state,c,this.props),h=d.isReachingTheEnd,g=d.isReachingTheStart,_=d.nextSlide,$l=d.nextPosition;this.state.domLoaded&&a&&(h||g)&&(this.isAnimationAllowed=!1,setTimeout(function(){o.setState({transform:$l,currentSlide:_})},this.props.transitionDuration||defaultTransitionDuration))},e.prototype.next=function(s){var o=this;s===void 0&&(s=0);var a=this.props,c=a.afterChange,d=a.beforeChange;if(!utils_1.notEnoughChildren(this.state)){var h=utils_1.populateNextSlides(this.state,this.props,s),g=h.nextSlides,_=h.nextPosition,$l=this.state.currentSlide;g!==void 0&&_!==void 0&&(typeof d=="function"&&d(g,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:_,currentSlide:g},function(){typeof c=="function"&&setTimeout(function(){c($l,o.getState())},o.props.transitionDuration||defaultTransitionDuration)}))}},e.prototype.previous=function(s){var o=this;s===void 0&&(s=0);var a=this.props,c=a.afterChange,d=a.beforeChange;if(!utils_1.notEnoughChildren(this.state)){var h=utils_1.populatePreviousSlides(this.state,this.props,s),g=h.nextSlides,_=h.nextPosition;if(g!==void 0&&_!==void 0){var $l=this.state.currentSlide;typeof d=="function"&&d(g,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:_,currentSlide:g},function(){typeof c=="function"&&setTimeout(function(){c($l,o.getState())},o.props.transitionDuration||defaultTransitionDuration)})}}},e.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout)},e.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},e.prototype.getCords=function(s){var o=s.clientX,a=s.clientY;return{clientX:common_1.parsePosition(this.props,o),clientY:common_1.parsePosition(this.props,a)}},e.prototype.handleDown=function(s){if(!(!types_1.isMouseMoveEvent(s)&&!this.props.swipeable||types_1.isMouseMoveEvent(s)&&!this.props.draggable||this.isInThrottle)){var o=this.getCords(types_1.isMouseMoveEvent(s)?s:s.touches[0]),a=o.clientX,c=o.clientY;this.onMove=!0,this.initialX=a,this.initialY=c,this.lastX=a,this.isAnimationAllowed=!1}},e.prototype.handleMove=function(s){if(!(!types_1.isMouseMoveEvent(s)&&!this.props.swipeable||types_1.isMouseMoveEvent(s)&&!this.props.draggable||utils_1.notEnoughChildren(this.state))){var o=this.getCords(types_1.isMouseMoveEvent(s)?s:s.touches[0]),a=o.clientX,c=o.clientY,d=this.initialX-a,h=this.initialY-c;if(this.onMove){if(!(Math.abs(d)>Math.abs(h)))return;var g=utils_1.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,a,this.transformPlaceHolder),_=g.direction,$l=g.nextPosition,Rl=g.canContinue;_&&(this.direction=_,Rl&&$l!==void 0&&this.setTransformDirectly($l)),this.lastX=a}}},e.prototype.handleOut=function(s){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var o=s.type==="touchend"&&!this.props.swipeable,a=(s.type==="mouseleave"||s.type==="mouseup")&&!this.props.draggable;if(!o&&!a&&this.onMove){if(this.setAnimationDirectly(!0),this.direction==="right")if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var c=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(c)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);this.direction==="left"&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(c=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(c)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},e.prototype.isInViewport=function(s){var o=s.getBoundingClientRect(),a=o.top,c=a===void 0?0:a,d=o.left,h=d===void 0?0:d,g=o.bottom,_=g===void 0?0:g,$l=o.right,Rl=$l===void 0?0:$l;return 0<=c&&0<=h&&_<=(window.innerHeight||document.documentElement.clientHeight)&&Rl<=(window.innerWidth||document.documentElement.clientWidth)},e.prototype.isChildOfCarousel=function(s){return!!(s instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(s)},e.prototype.onKeyUp=function(s){var o=s.target;switch(s.keyCode){case 37:if(this.isChildOfCarousel(o))return this.previous();break;case 39:if(this.isChildOfCarousel(o))return this.next();break;case 9:if(this.isChildOfCarousel(o)&&o instanceof HTMLInputElement&&this.isInViewport(o))return this.next()}},e.prototype.handleEnter=function(s){types_1.isMouseMoveEvent(s)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},e.prototype.goToSlide=function(s,o,a){var c=this;if(a===void 0&&(a=!0),!this.isInThrottle){var d=this.state.itemWidth,h=this.props,g=h.afterChange,_=h.beforeChange,$l=this.state.currentSlide;typeof _!="function"||o&&(typeof o!="object"||o.skipBeforeChange)||_(s,this.getState()),this.isAnimationAllowed=a,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:s,transform:-d*s},function(){c.props.infinite&&c.correctClonesPosition({domLoaded:!0}),typeof g!="function"||o&&(typeof o!="object"||o.skipAfterChange)||setTimeout(function(){g($l,c.getState())},c.props.transitionDuration||defaultTransitionDuration)})}},e.prototype.getState=function(){return this.state},e.prototype.renderLeftArrow=function(s){var o=this,a=this.props,c=a.customLeftArrow,d=a.rtl;return _jsx(Arrows_1.LeftArrow,{customLeftArrow:c,getState:function(){return o.getState()},previous:this.previous,disabled:s,rtl:d})},e.prototype.renderRightArrow=function(s){var o=this,a=this.props,c=a.customRightArrow,d=a.rtl;return _jsx(Arrows_1.RightArrow,{customRightArrow:c,getState:function(){return o.getState()},next:this.next,disabled:s,rtl:d})},e.prototype.renderButtonGroups=function(){var s=this,o=this.props.customButtonGroup;return o?React.cloneElement(o,{previous:function(){return s.previous()},next:function(){return s.next()},goToSlide:function(a,c){return s.goToSlide(a,c)},carouselState:this.getState()}):null},e.prototype.renderDotsList=function(){var s=this;return React.createElement(Dots_1.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return s.getState()}})},e.prototype.renderCarouselItems=function(){var s=[];if(this.props.infinite){var o=React.Children.toArray(this.props.children);s=utils_1.getClones(this.state.slidesToShow,o)}return React.createElement(CarouselItems_1.default,{clones:s,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:utils_1.notEnoughChildren(this.state),props:this.props})},e.prototype.render=function(){var s=this.props,o=s.deviceType,a=s.arrows,c=s.renderArrowsWhenDisabled,d=s.removeArrowOnDeviceType,h=s.infinite,g=s.containerClass,_=s.sliderClass,$l=s.customTransition,Rl=s.additionalTransfrom,Ml=s.renderDotsOutside,Ul=s.renderButtonGroupOutside,Fl=s.className,Ll=s.rtl,Bl=utils_1.getInitialState(this.state,this.props),zl=Bl.shouldRenderOnSSR,Hl=Bl.shouldRenderAtAll,Wl=utils_1.isInLeftEnd(this.state),Yl=utils_1.isInRightEnd(this.state),Xl=a&&!(d&&(o&&-1<d.indexOf(o)||this.state.deviceType&&-1<d.indexOf(this.state.deviceType)))&&!utils_1.notEnoughChildren(this.state)&&Hl,Gl=!h&&Wl,_d=!h&&Yl,Kl=common_1.getTransform(this.state,this.props);return _jsxs(_Fragment,{children:[_jsxs("div",{className:"react-multi-carousel-list "+g+" "+Fl,dir:Ll?"rtl":"ltr",ref:this.containerRef,children:[_jsx("ul",{ref:this.listRef,className:"react-multi-carousel-track "+_,style:{transition:this.isAnimationAllowed?$l||defaultTransition:"none",overflow:zl?"hidden":"unset",transform:"translate3d("+(Kl+Rl)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut,children:this.renderCarouselItems()}),Xl&&(!Gl||c)&&this.renderLeftArrow(Gl),Xl&&(!_d||c)&&this.renderRightArrow(_d),Hl&&!Ul&&this.renderButtonGroups(),Hl&&!Ml&&this.renderDotsList()]}),Hl&&Ml&&this.renderDotsList(),Hl&&Ul&&this.renderButtonGroups()]})},e.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},e}(React.Component);Carousel$3.default=Carousel$1;Object.defineProperty(lib$1,"__esModule",{value:!0});var Carousel_1=Carousel$3;lib$1.default=Carousel_1.default;(function(i){i.exports=lib$1})(reactMultiCarousel);const Carousel=getDefaultExportFromCjs(reactMultiCarousel.exports),styles="",Usuario$1=()=>{react$1.exports.useState("");const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState([]),[a,c]=react$1.exports.useState([]),[d,h]=react$1.exports.useState([]),[g,_]=react$1.exports.useState(0),[$l,Rl]=react$1.exports.useState(0),[Ml,Ul]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let Wl=localStorage.getItem("datos");Wl!=null?Wl===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[Ml]),react$1.exports.useEffect(()=>{let Wl=localStorage.getItem("usuario");Wl!=null&&(Wl=Wl.replace(/['"]+/g,"")),Wl!=null?(console.log(Wl),app.firestore().collection("users").doc(Wl).get().then(Yl=>{Yl.exists?(Rl(Yl.data().rol),console.log("Document data:",Yl.data().rol),Yl.data().nombre!=null&&Yl.data().apellido!=null&&Yl.data().curp!=null&&Yl.data().telefono!=null&&Yl.data().id!=null&&Yl.data().rol!=null?Ul(!0):Ul(!1)):(_(0),console.log("No such document!"))}).catch(Yl=>{console.log("Error getting document:",Yl)})):Rl(0)},[]),react$1.exports.useEffect(()=>{let Wl=localStorage.getItem("usuario");Wl!=null&&(Wl=Wl.replace(/['"]+/g,"")),Wl!=null&&(console.log(Wl),app.firestore().collection("Citas").where("usuario","==",Wl).get().then(Yl=>{const Xl=[];console.log(Yl),Yl.forEach(Gl=>{Xl.push({...Gl.data(),id:Xl.length+1})}),h(Xl),console.log(Xl)}))},[]),react$1.exports.useEffect(()=>{e(localStorage.getItem("correo"))},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Servicios").onSnapshot(Wl=>{const Yl=[];Wl.forEach(Xl=>{console.log(Xl.data()),Yl.push({...Xl.data(),id:Xl.id})}),console.log(Yl),o(Yl)})},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Especialistas").onSnapshot(Wl=>{const Yl=[];Wl.forEach(Xl=>{console.log(Xl.data()),Yl.push({...Xl.data(),id:Xl.id})}),console.log(Yl),c(Yl)})},[]);function Fl(){var Wl=document.getElementById("exampleModalServicio");Wl.style.display="none"}function Ll(){var Wl=document.getElementById("exampleModalEspecialista");Wl.style.display="none"}const Bl=Wl=>{console.log(Wl);var Yl=document.getElementById("exampleModalServicio"),Xl=document.getElementById("modal-bodyServicio");Yl.style.display="block",Yl.hidden=!1,app.firestore().collection("Servicios").doc(Wl).get().then(Gl=>{const _d=[];console.log(Gl),_d.push({...Gl.data(),id:_d.length+1,uid:Gl.id}),console.log(_d),Xl.innerHTML=`
      <p> <b>Nombre:</b> ${_d[0].Description} </p>
      <p> <b>Precio:</b> ${_d[0].Price} </p>
      <p> <b>informacion:</b> ${_d[0].info} </p>
      `})},zl=Wl=>{console.log(Wl);var Yl=document.getElementById("exampleModalEspecialista"),Xl=document.getElementById("modal-bodyEspecialista");Yl.style.display="block",Yl.hidden=!1,app.firestore().collection("Especialistas").doc(Wl).get().then(Gl=>{const _d=[];console.log(Gl),_d.push({...Gl.data(),id:_d.length+1,uid:Gl.id}),console.log(_d),Xl.innerHTML=` 
      <p> <b>Nombre:</b> ${_d[0].Name} </p>
      <p> <b>Especialidad:</b> ${_d[0].Especialidad} </p>
      <p> <b>informacion:</b> ${_d[0].info} </p>
      <p> <b>Consultorio:</b> ${_d[0].ubicacion} </p>
      `})},Hl={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};return jsxs(Fragment,{children:[jsxs("div",{className:"container",children:[jsx("br",{}),jsxs("div",{className:"row",children:[jsx("section",{class:"page-section",id:"services",children:jsxs("div",{class:"container",children:[jsx("div",{className:"text-center",children:jsx("img",{src:".\\resourses\\banner2.jpg",class:"img-fluid",alt:"Responsive image"})}),jsx("br",{}),jsxs("div",{class:"row text-center",children:[jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-primary",children:[jsx("div",{className:"card-header bg-primary text-white",children:jsx("h4",{class:"my-3",children:"Nuestra Misi\xF3n"})}),jsx("p",{class:"text-muted mb-2",children:"Somos una instituci\xF3n privada en constante innovaci\xF3n que ofrece servicios de salud con altos est\xE1ndares de calidad, interesados en dar bienestar y confianza a pacientes y familiares."}),jsx("br",{})]})}),jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-danger",children:[jsx("div",{className:"card-header bg-danger text-white",children:jsx("h4",{class:"my-3",children:"Nuestra Visi\xF3n"})}),jsx("p",{class:"text-muted mb-2",children:"Ser la organizaci\xF3n privada de mayor referencia en el pa\xEDs que presta atenci\xF3n m\xE9dica con una cultura de calidad en el servicio, crecimiento e innovaci\xF3n constante con el mejor capital humano."})]})}),jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-info",children:[jsx("div",{className:"card-header bg-info text-white mb-3",children:jsx("h4",{class:"my-3",children:"Nuestros Valores"})}),jsxs("ul",{class:"list mb-2",children:[jsx("li",{class:"list-group-item",children:"\u2022 Actitud de servicio"}),jsx("li",{class:"list-group-item",children:"\u2022 Honestidad"}),jsx("li",{class:"list-group-item",children:"\u2022 Lealtad"}),jsx("li",{class:"list-group-item",children:"\u2022 Respeto"})]})]})})]})]})}),jsxs("div",{className:"col-md-12",children:[jsx("div",{class:"text-center",children:jsx("h2",{class:"section-heading text-uppercase",children:"Servicios"})}),jsx("div",{className:"card-body",children:jsx(Carousel,{responsive:Hl,children:s.map(Wl=>jsx("div",{className:"card",style:{width:"18rem"},children:jsxs("center",{children:[jsx("img",{src:Wl.img,className:"card-img-top",alt:"...",style:{width:"10rem",height:"10rem"}}),jsxs("div",{className:"card-body",children:[jsxs("div",{className:"card-text",style:{height:"10rem"},children:[jsx("h5",{className:"card-title",children:Wl.Description}),jsxs("p",{className:"card-text",children:["$",Wl.Price]})]}),jsx("a",{href:"#",className:"btn btn-primary",onClick:()=>Bl(Wl.id),children:"Ver mas"})]})]})}))})})]})]}),jsx("br",{}),jsx("div",{className:"row",children:jsxs("div",{className:"col-md-12",children:[jsx("div",{class:"text-center",children:jsx("h2",{class:"section-heading text-uppercase",children:"Especialistas"})}),jsx("div",{className:"card-body",children:jsx(Carousel,{responsive:Hl,children:a.map(Wl=>jsx("div",{className:"card",style:{width:"18rem"},children:jsxs("center",{children:[jsx("img",{src:Wl.img,className:"card-img-top",alt:"...",style:{width:"10rem",height:"10rem"}}),jsxs("div",{className:"card-body",children:[jsxs("div",{className:"card-text",style:{height:"10rem"},children:[jsx("h5",{className:"card-title",children:Wl.Name}),jsx("p",{className:"card-text",children:Wl.Especialidad})]}),jsx("a",{href:"#",className:"btn btn-primary",onClick:()=>zl(Wl.id),children:"Ver mas"})]})]})}))})})]})})]}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModalEspecialista",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("h5",{class:"modal-title",children:"ESPECIALISTA "}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:Ll,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-bodyEspecialista"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:Ll,children:"Close"})})]})})}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModalServicio",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("center",{children:jsx("h5",{class:"modal-title",children:"SERVICIO "})}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:Fl,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-bodyServicio"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:Fl,children:"Close"})})]})})})]})},Usuario=()=>{const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState([]),[a,c]=react$1.exports.useState([]),[d,h]=react$1.exports.useState(0),[g,_]=react$1.exports.useState(0),[$l,Rl]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let zl=localStorage.getItem("datos");zl!=null?zl===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[$l]),react$1.exports.useEffect(()=>{let zl=localStorage.getItem("usuario");zl!=null&&(zl=zl.replace(/['"]+/g,"")),zl!=null?(console.log(zl),app.firestore().collection("users").doc(zl).get().then(Hl=>{Hl.exists?(_(Hl.data().rol),console.log("Document data:",Hl.data().rol),Hl.data().nombre!=null&&Hl.data().apellido!=null&&Hl.data().curp!=null&&Hl.data().telefono!=null&&Hl.data().id!=null&&Hl.data().rol!=null?Rl(!0):Rl(!1)):(h(0),console.log("No such document!"))}).catch(Hl=>{console.log("Error getting document:",Hl)})):_(0)},[]),react$1.exports.useEffect(()=>{e(localStorage.getItem("correo"))},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Servicios").onSnapshot(zl=>{const Hl=[];zl.forEach(Wl=>{console.log(Wl.data()),Hl.push({...Wl.data(),id:Wl.id})}),console.log(Hl),o(Hl)})},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Especialistas").onSnapshot(zl=>{const Hl=[];zl.forEach(Wl=>{console.log(Wl.data()),Hl.push({...Wl.data(),id:Wl.id})}),console.log(Hl),c(Hl)})},[]);function Ml(){var zl=document.getElementById("exampleModalServicio");zl.style.display="none"}function Ul(){var zl=document.getElementById("exampleModalEspecialista");zl.style.display="none"}const Fl=zl=>{console.log(zl);var Hl=document.getElementById("exampleModalServicio"),Wl=document.getElementById("modal-bodyServicio");Hl.style.display="block",Hl.hidden=!1,app.firestore().collection("Servicios").doc(zl).get().then(Yl=>{const Xl=[];console.log(Yl),Xl.push({...Yl.data(),id:Xl.length+1,uid:Yl.id}),console.log(Xl),Wl.innerHTML=`
      <p> <b>Nombre:</b> ${Xl[0].Description} </p>
      <p> <b>Precio:</b> ${Xl[0].Price} </p>
      <p> <b>informacion:</b> ${Xl[0].info} </p>
      `})},Ll=zl=>{console.log(zl);var Hl=document.getElementById("exampleModalEspecialista"),Wl=document.getElementById("modal-bodyEspecialista");Hl.style.display="block",Hl.hidden=!1,app.firestore().collection("Especialistas").doc(zl).get().then(Yl=>{const Xl=[];console.log(Yl),Xl.push({...Yl.data(),id:Xl.length+1,uid:Yl.id}),console.log(Xl),Wl.innerHTML=` 
      <p> <b>Nombre:</b> ${Xl[0].Name} </p>
      <p> <b>Especialidad:</b> ${Xl[0].Especialidad} </p>
      <p> <b>informacion:</b> ${Xl[0].info} </p>
      <p> <b>Consultorio:</b> ${Xl[0].ubicacion} </p>
      `})},Bl={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};return jsxs(Fragment,{children:[jsxs("div",{className:"container",children:[jsx("br",{}),jsxs("div",{className:"row",children:[jsx("section",{class:"page-section",id:"services",children:jsxs("div",{class:"container",children:[jsx("div",{className:"text-center",children:jsx("img",{src:".\\resourses\\banner2.jpg",class:"img-fluid",alt:"Responsive image"})}),jsx("br",{}),jsxs("div",{class:"row text-center",children:[jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-primary",children:[jsx("div",{className:"card-header bg-primary text-white",children:jsx("h4",{class:"my-3",children:"Nuestra Misi\xF3n"})}),jsx("p",{class:"text-muted mb-2",children:"Somos una instituci\xF3n privada en constante innovaci\xF3n que ofrece servicios de salud con altos est\xE1ndares de calidad, interesados en dar bienestar y confianza a pacientes y familiares."}),jsx("br",{})]})}),jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-danger",children:[jsx("div",{className:"card-header bg-danger text-white",children:jsx("h4",{class:"my-3",children:"Nuestra Visi\xF3n"})}),jsx("p",{class:"text-muted mb-2",children:"Ser la organizaci\xF3n privada de mayor referencia en el pa\xEDs que presta atenci\xF3n m\xE9dica con una cultura de calidad en el servicio, crecimiento e innovaci\xF3n constante con el mejor capital humano."})]})}),jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-info",children:[jsx("div",{className:"card-header bg-info text-white mb-3",children:jsx("h4",{class:"my-3",children:"Nuestros Valores"})}),jsxs("ul",{class:"list mb-2",children:[jsx("li",{class:"list-group-item",children:"\u2022 Actitud de servicio"}),jsx("li",{class:"list-group-item",children:"\u2022 Honestidad"}),jsx("li",{class:"list-group-item",children:"\u2022 Lealtad"}),jsx("li",{class:"list-group-item",children:"\u2022 Respeto"})]})]})})]})]})}),jsxs("div",{className:"col-md-12",children:[jsx("div",{class:"text-center",children:jsx("h2",{class:"section-heading text-uppercase",children:"Servicios"})}),jsx("div",{className:"card-body",children:jsx(Carousel,{responsive:Bl,children:s.map(zl=>jsx("div",{className:"card",style:{width:"18rem"},children:jsxs("center",{children:[jsx("img",{src:zl.img,className:"card-img-top",alt:"...",style:{width:"10rem",height:"10rem"}}),jsxs("div",{className:"card-body",children:[jsxs("div",{className:"card-text",style:{height:"10rem"},children:[jsx("h5",{className:"card-title",children:zl.Description}),jsxs("p",{className:"card-text",children:["$",zl.Price]})]}),jsx("a",{href:"#",className:"btn btn-primary",onClick:()=>Fl(zl.id),children:"Ver mas"})]})]})}))})})]})]}),jsx("br",{}),jsx("div",{className:"row",children:jsxs("div",{className:"col-md-12",children:[jsx("div",{class:"text-center",children:jsx("h2",{class:"section-heading text-uppercase",children:"Especialistas"})}),jsx("div",{className:"card-body",children:jsx(Carousel,{responsive:Bl,children:a.map(zl=>jsx("div",{className:"card",style:{width:"18rem"},children:jsxs("center",{children:[jsx("img",{src:zl.img,className:"card-img-top",alt:"...",style:{width:"10rem",height:"10rem"}}),jsxs("div",{className:"card-body",children:[jsxs("div",{className:"card-text",style:{height:"10rem"},children:[jsx("h5",{className:"card-title",children:zl.Name}),jsx("p",{className:"card-text",children:zl.Especialidad})]}),jsx("a",{href:"#",className:"btn btn-primary",onClick:()=>Ll(zl.id),children:"Ver mas"})]})]})}))})})]})})]}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModalEspecialista",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("h5",{class:"modal-title",children:"ESPECIALISTA "}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:Ul,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-bodyEspecialista"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:Ul,children:"Close"})})]})})}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModalServicio",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("center",{children:jsx("h5",{class:"modal-title",children:"SERVICIO "})}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:Ml,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-bodyServicio"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:Ml,children:"Close"})})]})})})]})};var lib={exports:{}},Modal$1={},ModalPortal={exports:{}},focusManager={},tabbable={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=$l;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var s="none",o="contents",a=/input|select|textarea|button|object|iframe/;function c(Rl,Ml){return Ml.getPropertyValue("overflow")!=="visible"||Rl.scrollWidth<=0&&Rl.scrollHeight<=0}function d(Rl){var Ml=Rl.offsetWidth<=0&&Rl.offsetHeight<=0;if(Ml&&!Rl.innerHTML)return!0;try{var Ul=window.getComputedStyle(Rl),Fl=Ul.getPropertyValue("display");return Ml?Fl!==o&&c(Rl,Ul):Fl===s}catch{return console.warn("Failed to inspect element style"),!1}}function h(Rl){for(var Ml=Rl,Ul=Rl.getRootNode&&Rl.getRootNode();Ml&&Ml!==document.body;){if(Ul&&Ml===Ul&&(Ml=Ul.host.parentNode),d(Ml))return!1;Ml=Ml.parentNode}return!0}function g(Rl,Ml){var Ul=Rl.nodeName.toLowerCase(),Fl=a.test(Ul)&&!Rl.disabled||Ul==="a"&&Rl.href||Ml;return Fl&&h(Rl)}function _(Rl){var Ml=Rl.getAttribute("tabindex");Ml===null&&(Ml=void 0);var Ul=isNaN(Ml);return(Ul||Ml>=0)&&g(Rl,!Ul)}function $l(Rl){var Ml=[].slice.call(Rl.querySelectorAll("*"),0).reduce(function(Ul,Fl){return Ul.concat(Fl.shadowRoot?$l(Fl.shadowRoot):[Fl])},[]);return Ml.filter(_)}i.exports=e.default})(tabbable,tabbable.exports);Object.defineProperty(focusManager,"__esModule",{value:!0});focusManager.resetState=resetState$4;focusManager.log=log$4;focusManager.handleBlur=handleBlur;focusManager.handleFocus=handleFocus;focusManager.markForFocusLater=markForFocusLater;focusManager.returnFocus=returnFocus;focusManager.popWithoutFocus=popWithoutFocus;focusManager.setupScopedFocus=setupScopedFocus;focusManager.teardownScopedFocus=teardownScopedFocus;var _tabbable=tabbable.exports,_tabbable2=_interopRequireDefault$4(_tabbable);function _interopRequireDefault$4(i){return i&&i.__esModule?i:{default:i}}var focusLaterElements=[],modalElement=null,needToFocus=!1;function resetState$4(){focusLaterElements=[]}function log$4(){}function handleBlur(){needToFocus=!0}function handleFocus(){if(needToFocus){if(needToFocus=!1,!modalElement)return;setTimeout(function(){if(!modalElement.contains(document.activeElement)){var i=(0,_tabbable2.default)(modalElement)[0]||modalElement;i.focus()}},0)}}function markForFocusLater(){focusLaterElements.push(document.activeElement)}function returnFocus(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{focusLaterElements.length!==0&&(e=focusLaterElements.pop(),e.focus({preventScroll:i}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function popWithoutFocus(){focusLaterElements.length>0&&focusLaterElements.pop()}function setupScopedFocus(i){modalElement=i,window.addEventListener?(window.addEventListener("blur",handleBlur,!1),document.addEventListener("focus",handleFocus,!0)):(window.attachEvent("onBlur",handleBlur),document.attachEvent("onFocus",handleFocus))}function teardownScopedFocus(){modalElement=null,window.addEventListener?(window.removeEventListener("blur",handleBlur),document.removeEventListener("focus",handleFocus)):(window.detachEvent("onBlur",handleBlur),document.detachEvent("onFocus",handleFocus))}var scopeTab={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var s=tabbable.exports,o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return h.activeElement.shadowRoot?c(h.activeElement.shadowRoot):h.activeElement}function d(h,g){var _=(0,o.default)(h);if(!_.length){g.preventDefault();return}var $l=void 0,Rl=g.shiftKey,Ml=_[0],Ul=_[_.length-1],Fl=c();if(h===Fl){if(!Rl)return;$l=Ul}if(Ul===Fl&&!Rl&&($l=Ml),Ml===Fl&&Rl&&($l=Ul),$l){g.preventDefault(),$l.focus();return}var Ll=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),Bl=Ll!=null&&Ll[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!Bl){var zl=_.indexOf(Fl);if(zl>-1&&(zl+=Rl?-1:1),$l=_[zl],typeof $l>"u"){g.preventDefault(),$l=Rl?Ul:Ml,$l.focus();return}g.preventDefault(),$l.focus()}}i.exports=e.default})(scopeTab,scopeTab.exports);var ariaAppHider$1={},safeHTMLElement={},exenv={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(i){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),s={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};i.exports?i.exports=s:window.ExecutionEnvironment=s})()})(exenv);Object.defineProperty(safeHTMLElement,"__esModule",{value:!0});safeHTMLElement.canUseDOM=safeHTMLElement.SafeNodeList=safeHTMLElement.SafeHTMLCollection=void 0;var _exenv=exenv.exports,_exenv2=_interopRequireDefault$3(_exenv);function _interopRequireDefault$3(i){return i&&i.__esModule?i:{default:i}}var EE=_exenv2.default,SafeHTMLElement=EE.canUseDOM?window.HTMLElement:{};safeHTMLElement.SafeHTMLCollection=EE.canUseDOM?window.HTMLCollection:{};safeHTMLElement.SafeNodeList=EE.canUseDOM?window.NodeList:{};safeHTMLElement.canUseDOM=EE.canUseDOM;safeHTMLElement.default=SafeHTMLElement;Object.defineProperty(ariaAppHider$1,"__esModule",{value:!0});ariaAppHider$1.resetState=resetState$3;ariaAppHider$1.log=log$3;ariaAppHider$1.assertNodeList=assertNodeList;ariaAppHider$1.setElement=setElement;ariaAppHider$1.validateElement=validateElement;ariaAppHider$1.hide=hide;ariaAppHider$1.show=show;ariaAppHider$1.documentNotReadyOrSSRTesting=documentNotReadyOrSSRTesting;var _warning=warning_1,_warning2=_interopRequireDefault$2(_warning),_safeHTMLElement$1=safeHTMLElement;function _interopRequireDefault$2(i){return i&&i.__esModule?i:{default:i}}var globalElement=null;function resetState$3(){globalElement&&(globalElement.removeAttribute?globalElement.removeAttribute("aria-hidden"):globalElement.length!=null?globalElement.forEach(function(i){return i.removeAttribute("aria-hidden")}):document.querySelectorAll(globalElement).forEach(function(i){return i.removeAttribute("aria-hidden")})),globalElement=null}function log$3(){}function assertNodeList(i,e){if(!i||!i.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function setElement(i){var e=i;if(typeof e=="string"&&_safeHTMLElement$1.canUseDOM){var s=document.querySelectorAll(e);assertNodeList(s,e),e=s}return globalElement=e||globalElement,globalElement}function validateElement(i){var e=i||globalElement;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,_warning2.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function hide(i){var e=!0,s=!1,o=void 0;try{for(var a=validateElement(i)[Symbol.iterator](),c;!(e=(c=a.next()).done);e=!0){var d=c.value;d.setAttribute("aria-hidden","true")}}catch(h){s=!0,o=h}finally{try{!e&&a.return&&a.return()}finally{if(s)throw o}}}function show(i){var e=!0,s=!1,o=void 0;try{for(var a=validateElement(i)[Symbol.iterator](),c;!(e=(c=a.next()).done);e=!0){var d=c.value;d.removeAttribute("aria-hidden")}}catch(h){s=!0,o=h}finally{try{!e&&a.return&&a.return()}finally{if(s)throw o}}}function documentNotReadyOrSSRTesting(){globalElement=null}var classList={};Object.defineProperty(classList,"__esModule",{value:!0});classList.resetState=resetState$2;classList.log=log$2;var htmlClassList={},docBodyClassList={};function removeClass(i,e){i.classList.remove(e)}function resetState$2(){var i=document.getElementsByTagName("html")[0];for(var e in htmlClassList)removeClass(i,htmlClassList[e]);var s=document.body;for(var o in docBodyClassList)removeClass(s,docBodyClassList[o]);htmlClassList={},docBodyClassList={}}function log$2(){}var incrementReference=function(e,s){return e[s]||(e[s]=0),e[s]+=1,s},decrementReference=function(e,s){return e[s]&&(e[s]-=1),s},trackClass=function(e,s,o){o.forEach(function(a){incrementReference(s,a),e.add(a)})},untrackClass=function(e,s,o){o.forEach(function(a){decrementReference(s,a),s[a]===0&&e.remove(a)})};classList.add=function(e,s){return trackClass(e.classList,e.nodeName.toLowerCase()=="html"?htmlClassList:docBodyClassList,s.split(" "))};classList.remove=function(e,s){return untrackClass(e.classList,e.nodeName.toLowerCase()=="html"?htmlClassList:docBodyClassList,s.split(" "))};var portalOpenInstances$1={};Object.defineProperty(portalOpenInstances$1,"__esModule",{value:!0});portalOpenInstances$1.log=log$1;portalOpenInstances$1.resetState=resetState$1;function _classCallCheck$1(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var PortalOpenInstances=function i(){var e=this;_classCallCheck$1(this,i),this.register=function(s){e.openInstances.indexOf(s)===-1&&(e.openInstances.push(s),e.emit("register"))},this.deregister=function(s){var o=e.openInstances.indexOf(s);o!==-1&&(e.openInstances.splice(o,1),e.emit("deregister"))},this.subscribe=function(s){e.subscribers.push(s)},this.emit=function(s){e.subscribers.forEach(function(o){return o(s,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},portalOpenInstances=new PortalOpenInstances;function log$1(){console.log("portalOpenInstances ----------"),console.log(portalOpenInstances.openInstances.length),portalOpenInstances.openInstances.forEach(function(i){return console.log(i)}),console.log("end portalOpenInstances ----------")}function resetState$1(){portalOpenInstances=new PortalOpenInstances}portalOpenInstances$1.default=portalOpenInstances;var bodyTrap$1={};Object.defineProperty(bodyTrap$1,"__esModule",{value:!0});bodyTrap$1.resetState=resetState;bodyTrap$1.log=log;var _portalOpenInstances=portalOpenInstances$1,_portalOpenInstances2=_interopRequireDefault$1(_portalOpenInstances);function _interopRequireDefault$1(i){return i&&i.__esModule?i:{default:i}}var before=void 0,after=void 0,instances=[];function resetState(){for(var i=[before,after],e=0;e<i.length;e++){var s=i[e];!s||s.parentNode&&s.parentNode.removeChild(s)}before=after=null,instances=[]}function log(){console.log("bodyTrap ----------"),console.log(instances.length);for(var i=[before,after],e=0;e<i.length;e++){var s=i[e],o=s||{};console.log(o.nodeName,o.className,o.id)}console.log("edn bodyTrap ----------")}function focusContent(){instances.length!==0&&instances[instances.length-1].focusContent()}function bodyTrap(i,e){!before&&!after&&(before=document.createElement("div"),before.setAttribute("data-react-modal-body-trap",""),before.style.position="absolute",before.style.opacity="0",before.setAttribute("tabindex","0"),before.addEventListener("focus",focusContent),after=before.cloneNode(),after.addEventListener("focus",focusContent)),instances=e,instances.length>0?(document.body.firstChild!==before&&document.body.insertBefore(before,document.body.firstChild),document.body.lastChild!==after&&document.body.appendChild(after)):(before.parentElement&&before.parentElement.removeChild(before),after.parentElement&&after.parentElement.removeChild(after))}_portalOpenInstances2.default.subscribe(bodyTrap);(function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(ap){for(var hp=1;hp<arguments.length;hp++){var gp=arguments[hp];for(var rp in gp)Object.prototype.hasOwnProperty.call(gp,rp)&&(ap[rp]=gp[rp])}return ap},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ap){return typeof ap}:function(ap){return ap&&typeof Symbol=="function"&&ap.constructor===Symbol&&ap!==Symbol.prototype?"symbol":typeof ap},a=function(){function ap(hp,gp){for(var rp=0;rp<gp.length;rp++){var up=gp[rp];up.enumerable=up.enumerable||!1,up.configurable=!0,"value"in up&&(up.writable=!0),Object.defineProperty(hp,up.key,up)}}return function(hp,gp,rp){return gp&&ap(hp.prototype,gp),rp&&ap(hp,rp),hp}}(),c=react$1.exports,d=propTypes.exports,h=Xl(d),g=focusManager,_=Yl(g),$l=scopeTab.exports,Rl=Xl($l),Ml=ariaAppHider$1,Ul=Yl(Ml),Fl=classList,Ll=Yl(Fl),Bl=safeHTMLElement,zl=Xl(Bl),Hl=portalOpenInstances$1,Wl=Xl(Hl);function Yl(ap){if(ap&&ap.__esModule)return ap;var hp={};if(ap!=null)for(var gp in ap)Object.prototype.hasOwnProperty.call(ap,gp)&&(hp[gp]=ap[gp]);return hp.default=ap,hp}function Xl(ap){return ap&&ap.__esModule?ap:{default:ap}}function Gl(ap,hp){if(!(ap instanceof hp))throw new TypeError("Cannot call a class as a function")}function _d(ap,hp){if(!ap)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return hp&&(typeof hp=="object"||typeof hp=="function")?hp:ap}function Kl(ap,hp){if(typeof hp!="function"&&hp!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof hp);ap.prototype=Object.create(hp&&hp.prototype,{constructor:{value:ap,enumerable:!1,writable:!0,configurable:!0}}),hp&&(Object.setPrototypeOf?Object.setPrototypeOf(ap,hp):ap.__proto__=hp)}var ru={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},Zl=function(hp){return hp.code==="Tab"||hp.keyCode===9},tp=function(hp){return hp.code==="Escape"||hp.keyCode===27},op=0,bp=function(ap){Kl(hp,ap);function hp(gp){Gl(this,hp);var rp=_d(this,(hp.__proto__||Object.getPrototypeOf(hp)).call(this,gp));return rp.setOverlayRef=function(up){rp.overlay=up,rp.props.overlayRef&&rp.props.overlayRef(up)},rp.setContentRef=function(up){rp.content=up,rp.props.contentRef&&rp.props.contentRef(up)},rp.afterClose=function(){var up=rp.props,$p=up.appElement,yp=up.ariaHideApp,dp=up.htmlOpenClassName,ep=up.bodyOpenClassName,Ql=up.parentSelector,Jl=Ql&&Ql().ownerDocument||document;ep&&Ll.remove(Jl.body,ep),dp&&Ll.remove(Jl.getElementsByTagName("html")[0],dp),yp&&op>0&&(op-=1,op===0&&Ul.show($p)),rp.props.shouldFocusAfterRender&&(rp.props.shouldReturnFocusAfterClose?(_.returnFocus(rp.props.preventScroll),_.teardownScopedFocus()):_.popWithoutFocus()),rp.props.onAfterClose&&rp.props.onAfterClose(),Wl.default.deregister(rp)},rp.open=function(){rp.beforeOpen(),rp.state.afterOpen&&rp.state.beforeClose?(clearTimeout(rp.closeTimer),rp.setState({beforeClose:!1})):(rp.props.shouldFocusAfterRender&&(_.setupScopedFocus(rp.node),_.markForFocusLater()),rp.setState({isOpen:!0},function(){rp.openAnimationFrame=requestAnimationFrame(function(){rp.setState({afterOpen:!0}),rp.props.isOpen&&rp.props.onAfterOpen&&rp.props.onAfterOpen({overlayEl:rp.overlay,contentEl:rp.content})})}))},rp.close=function(){rp.props.closeTimeoutMS>0?rp.closeWithTimeout():rp.closeWithoutTimeout()},rp.focusContent=function(){return rp.content&&!rp.contentHasFocus()&&rp.content.focus({preventScroll:!0})},rp.closeWithTimeout=function(){var up=Date.now()+rp.props.closeTimeoutMS;rp.setState({beforeClose:!0,closesAt:up},function(){rp.closeTimer=setTimeout(rp.closeWithoutTimeout,rp.state.closesAt-Date.now())})},rp.closeWithoutTimeout=function(){rp.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},rp.afterClose)},rp.handleKeyDown=function(up){Zl(up)&&(0,Rl.default)(rp.content,up),rp.props.shouldCloseOnEsc&&tp(up)&&(up.stopPropagation(),rp.requestClose(up))},rp.handleOverlayOnClick=function(up){rp.shouldClose===null&&(rp.shouldClose=!0),rp.shouldClose&&rp.props.shouldCloseOnOverlayClick&&(rp.ownerHandlesClose()?rp.requestClose(up):rp.focusContent()),rp.shouldClose=null},rp.handleContentOnMouseUp=function(){rp.shouldClose=!1},rp.handleOverlayOnMouseDown=function(up){!rp.props.shouldCloseOnOverlayClick&&up.target==rp.overlay&&up.preventDefault()},rp.handleContentOnClick=function(){rp.shouldClose=!1},rp.handleContentOnMouseDown=function(){rp.shouldClose=!1},rp.requestClose=function(up){return rp.ownerHandlesClose()&&rp.props.onRequestClose(up)},rp.ownerHandlesClose=function(){return rp.props.onRequestClose},rp.shouldBeClosed=function(){return!rp.state.isOpen&&!rp.state.beforeClose},rp.contentHasFocus=function(){return document.activeElement===rp.content||rp.content.contains(document.activeElement)},rp.buildClassName=function(up,$p){var yp=(typeof $p>"u"?"undefined":o($p))==="object"?$p:{base:ru[up],afterOpen:ru[up]+"--after-open",beforeClose:ru[up]+"--before-close"},dp=yp.base;return rp.state.afterOpen&&(dp=dp+" "+yp.afterOpen),rp.state.beforeClose&&(dp=dp+" "+yp.beforeClose),typeof $p=="string"&&$p?dp+" "+$p:dp},rp.attributesFromObject=function(up,$p){return Object.keys($p).reduce(function(yp,dp){return yp[up+"-"+dp]=$p[dp],yp},{})},rp.state={afterOpen:!1,beforeClose:!1},rp.shouldClose=null,rp.moveFromContentToOverlay=null,rp}return a(hp,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(rp,up){this.props.isOpen&&!rp.isOpen?this.open():!this.props.isOpen&&rp.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!up.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var rp=this.props,up=rp.appElement,$p=rp.ariaHideApp,yp=rp.htmlOpenClassName,dp=rp.bodyOpenClassName,ep=rp.parentSelector,Ql=ep&&ep().ownerDocument||document;dp&&Ll.add(Ql.body,dp),yp&&Ll.add(Ql.getElementsByTagName("html")[0],yp),$p&&(op+=1,Ul.hide(up)),Wl.default.register(this)}},{key:"render",value:function(){var rp=this.props,up=rp.id,$p=rp.className,yp=rp.overlayClassName,dp=rp.defaultStyles,ep=rp.children,Ql=$p?{}:dp.content,Jl=yp?{}:dp.overlay;if(this.shouldBeClosed())return null;var np={ref:this.setOverlayRef,className:this.buildClassName("overlay",yp),style:s({},Jl,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},cp=s({id:up,ref:this.setContentRef,style:s({},Ql,this.props.style.content),className:this.buildClassName("content",$p),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",s({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),fp=this.props.contentElement(cp,ep);return this.props.overlayElement(np,fp)}}]),hp}(c.Component);bp.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},bp.propTypes={isOpen:h.default.bool.isRequired,defaultStyles:h.default.shape({content:h.default.object,overlay:h.default.object}),style:h.default.shape({content:h.default.object,overlay:h.default.object}),className:h.default.oneOfType([h.default.string,h.default.object]),overlayClassName:h.default.oneOfType([h.default.string,h.default.object]),parentSelector:h.default.func,bodyOpenClassName:h.default.string,htmlOpenClassName:h.default.string,ariaHideApp:h.default.bool,appElement:h.default.oneOfType([h.default.instanceOf(zl.default),h.default.instanceOf(Bl.SafeHTMLCollection),h.default.instanceOf(Bl.SafeNodeList),h.default.arrayOf(h.default.instanceOf(zl.default))]),onAfterOpen:h.default.func,onAfterClose:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,preventScroll:h.default.bool,role:h.default.string,contentLabel:h.default.string,aria:h.default.object,data:h.default.object,children:h.default.node,shouldCloseOnEsc:h.default.bool,overlayRef:h.default.func,contentRef:h.default.func,id:h.default.string,overlayElement:h.default.func,contentElement:h.default.func,testId:h.default.string},e.default=bp,i.exports=e.default})(ModalPortal,ModalPortal.exports);const require$$6=getAugmentedNamespace(reactLifecyclesCompat_es);Object.defineProperty(Modal$1,"__esModule",{value:!0});Modal$1.bodyOpenClassName=Modal$1.portalClassName=void 0;var _extends=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_createClass=function(){function i(e,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,s,o){return s&&i(e.prototype,s),o&&i(e,o),e}}(),_react=react$1.exports,_react2=_interopRequireDefault(_react),_reactDom=reactDom.exports,_reactDom2=_interopRequireDefault(_reactDom),_propTypes=propTypes.exports,_propTypes2=_interopRequireDefault(_propTypes),_ModalPortal=ModalPortal.exports,_ModalPortal2=_interopRequireDefault(_ModalPortal),_ariaAppHider=ariaAppHider$1,ariaAppHider=_interopRequireWildcard(_ariaAppHider),_safeHTMLElement=safeHTMLElement,_safeHTMLElement2=_interopRequireDefault(_safeHTMLElement),_reactLifecyclesCompat=require$$6;function _interopRequireWildcard(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);return e.default=i,e}function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function _inherits(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var portalClassName=Modal$1.portalClassName="ReactModalPortal",bodyOpenClassName=Modal$1.bodyOpenClassName="ReactModal__Body--open",isReact16=_safeHTMLElement.canUseDOM&&_reactDom2.default.createPortal!==void 0,createHTMLElement=function(e){return document.createElement(e)},getCreatePortal=function(){return isReact16?_reactDom2.default.createPortal:_reactDom2.default.unstable_renderSubtreeIntoContainer};function getParentElement(i){return i()}var Modal=function(i){_inherits(e,i);function e(){var s,o,a,c;_classCallCheck(this,e);for(var d=arguments.length,h=Array(d),g=0;g<d;g++)h[g]=arguments[g];return c=(o=(a=_possibleConstructorReturn(this,(s=e.__proto__||Object.getPrototypeOf(e)).call.apply(s,[this].concat(h))),a),a.removePortal=function(){!isReact16&&_reactDom2.default.unmountComponentAtNode(a.node);var _=getParentElement(a.props.parentSelector);_&&_.contains(a.node)?_.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(_){a.portal=_},a.renderPortal=function(_){var $l=getCreatePortal(),Rl=$l(a,_react2.default.createElement(_ModalPortal2.default,_extends({defaultStyles:e.defaultStyles},_)),a.node);a.portalRef(Rl)},o),_possibleConstructorReturn(a,c)}return _createClass(e,[{key:"componentDidMount",value:function(){if(!!_safeHTMLElement.canUseDOM){isReact16||(this.node=createHTMLElement("div")),this.node.className=this.props.portalClassName;var o=getParentElement(this.props.parentSelector);o.appendChild(this.node),!isReact16&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(o){var a=getParentElement(o.parentSelector),c=getParentElement(this.props.parentSelector);return{prevParent:a,nextParent:c}}},{key:"componentDidUpdate",value:function(o,a,c){if(!!_safeHTMLElement.canUseDOM){var d=this.props,h=d.isOpen,g=d.portalClassName;o.portalClassName!==g&&(this.node.className=g);var _=c.prevParent,$l=c.nextParent;$l!==_&&(_.removeChild(this.node),$l.appendChild(this.node)),!(!o.isOpen&&!h)&&!isReact16&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!_safeHTMLElement.canUseDOM||!this.node||!this.portal)){var o=this.portal.state,a=Date.now(),c=o.isOpen&&this.props.closeTimeoutMS&&(o.closesAt||a+this.props.closeTimeoutMS);c?(o.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,c-a)):this.removePortal()}}},{key:"render",value:function(){if(!_safeHTMLElement.canUseDOM||!isReact16)return null;!this.node&&isReact16&&(this.node=createHTMLElement("div"));var o=getCreatePortal();return o(_react2.default.createElement(_ModalPortal2.default,_extends({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(o){ariaAppHider.setElement(o)}}]),e}(_react.Component);Modal.propTypes={isOpen:_propTypes2.default.bool.isRequired,style:_propTypes2.default.shape({content:_propTypes2.default.object,overlay:_propTypes2.default.object}),portalClassName:_propTypes2.default.string,bodyOpenClassName:_propTypes2.default.string,htmlOpenClassName:_propTypes2.default.string,className:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({base:_propTypes2.default.string.isRequired,afterOpen:_propTypes2.default.string.isRequired,beforeClose:_propTypes2.default.string.isRequired})]),overlayClassName:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.shape({base:_propTypes2.default.string.isRequired,afterOpen:_propTypes2.default.string.isRequired,beforeClose:_propTypes2.default.string.isRequired})]),appElement:_propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default),_propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection),_propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList),_propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),onAfterOpen:_propTypes2.default.func,onRequestClose:_propTypes2.default.func,closeTimeoutMS:_propTypes2.default.number,ariaHideApp:_propTypes2.default.bool,shouldFocusAfterRender:_propTypes2.default.bool,shouldCloseOnOverlayClick:_propTypes2.default.bool,shouldReturnFocusAfterClose:_propTypes2.default.bool,preventScroll:_propTypes2.default.bool,parentSelector:_propTypes2.default.func,aria:_propTypes2.default.object,data:_propTypes2.default.object,role:_propTypes2.default.string,contentLabel:_propTypes2.default.string,shouldCloseOnEsc:_propTypes2.default.bool,overlayRef:_propTypes2.default.func,contentRef:_propTypes2.default.func,id:_propTypes2.default.string,overlayElement:_propTypes2.default.func,contentElement:_propTypes2.default.func};Modal.defaultProps={isOpen:!1,portalClassName,bodyOpenClassName,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,s){return _react2.default.createElement("div",e,s)},contentElement:function(e,s){return _react2.default.createElement("div",e,s)}};Modal.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,_reactLifecyclesCompat.polyfill)(Modal);Modal$1.default=Modal;(function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var s=Modal$1,o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}e.default=o.default,i.exports=e.default})(lib,lib.exports);const localizer$2=moment(hooks),Citas$3=()=>{const[i,e]=react$1.exports.useState([]),[s,o]=react$1.exports.useState(0),[a,c]=react$1.exports.useState(0),[d,h]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let Ml=localStorage.getItem("datos");Ml!=null?Ml===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[d]),react$1.exports.useEffect(()=>{let Ml=localStorage.getItem("usuario");Ml!=null&&(Ml=Ml.replace(/['"]+/g,"")),Ml!=null?(console.log(Ml),app.firestore().collection("users").doc(Ml).get().then(Ul=>{Ul.exists?(c(Ul.data().rol),console.log("Document data:",Ul.data().rol),Ul.data().nombre!=null&&Ul.data().apellido!=null&&Ul.data().curp!=null&&Ul.data().telefono!=null&&Ul.data().id!=null&&Ul.data().rol!=null?h(!0):h(!1)):(o(0),console.log("No such document!"))}).catch(Ul=>{console.log("Error getting document:",Ul)})):c(0)},[]);let g=localStorage.getItem("usuario");g=g.replace(/['"]+/g,""),react$1.exports.useEffect(()=>{let Ml=localStorage.getItem("usuario");Ml!=null&&(Ml=Ml.replace(/['"]+/g,"")),Ml!=null&&(console.log(Ml),app.firestore().collection("Citas").where("usuario","==",Ml).get().then(Ul=>{const Fl=[];console.log(Ul),Ul.forEach(Ll=>{Fl.push({...Ll.data(),id:Fl.length+1,uid:Ll.id})}),e(Fl),console.log(Fl)}))},[]);function _(){var Ml=document.getElementById("exampleModal");Ml.style.display="none"}const $l=Ml=>{console.log(i),console.log(Ml);var Ul=document.getElementById("exampleModal"),Fl=document.getElementById("modal-body");Ul.style.display="block",Ul.hidden=!1,app.firestore().collection("Citas").doc(Ml).get().then(Ll=>{const Bl=[];console.log(Ll),Bl.push({...Ll.data(),id:Bl.length+1,uid:Ll.id}),console.log(Bl),Fl.innerHTML=` <p> <b>Paciente:</b> ${Bl[0].paciente} </p>
            <p> <b>Fecha:</b> ${Bl[0].fecha} </p>
            <p> <b>Hora:</b> ${Bl[0].hora} </p>
            <p> <b>Doctor:</b> ${Bl[0].name} </p>
            <p> <b>Consultorio:</b> ${Bl[0].ubicacion} </p>
            `})},Rl=i.map(Ml=>({title:jsx("a",{onClick:()=>$l(Ml.uid),children:Ml.paciente}),start:hooks(Ml.fecha).toDate(),end:hooks(Ml.fecha).toDate(),desc:Ml.Description}));return jsxs(Fragment,{children:[jsx("div",{className:"container mt-5",children:jsx("div",{className:"row",children:jsxs("div",{className:"col-md-12",children:[jsx("h3",{className:"text-center",children:"Citas"}),jsx(Calendar$1,{localizer:localizer$2,views:["month"],events:Rl,startAccessor:"start",endAccessor:"end",style:{height:500}})]})})}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModal",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("h5",{class:"modal-title",children:"CITA "}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:_,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-body"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:_,children:"Close"})})]})})})]})},Servicios=()=>{const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState(""),[a,c]=react$1.exports.useState(""),[d,h]=react$1.exports.useState([]),[g,_]=react$1.exports.useState(""),[$l,Rl]=react$1.exports.useState(null),[Ml,Ul]=react$1.exports.useState(0),[Fl,Ll]=react$1.exports.useState(0),[Bl,zl]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let Gl=localStorage.getItem("datos");Gl!=null?Gl===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[Bl]),react$1.exports.useEffect(()=>{let Gl=localStorage.getItem("usuario");Gl!=null&&(Gl=Gl.replace(/['"]+/g,"")),Gl!=null?(console.log(Gl),app.firestore().collection("users").doc(Gl).get().then(_d=>{_d.exists?(Ll(_d.data().rol),console.log("Document data:",_d.data().rol),_d.data().nombre!=null&&_d.data().apellido!=null&&_d.data().curp!=null&&_d.data().telefono!=null&&_d.data().id!=null&&_d.data().rol!=null?zl(!0):zl(!1)):(Ul(0),console.log("No such document!"))}).catch(_d=>{console.log("Error getting document:",_d)})):Ll(0)},[]);const Hl=Gl=>{const _d=Gl.target.files[0],Kl=new FileReader;Kl.readAsDataURL(_d),Kl.onload=()=>{Rl(Kl.result)},console.log($l)};react$1.exports.useEffect(()=>{app.firestore().collection("Servicios").onSnapshot(Gl=>{const _d=[];Gl.forEach(Kl=>{console.log(Kl.data()),_d.push({...Kl.data(),id:Kl.id})}),console.log(_d),h(_d)})},[]),react$1.exports.useEffect(()=>{a===""?(e(""),o(""),Rl(""),_("")):(console.log("editing"),Xl(a))},[a]);const Wl=Gl=>{window.confirm("Are you sure to delete this service")&&(app.firestore().collection("Servicios").doc(Gl).delete(),console.log(Gl))},Yl=Gl=>{Gl.preventDefault();const _d={Description:i,Price:s,img:$l,info:g};a===""?(app.firestore().collection("Servicios").add(_d),e(""),o(""),Rl(""),_("")):(app.firestore().collection("Servicios").doc(a).update(_d),e(""),o(""),Rl(""),_(""))},Xl=async Gl=>{console.log(Gl),console.log("Obteniendo datos por ID");const _d=await app.firestore().collection("Servicios").doc(Gl).get();console.log(_d.data()),e(_d.data().Description),o(_d.data().Price),Rl(_d.data().img),_(_d.data().info)};return jsx("div",{className:"container",children:jsxs("div",{class:"row",children:[jsx("div",{class:"col-sm-4",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:"Gesti\xF3n Servicios"}),jsx("center",{children:jsx("img",{src:$l,alt:"imagen",className:"img-thumbnail",width:"100",height:"100"})}),jsxs("form",{onSubmit:Yl,children:[jsxs("label",{className:"mx-1 d-grid gap-2",children:["Nombre: ","",jsx("input",{onChange:Gl=>e(Gl.target.value),name:"descripcion",type:"text",className:"form-control",value:i})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Precio: ","",jsx("input",{onChange:Gl=>o(Gl.target.value),name:"precio",type:"number",className:"form-control",value:s})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Imagen: ","",jsx("input",{onChange:Hl,name:"img",type:"file",className:"form-control",accept:"image/png"})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Informaci\xF3n: ","",jsx("input",{onChange:Gl=>_(Gl.target.value),name:"info",type:"text",className:"form-control",value:g})]}),jsx("div",{className:"mx-1 d-grid gap-2",children:jsxs("button",{className:"btn btn-success mt-2 mb-5",children:[jsx(NavLink,{to:"/"})," ",a===""?"Guardar":"Actualizar"]})})]})]})}),jsx("div",{class:"col-sm-8",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:"Cat\xE1logo de Servicios"}),jsx("div",{className:"card-body",children:jsxs("table",{className:"table table-bordered",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Servicio"}),jsx("th",{children:"Precio"}),jsx("th",{children:"Acci\xF3n"})]})}),jsx("tbody",{children:d.map(Gl=>jsxs("tr",{children:[jsx("td",{children:Gl.Description}),jsx("td",{children:Gl.Price}),jsxs("td",{children:[jsx("button",{type:"button",className:"btn btn-outline-info  mr-2",onClick:()=>c(Gl.id),children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16",children:jsx("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})}),jsx("p",{className:"d-inline",children:"  "}),jsx("button",{type:"button",className:"btn btn-outline-danger ",onClick:()=>Wl(Gl.id),children:jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16",children:[jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),jsx("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})]},Gl.id))})]})})]})})]})})},Especialistas=()=>{const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState(""),[a,c]=react$1.exports.useState(""),[d,h]=react$1.exports.useState(""),[g,_]=react$1.exports.useState(""),[$l,Rl]=react$1.exports.useState([]),[Ml,Ul]=react$1.exports.useState(null),[Fl,Ll]=react$1.exports.useState(""),[Bl,zl]=react$1.exports.useState(""),[Hl,Wl]=react$1.exports.useState(""),[Yl,Xl]=react$1.exports.useState(0),[Gl,_d]=react$1.exports.useState(0),[Kl,ru]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let ap=localStorage.getItem("datos");ap!=null?ap===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[Kl]),react$1.exports.useEffect(()=>{let ap=localStorage.getItem("usuario");ap!=null&&(ap=ap.replace(/['"]+/g,"")),ap!=null?(console.log(ap),app.firestore().collection("users").doc(ap).get().then(hp=>{hp.exists?(_d(hp.data().rol),console.log("Document data:",hp.data().rol),hp.data().nombre!=null&&hp.data().apellido!=null&&hp.data().curp!=null&&hp.data().telefono!=null&&hp.data().id!=null&&hp.data().rol!=null?ru(!0):ru(!1)):(Xl(0),console.log("No such document!"))}).catch(hp=>{console.log("Error getting document:",hp)})):_d(0)},[]);const Zl=ap=>{const hp=ap.target.files[0],gp=new FileReader;gp.readAsDataURL(hp),gp.onload=()=>{Ul(gp.result)},console.log(Ml)};react$1.exports.useEffect(()=>{app.firestore().collection("Especialistas").onSnapshot(ap=>{const hp=[];ap.forEach(gp=>{console.log(gp.data()),hp.push({...gp.data(),id:gp.id})}),console.log(hp),Rl(hp)})},[]),react$1.exports.useEffect(()=>{g===""?(e(""),o(""),c(""),h("")):(console.log("editing"),bp(g))},[g]);const tp=ap=>{window.confirm("Are you sure to delete this specialist")&&(app.firestore().collection("Especialistas").doc(ap).delete(),console.log(ap))},op=ap=>{ap.preventDefault();const hp={CedulaProf:i,Especialidad:s,Name:a,ubicacion:d,img:Ml,info:Fl};g===""?(app.auth().createUserWithEmailAndPassword(Bl,Hl).then(gp=>{var rp=gp.user;app.firestore().collection("users").doc(rp.uid).set({id:rp.uid,rol:"doctor"}).then(up=>{rp.sendEmailVerification().then(function(){console.log("Email enviado")}).catch(function($p){console.log($p)})}).catch(up=>{console.error("Error adding document: ",up)}),app.firestore().collection("Especialistas").doc(rp.uid).set(hp).then(up=>{swal("Espcialista agregado","El especialista se ha agregado correctamente","success")}).catch(up=>{console.error("Error adding document: ",up),swal("Error","El especialista no se ha agregado correctamente","error")})}).catch(gp=>{var rp=gp.code;gp.message,console.log(rp)}),e(""),o(""),c(""),h(""),Ul(""),Ll(""),Wl(""),zl("")):(app.firestore().collection("Especialistas").doc(g).update(hp),e(""),o(""),c(""),h(""),_(""),Ul(""),Ll(""))},bp=async ap=>{console.log(ap),console.log("Obteniendo datos por ID");const hp=await app.firestore().collection("Especialistas").doc(ap).get();console.log(hp.data()),e(hp.data().CedulaProf),o(hp.data().Especialidad),c(hp.data().Name),h(hp.data().ubicacion),Ul(hp.data().img),Ll(hp.data().info)};return jsx("div",{className:"container",children:jsxs("div",{class:"row",children:[jsx("div",{class:"col-sm-4",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:"Gesti\xF3n Especialistas"}),jsx("center",{children:jsx("img",{src:Ml,alt:"imagen",className:"img-thumbnail",width:"100",height:"100"})}),jsxs("form",{onSubmit:op,children:[jsxs("label",{className:"mx-1 d-grid gap-2",children:["C\xE9dula Profesional: ","",jsx("input",{onChange:ap=>e(ap.target.value),name:"cedulaProf",type:"text",className:"form-control",value:i})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Especialidad: ","",jsx("input",{onChange:ap=>o(ap.target.value),name:"especialidad",type:"text",className:"form-control",value:s})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Nombre: ","",jsx("input",{onChange:ap=>c(ap.target.value),name:"name",type:"text",className:"form-control",value:a})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Ubicaci\xF3n: ","",jsx("input",{onChange:ap=>h(ap.target.value),name:"ubicacion",type:"text",className:"form-control",value:d})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Imagen: ","",jsx("input",{onChange:Zl,name:"img",type:"file",className:"form-control",accept:"image/png"})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Informaci\xF3n: ","",jsx("input",{onChange:ap=>Ll(ap.target.value),name:"info",type:"text",className:"form-control",value:Fl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Correo: ","",jsx("input",{onChange:ap=>zl(ap.target.value),name:"correo",type:"text",className:"form-control",value:Bl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Contrase\xF1a: ","",jsx("input",{onChange:ap=>Wl(ap.target.value),name:"contrasena",type:"password",className:"form-control",value:Hl})]}),jsx("div",{className:"mx-1 d-grid gap-2",children:jsxs("button",{className:"btn btn-success mt-2 mb-5",children:[jsx(NavLink,{to:"/"})," ",g===""?"Guardar":"Actualizar"]})})]})]})}),jsx("div",{class:"col-sm-8",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:"Cat\xE1logo de Especialistas"}),jsx("div",{className:"card-body",children:jsxs("table",{className:"table table-bordered",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"C\xE9dula Profesional"}),jsx("th",{children:"Especialidad"}),jsx("th",{children:"Nombre"}),jsx("th",{children:"Ubicaci\xF3n"}),jsx("th",{children:"Acci\xF3n"})]})}),jsx("tbody",{children:$l.map(ap=>jsxs("tr",{children:[jsx("td",{children:ap.CedulaProf}),jsx("td",{children:ap.Especialidad}),jsx("td",{children:ap.Name}),jsx("td",{children:ap.ubicacion}),jsxs("td",{children:[jsx("button",{type:"button",className:"btn btn-outline-info  mr-2",onClick:()=>_(ap.id),children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16",children:jsx("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})}),jsx("p",{className:"d-inline",children:"  "}),jsx("button",{type:"button",className:"btn btn-outline-danger ",onClick:()=>tp(ap.id),children:jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16",children:[jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),jsx("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})]},ap.id))})]})})]})})]})})},Expedientes=()=>{const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState(""),[a,c]=react$1.exports.useState(""),[d,h]=react$1.exports.useState(""),[g,_]=react$1.exports.useState(""),[$l,Rl]=react$1.exports.useState(""),[Ml,Ul]=react$1.exports.useState(""),[Fl,Ll]=react$1.exports.useState(""),[Bl,zl]=react$1.exports.useState(""),[Hl,Wl]=react$1.exports.useState(""),[Yl,Xl]=react$1.exports.useState(""),[Gl,_d]=react$1.exports.useState([]),[Kl,ru]=react$1.exports.useState([]),[Zl,tp]=react$1.exports.useState(""),[op,bp]=react$1.exports.useState([]),[ap,hp]=react$1.exports.useState(0),[gp,rp]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let dp=localStorage.getItem("datos");dp!=null?dp===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[gp]),react$1.exports.useEffect(()=>{let dp=localStorage.getItem("usuario");dp!=null&&(dp=dp.replace(/['"]+/g,"")),dp!=null?(console.log(dp),app.firestore().collection("users").doc(dp).get().then(ep=>{ep.exists?(hp(ep.data().rol),console.log("Document data:",ep.data().rol),ep.data().nombre!=null&&ep.data().apellido!=null&&ep.data().curp!=null&&ep.data().telefono!=null&&ep.data().id!=null&&ep.data().rol!=null?rp(!0):rp(!1)):(tp(0),console.log("No such document!"))}).catch(ep=>{console.log("Error getting document:",ep)})):hp(0)},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Expedientes").onSnapshot(dp=>{const ep=[];dp.forEach(Ql=>{ep.push({...Ql.data(),id:Ql.id})}),_d(ep)})},[]),react$1.exports.useEffect(()=>{app.firestore().collection("users").onSnapshot(dp=>{const ep=[];dp.forEach(Ql=>{ep.push({...Ql.data(),id:Ql.id})}),bp(ep)})},[]),react$1.exports.useEffect(()=>{Yl===""?(e(""),o(""),c(""),h(""),_(""),Rl(""),Ul(""),Ll(""),zl(""),Wl("")):yp(Yl)},[Yl]);const up=dp=>{window.confirm("Are you sure to delete this expdient")&&(app.firestore().collection("Expedientes").doc(dp).delete(),console.log(dp))},$p=dp=>{dp.preventDefault();const ep={nombrePa:i,apellidoP:s,apellidoM:a,edad:d,domicilio:g,telefono:$l,sexo:Ml,peso:Fl,altura:Bl,observaciones:Hl,user:Zl};Yl===""?(app.firestore().collection("Expedientes").add(ep),e(""),o(""),c(""),h(""),_(""),Rl(""),Ul(""),Ll(""),zl(""),Wl(""),tp("")):(app.firestore().collection("Expedientes").doc(Yl).update(ep),e(""),o(""),c(""),h(""),_(""),Rl(""),Ul(""),Ll(""),zl(""),Wl(""),document.getElementById("user").value="")},yp=async dp=>{console.log(dp),console.log("Obteniendo datos por ID");const ep=await app.firestore().collection("Expedientes").doc(dp).get();console.log(ep.data()),e(ep.data().nombrePa),o(ep.data().apellidoP),c(ep.data().apellidoM),h(ep.data().edad),_(ep.data().domicilio),Rl(ep.data().telefono),Ul(ep.data().sexo),Ll(ep.data().peso),zl(ep.data().altura),Wl(ep.data().observaciones),tp(ep.data().user),document.getElementById("user").value=ep.data().user};return react$1.exports.useEffect(()=>{app.firestore().collection("users").get().then(dp=>{const ep=[];dp.forEach(Ql=>{ep.push({...Ql.data(),id:Ql.id})}),ru(ep)})},[]),jsx("div",{className:"container",children:jsxs("div",{class:"row",children:[jsx("div",{class:"col-sm-4",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:"Crear Expediente"}),jsxs("form",{onSubmit:$p,children:[jsxs("div",{className:"form-group",children:[jsx("label",{for:"exampleFormControlSelect1",children:"Selecciona un usuario"}),jsxs("select",{className:"form-control",id:"user",onChange:dp=>tp(dp.target.value),children:[jsx("option",{children:"Selecciona un usuario"}),Kl.map(dp=>jsx("option",{value:dp.id,children:dp.nombre+dp.apellido+" ["+dp.curp+"]"},dp.id))]})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Nombre(s): ","",jsx("input",{onChange:dp=>e(dp.target.value),name:"name",type:"text",className:"form-control",value:i})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Apellido Paterno: ","",jsx("input",{onChange:dp=>o(dp.target.value),name:"apellidoP",type:"text",className:"form-control",value:s})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Apellido Materno: ","",jsx("input",{onChange:dp=>c(dp.target.value),name:"apellidoM",type:"text",className:"form-control",value:a})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Edad: ","",jsx("input",{onChange:dp=>h(dp.target.value),name:"edad",type:"number",className:"form-control",value:d})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Domicilio: ","",jsx("input",{onChange:dp=>_(dp.target.value),name:"domicilio",type:"text",className:"form-control",value:g})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Peso: ","",jsx("input",{onChange:dp=>Ll(dp.target.value),name:"peso",type:"number",className:"form-control",value:Fl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Altura: ","",jsx("input",{onChange:dp=>zl(dp.target.value),name:"altura",type:"number",className:"form-control",value:Bl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Telefono: ","",jsx("input",{onChange:dp=>Rl(dp.target.value),name:"telefono",type:"number",className:"form-control",value:$l})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Sexo: ","",jsxs("select",{className:"form-control mb-2",onChange:dp=>Ul(dp.target.value),value:Ml,children:[jsx("option",{value:"",children:"--Seleccione una opci\xF3n--"}),jsx("option",{value:"Femenino",children:"Femenino"}),jsx("option",{value:"Masculino",children:"Masculino"})]})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Observaciones: ","",jsx("input",{onChange:dp=>Wl(dp.target.value),name:"observaciones",type:"text",className:"form-control",value:Hl})]}),jsx("div",{className:"mx-1 d-grid gap-2",children:jsxs("button",{className:"btn btn-success mt-2 mb-5",children:[jsx(NavLink,{to:"/"})," ",Yl===""?"Guardar":"Actualizar"]})})]})]})}),jsx("div",{class:"col-sm-8",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:"Expedientes"}),jsx("div",{className:"card-body",children:jsxs("table",{className:"table table-bordered",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Nombre"}),jsx("th",{children:"Apellido Paterno"}),jsx("th",{children:"Apellido Materno"}),jsx("th",{children:"Edad"}),jsx("th",{children:"Peso"}),jsx("th",{children:"Altura"}),jsx("th",{children:"Sexo"}),jsx("th",{children:"Telefono"}),jsx("th",{children:"Acci\xF3n"})]})}),jsx("tbody",{children:Gl.map(dp=>jsxs("tr",{children:[jsx("td",{children:dp.nombrePa}),jsx("td",{children:dp.apellidoP}),jsx("td",{children:dp.apellidoM}),jsx("td",{children:dp.edad}),jsx("td",{children:dp.peso}),jsx("td",{children:dp.altura}),jsx("td",{children:dp.sexo}),jsx("td",{children:dp.telefono}),jsxs("td",{children:[jsx("button",{type:"button",className:"btn btn-outline-info  mr-2",onClick:()=>Xl(dp.id),children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16",children:jsx("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})}),jsx("button",{type:"button",className:"btn btn-outline-danger ",onClick:()=>up(dp.id),children:jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16",children:[jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),jsx("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})]},dp.id))})]})})]})})]})})},Perfil=()=>{const[i,e]=react$1.exports.useState(""),[s,o]=react$1.exports.useState(""),[a,c]=react$1.exports.useState(""),[d,h]=react$1.exports.useState(""),[g,_]=react$1.exports.useState(""),[$l,Rl]=react$1.exports.useState("");return react$1.exports.useEffect(()=>{let Ul=localStorage.getItem("usuario");Ul!=null&&(Ul=Ul.replace(/['"]+/g,"")),Ul!=null&&app.firestore().collection("users").doc(Ul).get().then(Fl=>{Fl.exists&&(e(Fl.data().nombre),o(Fl.data().apellido),c(Fl.data().curp),h(Fl.data().telefono),_(Fl.data().id),Rl(Fl.data().rol))}).catch(Fl=>{console.log("Error getting document:",Fl)})},[]),jsx("div",{className:"container",children:jsx("div",{className:"row",children:jsx("div",{className:"col-md-12",children:jsxs("div",{className:"card",children:[jsx("div",{className:"card-header",children:jsx("h3",{className:"card-title",children:"Perfil"})}),jsx("div",{className:"card-body",children:jsxs("form",{children:[jsxs("div",{className:"form-group",children:[jsx("label",{children:"Nombre"}),jsx("input",{type:"text",className:"form-control",placeholder:"Nombre",onChange:Ul=>e(Ul.target.value),value:i})]}),jsxs("div",{className:"form-group",children:[jsx("label",{children:"Apellido"}),jsx("input",{type:"text",className:"form-control",placeholder:"Apellido",onChange:Ul=>o(Ul.target.value),value:s})]}),jsxs("div",{className:"form-group",children:[jsx("label",{children:"Curp"}),jsx("input",{type:"text",className:"form-control",placeholder:"Curp",onChange:Ul=>c(Ul.target.value),value:a})]}),jsxs("div",{className:"form-group",children:[jsx("label",{children:"Telefono"}),jsx("input",{type:"text",className:"form-control",placeholder:"Telefono",onChange:Ul=>h(Ul.target.value),value:d})]}),jsx("br",{}),jsx("center",{children:jsx("button",{type:"button",className:"btn btn-primary",onClick:Ul=>{let Fl=localStorage.getItem("usuario");Fl!=null&&(Fl=Fl.replace(/['"]+/g,"")),Fl!=null&&(app.firestore().collection("users").doc(Fl).get().then(Ll=>{Ll.exists&&(_(Ll.data().id),Rl(Ll.data().rol))}).catch(Ll=>{console.log("Error getting document:",Ll)}),app.firestore().collection("users").doc(Fl).set({nombre:i,apellido:s,curp:a,telefono:d,id:g,rol:$l}).then(()=>{swal("Datos guardados","Los datos se han guardado correctamente","success")}).catch(Ll=>{console.error("Error writing document: ",Ll)}),window.location.href="/")},children:"Guardar"})})]})})]})})})})};function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,s){module.exports=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=Op,e.arraysToBytes=Lp,e.assert=Ql,e.bytesToString=pp,e.createPromiseCapability=jp,e.createValidAbsoluteUrl=np,e.escapeString=Kp,e.getModificationDate=Ip,e.getVerbosityLevel=$p,e.info=yp,e.isArrayBuffer=rm,e.isArrayEqual=Sm,e.isAscii=tm,e.objectFromMap=kp,e.objectSize=Ap,e.setVerbosityLevel=up,e.shadow=cp,e.string32=Pp,e.stringToBytes=Sp,e.stringToPDFString=Yp,e.stringToUTF16BEString=em,e.stringToUTF8String=mm,e.unreachable=ep,e.utf8StringToString=Xp,e.warn=dp,s(2);const o=[1,0,0,1,0,0];e.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=a;const c=1.35;e.LINE_FACTOR=c;const d=.35;e.LINE_DESCENT_FACTOR=d;const h={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=h;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=g;const _="pdfjs_internal_editor_";e.AnnotationEditorPrefix=_;const $l={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=$l;const Rl={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=Rl;const Ml={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=Ml;const Ul={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=Ul;const Fl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=Fl;const Ll={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=Ll;const Bl={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=Bl;const zl={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=zl;const Hl={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=Hl;const Wl={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=Wl;const Yl={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=Yl;const Xl={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=Xl;const Gl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=Gl;const _d={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=_d;const Kl={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=Kl;const ru={O:"PageOpen",C:"PageClose"};e.PageActionEventType=ru;const Zl={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=Zl;const tp={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=tp;const op={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=op;const bp={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=bp;const ap={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=ap;const hp={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=hp;const gp={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=gp;let rp=op.WARNINGS;function up(Cp){Number.isInteger(Cp)&&(rp=Cp)}function $p(){return rp}function yp(Cp){rp>=op.INFOS&&console.log(`Info: ${Cp}`)}function dp(Cp){rp>=op.WARNINGS&&console.log(`Warning: ${Cp}`)}function ep(Cp){throw new Error(Cp)}function Ql(Cp,Tp){Cp||ep(Tp)}function Jl(Cp){if(!Cp)return!1;switch(Cp.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function np(Cp,Tp=null,Ep=null){if(!Cp)return null;try{if(Ep&&typeof Cp=="string"){if(Ep.addDefaultProtocol&&Cp.startsWith("www.")){const zp=Cp.match(/\./g);zp&&zp.length>=2&&(Cp=`http://${Cp}`)}if(Ep.tryConvertEncoding)try{Cp=mm(Cp)}catch{}}const Up=Tp?new URL(Cp,Tp):new URL(Cp);if(Jl(Up))return Up}catch{}return null}function cp(Cp,Tp,Ep){return Object.defineProperty(Cp,Tp,{value:Ep,enumerable:!0,configurable:!0,writable:!1}),Ep}const fp=function(){function Tp(Ep,Up){this.constructor===Tp&&ep("Cannot initialize BaseException."),this.message=Ep,this.name=Up}return Tp.prototype=new Error,Tp.constructor=Tp,Tp}();e.BaseException=fp;class vp extends fp{constructor(Tp,Ep){super(Tp,"PasswordException"),this.code=Ep}}e.PasswordException=vp;class wp extends fp{constructor(Tp,Ep){super(Tp,"UnknownErrorException"),this.details=Ep}}e.UnknownErrorException=wp;class xp extends fp{constructor(Tp){super(Tp,"InvalidPDFException")}}e.InvalidPDFException=xp;class _f extends fp{constructor(Tp){super(Tp,"MissingPDFException")}}e.MissingPDFException=_f;class ip extends fp{constructor(Tp,Ep){super(Tp,"UnexpectedResponseException"),this.status=Ep}}e.UnexpectedResponseException=ip;class sp extends fp{constructor(Tp){super(Tp,"FormatError")}}e.FormatError=sp;class lp extends fp{constructor(Tp){super(Tp,"AbortException")}}e.AbortException=lp;function pp(Cp){(typeof Cp!="object"||Cp===null||Cp.length===void 0)&&ep("Invalid argument for bytesToString");const Tp=Cp.length,Ep=8192;if(Tp<Ep)return String.fromCharCode.apply(null,Cp);const Up=[];for(let zp=0;zp<Tp;zp+=Ep){const Hp=Math.min(zp+Ep,Tp),qp=Cp.subarray(zp,Hp);Up.push(String.fromCharCode.apply(null,qp))}return Up.join("")}function Sp(Cp){typeof Cp!="string"&&ep("Invalid argument for stringToBytes");const Tp=Cp.length,Ep=new Uint8Array(Tp);for(let Up=0;Up<Tp;++Up)Ep[Up]=Cp.charCodeAt(Up)&255;return Ep}function Op(Cp){if(Cp.length!==void 0)return Cp.length;if(Cp.byteLength!==void 0)return Cp.byteLength;ep("Invalid argument for arrayByteLength")}function Lp(Cp){const Tp=Cp.length;if(Tp===1&&Cp[0]instanceof Uint8Array)return Cp[0];let Ep=0;for(let Hp=0;Hp<Tp;Hp++)Ep+=Op(Cp[Hp]);let Up=0;const zp=new Uint8Array(Ep);for(let Hp=0;Hp<Tp;Hp++){let qp=Cp[Hp];qp instanceof Uint8Array||(typeof qp=="string"?qp=Sp(qp):qp=new Uint8Array(qp));const Qp=qp.byteLength;zp.set(qp,Up),Up+=Qp}return zp}function Pp(Cp){return String.fromCharCode(Cp>>24&255,Cp>>16&255,Cp>>8&255,Cp&255)}function Ap(Cp){return Object.keys(Cp).length}function kp(Cp){const Tp=Object.create(null);for(const[Ep,Up]of Cp)Tp[Ep]=Up;return Tp}function Rp(){const Cp=new Uint8Array(4);return Cp[0]=1,new Uint32Array(Cp.buffer,0,1)[0]===1}function Fp(){try{return new Function(""),!0}catch{return!1}}class _p{static get isLittleEndian(){return cp(this,"isLittleEndian",Rp())}static get isEvalSupported(){return cp(this,"isEvalSupported",Fp())}static get isOffscreenCanvasSupported(){return cp(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=_p;const Np=[...Array(256).keys()].map(Cp=>Cp.toString(16).padStart(2,"0"));class Vp{static makeHexColor(Tp,Ep,Up){return`#${Np[Tp]}${Np[Ep]}${Np[Up]}`}static scaleMinMax(Tp,Ep){let Up;Tp[0]?(Tp[0]<0&&(Up=Ep[0],Ep[0]=Ep[1],Ep[1]=Up),Ep[0]*=Tp[0],Ep[1]*=Tp[0],Tp[3]<0&&(Up=Ep[2],Ep[2]=Ep[3],Ep[3]=Up),Ep[2]*=Tp[3],Ep[3]*=Tp[3]):(Up=Ep[0],Ep[0]=Ep[2],Ep[2]=Up,Up=Ep[1],Ep[1]=Ep[3],Ep[3]=Up,Tp[1]<0&&(Up=Ep[2],Ep[2]=Ep[3],Ep[3]=Up),Ep[2]*=Tp[1],Ep[3]*=Tp[1],Tp[2]<0&&(Up=Ep[0],Ep[0]=Ep[1],Ep[1]=Up),Ep[0]*=Tp[2],Ep[1]*=Tp[2]),Ep[0]+=Tp[4],Ep[1]+=Tp[4],Ep[2]+=Tp[5],Ep[3]+=Tp[5]}static transform(Tp,Ep){return[Tp[0]*Ep[0]+Tp[2]*Ep[1],Tp[1]*Ep[0]+Tp[3]*Ep[1],Tp[0]*Ep[2]+Tp[2]*Ep[3],Tp[1]*Ep[2]+Tp[3]*Ep[3],Tp[0]*Ep[4]+Tp[2]*Ep[5]+Tp[4],Tp[1]*Ep[4]+Tp[3]*Ep[5]+Tp[5]]}static applyTransform(Tp,Ep){const Up=Tp[0]*Ep[0]+Tp[1]*Ep[2]+Ep[4],zp=Tp[0]*Ep[1]+Tp[1]*Ep[3]+Ep[5];return[Up,zp]}static applyInverseTransform(Tp,Ep){const Up=Ep[0]*Ep[3]-Ep[1]*Ep[2],zp=(Tp[0]*Ep[3]-Tp[1]*Ep[2]+Ep[2]*Ep[5]-Ep[4]*Ep[3])/Up,Hp=(-Tp[0]*Ep[1]+Tp[1]*Ep[0]+Ep[4]*Ep[1]-Ep[5]*Ep[0])/Up;return[zp,Hp]}static getAxialAlignedBoundingBox(Tp,Ep){const Up=Vp.applyTransform(Tp,Ep),zp=Vp.applyTransform(Tp.slice(2,4),Ep),Hp=Vp.applyTransform([Tp[0],Tp[3]],Ep),qp=Vp.applyTransform([Tp[2],Tp[1]],Ep);return[Math.min(Up[0],zp[0],Hp[0],qp[0]),Math.min(Up[1],zp[1],Hp[1],qp[1]),Math.max(Up[0],zp[0],Hp[0],qp[0]),Math.max(Up[1],zp[1],Hp[1],qp[1])]}static inverseTransform(Tp){const Ep=Tp[0]*Tp[3]-Tp[1]*Tp[2];return[Tp[3]/Ep,-Tp[1]/Ep,-Tp[2]/Ep,Tp[0]/Ep,(Tp[2]*Tp[5]-Tp[4]*Tp[3])/Ep,(Tp[4]*Tp[1]-Tp[5]*Tp[0])/Ep]}static apply3dTransform(Tp,Ep){return[Tp[0]*Ep[0]+Tp[1]*Ep[1]+Tp[2]*Ep[2],Tp[3]*Ep[0]+Tp[4]*Ep[1]+Tp[5]*Ep[2],Tp[6]*Ep[0]+Tp[7]*Ep[1]+Tp[8]*Ep[2]]}static singularValueDecompose2dScale(Tp){const Ep=[Tp[0],Tp[2],Tp[1],Tp[3]],Up=Tp[0]*Ep[0]+Tp[1]*Ep[2],zp=Tp[0]*Ep[1]+Tp[1]*Ep[3],Hp=Tp[2]*Ep[0]+Tp[3]*Ep[2],qp=Tp[2]*Ep[1]+Tp[3]*Ep[3],Qp=(Up+qp)/2,im=Math.sqrt((Up+qp)**2-4*(Up*qp-Hp*zp))/2,Jp=Qp+im||1,Gp=Qp-im||1;return[Math.sqrt(Jp),Math.sqrt(Gp)]}static normalizeRect(Tp){const Ep=Tp.slice(0);return Tp[0]>Tp[2]&&(Ep[0]=Tp[2],Ep[2]=Tp[0]),Tp[1]>Tp[3]&&(Ep[1]=Tp[3],Ep[3]=Tp[1]),Ep}static intersect(Tp,Ep){const Up=Math.max(Math.min(Tp[0],Tp[2]),Math.min(Ep[0],Ep[2])),zp=Math.min(Math.max(Tp[0],Tp[2]),Math.max(Ep[0],Ep[2]));if(Up>zp)return null;const Hp=Math.max(Math.min(Tp[1],Tp[3]),Math.min(Ep[1],Ep[3])),qp=Math.min(Math.max(Tp[1],Tp[3]),Math.max(Ep[1],Ep[3]));return Hp>qp?null:[Up,Hp,zp,qp]}static bezierBoundingBox(Tp,Ep,Up,zp,Hp,qp,Qp,im){const Jp=[],Gp=[[],[]];let om,sm,cm,Zp,am,dm,gm,ym;for(let vm=0;vm<2;++vm){if(vm===0?(sm=6*Tp-12*Up+6*Hp,om=-3*Tp+9*Up-9*Hp+3*Qp,cm=3*Up-3*Tp):(sm=6*Ep-12*zp+6*qp,om=-3*Ep+9*zp-9*qp+3*im,cm=3*zp-3*Ep),Math.abs(om)<1e-12){if(Math.abs(sm)<1e-12)continue;Zp=-cm/sm,0<Zp&&Zp<1&&Jp.push(Zp);continue}gm=sm*sm-4*cm*om,ym=Math.sqrt(gm),!(gm<0)&&(am=(-sm+ym)/(2*om),0<am&&am<1&&Jp.push(am),dm=(-sm-ym)/(2*om),0<dm&&dm<1&&Jp.push(dm))}let fm=Jp.length,lm;const hm=fm;for(;fm--;)Zp=Jp[fm],lm=1-Zp,Gp[0][fm]=lm*lm*lm*Tp+3*lm*lm*Zp*Up+3*lm*Zp*Zp*Hp+Zp*Zp*Zp*Qp,Gp[1][fm]=lm*lm*lm*Ep+3*lm*lm*Zp*zp+3*lm*Zp*Zp*qp+Zp*Zp*Zp*im;return Gp[0][hm]=Tp,Gp[1][hm]=Ep,Gp[0][hm+1]=Qp,Gp[1][hm+1]=im,Gp[0].length=Gp[1].length=hm+2,[Math.min(...Gp[0]),Math.min(...Gp[1]),Math.max(...Gp[0]),Math.max(...Gp[1])]}}e.Util=Vp;const Wp=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Yp(Cp){if(Cp[0]>="\xEF"){let Ep;if(Cp[0]==="\xFE"&&Cp[1]==="\xFF"?Ep="utf-16be":Cp[0]==="\xFF"&&Cp[1]==="\xFE"?Ep="utf-16le":Cp[0]==="\xEF"&&Cp[1]==="\xBB"&&Cp[2]==="\xBF"&&(Ep="utf-8"),Ep)try{const Up=new TextDecoder(Ep,{fatal:!0}),zp=Sp(Cp);return Up.decode(zp)}catch(Up){dp(`stringToPDFString: "${Up}".`)}}const Tp=[];for(let Ep=0,Up=Cp.length;Ep<Up;Ep++){const zp=Wp[Cp.charCodeAt(Ep)];Tp.push(zp?String.fromCharCode(zp):Cp.charAt(Ep))}return Tp.join("")}function Kp(Cp){return Cp.replace(/([()\\\n\r])/g,Tp=>Tp===`
`?"\\n":Tp==="\r"?"\\r":`\\${Tp}`)}function tm(Cp){return/^[\x00-\x7F]*$/.test(Cp)}function em(Cp){const Tp=["\xFE\xFF"];for(let Ep=0,Up=Cp.length;Ep<Up;Ep++){const zp=Cp.charCodeAt(Ep);Tp.push(String.fromCharCode(zp>>8&255),String.fromCharCode(zp&255))}return Tp.join("")}function mm(Cp){return decodeURIComponent(escape(Cp))}function Xp(Cp){return unescape(encodeURIComponent(Cp))}function rm(Cp){return typeof Cp=="object"&&Cp!==null&&Cp.byteLength!==void 0}function Sm(Cp,Tp){if(Cp.length!==Tp.length)return!1;for(let Ep=0,Up=Cp.length;Ep<Up;Ep++)if(Cp[Ep]!==Tp[Ep])return!1;return!0}function Ip(Cp=new Date){return[Cp.getUTCFullYear().toString(),(Cp.getUTCMonth()+1).toString().padStart(2,"0"),Cp.getUTCDate().toString().padStart(2,"0"),Cp.getUTCHours().toString().padStart(2,"0"),Cp.getUTCMinutes().toString().padStart(2,"0"),Cp.getUTCSeconds().toString().padStart(2,"0")].join("")}function jp(){const Cp=Object.create(null);let Tp=!1;return Object.defineProperty(Cp,"settled",{get(){return Tp}}),Cp.promise=new Promise(function(Ep,Up){Cp.resolve=function(zp){Tp=!0,Ep(zp)},Cp.reject=function(zp){Tp=!0,Up(zp)}}),Cp}},(i,e,s)=>{s(3)},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=s},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,s,o,a,c,d,h,g,_,Am,Rl,Ml;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Fl,NodeCMapReaderFactory:Ll,NodeStandardFontDataFactory:Bl}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=Fl,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=Ll,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=Bl}let createPDFNetworkStream;function setPDFNetworkStreamFactory(Fl){createPDFNetworkStream=Fl}function getDocument(Fl){const Ll=new PDFDocumentLoadingTask;let Bl;if(typeof Fl=="string"||Fl instanceof URL)Bl={url:Fl};else if((0,_util.isArrayBuffer)(Fl))Bl={data:Fl};else if(Fl instanceof PDFDataRangeTransport)Bl={range:Fl};else{if(typeof Fl!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Fl.url&&!Fl.data&&!Fl.range)throw new Error("Invalid parameter object: need either .data, .range or .url");Bl=Fl}const zl=Object.create(null);let Hl=null,Wl=null;for(const Xl in Bl){const Gl=Bl[Xl];switch(Xl){case"url":if(typeof window<"u")try{zl[Xl]=new URL(Gl,window.location).href;continue}catch(_d){(0,_util.warn)(`Cannot create valid URL: "${_d}".`)}else if(typeof Gl=="string"||Gl instanceof URL){zl[Xl]=Gl.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Hl=Gl;continue;case"worker":Wl=Gl;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Gl instanceof Buffer)zl[Xl]=new Uint8Array(Gl);else{if(Gl instanceof Uint8Array)break;if(typeof Gl=="string")zl[Xl]=(0,_util.stringToBytes)(Gl);else if(typeof Gl=="object"&&Gl!==null&&!isNaN(Gl.length))zl[Xl]=new Uint8Array(Gl);else if((0,_util.isArrayBuffer)(Gl))zl[Xl]=new Uint8Array(Gl);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}zl[Xl]=Gl}if(zl.CMapReaderFactory=zl.CMapReaderFactory||DefaultCMapReaderFactory,zl.StandardFontDataFactory=zl.StandardFontDataFactory||DefaultStandardFontDataFactory,zl.ignoreErrors=zl.stopAtErrors!==!0,zl.fontExtraProperties=zl.fontExtraProperties===!0,zl.pdfBug=zl.pdfBug===!0,zl.enableXfa=zl.enableXfa===!0,(!Number.isInteger(zl.rangeChunkSize)||zl.rangeChunkSize<1)&&(zl.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof zl.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(zl.docBaseUrl))&&(zl.docBaseUrl=null),(!Number.isInteger(zl.maxImageSize)||zl.maxImageSize<-1)&&(zl.maxImageSize=-1),typeof zl.cMapUrl!="string"&&(zl.cMapUrl=null),typeof zl.standardFontDataUrl!="string"&&(zl.standardFontDataUrl=null),typeof zl.useWorkerFetch!="boolean"&&(zl.useWorkerFetch=zl.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&zl.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof zl.isEvalSupported!="boolean"&&(zl.isEvalSupported=!0),typeof zl.disableFontFace!="boolean"&&(zl.disableFontFace=_is_node.isNodeJS),typeof zl.useSystemFonts!="boolean"&&(zl.useSystemFonts=!_is_node.isNodeJS&&!zl.disableFontFace),(typeof zl.ownerDocument!="object"||zl.ownerDocument===null)&&(zl.ownerDocument=globalThis.document),typeof zl.disableRange!="boolean"&&(zl.disableRange=!1),typeof zl.disableStream!="boolean"&&(zl.disableStream=!1),typeof zl.disableAutoFetch!="boolean"&&(zl.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(zl.verbosity),!Wl){const Xl={verbosity:zl.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Wl=Xl.port?PDFWorker.fromPort(Xl):new PDFWorker(Xl),Ll._worker=Wl}const Yl=Ll.docId;return Wl.promise.then(function(){if(Ll.destroyed)throw new Error("Loading aborted");const Xl=_fetchDocument(Wl,zl,Hl,Yl),Gl=new Promise(function(_d){let Kl;Hl?Kl=new _transport_stream.PDFDataTransportStream({length:zl.length,initialData:zl.initialData,progressiveDone:zl.progressiveDone,contentDispositionFilename:zl.contentDispositionFilename,disableRange:zl.disableRange,disableStream:zl.disableStream},Hl):zl.data||(Kl=createPDFNetworkStream({url:zl.url,length:zl.length,httpHeaders:zl.httpHeaders,withCredentials:zl.withCredentials,rangeChunkSize:zl.rangeChunkSize,disableRange:zl.disableRange,disableStream:zl.disableStream})),_d(Kl)});return Promise.all([Xl,Gl]).then(function([_d,Kl]){if(Ll.destroyed)throw new Error("Loading aborted");const ru=new _message_handler.MessageHandler(Yl,_d,Wl.port),Zl=new WorkerTransport(ru,Ll,Kl,zl);Ll._transport=Zl,ru.send("Ready",null)})}).catch(Ll._capability.reject),Ll}async function _fetchDocument(Fl,Ll,Bl,zl){if(Fl.destroyed)throw new Error("Worker was destroyed");Bl&&(Ll.length=Bl.length,Ll.initialData=Bl.initialData,Ll.progressiveDone=Bl.progressiveDone,Ll.contentDispositionFilename=Bl.contentDispositionFilename);const Hl=await Fl.messageHandler.sendWithPromise("GetDocRequest",{docId:zl,apiVersion:"2.16.105",source:{data:Ll.data,url:Ll.url,password:Ll.password,disableAutoFetch:Ll.disableAutoFetch,rangeChunkSize:Ll.rangeChunkSize,length:Ll.length},maxImageSize:Ll.maxImageSize,disableFontFace:Ll.disableFontFace,docBaseUrl:Ll.docBaseUrl,ignoreErrors:Ll.ignoreErrors,isEvalSupported:Ll.isEvalSupported,fontExtraProperties:Ll.fontExtraProperties,enableXfa:Ll.enableXfa,useSystemFonts:Ll.useSystemFonts,cMapUrl:Ll.useWorkerFetch?Ll.cMapUrl:null,standardFontDataUrl:Ll.useWorkerFetch?Ll.standardFontDataUrl:null});if(Ll.data&&(Ll.data=null),Fl.destroyed)throw new Error("Worker was destroyed");return Hl}const e=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Om(e,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var Ll;this.destroyed=!0,await((Ll=this._transport)==null?void 0:Ll.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=e;i=new WeakMap,Dp(PDFDocumentLoadingTask,i,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Ll,Bl,zl=!1,Hl=null){this.length=Ll,this.initialData=Bl,this.progressiveDone=zl,this.contentDispositionFilename=Hl,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(Ll){this._rangeListeners.push(Ll)}addProgressListener(Ll){this._progressListeners.push(Ll)}addProgressiveReadListener(Ll){this._progressiveReadListeners.push(Ll)}addProgressiveDoneListener(Ll){this._progressiveDoneListeners.push(Ll)}onDataRange(Ll,Bl){for(const zl of this._rangeListeners)zl(Ll,Bl)}onDataProgress(Ll,Bl){this._readyCapability.promise.then(()=>{for(const zl of this._progressListeners)zl(Ll,Bl)})}onDataProgressiveRead(Ll){this._readyCapability.promise.then(()=>{for(const Bl of this._progressiveReadListeners)Bl(Ll)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Ll of this._progressiveDoneListeners)Ll()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Ll,Bl){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Ll,Bl){this._pdfInfo=Ll,this._transport=Bl,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Ll){return this._transport.getPage(Ll)}getPageIndex(Ll){return this._transport.getPageIndex(Ll)}getDestinations(){return this._transport.getDestinations()}getDestination(Ll){return this._transport.getDestination(Ll)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Ll=!1){return this._transport.startCleanup(Ll||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Ll,Bl,zl,Hl,Wl=!1){this._pageIndex=Ll,this._pageInfo=Bl,this._ownerDocument=Hl,this._transport=zl,this._stats=Wl?new _display_utils.StatTimer:null,this._pdfBug=Wl,this.commonObjs=zl.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Ll,rotation:Bl=this.rotate,offsetX:zl=0,offsetY:Hl=0,dontFlip:Wl=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Ll,rotation:Bl,offsetX:zl,offsetY:Hl,dontFlip:Wl})}getAnnotations({intent:Ll="display"}={}){const Bl=this._transport.getRenderingIntent(Ll);let zl=this._annotationPromises.get(Bl.cacheKey);return zl||(zl=this._transport.getAnnotations(this._pageIndex,Bl.renderingIntent),this._annotationPromises.set(Bl.cacheKey,zl),zl=zl.then(Hl=>{for(const Wl of Hl)Wl.titleObj!==void 0&&Object.defineProperty(Wl,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),Wl.titleObj.str}}),Wl.contentsObj!==void 0&&Object.defineProperty(Wl,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),Wl.contentsObj.str}});return Hl})),zl}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var Ll;return((Ll=this._transport._htmlForXfa)==null?void 0:Ll.children[this._pageIndex])||null}render({canvasContext:Ll,viewport:Bl,intent:zl="display",annotationMode:Hl=_util.AnnotationMode.ENABLE,transform:Wl=null,imageLayer:Yl=null,canvasFactory:Xl=null,background:Gl=null,optionalContentConfigPromise:_d=null,annotationCanvasMap:Kl=null,pageColors:ru=null,printAnnotationStorage:Zl=null}){var up,$p;((up=arguments[0])==null?void 0:up.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&Hl===_util.AnnotationMode.ENABLE&&(Hl=_util.AnnotationMode.ENABLE_FORMS)),(($p=arguments[0])==null?void 0:$p.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&Hl===_util.AnnotationMode.ENABLE&&(Hl=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const tp=this._transport.getRenderingIntent(zl,Hl,Zl);this.pendingCleanup=!1,_d||(_d=this._transport.getOptionalContentConfig());let op=this._intentStates.get(tp.cacheKey);op||(op=Object.create(null),this._intentStates.set(tp.cacheKey,op)),op.streamReaderCancelTimeout&&(clearTimeout(op.streamReaderCancelTimeout),op.streamReaderCancelTimeout=null);const bp=Xl||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ap=!!(tp.renderingIntent&_util.RenderingIntentFlag.PRINT);op.displayReadyCapability||(op.displayReadyCapability=(0,_util.createPromiseCapability)(),op.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(tp));const hp=yp=>{op.renderTasks.delete(gp),(this.cleanupAfterRender||ap)&&(this.pendingCleanup=!0),this._tryCleanup(),yp?(gp.capability.reject(yp),this._abortOperatorList({intentState:op,reason:yp instanceof Error?yp:new Error(yp)})):gp.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},gp=new InternalRenderTask({callback:hp,params:{canvasContext:Ll,viewport:Bl,transform:Wl,imageLayer:Yl,background:Gl},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Kl,operatorList:op.operatorList,pageIndex:this._pageIndex,canvasFactory:bp,useRequestAnimationFrame:!ap,pdfBug:this._pdfBug,pageColors:ru});(op.renderTasks||(op.renderTasks=new Set)).add(gp);const rp=gp.task;return Promise.all([op.displayReadyCapability.promise,_d]).then(([yp,dp])=>{if(this.pendingCleanup){hp();return}this._stats&&this._stats.time("Rendering"),gp.initializeGraphics({transparency:yp,optionalContentConfig:dp}),gp.operatorListChanged()}).catch(hp),rp}getOperatorList({intent:Ll="display",annotationMode:Bl=_util.AnnotationMode.ENABLE,printAnnotationStorage:zl=null}={}){function Hl(){Yl.operatorList.lastChunk&&(Yl.opListReadCapability.resolve(Yl.operatorList),Yl.renderTasks.delete(Xl))}const Wl=this._transport.getRenderingIntent(Ll,Bl,zl,!0);let Yl=this._intentStates.get(Wl.cacheKey);Yl||(Yl=Object.create(null),this._intentStates.set(Wl.cacheKey,Yl));let Xl;return Yl.opListReadCapability||(Xl=Object.create(null),Xl.operatorListChanged=Hl,Yl.opListReadCapability=(0,_util.createPromiseCapability)(),(Yl.renderTasks||(Yl.renderTasks=new Set)).add(Xl),Yl.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Wl)),Yl.opListReadCapability.promise}streamTextContent({disableCombineTextItems:Ll=!1,includeMarkedContent:Bl=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:Ll!==!0,includeMarkedContent:Bl===!0},{highWaterMark:100,size(Hl){return Hl.items.length}})}getTextContent(Ll={}){if(this._transport._htmlForXfa)return this.getXfa().then(zl=>_xfa_text.XfaText.textContent(zl));const Bl=this.streamTextContent(Ll);return new Promise(function(zl,Hl){function Wl(){Yl.read().then(function({value:Gl,done:_d}){if(_d){zl(Xl);return}Object.assign(Xl.styles,Gl.styles),Xl.items.push(...Gl.items),Wl()},Hl)}const Yl=Bl.getReader(),Xl={items:[],styles:Object.create(null)};Wl()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const Ll=[];for(const Bl of this._intentStates.values())if(this._abortOperatorList({intentState:Bl,reason:new Error("Page was destroyed."),force:!0}),!Bl.opListReadCapability)for(const zl of Bl.renderTasks)Ll.push(zl.completed),zl.cancel();this.objs.clear();for(const Bl of this._bitmaps)Bl.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(Ll)}cleanup(Ll=!1){return this.pendingCleanup=!0,this._tryCleanup(Ll)}_tryCleanup(Ll=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:Bl,operatorList:zl}of this._intentStates.values())if(Bl.size>0||!zl.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,Ll&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const Bl of this._bitmaps)Bl.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(Ll,Bl){const zl=this._intentStates.get(Bl);!zl||(this._stats&&this._stats.timeEnd("Page Request"),zl.displayReadyCapability&&zl.displayReadyCapability.resolve(Ll))}_renderPageChunk(Ll,Bl){for(let zl=0,Hl=Ll.length;zl<Hl;zl++)Bl.operatorList.fnArray.push(Ll.fnArray[zl]),Bl.operatorList.argsArray.push(Ll.argsArray[zl]);Bl.operatorList.lastChunk=Ll.lastChunk,Bl.operatorList.separateAnnots=Ll.separateAnnots;for(const zl of Bl.renderTasks)zl.operatorListChanged();Ll.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:Ll,cacheKey:Bl,annotationStorageMap:zl}){const Wl=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ll,cacheKey:Bl,annotationStorage:zl}).getReader(),Yl=this._intentStates.get(Bl);Yl.streamReader=Wl;const Xl=()=>{Wl.read().then(({value:Gl,done:_d})=>{if(_d){Yl.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Gl,Yl),Xl())},Gl=>{if(Yl.streamReader=null,!this._transport.destroyed){if(Yl.operatorList){Yl.operatorList.lastChunk=!0;for(const _d of Yl.renderTasks)_d.operatorListChanged();this._tryCleanup()}if(Yl.displayReadyCapability)Yl.displayReadyCapability.reject(Gl);else if(Yl.opListReadCapability)Yl.opListReadCapability.reject(Gl);else throw Gl}})};Xl()}_abortOperatorList({intentState:Ll,reason:Bl,force:zl=!1}){if(!!Ll.streamReader){if(!zl){if(Ll.renderTasks.size>0)return;if(Bl instanceof _display_utils.RenderingCancelledException){Ll.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:Ll,reason:Bl,force:!0}),Ll.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(Ll.streamReader.cancel(new _util.AbortException(Bl.message)).catch(()=>{}),Ll.streamReader=null,!this._transport.destroyed){for(const[Hl,Wl]of this._intentStates)if(Wl===Ll){this._intentStates.delete(Hl);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(Ll,Bl){const zl={data:structuredClone(Ll,Bl)};this._deferred.then(()=>{for(const Hl of this._listeners)Hl.call(this,zl)})}addEventListener(Ll,Bl){this._listeners.push(Bl)}removeEventListener(Ll,Bl){const zl=this._listeners.indexOf(Bl);this._listeners.splice(zl,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Fl=(s=document==null?void 0:document.currentScript)==null?void 0:s.src;Fl&&(PDFWorkerUtil.fallbackWorkerSrc=Fl.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Fl,Ll){let Bl;try{if(Bl=new URL(Fl),!Bl.origin||Bl.origin==="null")return!1}catch{return!1}const zl=new URL(Ll,Bl);return Bl.origin===zl.origin},PDFWorkerUtil.createCDNWrapper=function(Fl){const Ll=`importScripts("${Fl}");`;return URL.createObjectURL(new Blob([Ll]))}}const _PDFWorker=class{constructor({name:Fl=null,port:Ll=null,verbosity:Bl=(0,_util.getVerbosityLevel)()}={}){if(Ll&&mp(_PDFWorker,o).has(Ll))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Fl,this.destroyed=!1,this.verbosity=Bl,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,Ll){mp(_PDFWorker,o).set(Ll,this),this._initializeFromPort(Ll);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Fl){this._port=Fl,this._messageHandler=new _message_handler.MessageHandler("main","worker",Fl),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Fl}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Fl)||(Fl=PDFWorkerUtil.createCDNWrapper(new URL(Fl,window.location).href));const Ll=new Worker(Fl),Bl=new _message_handler.MessageHandler("main","worker",Ll),zl=()=>{Ll.removeEventListener("error",Hl),Bl.destroy(),Ll.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Hl=()=>{this._webWorker||zl()};Ll.addEventListener("error",Hl),Bl.on("test",Yl=>{if(Ll.removeEventListener("error",Hl),this.destroyed){zl();return}Yl?(this._messageHandler=Bl,this._port=Ll,this._webWorker=Ll,this._readyCapability.resolve(),Bl.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Bl.destroy(),Ll.terminate())}),Bl.on("ready",Yl=>{if(Ll.removeEventListener("error",Hl),this.destroyed){zl();return}try{Wl()}catch{this._setupFakeWorker()}});const Wl=()=>{const Yl=new Uint8Array;Bl.send("test",Yl,[Yl.buffer])};Wl();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Fl=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ll=new LoopbackPort;this._port=Ll;const Bl=`fake${PDFWorkerUtil.fakeWorkerId++}`,zl=new _message_handler.MessageHandler(Bl+"_worker",Bl,Ll);Fl.setup(zl,Ll);const Hl=new _message_handler.MessageHandler(Bl,Bl+"_worker",Ll);this._messageHandler=Hl,this._readyCapability.resolve(),Hl.send("configure",{verbosity:this.verbosity})}).catch(Fl=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Fl.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),mp(_PDFWorker,o).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Fl){if(!(Fl!=null&&Fl.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return mp(this,o).has(Fl.port)?mp(this,o).get(Fl.port):new _PDFWorker(Fl)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Fl;try{return((Fl=globalThis.pdfjsWorker)==null?void 0:Fl.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;o=new WeakMap,Dp(PDFWorker,o,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(Ll,Bl,zl,Hl){Dp(this,a,null);Dp(this,c,new Map);Dp(this,d,new Map);Dp(this,h,null);this.messageHandler=Ll,this.loadingTask=Bl,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:Bl.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Hl.ownerDocument,styleElement:Hl.styleElement}),this._params=Hl,Hl.useWorkerFetch||(this.CMapReaderFactory=new Hl.CMapReaderFactory({baseUrl:Hl.cMapUrl,isCompressed:Hl.cMapPacked}),this.StandardFontDataFactory=new Hl.StandardFontDataFactory({baseUrl:Hl.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=zl,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return mp(this,a)}getRenderingIntent(Ll,Bl=_util.AnnotationMode.ENABLE,zl=null,Hl=!1){let Wl=_util.RenderingIntentFlag.DISPLAY,Yl=null;switch(Ll){case"any":Wl=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Wl=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Ll}`)}switch(Bl){case _util.AnnotationMode.DISABLE:Wl+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Wl+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Wl+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Yl=(Wl&_util.RenderingIntentFlag.PRINT&&zl instanceof _annotation_storage.PrintAnnotationStorage?zl:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Bl}`)}return Hl&&(Wl+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Wl,cacheKey:`${Wl}_${_annotation_storage.AnnotationStorage.getHash(Yl)}`,annotationStorageMap:Yl}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const Ll=[];for(const zl of mp(this,c).values())Ll.push(zl._destroy());mp(this,c).clear(),mp(this,d).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Bl=this.messageHandler.sendWithPromise("Terminate",null);return Ll.push(Bl),Promise.all(Ll).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Bp(this,h,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Ll,loadingTask:Bl}=this;Ll.on("GetReader",(zl,Hl)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Wl=>{this._lastProgress={loaded:Wl.loaded,total:Wl.total}},Hl.onPull=()=>{this._fullReader.read().then(function({value:Wl,done:Yl}){if(Yl){Hl.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Wl),"GetReader - expected an ArrayBuffer."),Hl.enqueue(new Uint8Array(Wl),1,[Wl])}).catch(Wl=>{Hl.error(Wl)})},Hl.onCancel=Wl=>{this._fullReader.cancel(Wl),Hl.ready.catch(Yl=>{if(!this.destroyed)throw Yl})}}),Ll.on("ReaderHeadersReady",zl=>{const Hl=(0,_util.createPromiseCapability)(),Wl=this._fullReader;return Wl.headersReady.then(()=>{var Yl;(!Wl.isStreamingSupported||!Wl.isRangeSupported)&&(this._lastProgress&&((Yl=Bl.onProgress)==null||Yl.call(Bl,this._lastProgress)),Wl.onProgress=Xl=>{var Gl;(Gl=Bl.onProgress)==null||Gl.call(Bl,{loaded:Xl.loaded,total:Xl.total})}),Hl.resolve({isStreamingSupported:Wl.isStreamingSupported,isRangeSupported:Wl.isRangeSupported,contentLength:Wl.contentLength})},Hl.reject),Hl.promise}),Ll.on("GetRangeReader",(zl,Hl)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Wl=this._networkStream.getRangeReader(zl.begin,zl.end);if(!Wl){Hl.close();return}Hl.onPull=()=>{Wl.read().then(function({value:Yl,done:Xl}){if(Xl){Hl.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Yl),"GetRangeReader - expected an ArrayBuffer."),Hl.enqueue(new Uint8Array(Yl),1,[Yl])}).catch(Yl=>{Hl.error(Yl)})},Hl.onCancel=Yl=>{Wl.cancel(Yl),Hl.ready.catch(Xl=>{if(!this.destroyed)throw Xl})}}),Ll.on("GetDoc",({pdfInfo:zl})=>{this._numPages=zl.numPages,this._htmlForXfa=zl.htmlForXfa,delete zl.htmlForXfa,Bl._capability.resolve(new PDFDocumentProxy(zl,this))}),Ll.on("DocException",function(zl){let Hl;switch(zl.name){case"PasswordException":Hl=new _util.PasswordException(zl.message,zl.code);break;case"InvalidPDFException":Hl=new _util.InvalidPDFException(zl.message);break;case"MissingPDFException":Hl=new _util.MissingPDFException(zl.message);break;case"UnexpectedResponseException":Hl=new _util.UnexpectedResponseException(zl.message,zl.status);break;case"UnknownErrorException":Hl=new _util.UnknownErrorException(zl.message,zl.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Bl._capability.reject(Hl)}),Ll.on("PasswordRequest",zl=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),Bl.onPassword){const Hl=Wl=>{Wl instanceof Error?this._passwordCapability.reject(Wl):this._passwordCapability.resolve({password:Wl})};try{Bl.onPassword(Hl,zl.code)}catch(Wl){this._passwordCapability.reject(Wl)}}else this._passwordCapability.reject(new _util.PasswordException(zl.message,zl.code));return this._passwordCapability.promise}),Ll.on("DataLoaded",zl=>{var Hl;(Hl=Bl.onProgress)==null||Hl.call(Bl,{loaded:zl.length,total:zl.length}),this.downloadInfoCapability.resolve(zl)}),Ll.on("StartRenderPage",zl=>{if(this.destroyed)return;mp(this,c).get(zl.pageIndex)._startRenderPage(zl.transparency,zl.cacheKey)}),Ll.on("commonobj",([zl,Hl,Wl])=>{var Yl;if(!this.destroyed&&!this.commonObjs.has(zl))switch(Hl){case"Font":const Xl=this._params;if("error"in Wl){const Kl=Wl.error;(0,_util.warn)(`Error during font loading: ${Kl}`),this.commonObjs.resolve(zl,Kl);break}let Gl=null;Xl.pdfBug&&((Yl=globalThis.FontInspector)==null?void 0:Yl.enabled)&&(Gl={registerFont(Kl,ru){globalThis.FontInspector.fontAdded(Kl,ru)}});const _d=new _font_loader.FontFaceObject(Wl,{isEvalSupported:Xl.isEvalSupported,disableFontFace:Xl.disableFontFace,ignoreErrors:Xl.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Gl});this.fontLoader.bind(_d).catch(Kl=>Ll.sendWithPromise("FontFallback",{id:zl})).finally(()=>{!Xl.fontExtraProperties&&_d.data&&(_d.data=null),this.commonObjs.resolve(zl,_d)});break;case"FontPath":case"Image":this.commonObjs.resolve(zl,Wl);break;default:throw new Error(`Got unknown common object type ${Hl}`)}}),Ll.on("obj",([zl,Hl,Wl,Yl])=>{var Gl;if(this.destroyed)return;const Xl=mp(this,c).get(Hl);if(!Xl.objs.has(zl))switch(Wl){case"Image":Xl.objs.resolve(zl,Yl);const _d=8e6;if(Yl){let Kl;if(Yl.bitmap){const{bitmap:ru,width:Zl,height:tp}=Yl;Kl=Zl*tp*4,Xl._bitmaps.add(ru)}else Kl=((Gl=Yl.data)==null?void 0:Gl.length)||0;Kl>_d&&(Xl.cleanupAfterRender=!0)}break;case"Pattern":Xl.objs.resolve(zl,Yl);break;default:throw new Error(`Got unknown object type ${Wl}`)}}),Ll.on("DocProgress",zl=>{var Hl;this.destroyed||(Hl=Bl.onProgress)==null||Hl.call(Bl,{loaded:zl.loaded,total:zl.total})}),Ll.on("DocStats",zl=>{this.destroyed||Bp(this,a,Object.freeze({streamTypes:Object.freeze(zl.streamTypes),fontTypes:Object.freeze(zl.fontTypes)}))}),Ll.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),Ll.on("FetchBuiltInCMap",zl=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(zl):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Ll.on("FetchStandardFontData",zl=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(zl):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:Ll}){var Bl,zl;this.destroyed||(zl=(Bl=this.loadingTask).onUnsupportedFeature)==null||zl.call(Bl,Ll)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(Ll){if(!Number.isInteger(Ll)||Ll<=0||Ll>this._numPages)return Promise.reject(new Error("Invalid page request."));const Bl=Ll-1,zl=mp(this,d).get(Bl);if(zl)return zl;const Hl=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Bl}).then(Wl=>{if(this.destroyed)throw new Error("Transport destroyed");const Yl=new PDFPageProxy(Bl,Wl,this,this._params.ownerDocument,this._params.pdfBug);return mp(this,c).set(Bl,Yl),Yl});return mp(this,d).set(Bl,Hl),Hl}getPageIndex(Ll){return typeof Ll!="object"||Ll===null||!Number.isInteger(Ll.num)||Ll.num<0||!Number.isInteger(Ll.gen)||Ll.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Ll.num,gen:Ll.gen})}getAnnotations(Ll,Bl){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Ll,intent:Bl})}saveDocument(){var Ll,Bl;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(Bl=(Ll=this._fullReader)==null?void 0:Ll.filename)!=null?Bl:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Ll){return typeof Ll!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Ll})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(Ll){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Ll})}getStructTree(Ll){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Ll})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Ll=>new _optional_content_config.OptionalContentConfig(Ll))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return mp(this,h)||Bp(this,h,this.messageHandler.sendWithPromise("GetMetadata",null).then(Ll=>{var Bl,zl,Hl,Wl;return{info:Ll[0],metadata:Ll[1]?new _metadata.Metadata(Ll[1]):null,contentDispositionFilename:(zl=(Bl=this._fullReader)==null?void 0:Bl.filename)!=null?zl:null,contentLength:(Wl=(Hl=this._fullReader)==null?void 0:Hl.contentLength)!=null?Wl:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Ll=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const Bl of mp(this,c).values())if(!Bl.cleanup())throw new Error(`startCleanup: Page ${Bl.pageNumber} is currently rendering.`);this.commonObjs.clear(),Ll||this.fontLoader.clear(),Bp(this,h,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const Ll=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Ll.disableAutoFetch,enableXfa:Ll.enableXfa})}}a=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap;class PDFObjects{constructor(){Dp(this,_);Dp(this,g,Object.create(null))}get(Ll,Bl=null){if(Bl){const Hl=Mp(this,_,Am).call(this,Ll);return Hl.capability.promise.then(()=>Bl(Hl.data)),null}const zl=mp(this,g)[Ll];if(!(zl!=null&&zl.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Ll}.`);return zl.data}has(Ll){const Bl=mp(this,g)[Ll];return(Bl==null?void 0:Bl.capability.settled)||!1}resolve(Ll,Bl=null){const zl=Mp(this,_,Am).call(this,Ll);zl.data=Bl,zl.capability.resolve()}clear(){Bp(this,g,Object.create(null))}}g=new WeakMap,_=new WeakSet,Am=function(Ll){const Bl=mp(this,g)[Ll];return Bl||(mp(this,g)[Ll]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(Ll){Dp(this,Rl,null);Bp(this,Rl,Ll),this.onContinue=null}get promise(){return mp(this,Rl).capability.promise}cancel(){mp(this,Rl).cancel()}get separateAnnots(){const{separateAnnots:Ll}=mp(this,Rl).operatorList;if(!Ll)return!1;const{annotationCanvasMap:Bl}=mp(this,Rl);return Ll.form||Ll.canvas&&(Bl==null?void 0:Bl.size)>0}}Rl=new WeakMap,exports.RenderTask=RenderTask;const Ul=class{constructor({callback:Ll,params:Bl,objs:zl,commonObjs:Hl,annotationCanvasMap:Wl,operatorList:Yl,pageIndex:Xl,canvasFactory:Gl,useRequestAnimationFrame:_d=!1,pdfBug:Kl=!1,pageColors:ru=null}){this.callback=Ll,this.params=Bl,this.objs=zl,this.commonObjs=Hl,this.annotationCanvasMap=Wl,this.operatorListIdx=null,this.operatorList=Yl,this._pageIndex=Xl,this.canvasFactory=Gl,this._pdfBug=Kl,this.pageColors=ru,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_d===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Bl.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Ll=!1,optionalContentConfig:Bl}){var Gl;if(this.cancelled)return;if(this._canvas){if(mp(Ul,Ml).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");mp(Ul,Ml).add(this._canvas)}this._pdfBug&&((Gl=globalThis.StepperManager)==null?void 0:Gl.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:zl,viewport:Hl,transform:Wl,imageLayer:Yl,background:Xl}=this.params;this.gfx=new _canvas.CanvasGraphics(zl,this.commonObjs,this.objs,this.canvasFactory,Yl,Bl,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Wl,viewport:Hl,transparency:Ll,background:Xl}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(Ll=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&mp(Ul,Ml).delete(this._canvas),this.callback(Ll||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&mp(Ul,Ml).delete(this._canvas),this.callback())))}};let InternalRenderTask=Ul;Ml=new WeakMap,Dp(InternalRenderTask,Ml,new WeakSet);const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(i,e,s)=>{var g,Gm,$l;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var o=s(1),a=s(6),c=s(10);class d{constructor(){Dp(this,g);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ml,Ul){const Fl=this._storage.get(Ml);return Fl===void 0?Ul:Object.assign(Ul,Fl)}getRawValue(Ml){return this._storage.get(Ml)}remove(Ml){if(this._storage.delete(Ml),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Ul of this._storage.values())if(Ul instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ml,Ul){const Fl=this._storage.get(Ml);let Ll=!1;if(Fl!==void 0)for(const[Bl,zl]of Object.entries(Ul))Fl[Bl]!==zl&&(Ll=!0,Fl[Bl]=zl);else Ll=!0,this._storage.set(Ml,Ul);Ll&&Mp(this,g,Gm).call(this),Ul instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ul.constructor._type)}has(Ml){return this._storage.has(Ml)}getAll(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(this._storage.size===0)return null;const Ml=new Map;for(const[Ul,Fl]of this._storage){const Ll=Fl instanceof a.AnnotationEditor?Fl.serialize():Fl;Ll&&Ml.set(Ul,Ll)}return Ml}static getHash(Ml){if(!Ml)return"";const Ul=new c.MurmurHash3_64;for(const[Fl,Ll]of Ml)Ul.update(`${Fl}:${JSON.stringify(Ll)}`);return Ul.hexdigest()}}g=new WeakSet,Gm=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=d;class h extends d{constructor(Ul){super();Dp(this,$l,null);Bp(this,$l,structuredClone(Ul.serializable))}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return mp(this,$l)}}$l=new WeakMap,e.PrintAnnotationStorage=h},(i,e,s)=>{var d,h,g,_,$l,Rl;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var o=s(7),a=s(1);const Ml=class{constructor(Fl){Dp(this,d,this.focusin.bind(this));Dp(this,h,this.focusout.bind(this));Dp(this,g,!1);Dp(this,_,!1);Dp(this,$l,!1);Dp(this,Rl,Ml._zIndex++);this.constructor===Ml&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Fl.parent,this.id=Fl.id,this.width=this.height=null,this.pageIndex=Fl.parent.pageIndex,this.name=Fl.name,this.div=null;const[Ll,Bl]=this.parent.viewportBaseDimensions;this.x=Fl.x/Ll,this.y=Fl.y/Bl,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=mp(this,Rl)}focusin(Fl){mp(this,g)?Bp(this,g,!1):this.parent.setSelected(this)}focusout(Fl){if(!this.isAttachedToDOM)return;const Ll=Fl.relatedTarget;Ll!=null&&Ll.closest(`#${this.id}`)||(Fl.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(Fl){const Ll=this.parent.div.getBoundingClientRect();this.startX=Fl.clientX-Ll.x,this.startY=Fl.clientY-Ll.y,Fl.dataTransfer.setData("text/plain",this.id),Fl.dataTransfer.effectAllowed="move"}setAt(Fl,Ll,Bl,zl){const[Hl,Wl]=this.parent.viewportBaseDimensions;[Bl,zl]=this.screenToPageTranslation(Bl,zl),this.x=(Fl+Bl)/Hl,this.y=(Ll+zl)/Wl,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Fl,Ll){const[Bl,zl]=this.parent.viewportBaseDimensions;[Fl,Ll]=this.screenToPageTranslation(Fl,Ll),this.x+=Fl/Bl,this.y+=Ll/zl,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Fl,Ll){const{rotation:Bl}=this.parent.viewport;switch(Bl){case 90:return[Ll,-Fl];case 180:return[-Fl,-Ll];case 270:return[-Ll,Fl];default:return[Fl,Ll]}}setDims(Fl,Ll){const[Bl,zl]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*Fl/Bl}%`,this.div.style.height=`${100*Ll/zl}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",mp(this,d)),this.div.addEventListener("focusout",mp(this,h));const[Fl,Ll]=this.getInitialTranslation();return this.translate(Fl,Ll),(0,o.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Fl){const Ll=o.KeyboardManager.platform.isMac;if(Fl.button!==0||Fl.ctrlKey&&Ll){Fl.preventDefault();return}Fl.ctrlKey&&!Ll||Fl.shiftKey||Fl.metaKey&&Ll?this.parent.toggleSelected(this):this.parent.setSelected(this),Bp(this,g,!0)}getRect(Fl,Ll){const[Bl,zl]=this.parent.viewportBaseDimensions,[Hl,Wl]=this.parent.pageDimensions,Yl=Hl*Fl/Bl,Xl=Wl*Ll/zl,Gl=this.x*Hl,_d=this.y*Wl,Kl=this.width*Hl,ru=this.height*Wl;switch(this.rotation){case 0:return[Gl+Yl,Wl-_d-Xl-ru,Gl+Yl+Kl,Wl-_d-Xl];case 90:return[Gl+Xl,Wl-_d+Yl,Gl+Xl+ru,Wl-_d+Yl+Kl];case 180:return[Gl-Yl-Kl,Wl-_d+Xl,Gl-Yl,Wl-_d+Xl+ru];case 270:return[Gl-Xl-ru,Wl-_d-Yl-Kl,Gl-Xl,Wl-_d-Yl];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Fl,Ll){const[Bl,zl,Hl,Wl]=Fl,Yl=Hl-Bl,Xl=Wl-zl;switch(this.rotation){case 0:return[Bl,Ll-Wl,Yl,Xl];case 90:return[Bl,Ll-zl,Xl,Yl];case 180:return[Hl,Ll-zl,Yl,Xl];case 270:return[Hl,Ll-Wl,Xl,Yl];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Bp(this,$l,!0)}disableEditMode(){Bp(this,$l,!1)}isInEditMode(){return mp(this,$l)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Fl;(Fl=this.div)==null||Fl.addEventListener("focusin",mp(this,d))}serialize(){(0,a.unreachable)("An editor must be serializable")}static deserialize(Fl,Ll){const Bl=new this.prototype.constructor({parent:Ll,id:Ll.getNextId()});Bl.rotation=Fl.rotation;const[zl,Hl]=Ll.pageDimensions,[Wl,Yl,Xl,Gl]=Bl.getRectInCurrentCoords(Fl.rect,Hl);return Bl.x=Wl/zl,Bl.y=Yl/Hl,Bl.width=Xl/zl,Bl.height=Gl/Hl,Bl}remove(){this.div.removeEventListener("focusin",mp(this,d)),this.div.removeEventListener("focusout",mp(this,h)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Fl;(Fl=this.div)==null||Fl.classList.add("selectedEditor")}unselect(){var Fl;(Fl=this.div)==null||Fl.classList.remove("selectedEditor")}updateParams(Fl,Ll){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return mp(this,_)}set isEditing(Fl){Bp(this,_,Fl),Fl?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let c=Ml;d=new WeakMap,h=new WeakMap,g=new WeakMap,_=new WeakMap,$l=new WeakMap,Rl=new WeakMap,nm(c,"_colorManager",new o.ColorManager),nm(c,"_zIndex",1),e.AnnotationEditor=c},(i,e,s)=>{var Ul,Fl,Ll,Bl,zl,Hl,Km,Xl,_d,Kl,ru,Zl,tp,op,bp,ap,hp,gp,rp,up,$p,yp,dp,ep,Ql,Jl,Xm,cp,Im,vp,um,xp,wm,ip,Qm,lp,Zm,Sp,Dm,Lp,$m,Ap,xm;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=c,e.opacityToHex=d;var o=s(1),a=s(8);function c(Fp,_p,Np){for(const Vp of Np)_p.addEventListener(Vp,Fp[Vp].bind(Fp))}function d(Fp){return Math.round(Math.min(255,Math.max(1,255*Fp))).toString(16).padStart(2,"0")}class h{constructor(){Dp(this,Ul,0)}getId(){return`${o.AnnotationEditorPrefix}${Om(this,Ul)._++}`}}Ul=new WeakMap;class g{constructor(_p=128){Dp(this,Fl,[]);Dp(this,Ll,!1);Dp(this,Bl,void 0);Dp(this,zl,-1);Bp(this,Bl,_p)}add({cmd:_p,undo:Np,mustExec:Vp,type:Wp=NaN,overwriteIfSameType:Yp=!1,keepUndo:Kp=!1}){if(Vp&&_p(),mp(this,Ll))return;const tm={cmd:_p,undo:Np,type:Wp};if(mp(this,zl)===-1){mp(this,Fl).length>0&&(mp(this,Fl).length=0),Bp(this,zl,0),mp(this,Fl).push(tm);return}if(Yp&&mp(this,Fl)[mp(this,zl)].type===Wp){Kp&&(tm.undo=mp(this,Fl)[mp(this,zl)].undo),mp(this,Fl)[mp(this,zl)]=tm;return}const em=mp(this,zl)+1;em===mp(this,Bl)?mp(this,Fl).splice(0,1):(Bp(this,zl,em),em<mp(this,Fl).length&&mp(this,Fl).splice(em)),mp(this,Fl).push(tm)}undo(){mp(this,zl)!==-1&&(Bp(this,Ll,!0),mp(this,Fl)[mp(this,zl)].undo(),Bp(this,Ll,!1),Bp(this,zl,mp(this,zl)-1))}redo(){mp(this,zl)<mp(this,Fl).length-1&&(Bp(this,zl,mp(this,zl)+1),Bp(this,Ll,!0),mp(this,Fl)[mp(this,zl)].cmd(),Bp(this,Ll,!1))}hasSomethingToUndo(){return mp(this,zl)!==-1}hasSomethingToRedo(){return mp(this,zl)<mp(this,Fl).length-1}destroy(){Bp(this,Fl,null)}}Fl=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,zl=new WeakMap,e.CommandManager=g;const Yl=class{constructor(_p){Dp(this,Hl);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Np=Yl.platform.isMac;for(const[Vp,Wp]of _p)for(const Yp of Vp){const Kp=Yp.startsWith("mac+");Np&&Kp?(this.callbacks.set(Yp.slice(4),Wp),this.allKeys.add(Yp.split("+").at(-1))):!Np&&!Kp&&(this.callbacks.set(Yp,Wp),this.allKeys.add(Yp.split("+").at(-1)))}}static get platform(){const _p=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:_p.includes("Win"),isMac:_p.includes("Mac")})}exec(_p,Np){if(!this.allKeys.has(Np.key))return;const Vp=this.callbacks.get(Mp(this,Hl,Km).call(this,Np));!Vp||(Vp.bind(_p)(),Np.stopPropagation(),Np.preventDefault())}};let _=Yl;Hl=new WeakSet,Km=function(_p){_p.altKey&&this.buffer.push("alt"),_p.ctrlKey&&this.buffer.push("ctrl"),_p.metaKey&&this.buffer.push("meta"),_p.shiftKey&&this.buffer.push("shift"),this.buffer.push(_p.key);const Np=this.buffer.join("+");return this.buffer.length=0,Np},e.KeyboardManager=_;class $l{constructor(){Dp(this,Xl,null)}copy(_p){!_p||(Array.isArray(_p)?Bp(this,Xl,_p.map(Np=>Np.serialize())):Bp(this,Xl,[_p.serialize()]),Bp(this,Xl,mp(this,Xl).filter(Np=>!!Np)),mp(this,Xl).length===0&&Bp(this,Xl,null))}paste(){return mp(this,Xl)}isEmpty(){return mp(this,Xl)===null}destroy(){Bp(this,Xl,null)}}Xl=new WeakMap;const Gl=class{get _colors(){const _p=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(_p),(0,o.shadow)(this,"_colors",_p)}convert(_p){const Np=(0,a.getRGB)(_p);if(!window.matchMedia("(forced-colors: active)").matches)return Np;for(const[Vp,Wp]of this._colors)if(Wp.every((Yp,Kp)=>Yp===Np[Kp]))return Gl._colorsMapping.get(Vp);return Np}getHexCode(_p){const Np=this._colors.get(_p);return Np?o.Util.makeHexColor(...Np):_p}};let Rl=Gl;nm(Rl,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=Rl;const Rp=class{constructor(_p,Np){Dp(this,Jl);Dp(this,cp);Dp(this,vp);Dp(this,xp);Dp(this,ip);Dp(this,lp);Dp(this,Sp);Dp(this,Lp);Dp(this,Ap);Dp(this,_d,null);Dp(this,Kl,new Map);Dp(this,ru,new Map);Dp(this,Zl,new $l);Dp(this,tp,new g);Dp(this,op,0);Dp(this,bp,null);Dp(this,ap,null);Dp(this,hp,new h);Dp(this,gp,!1);Dp(this,rp,o.AnnotationEditorType.NONE);Dp(this,up,new Set);Dp(this,$p,this.keydown.bind(this));Dp(this,yp,this.onEditingAction.bind(this));Dp(this,dp,this.onPageChanging.bind(this));Dp(this,ep,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Dp(this,Ql,null);Bp(this,Ql,_p),Bp(this,ap,Np),mp(this,ap)._on("editingaction",mp(this,yp)),mp(this,ap)._on("pagechanging",mp(this,dp))}destroy(){Mp(this,cp,Im).call(this),mp(this,ap)._off("editingaction",mp(this,yp)),mp(this,ap)._off("pagechanging",mp(this,dp));for(const _p of mp(this,ru).values())_p.destroy();mp(this,ru).clear(),mp(this,Kl).clear(),Bp(this,_d,null),mp(this,up).clear(),mp(this,Zl).destroy(),mp(this,tp).destroy()}onPageChanging({pageNumber:_p}){Bp(this,op,_p-1)}focusMainContainer(){mp(this,Ql).focus()}keydown(_p){var Np;(Np=this.getActive())!=null&&Np.shouldGetKeyboardEvents()||Rp._keyboardManager.exec(this,_p)}onEditingAction(_p){["undo","redo","cut","copy","paste","delete","selectAll"].includes(_p.name)&&this[_p.name]()}setEditingState(_p){_p?(Mp(this,Jl,Xm).call(this),Mp(this,vp,um).call(this,{isEditing:mp(this,rp)!==o.AnnotationEditorType.NONE,isEmpty:Mp(this,Lp,$m).call(this),hasSomethingToUndo:mp(this,tp).hasSomethingToUndo(),hasSomethingToRedo:mp(this,tp).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:mp(this,Zl).isEmpty()})):(Mp(this,cp,Im).call(this),Mp(this,vp,um).call(this,{isEditing:!1}))}registerEditorTypes(_p){Bp(this,bp,_p);for(const Np of mp(this,bp))Mp(this,xp,wm).call(this,Np.defaultPropertiesToUpdate)}getId(){return mp(this,hp).getId()}addLayer(_p){mp(this,ru).set(_p.pageIndex,_p),mp(this,gp)?_p.enable():_p.disable()}removeLayer(_p){mp(this,ru).delete(_p.pageIndex)}updateMode(_p){if(Bp(this,rp,_p),_p===o.AnnotationEditorType.NONE)this.setEditingState(!1),Mp(this,lp,Zm).call(this);else{this.setEditingState(!0),Mp(this,ip,Qm).call(this);for(const Np of mp(this,ru).values())Np.updateMode(_p)}}updateToolbar(_p){_p!==mp(this,rp)&&mp(this,ap).dispatch("switchannotationeditormode",{source:this,mode:_p})}updateParams(_p,Np){for(const Vp of mp(this,up))Vp.updateParams(_p,Np);for(const Vp of mp(this,bp))Vp.updateDefaultParams(_p,Np)}getEditors(_p){const Np=[];for(const Vp of mp(this,Kl).values())Vp.pageIndex===_p&&Np.push(Vp);return Np}getEditor(_p){return mp(this,Kl).get(_p)}addEditor(_p){mp(this,Kl).set(_p.id,_p)}removeEditor(_p){mp(this,Kl).delete(_p.id),this.unselect(_p)}setActiveEditor(_p){mp(this,_d)!==_p&&(Bp(this,_d,_p),_p&&Mp(this,xp,wm).call(this,_p.propertiesToUpdate))}toggleSelected(_p){if(mp(this,up).has(_p)){mp(this,up).delete(_p),_p.unselect(),Mp(this,vp,um).call(this,{hasSelectedEditor:this.hasSelection});return}mp(this,up).add(_p),_p.select(),Mp(this,xp,wm).call(this,_p.propertiesToUpdate),Mp(this,vp,um).call(this,{hasSelectedEditor:!0})}setSelected(_p){for(const Np of mp(this,up))Np!==_p&&Np.unselect();mp(this,up).clear(),mp(this,up).add(_p),_p.select(),Mp(this,xp,wm).call(this,_p.propertiesToUpdate),Mp(this,vp,um).call(this,{hasSelectedEditor:!0})}isSelected(_p){return mp(this,up).has(_p)}unselect(_p){_p.unselect(),mp(this,up).delete(_p),Mp(this,vp,um).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return mp(this,up).size!==0}undo(){mp(this,tp).undo(),Mp(this,vp,um).call(this,{hasSomethingToUndo:mp(this,tp).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Mp(this,Lp,$m).call(this)})}redo(){mp(this,tp).redo(),Mp(this,vp,um).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:mp(this,tp).hasSomethingToRedo(),isEmpty:Mp(this,Lp,$m).call(this)})}addCommands(_p){mp(this,tp).add(_p),Mp(this,vp,um).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Mp(this,Lp,$m).call(this)})}delete(){if(mp(this,_d)&&mp(this,_d).commitOrRemove(),!this.hasSelection)return;const _p=[...mp(this,up)],Np=()=>{for(const Wp of _p)Wp.remove()},Vp=()=>{for(const Wp of _p)Mp(this,Sp,Dm).call(this,Wp)};this.addCommands({cmd:Np,undo:Vp,mustExec:!0})}copy(){if(mp(this,_d)&&mp(this,_d).commitOrRemove(),this.hasSelection){const _p=[];for(const Np of mp(this,up))Np.isEmpty()||_p.push(Np);if(_p.length===0)return;mp(this,Zl).copy(_p),Mp(this,vp,um).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(mp(this,Zl).isEmpty())return;this.unselectAll();const _p=mp(this,ru).get(mp(this,op)),Np=mp(this,Zl).paste().map(Yp=>_p.deserialize(Yp)),Vp=()=>{for(const Yp of Np)Mp(this,Sp,Dm).call(this,Yp);Mp(this,Ap,xm).call(this,Np)},Wp=()=>{for(const Yp of Np)Yp.remove()};this.addCommands({cmd:Vp,undo:Wp,mustExec:!0})}selectAll(){for(const _p of mp(this,up))_p.commit();Mp(this,Ap,xm).call(this,mp(this,Kl).values())}unselectAll(){if(mp(this,_d)){mp(this,_d).commitOrRemove();return}if(Mp(this,Ap,xm).size!==0){for(const _p of mp(this,up))_p.unselect();mp(this,up).clear(),Mp(this,vp,um).call(this,{hasSelectedEditor:!1})}}isActive(_p){return mp(this,_d)===_p}getActive(){return mp(this,_d)}getMode(){return mp(this,rp)}};let Ml=Rp;_d=new WeakMap,Kl=new WeakMap,ru=new WeakMap,Zl=new WeakMap,tp=new WeakMap,op=new WeakMap,bp=new WeakMap,ap=new WeakMap,hp=new WeakMap,gp=new WeakMap,rp=new WeakMap,up=new WeakMap,$p=new WeakMap,yp=new WeakMap,dp=new WeakMap,ep=new WeakMap,Ql=new WeakMap,Jl=new WeakSet,Xm=function(){mp(this,Ql).addEventListener("keydown",mp(this,$p))},cp=new WeakSet,Im=function(){mp(this,Ql).removeEventListener("keydown",mp(this,$p))},vp=new WeakSet,um=function(_p){Object.entries(_p).some(([Vp,Wp])=>mp(this,ep)[Vp]!==Wp)&&mp(this,ap).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(mp(this,ep),_p)})},xp=new WeakSet,wm=function(_p){mp(this,ap).dispatch("annotationeditorparamschanged",{source:this,details:_p})},ip=new WeakSet,Qm=function(){if(!mp(this,gp)){Bp(this,gp,!0);for(const _p of mp(this,ru).values())_p.enable()}},lp=new WeakSet,Zm=function(){if(this.unselectAll(),mp(this,gp)){Bp(this,gp,!1);for(const _p of mp(this,ru).values())_p.disable()}},Sp=new WeakSet,Dm=function(_p){const Np=mp(this,ru).get(_p.pageIndex);Np?Np.addOrRebuild(_p):this.addEditor(_p)},Lp=new WeakSet,$m=function(){if(mp(this,Kl).size===0)return!0;if(mp(this,Kl).size===1)for(const _p of mp(this,Kl).values())return _p.isEmpty();return!1},Ap=new WeakSet,xm=function(_p){mp(this,up).clear();for(const Np of _p)Np.isEmpty()||(mp(this,up).add(Np),Np.select());Mp(this,vp,um).call(this,{hasSelectedEditor:!0})},nm(Ml,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],Rp.prototype.selectAll],[["ctrl+c","mac+meta+c"],Rp.prototype.copy],[["ctrl+v","mac+meta+v"],Rp.prototype.paste],[["ctrl+x","mac+meta+x"],Rp.prototype.cut],[["ctrl+z","mac+meta+z"],Rp.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Rp.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Rp.prototype.delete],[["Escape","mac+Escape"],Rp.prototype.unselectAll]])),e.AnnotationEditorUIManager=Ml},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=Gl,e.getColorValues=tp,e.getCurrentTransform=op,e.getCurrentTransformInverse=bp,e.getFilenameFromUrl=zl,e.getPdfFilenameFromUrl=Hl,e.getRGB=Zl,e.getXfaPageViewport=ru,e.isDataScheme=Ll,e.isPdfFile=Bl,e.isValidFetchUrl=Yl,e.loadScript=Xl;var o=s(9),a=s(1);const c="http://www.w3.org/2000/svg",d="pdfjs_internal_id_";e.AnnotationPrefix=d;const ap=class{};let h=ap;nm(h,"CSS",96),nm(h,"PDF",72),nm(h,"PDF_TO_CSS_UNITS",ap.CSS/ap.PDF),e.PixelsPerInch=h;class g extends o.BaseCanvasFactory{constructor({ownerDocument:gp=globalThis.document}={}){super(),this._document=gp}_createCanvas(gp,rp){const up=this._document.createElement("canvas");return up.width=gp,up.height=rp,up}}e.DOMCanvasFactory=g;async function _(hp,gp=!1){if(Yl(hp,document.baseURI)){const rp=await fetch(hp);if(!rp.ok)throw new Error(rp.statusText);return gp?new Uint8Array(await rp.arrayBuffer()):(0,a.stringToBytes)(await rp.text())}return new Promise((rp,up)=>{const $p=new XMLHttpRequest;$p.open("GET",hp,!0),gp&&($p.responseType="arraybuffer"),$p.onreadystatechange=()=>{if($p.readyState===XMLHttpRequest.DONE){if($p.status===200||$p.status===0){let yp;if(gp&&$p.response?yp=new Uint8Array($p.response):!gp&&$p.responseText&&(yp=(0,a.stringToBytes)($p.responseText)),yp){rp(yp);return}}up(new Error($p.statusText))}},$p.send(null)})}class $l extends o.BaseCMapReaderFactory{_fetchData(gp,rp){return _(gp,this.isCompressed).then(up=>({cMapData:up,compressionType:rp}))}}e.DOMCMapReaderFactory=$l;class Rl extends o.BaseStandardFontDataFactory{_fetchData(gp){return _(gp,!0)}}e.DOMStandardFontDataFactory=Rl;class Ml extends o.BaseSVGFactory{_createSVG(gp){return document.createElementNS(c,gp)}}e.DOMSVGFactory=Ml;class Ul{constructor({viewBox:gp,scale:rp,rotation:up,offsetX:$p=0,offsetY:yp=0,dontFlip:dp=!1}){this.viewBox=gp,this.scale=rp,this.rotation=up,this.offsetX=$p,this.offsetY=yp;const ep=(gp[2]+gp[0])/2,Ql=(gp[3]+gp[1])/2;let Jl,np,cp,fp;switch(up%=360,up<0&&(up+=360),up){case 180:Jl=-1,np=0,cp=0,fp=1;break;case 90:Jl=0,np=1,cp=1,fp=0;break;case 270:Jl=0,np=-1,cp=-1,fp=0;break;case 0:Jl=1,np=0,cp=0,fp=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}dp&&(cp=-cp,fp=-fp);let vp,wp,xp,_f;Jl===0?(vp=Math.abs(Ql-gp[1])*rp+$p,wp=Math.abs(ep-gp[0])*rp+yp,xp=Math.abs(gp[3]-gp[1])*rp,_f=Math.abs(gp[2]-gp[0])*rp):(vp=Math.abs(ep-gp[0])*rp+$p,wp=Math.abs(Ql-gp[1])*rp+yp,xp=Math.abs(gp[2]-gp[0])*rp,_f=Math.abs(gp[3]-gp[1])*rp),this.transform=[Jl*rp,np*rp,cp*rp,fp*rp,vp-Jl*rp*ep-cp*rp*Ql,wp-np*rp*ep-fp*rp*Ql],this.width=xp,this.height=_f}clone({scale:gp=this.scale,rotation:rp=this.rotation,offsetX:up=this.offsetX,offsetY:$p=this.offsetY,dontFlip:yp=!1}={}){return new Ul({viewBox:this.viewBox.slice(),scale:gp,rotation:rp,offsetX:up,offsetY:$p,dontFlip:yp})}convertToViewportPoint(gp,rp){return a.Util.applyTransform([gp,rp],this.transform)}convertToViewportRectangle(gp){const rp=a.Util.applyTransform([gp[0],gp[1]],this.transform),up=a.Util.applyTransform([gp[2],gp[3]],this.transform);return[rp[0],rp[1],up[0],up[1]]}convertToPdfPoint(gp,rp){return a.Util.applyInverseTransform([gp,rp],this.transform)}}e.PageViewport=Ul;class Fl extends a.BaseException{constructor(gp,rp){super(gp,"RenderingCancelledException"),this.type=rp}}e.RenderingCancelledException=Fl;function Ll(hp){const gp=hp.length;let rp=0;for(;rp<gp&&hp[rp].trim()==="";)rp++;return hp.substring(rp,rp+5).toLowerCase()==="data:"}function Bl(hp){return typeof hp=="string"&&/\.pdf$/i.test(hp)}function zl(hp){const gp=hp.indexOf("#"),rp=hp.indexOf("?"),up=Math.min(gp>0?gp:hp.length,rp>0?rp:hp.length);return hp.substring(hp.lastIndexOf("/",up)+1,up)}function Hl(hp,gp="document.pdf"){if(typeof hp!="string")return gp;if(Ll(hp))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),gp;const rp=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,up=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,$p=rp.exec(hp);let yp=up.exec($p[1])||up.exec($p[2])||up.exec($p[3]);if(yp&&(yp=yp[0],yp.includes("%")))try{yp=up.exec(decodeURIComponent(yp))[0]}catch{}return yp||gp}class Wl{constructor(){this.started=Object.create(null),this.times=[]}time(gp){gp in this.started&&(0,a.warn)(`Timer is already running for ${gp}`),this.started[gp]=Date.now()}timeEnd(gp){gp in this.started||(0,a.warn)(`Timer has not been started for ${gp}`),this.times.push({name:gp,start:this.started[gp],end:Date.now()}),delete this.started[gp]}toString(){const gp=[];let rp=0;for(const up of this.times){const $p=up.name;$p.length>rp&&(rp=$p.length)}for(const up of this.times){const $p=up.end-up.start;gp.push(`${up.name.padEnd(rp)} ${$p}ms
`)}return gp.join("")}}e.StatTimer=Wl;function Yl(hp,gp){try{const{protocol:rp}=gp?new URL(hp,gp):new URL(hp);return rp==="http:"||rp==="https:"}catch{return!1}}function Xl(hp,gp=!1){return new Promise((rp,up)=>{const $p=document.createElement("script");$p.src=hp,$p.onload=function(yp){gp&&$p.remove(),rp(yp)},$p.onerror=function(){up(new Error(`Cannot load script at: ${$p.src}`))},(document.head||document.documentElement).append($p)})}function Gl(hp){console.log("Deprecated API usage: "+hp)}let _d;class Kl{static toDateObject(gp){if(!gp||typeof gp!="string")return null;_d||(_d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const rp=_d.exec(gp);if(!rp)return null;const up=parseInt(rp[1],10);let $p=parseInt(rp[2],10);$p=$p>=1&&$p<=12?$p-1:0;let yp=parseInt(rp[3],10);yp=yp>=1&&yp<=31?yp:1;let dp=parseInt(rp[4],10);dp=dp>=0&&dp<=23?dp:0;let ep=parseInt(rp[5],10);ep=ep>=0&&ep<=59?ep:0;let Ql=parseInt(rp[6],10);Ql=Ql>=0&&Ql<=59?Ql:0;const Jl=rp[7]||"Z";let np=parseInt(rp[8],10);np=np>=0&&np<=23?np:0;let cp=parseInt(rp[9],10)||0;return cp=cp>=0&&cp<=59?cp:0,Jl==="-"?(dp+=np,ep+=cp):Jl==="+"&&(dp-=np,ep-=cp),new Date(Date.UTC(up,$p,yp,dp,ep,Ql))}}e.PDFDateString=Kl;function ru(hp,{scale:gp=1,rotation:rp=0}){const{width:up,height:$p}=hp.attributes.style,yp=[0,0,parseInt(up),parseInt($p)];return new Ul({viewBox:yp,scale:gp,rotation:rp})}function Zl(hp){if(hp.startsWith("#")){const gp=parseInt(hp.slice(1),16);return[(gp&16711680)>>16,(gp&65280)>>8,gp&255]}return hp.startsWith("rgb(")?hp.slice(4,-1).split(",").map(gp=>parseInt(gp)):hp.startsWith("rgba(")?hp.slice(5,-1).split(",").map(gp=>parseInt(gp)).slice(0,3):((0,a.warn)(`Not a valid color format: "${hp}"`),[0,0,0])}function tp(hp){const gp=document.createElement("span");gp.style.visibility="hidden",document.body.append(gp);for(const rp of hp.keys()){gp.style.color=rp;const up=window.getComputedStyle(gp).color;hp.set(rp,Zl(up))}gp.remove()}function op(hp){const{a:gp,b:rp,c:up,d:$p,e:yp,f:dp}=hp.getTransform();return[gp,rp,up,$p,yp,dp]}function bp(hp){const{a:gp,b:rp,c:up,d:$p,e:yp,f:dp}=hp.getTransform().invertSelf();return[gp,rp,up,$p,yp,dp]}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,$l){if(_<=0||$l<=0)throw new Error("Invalid canvas size");const Rl=this._createCanvas(_,$l);return{canvas:Rl,context:Rl.getContext("2d")}}reset(_,$l,Rl){if(!_.canvas)throw new Error("Canvas is not specified");if($l<=0||Rl<=0)throw new Error("Invalid canvas size");_.canvas.width=$l,_.canvas.height=Rl}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,$l){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=a;class c{constructor({baseUrl:_=null,isCompressed:$l=!1}){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=$l}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const $l=this.baseUrl+_+(this.isCompressed?".bcmap":""),Rl=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData($l,Rl).catch(Ml=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$l}`)})}_fetchData(_,$l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=c;class d{constructor({baseUrl:_=null}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const $l=`${this.baseUrl}${_}`;return this._fetchData($l).catch(Rl=>{throw new Error(`Unable to load font data at: ${$l}`)})}_fetchData(_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=d;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,$l,Rl=!1){if(_<=0||$l<=0)throw new Error("Invalid SVG dimensions");const Ml=this._createSVG("svg:svg");return Ml.setAttribute("version","1.1"),Rl||(Ml.setAttribute("width",`${_}px`),Ml.setAttribute("height",`${$l}px`)),Ml.setAttribute("preserveAspectRatio","none"),Ml.setAttribute("viewBox",`0 0 ${_} ${$l}`),Ml}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,o.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=h},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(_){this.h1=_?_&4294967295:a,this.h2=_?_&4294967295:a}update(_){let $l,Rl;if(typeof _=="string"){$l=new Uint8Array(_.length*2),Rl=0;for(let _d=0,Kl=_.length;_d<Kl;_d++){const ru=_.charCodeAt(_d);ru<=255?$l[Rl++]=ru:($l[Rl++]=ru>>>8,$l[Rl++]=ru&255)}}else if((0,o.isArrayBuffer)(_))$l=_.slice(),Rl=$l.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Ml=Rl>>2,Ul=Rl-Ml*4,Fl=new Uint32Array($l.buffer,0,Ml);let Ll=0,Bl=0,zl=this.h1,Hl=this.h2;const Wl=3432918353,Yl=461845907,Xl=Wl&d,Gl=Yl&d;for(let _d=0;_d<Ml;_d++)_d&1?(Ll=Fl[_d],Ll=Ll*Wl&c|Ll*Xl&d,Ll=Ll<<15|Ll>>>17,Ll=Ll*Yl&c|Ll*Gl&d,zl^=Ll,zl=zl<<13|zl>>>19,zl=zl*5+3864292196):(Bl=Fl[_d],Bl=Bl*Wl&c|Bl*Xl&d,Bl=Bl<<15|Bl>>>17,Bl=Bl*Yl&c|Bl*Gl&d,Hl^=Bl,Hl=Hl<<13|Hl>>>19,Hl=Hl*5+3864292196);switch(Ll=0,Ul){case 3:Ll^=$l[Ml*4+2]<<16;case 2:Ll^=$l[Ml*4+1]<<8;case 1:Ll^=$l[Ml*4],Ll=Ll*Wl&c|Ll*Xl&d,Ll=Ll<<15|Ll>>>17,Ll=Ll*Yl&c|Ll*Gl&d,Ml&1?zl^=Ll:Hl^=Ll}this.h1=zl,this.h2=Hl}hexdigest(){let _=this.h1,$l=this.h2;_^=$l>>>1,_=_*3981806797&c|_*36045&d,$l=$l*4283543511&c|(($l<<16|_>>>16)*2950163797&c)>>>16,_^=$l>>>1,_=_*444984403&c|_*60499&d,$l=$l*3301882366&c|(($l<<16|_>>>16)*3120437893&c)>>>16,_^=$l>>>1;const Rl=(_>>>0).toString(16),Ml=($l>>>0).toString(16);return Rl.padStart(8,"0")+Ml.padStart(8,"0")}}e.MurmurHash3_64=h},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var o=s(1);class a{constructor({docId:g,onUnsupportedFeature:_,ownerDocument:$l=globalThis.document,styleElement:Rl=null}){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=g,this._onUnsupportedFeature=_,this._document=$l,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(g){this.nativeFontFaces.push(g),this._document.fonts.add(g)}insertRule(g){let _=this.styleElement;_||(_=this.styleElement=this._document.createElement("style"),_.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(_));const $l=_.sheet;$l.insertRule(g,$l.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(g){if(g.attached||g.missingFile)return;if(g.attached=!0,this.isFontLoadingAPISupported){const $l=g.createNativeFontFace();if($l){this.addNativeFontFace($l);try{await $l.loaded}catch(Rl){throw this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)(`Failed to load font '${$l.family}': '${Rl}'.`),g.disableFontFace=!0,Rl}}return}const _=g.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise($l=>{const Rl=this._queueLoadingCallback($l);this._prepareFontLoadEvent([_],[g],Rl)})}}_queueLoadingCallback(g){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var _;const g=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(g,_,$l){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let c;e.FontLoader=c,e.FontLoader=c=class extends a{constructor(g){super(g),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let g=!1;if(typeof navigator>"u")g=!0;else{const _=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(_==null?void 0:_[1])>=14&&(g=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function _(){for((0,o.assert)(!Rl.done,"completeRequest() cannot be called twice."),Rl.done=!0;$l.requests.length>0&&$l.requests[0].done;){const Ml=$l.requests.shift();setTimeout(Ml.callback,0)}}const $l=this.loadingContext,Rl={id:`pdfjs-font-loading-${$l.nextRequestId++}`,done:!1,complete:_,callback:g};return $l.requests.push(Rl),Rl}get _loadTestFont(){const g=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,o.shadow)(this,"_loadTestFont",g())}_prepareFontLoadEvent(g,_,$l){function Rl(bp,ap){return bp.charCodeAt(ap)<<24|bp.charCodeAt(ap+1)<<16|bp.charCodeAt(ap+2)<<8|bp.charCodeAt(ap+3)&255}function Ml(bp,ap,hp,gp){const rp=bp.substring(0,ap),up=bp.substring(ap+hp);return rp+gp+up}let Ul,Fl;const Ll=this._document.createElement("canvas");Ll.width=1,Ll.height=1;const Bl=Ll.getContext("2d");let zl=0;function Hl(bp,ap){if(zl++,zl>30){(0,o.warn)("Load test font never loaded."),ap();return}if(Bl.font="30px "+bp,Bl.fillText(".",0,20),Bl.getImageData(0,0,1,1).data[3]>0){ap();return}setTimeout(Hl.bind(null,bp,ap))}const Wl=`lt${Date.now()}${this.loadTestFontId++}`;let Yl=this._loadTestFont;Yl=Ml(Yl,976,Wl.length,Wl);const Gl=16,_d=1482184792;let Kl=Rl(Yl,Gl);for(Ul=0,Fl=Wl.length-3;Ul<Fl;Ul+=4)Kl=Kl-_d+Rl(Wl,Ul)|0;Ul<Wl.length&&(Kl=Kl-_d+Rl(Wl+"XXX",Ul)|0),Yl=Ml(Yl,Gl,4,(0,o.string32)(Kl));const ru=`url(data:font/opentype;base64,${btoa(Yl)});`,Zl=`@font-face {font-family:"${Wl}";src:${ru}}`;this.insertRule(Zl);const tp=[];for(const bp of _)tp.push(bp.loadedName);tp.push(Wl);const op=this._document.createElement("div");op.style.visibility="hidden",op.style.width=op.style.height="10px",op.style.position="absolute",op.style.top=op.style.left="0px";for(const bp of tp){const ap=this._document.createElement("span");ap.textContent="Hi",ap.style.fontFamily=bp,op.append(ap)}this._document.body.append(op),Hl(Wl,()=>{op.remove(),$l.complete()})}};class d{constructor(g,{isEvalSupported:_=!0,disableFontFace:$l=!1,ignoreErrors:Rl=!1,onUnsupportedFeature:Ml,fontRegistry:Ul=null}){this.compiledGlyphs=Object.create(null);for(const Fl in g)this[Fl]=g[Fl];this.isEvalSupported=_!==!1,this.disableFontFace=$l===!0,this.ignoreErrors=Rl===!0,this._onUnsupportedFeature=Ml,this.fontRegistry=Ul}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return this.fontRegistry&&this.fontRegistry.registerFont(this),g}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(g)});`;let $l;if(!this.cssFontInfo)$l=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let Rl=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Rl+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$l=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Rl}src:${_}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,_),$l}getPathGenerator(g,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let $l;try{$l=g.get(this.loadedName+"_path_"+_)}catch(Rl){if(!this.ignoreErrors)throw Rl;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)(`getPathGenerator - ignoring character: "${Rl}".`),this.compiledGlyphs[_]=function(Ml,Ul){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const Rl=[];for(const Ml of $l){const Ul=Ml.args!==void 0?Ml.args.join(","):"";Rl.push("c.",Ml.cmd,"(",Ul,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",Rl.join(""))}return this.compiledGlyphs[_]=function(Rl,Ml){for(const Ul of $l)Ul.cmd==="scale"&&(Ul.args=[Ml,-Ml]),Rl[Ul.cmd].apply(Rl,Ul.args)}}}e.FontFaceObject=d},(i,e,s)=>{var $p,Rm;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var o=s(8),a=s(1),c=s(13),d=s(14),h=s(3);const g=16,_=100,$l=4096,Rl=15,Ml=10,Ul=h.isNodeJS&&typeof Path2D>"u"?-1:1e3,Fl=16;function Ll(ep,Ql){if(ep._removeMirroring)throw new Error("Context is already forwarding operations.");ep.__originalSave=ep.save,ep.__originalRestore=ep.restore,ep.__originalRotate=ep.rotate,ep.__originalScale=ep.scale,ep.__originalTranslate=ep.translate,ep.__originalTransform=ep.transform,ep.__originalSetTransform=ep.setTransform,ep.__originalResetTransform=ep.resetTransform,ep.__originalClip=ep.clip,ep.__originalMoveTo=ep.moveTo,ep.__originalLineTo=ep.lineTo,ep.__originalBezierCurveTo=ep.bezierCurveTo,ep.__originalRect=ep.rect,ep.__originalClosePath=ep.closePath,ep.__originalBeginPath=ep.beginPath,ep._removeMirroring=()=>{ep.save=ep.__originalSave,ep.restore=ep.__originalRestore,ep.rotate=ep.__originalRotate,ep.scale=ep.__originalScale,ep.translate=ep.__originalTranslate,ep.transform=ep.__originalTransform,ep.setTransform=ep.__originalSetTransform,ep.resetTransform=ep.__originalResetTransform,ep.clip=ep.__originalClip,ep.moveTo=ep.__originalMoveTo,ep.lineTo=ep.__originalLineTo,ep.bezierCurveTo=ep.__originalBezierCurveTo,ep.rect=ep.__originalRect,ep.closePath=ep.__originalClosePath,ep.beginPath=ep.__originalBeginPath,delete ep._removeMirroring},ep.save=function(){Ql.save(),this.__originalSave()},ep.restore=function(){Ql.restore(),this.__originalRestore()},ep.translate=function(np,cp){Ql.translate(np,cp),this.__originalTranslate(np,cp)},ep.scale=function(np,cp){Ql.scale(np,cp),this.__originalScale(np,cp)},ep.transform=function(np,cp,fp,vp,wp,xp){Ql.transform(np,cp,fp,vp,wp,xp),this.__originalTransform(np,cp,fp,vp,wp,xp)},ep.setTransform=function(np,cp,fp,vp,wp,xp){Ql.setTransform(np,cp,fp,vp,wp,xp),this.__originalSetTransform(np,cp,fp,vp,wp,xp)},ep.resetTransform=function(){Ql.resetTransform(),this.__originalResetTransform()},ep.rotate=function(np){Ql.rotate(np),this.__originalRotate(np)},ep.clip=function(np){Ql.clip(np),this.__originalClip(np)},ep.moveTo=function(Jl,np){Ql.moveTo(Jl,np),this.__originalMoveTo(Jl,np)},ep.lineTo=function(Jl,np){Ql.lineTo(Jl,np),this.__originalLineTo(Jl,np)},ep.bezierCurveTo=function(Jl,np,cp,fp,vp,wp){Ql.bezierCurveTo(Jl,np,cp,fp,vp,wp),this.__originalBezierCurveTo(Jl,np,cp,fp,vp,wp)},ep.rect=function(Jl,np,cp,fp){Ql.rect(Jl,np,cp,fp),this.__originalRect(Jl,np,cp,fp)},ep.closePath=function(){Ql.closePath(),this.__originalClosePath()},ep.beginPath=function(){Ql.beginPath(),this.__originalBeginPath()}}class Bl{constructor(Ql){this.canvasFactory=Ql,this.cache=Object.create(null)}getCanvas(Ql,Jl,np){let cp;return this.cache[Ql]!==void 0?(cp=this.cache[Ql],this.canvasFactory.reset(cp,Jl,np)):(cp=this.canvasFactory.create(Jl,np),this.cache[Ql]=cp),cp}delete(Ql){delete this.cache[Ql]}clear(){for(const Ql in this.cache){const Jl=this.cache[Ql];this.canvasFactory.destroy(Jl),delete this.cache[Ql]}}}function zl(ep,Ql,Jl,np,cp,fp,vp,wp,xp,_f){const[ip,sp,lp,pp,Sp,Op]=(0,o.getCurrentTransform)(ep);if(sp===0&&lp===0){const Ap=vp*ip+Sp,kp=Math.round(Ap),Rp=wp*pp+Op,Fp=Math.round(Rp),_p=(vp+xp)*ip+Sp,Np=Math.abs(Math.round(_p)-kp)||1,Vp=(wp+_f)*pp+Op,Wp=Math.abs(Math.round(Vp)-Fp)||1;return ep.setTransform(Math.sign(ip),0,0,Math.sign(pp),kp,Fp),ep.drawImage(Ql,Jl,np,cp,fp,0,0,Np,Wp),ep.setTransform(ip,sp,lp,pp,Sp,Op),[Np,Wp]}if(ip===0&&pp===0){const Ap=wp*lp+Sp,kp=Math.round(Ap),Rp=vp*sp+Op,Fp=Math.round(Rp),_p=(wp+_f)*lp+Sp,Np=Math.abs(Math.round(_p)-kp)||1,Vp=(vp+xp)*sp+Op,Wp=Math.abs(Math.round(Vp)-Fp)||1;return ep.setTransform(0,Math.sign(sp),Math.sign(lp),0,kp,Fp),ep.drawImage(Ql,Jl,np,cp,fp,0,0,Wp,Np),ep.setTransform(ip,sp,lp,pp,Sp,Op),[Wp,Np]}ep.drawImage(Ql,Jl,np,cp,fp,vp,wp,xp,_f);const Lp=Math.hypot(ip,sp),Pp=Math.hypot(lp,pp);return[Lp*xp,Pp*_f]}function Hl(ep){const{width:Ql,height:Jl}=ep;if(Ql>Ul||Jl>Ul)return null;const np=1e3,cp=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),fp=Ql+1;let vp=new Uint8Array(fp*(Jl+1)),wp,xp,_f;const ip=Ql+7&-8;let sp=new Uint8Array(ip*Jl),lp=0;for(const Pp of ep.data){let Ap=128;for(;Ap>0;)sp[lp++]=Pp&Ap?0:255,Ap>>=1}let pp=0;for(lp=0,sp[lp]!==0&&(vp[0]=1,++pp),xp=1;xp<Ql;xp++)sp[lp]!==sp[lp+1]&&(vp[xp]=sp[lp]?2:1,++pp),lp++;for(sp[lp]!==0&&(vp[xp]=2,++pp),wp=1;wp<Jl;wp++){lp=wp*ip,_f=wp*fp,sp[lp-ip]!==sp[lp]&&(vp[_f]=sp[lp]?1:8,++pp);let Pp=(sp[lp]?4:0)+(sp[lp-ip]?8:0);for(xp=1;xp<Ql;xp++)Pp=(Pp>>2)+(sp[lp+1]?4:0)+(sp[lp-ip+1]?8:0),cp[Pp]&&(vp[_f+xp]=cp[Pp],++pp),lp++;if(sp[lp-ip]!==sp[lp]&&(vp[_f+xp]=sp[lp]?2:4,++pp),pp>np)return null}for(lp=ip*(Jl-1),_f=wp*fp,sp[lp]!==0&&(vp[_f]=8,++pp),xp=1;xp<Ql;xp++)sp[lp]!==sp[lp+1]&&(vp[_f+xp]=sp[lp]?4:8,++pp),lp++;if(sp[lp]!==0&&(vp[_f+xp]=4,++pp),pp>np)return null;const Sp=new Int32Array([0,fp,-1,0,-fp,0,0,0,1]),Op=new Path2D;for(wp=0;pp&&wp<=Jl;wp++){let Pp=wp*fp;const Ap=Pp+Ql;for(;Pp<Ap&&!vp[Pp];)Pp++;if(Pp===Ap)continue;Op.moveTo(Pp%fp,wp);const kp=Pp;let Rp=vp[Pp];do{const Fp=Sp[Rp];do Pp+=Fp;while(!vp[Pp]);const _p=vp[Pp];_p!==5&&_p!==10?(Rp=_p,vp[Pp]=0):(Rp=_p&51*Rp>>4,vp[Pp]&=Rp>>2|Rp<<2),Op.lineTo(Pp%fp,Pp/fp|0),vp[Pp]||--pp}while(kp!==Pp);--wp}return sp=null,vp=null,function(Pp){Pp.save(),Pp.scale(1/Ql,-1/Jl),Pp.translate(0,-Jl),Pp.fill(Op),Pp.beginPath(),Pp.restore()}}class Wl{constructor(Ql,Jl){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Ql,Jl])}clone(){const Ql=Object.create(this);return Ql.clipBox=this.clipBox.slice(),Ql}setCurrentPoint(Ql,Jl){this.x=Ql,this.y=Jl}updatePathMinMax(Ql,Jl,np){[Jl,np]=a.Util.applyTransform([Jl,np],Ql),this.minX=Math.min(this.minX,Jl),this.minY=Math.min(this.minY,np),this.maxX=Math.max(this.maxX,Jl),this.maxY=Math.max(this.maxY,np)}updateRectMinMax(Ql,Jl){const np=a.Util.applyTransform(Jl,Ql),cp=a.Util.applyTransform(Jl.slice(2),Ql);this.minX=Math.min(this.minX,np[0],cp[0]),this.minY=Math.min(this.minY,np[1],cp[1]),this.maxX=Math.max(this.maxX,np[0],cp[0]),this.maxY=Math.max(this.maxY,np[1],cp[1])}updateScalingPathMinMax(Ql,Jl){a.Util.scaleMinMax(Ql,Jl),this.minX=Math.min(this.minX,Jl[0]),this.maxX=Math.max(this.maxX,Jl[1]),this.minY=Math.min(this.minY,Jl[2]),this.maxY=Math.max(this.maxY,Jl[3])}updateCurvePathMinMax(Ql,Jl,np,cp,fp,vp,wp,xp,_f,ip){const sp=a.Util.bezierBoundingBox(Jl,np,cp,fp,vp,wp,xp,_f);if(ip){ip[0]=Math.min(ip[0],sp[0],sp[2]),ip[1]=Math.max(ip[1],sp[0],sp[2]),ip[2]=Math.min(ip[2],sp[1],sp[3]),ip[3]=Math.max(ip[3],sp[1],sp[3]);return}this.updateRectMinMax(Ql,sp)}getPathBoundingBox(Ql=c.PathType.FILL,Jl=null){const np=[this.minX,this.minY,this.maxX,this.maxY];if(Ql===c.PathType.STROKE){Jl||(0,a.unreachable)("Stroke bounding box must include transform.");const cp=a.Util.singularValueDecompose2dScale(Jl),fp=cp[0]*this.lineWidth/2,vp=cp[1]*this.lineWidth/2;np[0]-=fp,np[1]-=vp,np[2]+=fp,np[3]+=vp}return np}updateClipFromPath(){const Ql=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Ql||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Ql){this.clipBox=Ql,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Ql=c.PathType.FILL,Jl=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(Ql,Jl))}}function Yl(ep,Ql,Jl=null){if(typeof ImageData<"u"&&Ql instanceof ImageData){ep.putImageData(Ql,0,0);return}const np=Ql.height,cp=Ql.width,fp=np%Fl,vp=(np-fp)/Fl,wp=fp===0?vp:vp+1,xp=ep.createImageData(cp,Fl);let _f=0,ip;const sp=Ql.data,lp=xp.data;let pp,Sp,Op,Lp,Pp,Ap,kp,Rp;if(Jl)switch(Jl.length){case 1:Pp=Jl[0],Ap=Jl[0],kp=Jl[0],Rp=Jl[0];break;case 4:Pp=Jl[0],Ap=Jl[1],kp=Jl[2],Rp=Jl[3];break}if(Ql.kind===a.ImageKind.GRAYSCALE_1BPP){const Fp=sp.byteLength,_p=new Uint32Array(lp.buffer,0,lp.byteLength>>2),Np=_p.length,Vp=cp+7>>3;let Wp=4294967295,Yp=a.FeatureTest.isLittleEndian?4278190080:255;for(Rp&&Rp[0]===255&&Rp[255]===0&&([Wp,Yp]=[Yp,Wp]),pp=0;pp<wp;pp++){for(Op=pp<vp?Fl:fp,ip=0,Sp=0;Sp<Op;Sp++){const Kp=Fp-_f;let tm=0;const em=Kp>Vp?cp:Kp*8-7,mm=em&-8;let Xp=0,rm=0;for(;tm<mm;tm+=8)rm=sp[_f++],_p[ip++]=rm&128?Wp:Yp,_p[ip++]=rm&64?Wp:Yp,_p[ip++]=rm&32?Wp:Yp,_p[ip++]=rm&16?Wp:Yp,_p[ip++]=rm&8?Wp:Yp,_p[ip++]=rm&4?Wp:Yp,_p[ip++]=rm&2?Wp:Yp,_p[ip++]=rm&1?Wp:Yp;for(;tm<em;tm++)Xp===0&&(rm=sp[_f++],Xp=128),_p[ip++]=rm&Xp?Wp:Yp,Xp>>=1}for(;ip<Np;)_p[ip++]=0;ep.putImageData(xp,0,pp*Fl)}}else if(Ql.kind===a.ImageKind.RGBA_32BPP){const Fp=!!(Pp||Ap||kp);for(Sp=0,Lp=cp*Fl*4,pp=0;pp<vp;pp++){if(lp.set(sp.subarray(_f,_f+Lp)),_f+=Lp,Fp)for(let _p=0;_p<Lp;_p+=4)Pp&&(lp[_p+0]=Pp[lp[_p+0]]),Ap&&(lp[_p+1]=Ap[lp[_p+1]]),kp&&(lp[_p+2]=kp[lp[_p+2]]);ep.putImageData(xp,0,Sp),Sp+=Fl}if(pp<wp){if(Lp=cp*fp*4,lp.set(sp.subarray(_f,_f+Lp)),Fp)for(let _p=0;_p<Lp;_p+=4)Pp&&(lp[_p+0]=Pp[lp[_p+0]]),Ap&&(lp[_p+1]=Ap[lp[_p+1]]),kp&&(lp[_p+2]=kp[lp[_p+2]]);ep.putImageData(xp,0,Sp)}}else if(Ql.kind===a.ImageKind.RGB_24BPP){const Fp=!!(Pp||Ap||kp);for(Op=Fl,Lp=cp*Op,pp=0;pp<wp;pp++){for(pp>=vp&&(Op=fp,Lp=cp*Op),ip=0,Sp=Lp;Sp--;)lp[ip++]=sp[_f++],lp[ip++]=sp[_f++],lp[ip++]=sp[_f++],lp[ip++]=255;if(Fp)for(let _p=0;_p<ip;_p+=4)Pp&&(lp[_p+0]=Pp[lp[_p+0]]),Ap&&(lp[_p+1]=Ap[lp[_p+1]]),kp&&(lp[_p+2]=kp[lp[_p+2]]);ep.putImageData(xp,0,pp*Fl)}}else throw new Error(`bad image kind: ${Ql.kind}`)}function Xl(ep,Ql){if(Ql.bitmap){ep.drawImage(Ql.bitmap,0,0);return}const Jl=Ql.height,np=Ql.width,cp=Jl%Fl,fp=(Jl-cp)/Fl,vp=cp===0?fp:fp+1,wp=ep.createImageData(np,Fl);let xp=0;const _f=Ql.data,ip=wp.data;for(let sp=0;sp<vp;sp++){const lp=sp<fp?Fl:cp;({srcPos:xp}=(0,d.applyMaskImageData)({src:_f,srcPos:xp,dest:ip,width:np,height:lp})),ep.putImageData(wp,0,sp*Fl)}}function Gl(ep,Ql){const Jl=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let np=0,cp=Jl.length;np<cp;np++){const fp=Jl[np];ep[fp]!==void 0&&(Ql[fp]=ep[fp])}ep.setLineDash!==void 0&&(Ql.setLineDash(ep.getLineDash()),Ql.lineDashOffset=ep.lineDashOffset)}function _d(ep,Ql){ep.strokeStyle=ep.fillStyle=Ql||"#000000",ep.fillRule="nonzero",ep.globalAlpha=1,ep.lineWidth=1,ep.lineCap="butt",ep.lineJoin="miter",ep.miterLimit=10,ep.globalCompositeOperation="source-over",ep.font="10px sans-serif",ep.setLineDash!==void 0&&(ep.setLineDash([]),ep.lineDashOffset=0)}function Kl(ep,Ql,Jl,np){const cp=ep.length;for(let fp=3;fp<cp;fp+=4){const vp=ep[fp];if(vp===0)ep[fp-3]=Ql,ep[fp-2]=Jl,ep[fp-1]=np;else if(vp<255){const wp=255-vp;ep[fp-3]=ep[fp-3]*vp+Ql*wp>>8,ep[fp-2]=ep[fp-2]*vp+Jl*wp>>8,ep[fp-1]=ep[fp-1]*vp+np*wp>>8}}}function ru(ep,Ql,Jl){const np=ep.length,cp=1/255;for(let fp=3;fp<np;fp+=4){const vp=Jl?Jl[ep[fp]]:ep[fp];Ql[fp]=Ql[fp]*vp*cp|0}}function Zl(ep,Ql,Jl){const np=ep.length;for(let cp=3;cp<np;cp+=4){const fp=ep[cp-3]*77+ep[cp-2]*152+ep[cp-1]*28;Ql[cp]=Jl?Ql[cp]*Jl[fp>>8]>>8:Ql[cp]*fp>>16}}function tp(ep,Ql,Jl,np,cp,fp,vp,wp,xp,_f,ip){const sp=!!fp,lp=sp?fp[0]:0,pp=sp?fp[1]:0,Sp=sp?fp[2]:0;let Op;cp==="Luminosity"?Op=Zl:Op=ru;const Pp=Math.min(np,Math.ceil(1048576/Jl));for(let Ap=0;Ap<np;Ap+=Pp){const kp=Math.min(Pp,np-Ap),Rp=ep.getImageData(wp-_f,Ap+(xp-ip),Jl,kp),Fp=Ql.getImageData(wp,Ap+xp,Jl,kp);sp&&Kl(Rp.data,lp,pp,Sp),Op(Rp.data,Fp.data,vp),Ql.putImageData(Fp,wp,Ap+xp)}}function op(ep,Ql,Jl,np){const cp=np[0],fp=np[1],vp=np[2]-cp,wp=np[3]-fp;vp===0||wp===0||(tp(Ql.context,Jl,vp,wp,Ql.subtype,Ql.backdrop,Ql.transferMap,cp,fp,Ql.offsetX,Ql.offsetY),ep.save(),ep.globalAlpha=1,ep.globalCompositeOperation="source-over",ep.setTransform(1,0,0,1,0,0),ep.drawImage(Jl.canvas,0,0),ep.restore())}function bp(ep,Ql){const Jl=a.Util.singularValueDecompose2dScale(ep);Jl[0]=Math.fround(Jl[0]),Jl[1]=Math.fround(Jl[1]);const np=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return Ql!==void 0?Ql:Jl[0]<=np||Jl[1]<=np}const ap=["butt","round","square"],hp=["miter","round","bevel"],gp={},rp={},dp=class{constructor(Ql,Jl,np,cp,fp,vp,wp,xp){Dp(this,$p);this.ctx=Ql,this.current=new Wl(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Jl,this.objs=np,this.canvasFactory=cp,this.imageLayer=fp,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=vp,this.cachedCanvases=new Bl(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=wp,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(xp==null?void 0:xp.background)||null,this.foregroundColor=(xp==null?void 0:xp.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Ql,Jl=null){return typeof Ql=="string"?Ql.startsWith("g_")?this.commonObjs.get(Ql):this.objs.get(Ql):Jl}beginDrawing({transform:Ql,viewport:Jl,transparency:np=!1,background:cp=null}){const fp=this.ctx.canvas.width,vp=this.ctx.canvas.height,wp=cp||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const xp=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const _f=this.backgroundColor=this.ctx.fillStyle;let ip=!0,sp=wp;if(this.ctx.fillStyle=wp,sp=this.ctx.fillStyle,ip=typeof sp=="string"&&/^#[0-9A-Fa-f]{6}$/.test(sp),xp==="#000000"&&_f==="#ffffff"||xp===_f||!ip)this.foregroundColor=this.backgroundColor=null;else{const[lp,pp,Sp]=(0,o.getRGB)(sp),Op=Pp=>(Pp/=255,Pp<=.03928?Pp/12.92:((Pp+.055)/1.055)**2.4),Lp=Math.round(.2126*Op(lp)+.7152*Op(pp)+.0722*Op(Sp));this.selectColor=(Pp,Ap,kp)=>{const Rp=.2126*Op(Pp)+.7152*Op(Ap)+.0722*Op(kp);return Math.round(Rp)===Lp?_f:xp}}}if(this.ctx.fillStyle=this.backgroundColor||wp,this.ctx.fillRect(0,0,fp,vp),this.ctx.restore(),np){const xp=this.cachedCanvases.getCanvas("transparent",fp,vp);this.compositeCtx=this.ctx,this.transparentCanvas=xp.canvas,this.ctx=xp.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_d(this.ctx,this.foregroundColor),Ql&&(this.ctx.transform(...Ql),this.outputScaleX=Ql[0],this.outputScaleY=Ql[0]),this.ctx.transform(...Jl.transform),this.viewportScale=Jl.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx),this.imageLayer&&((0,o.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(Ql,Jl,np,cp){const fp=Ql.argsArray,vp=Ql.fnArray;let wp=Jl||0;const xp=fp.length;if(xp===wp)return wp;const _f=xp-wp>Ml&&typeof np=="function",ip=_f?Date.now()+Rl:0;let sp=0;const lp=this.commonObjs,pp=this.objs;let Sp;for(;;){if(cp!==void 0&&wp===cp.nextBreakPoint)return cp.breakIt(wp,np),wp;if(Sp=vp[wp],Sp!==a.OPS.dependency)this[Sp].apply(this,fp[wp]);else for(const Op of fp[wp]){const Lp=Op.startsWith("g_")?lp:pp;if(!Lp.has(Op))return Lp.get(Op,np),wp}if(wp++,wp===xp)return wp;if(_f&&++sp>Ml){if(Date.now()>ip)return np(),wp;sp=0}}}endDrawing(){Mp(this,$p,Rm).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Ql of this._cachedBitmapsMap.values()){for(const Jl of Ql.values())typeof HTMLCanvasElement<"u"&&Jl instanceof HTMLCanvasElement&&(Jl.width=Jl.height=0);Ql.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(Ql,Jl){const np=Ql.width,cp=Ql.height;let fp=Math.max(Math.hypot(Jl[0],Jl[1]),1),vp=Math.max(Math.hypot(Jl[2],Jl[3]),1),wp=np,xp=cp,_f="prescale1",ip,sp;for(;fp>2&&wp>1||vp>2&&xp>1;){let lp=wp,pp=xp;fp>2&&wp>1&&(lp=Math.ceil(wp/2),fp/=wp/lp),vp>2&&xp>1&&(pp=Math.ceil(xp/2),vp/=xp/pp),ip=this.cachedCanvases.getCanvas(_f,lp,pp),sp=ip.context,sp.clearRect(0,0,lp,pp),sp.drawImage(Ql,0,0,wp,xp,0,0,lp,pp),Ql=ip.canvas,wp=lp,xp=pp,_f=_f==="prescale1"?"prescale2":"prescale1"}return{img:Ql,paintWidth:wp,paintHeight:xp}}_createMaskCanvas(Ql){const Jl=this.ctx,{width:np,height:cp}=Ql,fp=this.current.fillColor,vp=this.current.patternFill,wp=(0,o.getCurrentTransform)(Jl);let xp,_f,ip,sp;if((Ql.bitmap||Ql.data)&&Ql.count>1){const Np=Ql.bitmap||Ql.data.buffer,Vp=wp.slice(0,4);_f=JSON.stringify(vp?Vp:[Vp,fp]),xp=this._cachedBitmapsMap.get(Np),xp||(xp=new Map,this._cachedBitmapsMap.set(Np,xp));const Wp=xp.get(_f);if(Wp&&!vp){const Yp=Math.round(Math.min(wp[0],wp[2])+wp[4]),Kp=Math.round(Math.min(wp[1],wp[3])+wp[5]);return{canvas:Wp,offsetX:Yp,offsetY:Kp}}ip=Wp}ip||(sp=this.cachedCanvases.getCanvas("maskCanvas",np,cp),Xl(sp.context,Ql));let lp=a.Util.transform(wp,[1/np,0,0,-1/cp,0,0]);lp=a.Util.transform(lp,[1,0,0,1,0,-cp]);const pp=a.Util.applyTransform([0,0],lp),Sp=a.Util.applyTransform([np,cp],lp),Op=a.Util.normalizeRect([pp[0],pp[1],Sp[0],Sp[1]]),Lp=Math.round(Op[2]-Op[0])||1,Pp=Math.round(Op[3]-Op[1])||1,Ap=this.cachedCanvases.getCanvas("fillCanvas",Lp,Pp),kp=Ap.context,Rp=Math.min(pp[0],Sp[0]),Fp=Math.min(pp[1],Sp[1]);kp.translate(-Rp,-Fp),kp.transform(...lp),ip||(ip=this._scaleImage(sp.canvas,(0,o.getCurrentTransformInverse)(kp)),ip=ip.img,xp&&vp&&xp.set(_f,ip)),kp.imageSmoothingEnabled=bp((0,o.getCurrentTransform)(kp),Ql.interpolate),zl(kp,ip,0,0,ip.width,ip.height,0,0,np,cp),kp.globalCompositeOperation="source-in";const _p=a.Util.transform((0,o.getCurrentTransformInverse)(kp),[1,0,0,1,-Rp,-Fp]);return kp.fillStyle=vp?fp.getPattern(Jl,this,_p,c.PathType.FILL):fp,kp.fillRect(0,0,np,cp),xp&&!vp&&(this.cachedCanvases.delete("fillCanvas"),xp.set(_f,Ap.canvas)),{canvas:Ap.canvas,offsetX:Math.round(Rp),offsetY:Math.round(Fp)}}setLineWidth(Ql){Ql!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Ql,this.ctx.lineWidth=Ql}setLineCap(Ql){this.ctx.lineCap=ap[Ql]}setLineJoin(Ql){this.ctx.lineJoin=hp[Ql]}setMiterLimit(Ql){this.ctx.miterLimit=Ql}setDash(Ql,Jl){const np=this.ctx;np.setLineDash!==void 0&&(np.setLineDash(Ql),np.lineDashOffset=Jl)}setRenderingIntent(Ql){}setFlatness(Ql){}setGState(Ql){for(let Jl=0,np=Ql.length;Jl<np;Jl++){const cp=Ql[Jl],fp=cp[0],vp=cp[1];switch(fp){case"LW":this.setLineWidth(vp);break;case"LC":this.setLineCap(vp);break;case"LJ":this.setLineJoin(vp);break;case"ML":this.setMiterLimit(vp);break;case"D":this.setDash(vp[0],vp[1]);break;case"RI":this.setRenderingIntent(vp);break;case"FL":this.setFlatness(vp);break;case"Font":this.setFont(vp[0],vp[1]);break;case"CA":this.current.strokeAlpha=cp[1];break;case"ca":this.current.fillAlpha=cp[1],this.ctx.globalAlpha=cp[1];break;case"BM":this.ctx.globalCompositeOperation=vp;break;case"SMask":this.current.activeSMask=vp?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=vp}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Ql=this.inSMaskMode;this.current.activeSMask&&!Ql?this.beginSMaskMode():!this.current.activeSMask&&Ql&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Ql=this.ctx.canvas.width,Jl=this.ctx.canvas.height,np="smaskGroupAt"+this.groupLevel,cp=this.cachedCanvases.getCanvas(np,Ql,Jl);this.suspendedCtx=this.ctx,this.ctx=cp.context;const fp=this.ctx;fp.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),Gl(this.suspendedCtx,fp),Ll(fp,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Gl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Ql){if(!this.current.activeSMask)return;Ql?(Ql[0]=Math.floor(Ql[0]),Ql[1]=Math.floor(Ql[1]),Ql[2]=Math.ceil(Ql[2]),Ql[3]=Math.ceil(Ql[3])):Ql=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Jl=this.current.activeSMask,np=this.suspendedCtx;op(np,Jl,this.ctx,Ql),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Gl(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Ql=this.current;this.stateStack.push(Ql),this.current=Ql.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Gl(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Ql,Jl,np,cp,fp,vp){this.ctx.transform(Ql,Jl,np,cp,fp,vp),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Ql,Jl,np){const cp=this.ctx,fp=this.current;let vp=fp.x,wp=fp.y,xp,_f;const ip=(0,o.getCurrentTransform)(cp),sp=ip[0]===0&&ip[3]===0||ip[1]===0&&ip[2]===0,lp=sp?np.slice(0):null;for(let pp=0,Sp=0,Op=Ql.length;pp<Op;pp++)switch(Ql[pp]|0){case a.OPS.rectangle:vp=Jl[Sp++],wp=Jl[Sp++];const Lp=Jl[Sp++],Pp=Jl[Sp++],Ap=vp+Lp,kp=wp+Pp;cp.moveTo(vp,wp),Lp===0||Pp===0?cp.lineTo(Ap,kp):(cp.lineTo(Ap,wp),cp.lineTo(Ap,kp),cp.lineTo(vp,kp)),sp||fp.updateRectMinMax(ip,[vp,wp,Ap,kp]),cp.closePath();break;case a.OPS.moveTo:vp=Jl[Sp++],wp=Jl[Sp++],cp.moveTo(vp,wp),sp||fp.updatePathMinMax(ip,vp,wp);break;case a.OPS.lineTo:vp=Jl[Sp++],wp=Jl[Sp++],cp.lineTo(vp,wp),sp||fp.updatePathMinMax(ip,vp,wp);break;case a.OPS.curveTo:xp=vp,_f=wp,vp=Jl[Sp+4],wp=Jl[Sp+5],cp.bezierCurveTo(Jl[Sp],Jl[Sp+1],Jl[Sp+2],Jl[Sp+3],vp,wp),fp.updateCurvePathMinMax(ip,xp,_f,Jl[Sp],Jl[Sp+1],Jl[Sp+2],Jl[Sp+3],vp,wp,lp),Sp+=6;break;case a.OPS.curveTo2:xp=vp,_f=wp,cp.bezierCurveTo(vp,wp,Jl[Sp],Jl[Sp+1],Jl[Sp+2],Jl[Sp+3]),fp.updateCurvePathMinMax(ip,xp,_f,vp,wp,Jl[Sp],Jl[Sp+1],Jl[Sp+2],Jl[Sp+3],lp),vp=Jl[Sp+2],wp=Jl[Sp+3],Sp+=4;break;case a.OPS.curveTo3:xp=vp,_f=wp,vp=Jl[Sp+2],wp=Jl[Sp+3],cp.bezierCurveTo(Jl[Sp],Jl[Sp+1],vp,wp,vp,wp),fp.updateCurvePathMinMax(ip,xp,_f,Jl[Sp],Jl[Sp+1],vp,wp,vp,wp,lp),Sp+=4;break;case a.OPS.closePath:cp.closePath();break}sp&&fp.updateScalingPathMinMax(ip,lp),fp.setCurrentPoint(vp,wp)}closePath(){this.ctx.closePath()}stroke(Ql){Ql=typeof Ql<"u"?Ql:!0;const Jl=this.ctx,np=this.current.strokeColor;Jl.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof np=="object"&&(np==null?void 0:np.getPattern)?(Jl.save(),Jl.strokeStyle=np.getPattern(Jl,this,(0,o.getCurrentTransformInverse)(Jl),c.PathType.STROKE),this.rescaleAndStroke(!1),Jl.restore()):this.rescaleAndStroke(!0)),Ql&&this.consumePath(this.current.getClippedPathBoundingBox()),Jl.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Ql){Ql=typeof Ql<"u"?Ql:!0;const Jl=this.ctx,np=this.current.fillColor,cp=this.current.patternFill;let fp=!1;cp&&(Jl.save(),Jl.fillStyle=np.getPattern(Jl,this,(0,o.getCurrentTransformInverse)(Jl),c.PathType.FILL),fp=!0);const vp=this.current.getClippedPathBoundingBox();this.contentVisible&&vp!==null&&(this.pendingEOFill?(Jl.fill("evenodd"),this.pendingEOFill=!1):Jl.fill()),fp&&Jl.restore(),Ql&&this.consumePath(vp)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=gp}eoClip(){this.pendingClip=rp}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Ql=this.pendingTextPaths,Jl=this.ctx;if(Ql===void 0){Jl.beginPath();return}Jl.save(),Jl.beginPath();for(const np of Ql)Jl.setTransform(...np.transform),Jl.translate(np.x,np.y),np.addToPath(Jl,np.fontSize);Jl.restore(),Jl.clip(),Jl.beginPath(),delete this.pendingTextPaths}setCharSpacing(Ql){this.current.charSpacing=Ql}setWordSpacing(Ql){this.current.wordSpacing=Ql}setHScale(Ql){this.current.textHScale=Ql/100}setLeading(Ql){this.current.leading=-Ql}setFont(Ql,Jl){const np=this.commonObjs.get(Ql),cp=this.current;if(!np)throw new Error(`Can't find font for ${Ql}`);if(cp.fontMatrix=np.fontMatrix||a.FONT_IDENTITY_MATRIX,(cp.fontMatrix[0]===0||cp.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+Ql),Jl<0?(Jl=-Jl,cp.fontDirection=-1):cp.fontDirection=1,this.current.font=np,this.current.fontSize=Jl,np.isType3Font)return;const fp=np.loadedName||"sans-serif";let vp="normal";np.black?vp="900":np.bold&&(vp="bold");const wp=np.italic?"italic":"normal",xp=`"${fp}", ${np.fallbackName}`;let _f=Jl;Jl<g?_f=g:Jl>_&&(_f=_),this.current.fontSizeScale=Jl/_f,this.ctx.font=`${wp} ${vp} ${_f}px ${xp}`}setTextRenderingMode(Ql){this.current.textRenderingMode=Ql}setTextRise(Ql){this.current.textRise=Ql}moveText(Ql,Jl){this.current.x=this.current.lineX+=Ql,this.current.y=this.current.lineY+=Jl}setLeadingMoveText(Ql,Jl){this.setLeading(-Jl),this.moveText(Ql,Jl)}setTextMatrix(Ql,Jl,np,cp,fp,vp){this.current.textMatrix=[Ql,Jl,np,cp,fp,vp],this.current.textMatrixScale=Math.hypot(Ql,Jl),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Ql,Jl,np,cp){const fp=this.ctx,vp=this.current,wp=vp.font,xp=vp.textRenderingMode,_f=vp.fontSize/vp.fontSizeScale,ip=xp&a.TextRenderingMode.FILL_STROKE_MASK,sp=!!(xp&a.TextRenderingMode.ADD_TO_PATH_FLAG),lp=vp.patternFill&&!wp.missingFile;let pp;(wp.disableFontFace||sp||lp)&&(pp=wp.getPathGenerator(this.commonObjs,Ql)),wp.disableFontFace||lp?(fp.save(),fp.translate(Jl,np),fp.beginPath(),pp(fp,_f),cp&&fp.setTransform(...cp),(ip===a.TextRenderingMode.FILL||ip===a.TextRenderingMode.FILL_STROKE)&&fp.fill(),(ip===a.TextRenderingMode.STROKE||ip===a.TextRenderingMode.FILL_STROKE)&&fp.stroke(),fp.restore()):((ip===a.TextRenderingMode.FILL||ip===a.TextRenderingMode.FILL_STROKE)&&fp.fillText(Ql,Jl,np),(ip===a.TextRenderingMode.STROKE||ip===a.TextRenderingMode.FILL_STROKE)&&fp.strokeText(Ql,Jl,np)),sp&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(fp),x:Jl,y:np,fontSize:_f,addToPath:pp})}get isFontSubpixelAAEnabled(){const{context:Ql}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Ql.scale(1.5,1),Ql.fillText("I",0,10);const Jl=Ql.getImageData(0,0,10,10).data;let np=!1;for(let cp=3;cp<Jl.length;cp+=4)if(Jl[cp]>0&&Jl[cp]<255){np=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",np)}showText(Ql){const Jl=this.current,np=Jl.font;if(np.isType3Font)return this.showType3Text(Ql);const cp=Jl.fontSize;if(cp===0)return;const fp=this.ctx,vp=Jl.fontSizeScale,wp=Jl.charSpacing,xp=Jl.wordSpacing,_f=Jl.fontDirection,ip=Jl.textHScale*_f,sp=Ql.length,lp=np.vertical,pp=lp?1:-1,Sp=np.defaultVMetrics,Op=cp*Jl.fontMatrix[0],Lp=Jl.textRenderingMode===a.TextRenderingMode.FILL&&!np.disableFontFace&&!Jl.patternFill;fp.save(),fp.transform(...Jl.textMatrix),fp.translate(Jl.x,Jl.y+Jl.textRise),_f>0?fp.scale(ip,-1):fp.scale(ip,1);let Pp;if(Jl.patternFill){fp.save();const _p=Jl.fillColor.getPattern(fp,this,(0,o.getCurrentTransformInverse)(fp),c.PathType.FILL);Pp=(0,o.getCurrentTransform)(fp),fp.restore(),fp.fillStyle=_p}let Ap=Jl.lineWidth;const kp=Jl.textMatrixScale;if(kp===0||Ap===0){const _p=Jl.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(_p===a.TextRenderingMode.STROKE||_p===a.TextRenderingMode.FILL_STROKE)&&(Ap=this.getSinglePixelWidth())}else Ap/=kp;vp!==1&&(fp.scale(vp,vp),Ap/=vp),fp.lineWidth=Ap;let Rp=0,Fp;for(Fp=0;Fp<sp;++Fp){const _p=Ql[Fp];if(typeof _p=="number"){Rp+=pp*_p*cp/1e3;continue}let Np=!1;const Vp=(_p.isSpace?xp:0)+wp,Wp=_p.fontChar,Yp=_p.accent;let Kp,tm,em=_p.width;if(lp){const Xp=_p.vmetric||Sp,rm=-(_p.vmetric?Xp[1]:em*.5)*Op,Sm=Xp[2]*Op;em=Xp?-Xp[0]:em,Kp=rm/vp,tm=(Rp+Sm)/vp}else Kp=Rp/vp,tm=0;if(np.remeasure&&em>0){const Xp=fp.measureText(Wp).width*1e3/cp*vp;if(em<Xp&&this.isFontSubpixelAAEnabled){const rm=em/Xp;Np=!0,fp.save(),fp.scale(rm,1),Kp/=rm}else em!==Xp&&(Kp+=(em-Xp)/2e3*cp/vp)}if(this.contentVisible&&(_p.isInFont||np.missingFile)){if(Lp&&!Yp)fp.fillText(Wp,Kp,tm);else if(this.paintChar(Wp,Kp,tm,Pp),Yp){const Xp=Kp+cp*Yp.offset.x/vp,rm=tm-cp*Yp.offset.y/vp;this.paintChar(Yp.fontChar,Xp,rm,Pp)}}let mm;lp?mm=em*Op-Vp*_f:mm=em*Op+Vp*_f,Rp+=mm,Np&&fp.restore()}lp?Jl.y-=Rp:Jl.x+=Rp*ip,fp.restore(),this.compose()}showType3Text(Ql){const Jl=this.ctx,np=this.current,cp=np.font,fp=np.fontSize,vp=np.fontDirection,wp=cp.vertical?1:-1,xp=np.charSpacing,_f=np.wordSpacing,ip=np.textHScale*vp,sp=np.fontMatrix||a.FONT_IDENTITY_MATRIX,lp=Ql.length,pp=np.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Sp,Op,Lp,Pp;if(!(pp||fp===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Jl.save(),Jl.transform(...np.textMatrix),Jl.translate(np.x,np.y),Jl.scale(ip,vp),Sp=0;Sp<lp;++Sp){if(Op=Ql[Sp],typeof Op=="number"){Pp=wp*Op*fp/1e3,this.ctx.translate(Pp,0),np.x+=Pp*ip;continue}const Ap=(Op.isSpace?_f:0)+xp,kp=cp.charProcOperatorList[Op.operatorListId];if(!kp){(0,a.warn)(`Type3 character "${Op.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Op,this.save(),Jl.scale(fp,fp),Jl.transform(...sp),this.executeOperatorList(kp),this.restore()),Lp=a.Util.applyTransform([Op.width,0],sp)[0]*fp+Ap,Jl.translate(Lp,0),np.x+=Lp*ip}Jl.restore(),this.processingType3=null}}setCharWidth(Ql,Jl){}setCharWidthAndBounds(Ql,Jl,np,cp,fp,vp){this.ctx.rect(np,cp,fp-np,vp-cp),this.ctx.clip(),this.endPath()}getColorN_Pattern(Ql){let Jl;if(Ql[0]==="TilingPattern"){const np=Ql[1],cp=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),fp={createCanvasGraphics:vp=>new dp(vp,this.commonObjs,this.objs,this.canvasFactory)};Jl=new c.TilingPattern(Ql,np,this.ctx,fp,cp)}else Jl=this._getPattern(Ql[1],Ql[2]);return Jl}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Ql,Jl,np){var fp;const cp=((fp=this.selectColor)==null?void 0:fp.call(this,Ql,Jl,np))||a.Util.makeHexColor(Ql,Jl,np);this.ctx.strokeStyle=cp,this.current.strokeColor=cp}setFillRGBColor(Ql,Jl,np){var fp;const cp=((fp=this.selectColor)==null?void 0:fp.call(this,Ql,Jl,np))||a.Util.makeHexColor(Ql,Jl,np);this.ctx.fillStyle=cp,this.current.fillColor=cp,this.current.patternFill=!1}_getPattern(Ql,Jl=null){let np;return this.cachedPatterns.has(Ql)?np=this.cachedPatterns.get(Ql):(np=(0,c.getShadingPattern)(this.objs.get(Ql)),this.cachedPatterns.set(Ql,np)),Jl&&(np.matrix=Jl),np}shadingFill(Ql){if(!this.contentVisible)return;const Jl=this.ctx;this.save();const np=this._getPattern(Ql);Jl.fillStyle=np.getPattern(Jl,this,(0,o.getCurrentTransformInverse)(Jl),c.PathType.SHADING);const cp=(0,o.getCurrentTransformInverse)(Jl);if(cp){const fp=Jl.canvas,vp=fp.width,wp=fp.height,xp=a.Util.applyTransform([0,0],cp),_f=a.Util.applyTransform([0,wp],cp),ip=a.Util.applyTransform([vp,0],cp),sp=a.Util.applyTransform([vp,wp],cp),lp=Math.min(xp[0],_f[0],ip[0],sp[0]),pp=Math.min(xp[1],_f[1],ip[1],sp[1]),Sp=Math.max(xp[0],_f[0],ip[0],sp[0]),Op=Math.max(xp[1],_f[1],ip[1],sp[1]);this.ctx.fillRect(lp,pp,Sp-lp,Op-pp)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Ql,Jl){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Ql)&&Ql.length===6&&this.transform(...Ql),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),Jl)){const np=Jl[2]-Jl[0],cp=Jl[3]-Jl[1];this.ctx.rect(Jl[0],Jl[1],np,cp),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),Jl),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Ql){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Jl=this.ctx;Ql.isolated||(0,a.info)("TODO: Support non-isolated groups."),Ql.knockout&&(0,a.warn)("Knockout groups not supported.");const np=(0,o.getCurrentTransform)(Jl);if(Ql.matrix&&Jl.transform(...Ql.matrix),!Ql.bbox)throw new Error("Bounding box is required.");let cp=a.Util.getAxialAlignedBoundingBox(Ql.bbox,(0,o.getCurrentTransform)(Jl));const fp=[0,0,Jl.canvas.width,Jl.canvas.height];cp=a.Util.intersect(cp,fp)||[0,0,0,0];const vp=Math.floor(cp[0]),wp=Math.floor(cp[1]);let xp=Math.max(Math.ceil(cp[2])-vp,1),_f=Math.max(Math.ceil(cp[3])-wp,1),ip=1,sp=1;xp>$l&&(ip=xp/$l,xp=$l),_f>$l&&(sp=_f/$l,_f=$l),this.current.startNewPathAndClipBox([0,0,xp,_f]);let lp="groupAt"+this.groupLevel;Ql.smask&&(lp+="_smask_"+this.smaskCounter++%2);const pp=this.cachedCanvases.getCanvas(lp,xp,_f),Sp=pp.context;Sp.scale(1/ip,1/sp),Sp.translate(-vp,-wp),Sp.transform(...np),Ql.smask?this.smaskStack.push({canvas:pp.canvas,context:Sp,offsetX:vp,offsetY:wp,scaleX:ip,scaleY:sp,subtype:Ql.smask.subtype,backdrop:Ql.smask.backdrop,transferMap:Ql.smask.transferMap||null,startTransformInverse:null}):(Jl.setTransform(1,0,0,1,0,0),Jl.translate(vp,wp),Jl.scale(ip,sp),Jl.save()),Gl(Jl,Sp),this.ctx=Sp,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Jl),this.groupLevel++}endGroup(Ql){if(!this.contentVisible)return;this.groupLevel--;const Jl=this.ctx,np=this.groupStack.pop();if(this.ctx=np,this.ctx.imageSmoothingEnabled=!1,Ql.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const cp=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...cp);const fp=a.Util.getAxialAlignedBoundingBox([0,0,Jl.canvas.width,Jl.canvas.height],cp);this.ctx.drawImage(Jl.canvas,0,0),this.ctx.restore(),this.compose(fp)}}beginAnnotation(Ql,Jl,np,cp,fp){if(Mp(this,$p,Rm).call(this),_d(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Jl)&&Jl.length===4){const vp=Jl[2]-Jl[0],wp=Jl[3]-Jl[1];if(fp&&this.annotationCanvasMap){np=np.slice(),np[4]-=Jl[0],np[5]-=Jl[1],Jl=Jl.slice(),Jl[0]=Jl[1]=0,Jl[2]=vp,Jl[3]=wp;const[xp,_f]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:ip}=this,sp=Math.ceil(vp*this.outputScaleX*ip),lp=Math.ceil(wp*this.outputScaleY*ip);this.annotationCanvas=this.canvasFactory.create(sp,lp);const{canvas:pp,context:Sp}=this.annotationCanvas;this.annotationCanvasMap.set(Ql,pp),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Sp,this.ctx.setTransform(xp,0,0,-_f,0,wp*_f),_d(this.ctx,this.foregroundColor)}else _d(this.ctx,this.foregroundColor),this.ctx.rect(Jl[0],Jl[1],vp,wp),this.ctx.clip(),this.endPath()}this.current=new Wl(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...np),this.transform(...cp)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Ql){if(!this.contentVisible)return;const Jl=Ql.count;Ql=this.getObject(Ql.data,Ql),Ql.count=Jl;const np=this.ctx,cp=this.processingType3;if(cp&&(cp.compiled===void 0&&(cp.compiled=Hl(Ql)),cp.compiled)){cp.compiled(np);return}const fp=this._createMaskCanvas(Ql),vp=fp.canvas;np.save(),np.setTransform(1,0,0,1,0,0),np.drawImage(vp,fp.offsetX,fp.offsetY),np.restore(),this.compose()}paintImageMaskXObjectRepeat(Ql,Jl,np=0,cp=0,fp,vp){if(!this.contentVisible)return;Ql=this.getObject(Ql.data,Ql);const wp=this.ctx;wp.save();const xp=(0,o.getCurrentTransform)(wp);wp.transform(Jl,np,cp,fp,0,0);const _f=this._createMaskCanvas(Ql);wp.setTransform(1,0,0,1,0,0);for(let ip=0,sp=vp.length;ip<sp;ip+=2){const lp=a.Util.transform(xp,[Jl,np,cp,fp,vp[ip],vp[ip+1]]),[pp,Sp]=a.Util.applyTransform([0,0],lp);wp.drawImage(_f.canvas,pp,Sp)}wp.restore(),this.compose()}paintImageMaskXObjectGroup(Ql){if(!this.contentVisible)return;const Jl=this.ctx,np=this.current.fillColor,cp=this.current.patternFill;for(const fp of Ql){const{data:vp,width:wp,height:xp,transform:_f}=fp,ip=this.cachedCanvases.getCanvas("maskCanvas",wp,xp),sp=ip.context;sp.save();const lp=this.getObject(vp,fp);Xl(sp,lp),sp.globalCompositeOperation="source-in",sp.fillStyle=cp?np.getPattern(sp,this,(0,o.getCurrentTransformInverse)(Jl),c.PathType.FILL):np,sp.fillRect(0,0,wp,xp),sp.restore(),Jl.save(),Jl.transform(..._f),Jl.scale(1,-1),zl(Jl,ip.canvas,0,0,wp,xp,0,-1,1,1),Jl.restore()}this.compose()}paintImageXObject(Ql){if(!this.contentVisible)return;const Jl=this.getObject(Ql);if(!Jl){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Jl)}paintImageXObjectRepeat(Ql,Jl,np,cp){if(!this.contentVisible)return;const fp=this.getObject(Ql);if(!fp){(0,a.warn)("Dependent image isn't ready yet");return}const vp=fp.width,wp=fp.height,xp=[];for(let _f=0,ip=cp.length;_f<ip;_f+=2)xp.push({transform:[Jl,0,0,np,cp[_f],cp[_f+1]],x:0,y:0,w:vp,h:wp});this.paintInlineImageXObjectGroup(fp,xp)}paintInlineImageXObject(Ql){if(!this.contentVisible)return;const Jl=Ql.width,np=Ql.height,cp=this.ctx;this.save(),cp.scale(1/Jl,-1/np);let fp;if(typeof HTMLElement=="function"&&Ql instanceof HTMLElement||!Ql.data)fp=Ql;else{const _f=this.cachedCanvases.getCanvas("inlineImage",Jl,np),ip=_f.context;Yl(ip,Ql,this.current.transferMaps),fp=_f.canvas}const vp=this._scaleImage(fp,(0,o.getCurrentTransformInverse)(cp));cp.imageSmoothingEnabled=bp((0,o.getCurrentTransform)(cp),Ql.interpolate);const[wp,xp]=zl(cp,vp.img,0,0,vp.paintWidth,vp.paintHeight,0,-np,Jl,np);if(this.imageLayer){const[_f,ip]=a.Util.applyTransform([0,-np],(0,o.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Ql,left:_f,top:ip,width:wp,height:xp})}this.compose(),this.restore()}paintInlineImageXObjectGroup(Ql,Jl){if(!this.contentVisible)return;const np=this.ctx,cp=Ql.width,fp=Ql.height,vp=this.cachedCanvases.getCanvas("inlineImage",cp,fp),wp=vp.context;Yl(wp,Ql,this.current.transferMaps);for(const xp of Jl){if(np.save(),np.transform(...xp.transform),np.scale(1,-1),zl(np,vp.canvas,xp.x,xp.y,xp.w,xp.h,0,-1,1,1),this.imageLayer){const[_f,ip]=a.Util.applyTransform([xp.x,xp.y],(0,o.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Ql,left:_f,top:ip,width:cp,height:fp})}np.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Ql){}markPointProps(Ql,Jl){}beginMarkedContent(Ql){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Ql,Jl){Ql==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Jl)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Ql){const Jl=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ql);const np=this.ctx;this.pendingClip&&(Jl||(this.pendingClip===rp?np.clip("evenodd"):np.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),np.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Ql=(0,o.getCurrentTransform)(this.ctx);if(Ql[1]===0&&Ql[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Ql[0]),Math.abs(Ql[3]));else{const Jl=Math.abs(Ql[0]*Ql[3]-Ql[2]*Ql[1]),np=Math.hypot(Ql[0],Ql[2]),cp=Math.hypot(Ql[1],Ql[3]);this._cachedGetSinglePixelWidth=Math.max(np,cp)/Jl}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Ql}=this.current,Jl=(0,o.getCurrentTransform)(this.ctx);let np,cp;if(Jl[1]===0&&Jl[2]===0){const fp=Math.abs(Jl[0]),vp=Math.abs(Jl[3]);if(Ql===0)np=1/fp,cp=1/vp;else{const wp=fp*Ql,xp=vp*Ql;np=wp<1?1/wp:1,cp=xp<1?1/xp:1}}else{const fp=Math.abs(Jl[0]*Jl[3]-Jl[2]*Jl[1]),vp=Math.hypot(Jl[0],Jl[1]),wp=Math.hypot(Jl[2],Jl[3]);if(Ql===0)np=wp/fp,cp=vp/fp;else{const xp=Ql*fp;np=wp>xp?wp/xp:1,cp=vp>xp?vp/xp:1}}this._cachedScaleForStroking=[np,cp]}return this._cachedScaleForStroking}rescaleAndStroke(Ql){const{ctx:Jl}=this,{lineWidth:np}=this.current,[cp,fp]=this.getScaleForStroking();if(Jl.lineWidth=np||1,cp===1&&fp===1){Jl.stroke();return}let vp,wp,xp;Ql&&(vp=(0,o.getCurrentTransform)(Jl),wp=Jl.getLineDash().slice(),xp=Jl.lineDashOffset),Jl.scale(cp,fp);const _f=Math.max(cp,fp);Jl.setLineDash(Jl.getLineDash().map(ip=>ip/_f)),Jl.lineDashOffset/=_f,Jl.stroke(),Ql&&(Jl.setTransform(...vp),Jl.setLineDash(wp),Jl.lineDashOffset=xp)}isContentVisible(){for(let Ql=this.markedContentStack.length-1;Ql>=0;Ql--)if(!this.markedContentStack[Ql].visible)return!1;return!0}};let up=dp;$p=new WeakSet,Rm=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},e.CanvasGraphics=up;for(const ep in a.OPS)up.prototype[ep]!==void 0&&(up.prototype[a.OPS[ep]]=up.prototype[ep])},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=Fl;var o=s(1),a=s(8),c=s(3);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=d;function h(zl,Hl){if(!Hl||c.isNodeJS)return;const Wl=Hl[2]-Hl[0],Yl=Hl[3]-Hl[1],Xl=new Path2D;Xl.rect(Hl[0],Hl[1],Wl,Yl),zl.clip(Xl)}class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class _ extends g{constructor(Hl){super(),this._type=Hl[1],this._bbox=Hl[2],this._colorStops=Hl[3],this._p0=Hl[4],this._p1=Hl[5],this._r0=Hl[6],this._r1=Hl[7],this.matrix=null}_createGradient(Hl){let Wl;this._type==="axial"?Wl=Hl.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Wl=Hl.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Yl of this._colorStops)Wl.addColorStop(Yl[0],Yl[1]);return Wl}getPattern(Hl,Wl,Yl,Xl){let Gl;if(Xl===d.STROKE||Xl===d.FILL){const _d=Wl.current.getClippedPathBoundingBox(Xl,(0,a.getCurrentTransform)(Hl))||[0,0,0,0],Kl=Math.ceil(_d[2]-_d[0])||1,ru=Math.ceil(_d[3]-_d[1])||1,Zl=Wl.cachedCanvases.getCanvas("pattern",Kl,ru,!0),tp=Zl.context;tp.clearRect(0,0,tp.canvas.width,tp.canvas.height),tp.beginPath(),tp.rect(0,0,tp.canvas.width,tp.canvas.height),tp.translate(-_d[0],-_d[1]),Yl=o.Util.transform(Yl,[1,0,0,1,_d[0],_d[1]]),tp.transform(...Wl.baseTransform),this.matrix&&tp.transform(...this.matrix),h(tp,this._bbox),tp.fillStyle=this._createGradient(tp),tp.fill(),Gl=Hl.createPattern(Zl.canvas,"no-repeat");const op=new DOMMatrix(Yl);try{Gl.setTransform(op)}catch(bp){(0,o.warn)(`RadialAxialShadingPattern.getPattern: "${bp==null?void 0:bp.message}".`)}}else h(Hl,this._bbox),Gl=this._createGradient(Hl);return Gl}}function $l(zl,Hl,Wl,Yl,Xl,Gl,_d,Kl){const ru=Hl.coords,Zl=Hl.colors,tp=zl.data,op=zl.width*4;let bp;ru[Wl+1]>ru[Yl+1]&&(bp=Wl,Wl=Yl,Yl=bp,bp=Gl,Gl=_d,_d=bp),ru[Yl+1]>ru[Xl+1]&&(bp=Yl,Yl=Xl,Xl=bp,bp=_d,_d=Kl,Kl=bp),ru[Wl+1]>ru[Yl+1]&&(bp=Wl,Wl=Yl,Yl=bp,bp=Gl,Gl=_d,_d=bp);const ap=(ru[Wl]+Hl.offsetX)*Hl.scaleX,hp=(ru[Wl+1]+Hl.offsetY)*Hl.scaleY,gp=(ru[Yl]+Hl.offsetX)*Hl.scaleX,rp=(ru[Yl+1]+Hl.offsetY)*Hl.scaleY,up=(ru[Xl]+Hl.offsetX)*Hl.scaleX,$p=(ru[Xl+1]+Hl.offsetY)*Hl.scaleY;if(hp>=$p)return;const yp=Zl[Gl],dp=Zl[Gl+1],ep=Zl[Gl+2],Ql=Zl[_d],Jl=Zl[_d+1],np=Zl[_d+2],cp=Zl[Kl],fp=Zl[Kl+1],vp=Zl[Kl+2],wp=Math.round(hp),xp=Math.round($p);let _f,ip,sp,lp,pp,Sp,Op,Lp;for(let Pp=wp;Pp<=xp;Pp++){if(Pp<rp){let _p;Pp<hp?_p=0:_p=(hp-Pp)/(hp-rp),_f=ap-(ap-gp)*_p,ip=yp-(yp-Ql)*_p,sp=dp-(dp-Jl)*_p,lp=ep-(ep-np)*_p}else{let _p;Pp>$p?_p=1:rp===$p?_p=0:_p=(rp-Pp)/(rp-$p),_f=gp-(gp-up)*_p,ip=Ql-(Ql-cp)*_p,sp=Jl-(Jl-fp)*_p,lp=np-(np-vp)*_p}let Ap;Pp<hp?Ap=0:Pp>$p?Ap=1:Ap=(hp-Pp)/(hp-$p),pp=ap-(ap-up)*Ap,Sp=yp-(yp-cp)*Ap,Op=dp-(dp-fp)*Ap,Lp=ep-(ep-vp)*Ap;const kp=Math.round(Math.min(_f,pp)),Rp=Math.round(Math.max(_f,pp));let Fp=op*Pp+kp*4;for(let _p=kp;_p<=Rp;_p++)Ap=(_f-_p)/(_f-pp),Ap<0?Ap=0:Ap>1&&(Ap=1),tp[Fp++]=ip-(ip-Sp)*Ap|0,tp[Fp++]=sp-(sp-Op)*Ap|0,tp[Fp++]=lp-(lp-Lp)*Ap|0,tp[Fp++]=255}}function Rl(zl,Hl,Wl){const Yl=Hl.coords,Xl=Hl.colors;let Gl,_d;switch(Hl.type){case"lattice":const Kl=Hl.verticesPerRow,ru=Math.floor(Yl.length/Kl)-1,Zl=Kl-1;for(Gl=0;Gl<ru;Gl++){let tp=Gl*Kl;for(let op=0;op<Zl;op++,tp++)$l(zl,Wl,Yl[tp],Yl[tp+1],Yl[tp+Kl],Xl[tp],Xl[tp+1],Xl[tp+Kl]),$l(zl,Wl,Yl[tp+Kl+1],Yl[tp+1],Yl[tp+Kl],Xl[tp+Kl+1],Xl[tp+1],Xl[tp+Kl])}break;case"triangles":for(Gl=0,_d=Yl.length;Gl<_d;Gl+=3)$l(zl,Wl,Yl[Gl],Yl[Gl+1],Yl[Gl+2],Xl[Gl],Xl[Gl+1],Xl[Gl+2]);break;default:throw new Error("illegal figure")}}class Ml extends g{constructor(Hl){super(),this._coords=Hl[2],this._colors=Hl[3],this._figures=Hl[4],this._bounds=Hl[5],this._bbox=Hl[7],this._background=Hl[8],this.matrix=null}_createMeshCanvas(Hl,Wl,Yl){const Kl=Math.floor(this._bounds[0]),ru=Math.floor(this._bounds[1]),Zl=Math.ceil(this._bounds[2])-Kl,tp=Math.ceil(this._bounds[3])-ru,op=Math.min(Math.ceil(Math.abs(Zl*Hl[0]*1.1)),3e3),bp=Math.min(Math.ceil(Math.abs(tp*Hl[1]*1.1)),3e3),ap=Zl/op,hp=tp/bp,gp={coords:this._coords,colors:this._colors,offsetX:-Kl,offsetY:-ru,scaleX:1/ap,scaleY:1/hp},rp=op+2*2,up=bp+2*2,$p=Yl.getCanvas("mesh",rp,up,!1),yp=$p.context,dp=yp.createImageData(op,bp);if(Wl){const Ql=dp.data;for(let Jl=0,np=Ql.length;Jl<np;Jl+=4)Ql[Jl]=Wl[0],Ql[Jl+1]=Wl[1],Ql[Jl+2]=Wl[2],Ql[Jl+3]=255}for(const Ql of this._figures)Rl(dp,Ql,gp);return yp.putImageData(dp,2,2),{canvas:$p.canvas,offsetX:Kl-2*ap,offsetY:ru-2*hp,scaleX:ap,scaleY:hp}}getPattern(Hl,Wl,Yl,Xl){h(Hl,this._bbox);let Gl;if(Xl===d.SHADING)Gl=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(Hl));else if(Gl=o.Util.singularValueDecompose2dScale(Wl.baseTransform),this.matrix){const Kl=o.Util.singularValueDecompose2dScale(this.matrix);Gl=[Gl[0]*Kl[0],Gl[1]*Kl[1]]}const _d=this._createMeshCanvas(Gl,Xl===d.SHADING?null:this._background,Wl.cachedCanvases);return Xl!==d.SHADING&&(Hl.setTransform(...Wl.baseTransform),this.matrix&&Hl.transform(...this.matrix)),Hl.translate(_d.offsetX,_d.offsetY),Hl.scale(_d.scaleX,_d.scaleY),Hl.createPattern(_d.canvas,"no-repeat")}}class Ul extends g{getPattern(){return"hotpink"}}function Fl(zl){switch(zl[0]){case"RadialAxial":return new _(zl);case"Mesh":return new Ml(zl);case"Dummy":return new Ul}throw new Error(`Unknown IR type: ${zl[0]}`)}const Ll={COLORED:1,UNCOLORED:2};class Bl{static get MAX_PATTERN_SIZE(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Hl,Wl,Yl,Xl,Gl){this.operatorList=Hl[2],this.matrix=Hl[3]||[1,0,0,1,0,0],this.bbox=Hl[4],this.xstep=Hl[5],this.ystep=Hl[6],this.paintType=Hl[7],this.tilingType=Hl[8],this.color=Wl,this.ctx=Yl,this.canvasGraphicsFactory=Xl,this.baseTransform=Gl}createPatternCanvas(Hl){const Wl=this.operatorList,Yl=this.bbox,Xl=this.xstep,Gl=this.ystep,_d=this.paintType,Kl=this.tilingType,ru=this.color,Zl=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+Kl);const tp=Yl[0],op=Yl[1],bp=Yl[2],ap=Yl[3],hp=o.Util.singularValueDecompose2dScale(this.matrix),gp=o.Util.singularValueDecompose2dScale(this.baseTransform),rp=[hp[0]*gp[0],hp[1]*gp[1]],up=this.getSizeAndScale(Xl,this.ctx.canvas.width,rp[0]),$p=this.getSizeAndScale(Gl,this.ctx.canvas.height,rp[1]),yp=Hl.cachedCanvases.getCanvas("pattern",up.size,$p.size,!0),dp=yp.context,ep=Zl.createCanvasGraphics(dp);ep.groupLevel=Hl.groupLevel,this.setFillAndStrokeStyleToContext(ep,_d,ru);let Ql=tp,Jl=op,np=bp,cp=ap;return tp<0&&(Ql=0,np+=Math.abs(tp)),op<0&&(Jl=0,cp+=Math.abs(op)),dp.translate(-(up.scale*Ql),-($p.scale*Jl)),ep.transform(up.scale,0,0,$p.scale,0,0),dp.save(),this.clipBbox(ep,Ql,Jl,np,cp),ep.baseTransform=(0,a.getCurrentTransform)(ep.ctx),ep.executeOperatorList(Wl),ep.endDrawing(),{canvas:yp.canvas,scaleX:up.scale,scaleY:$p.scale,offsetX:Ql,offsetY:Jl}}getSizeAndScale(Hl,Wl,Yl){Hl=Math.abs(Hl);const Xl=Math.max(Bl.MAX_PATTERN_SIZE,Wl);let Gl=Math.ceil(Hl*Yl);return Gl>=Xl?Gl=Xl:Yl=Gl/Hl,{scale:Yl,size:Gl}}clipBbox(Hl,Wl,Yl,Xl,Gl){const _d=Xl-Wl,Kl=Gl-Yl;Hl.ctx.rect(Wl,Yl,_d,Kl),Hl.current.updateRectMinMax((0,a.getCurrentTransform)(Hl.ctx),[Wl,Yl,Xl,Gl]),Hl.clip(),Hl.endPath()}setFillAndStrokeStyleToContext(Hl,Wl,Yl){const Xl=Hl.ctx,Gl=Hl.current;switch(Wl){case Ll.COLORED:const _d=this.ctx;Xl.fillStyle=_d.fillStyle,Xl.strokeStyle=_d.strokeStyle,Gl.fillColor=_d.fillStyle,Gl.strokeColor=_d.strokeStyle;break;case Ll.UNCOLORED:const Kl=o.Util.makeHexColor(Yl[0],Yl[1],Yl[2]);Xl.fillStyle=Kl,Xl.strokeStyle=Kl,Gl.fillColor=Kl,Gl.strokeColor=Kl;break;default:throw new o.FormatError(`Unsupported paint type: ${Wl}`)}}getPattern(Hl,Wl,Yl,Xl){let Gl=Yl;Xl!==d.SHADING&&(Gl=o.Util.transform(Gl,Wl.baseTransform),this.matrix&&(Gl=o.Util.transform(Gl,this.matrix)));const _d=this.createPatternCanvas(Wl);let Kl=new DOMMatrix(Gl);Kl=Kl.translate(_d.offsetX,_d.offsetY),Kl=Kl.scale(1/_d.scaleX,1/_d.scaleY);const ru=Hl.createPattern(_d.canvas,"repeat");try{ru.setTransform(Kl)}catch(Zl){(0,o.warn)(`TilingPattern.getPattern: "${Zl==null?void 0:Zl.message}".`)}return ru}}e.TilingPattern=Bl},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=a;var o=s(1);function a({src:c,srcPos:d=0,dest:h,destPos:g=0,width:_,height:$l,inverseDecode:Rl=!1}){const Ml=o.FeatureTest.isLittleEndian?4278190080:255,[Ul,Fl]=Rl?[0,Ml]:[Ml,0],Ll=_>>3,Bl=_&7,zl=c.length;h=new Uint32Array(h.buffer);for(let Hl=0;Hl<$l;Hl++){for(const Yl=d+Ll;d<Yl;d++){const Xl=d<zl?c[d]:255;h[g++]=Xl&128?Fl:Ul,h[g++]=Xl&64?Fl:Ul,h[g++]=Xl&32?Fl:Ul,h[g++]=Xl&16?Fl:Ul,h[g++]=Xl&8?Fl:Ul,h[g++]=Xl&4?Fl:Ul,h[g++]=Xl&2?Fl:Ul,h[g++]=Xl&1?Fl:Ul}if(Bl===0)continue;const Wl=d<zl?c[d++]:255;for(let Yl=0;Yl<Bl;Yl++)h[g++]=Wl&1<<7-Yl?Fl:Ul}return{srcPos:d,destPos:g}}},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const s=Object.create(null);e.GlobalWorkerOptions=s,s.workerPort=s.workerPort===void 0?null:s.workerPort,s.workerSrc=s.workerSrc===void 0?"":s.workerSrc},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(g){switch(g instanceof Error||typeof g=="object"&&g!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),g.name){case"AbortException":return new o.AbortException(g.message);case"MissingPDFException":return new o.MissingPDFException(g.message);case"PasswordException":return new o.PasswordException(g.message,g.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(g.message,g.status);case"UnknownErrorException":return new o.UnknownErrorException(g.message,g.details);default:return new o.UnknownErrorException(g.message,g.toString())}}class h{constructor(_,$l,Rl){this.sourceName=_,this.targetName=$l,this.comObj=Rl,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Ml=>{const Ul=Ml.data;if(Ul.targetName!==this.sourceName)return;if(Ul.stream){this._processStreamMessage(Ul);return}if(Ul.callback){const Ll=Ul.callbackId,Bl=this.callbackCapabilities[Ll];if(!Bl)throw new Error(`Cannot resolve callback ${Ll}`);if(delete this.callbackCapabilities[Ll],Ul.callback===a.DATA)Bl.resolve(Ul.data);else if(Ul.callback===a.ERROR)Bl.reject(d(Ul.reason));else throw new Error("Unexpected callback case");return}const Fl=this.actionHandler[Ul.action];if(!Fl)throw new Error(`Unknown action from worker: ${Ul.action}`);if(Ul.callbackId){const Ll=this.sourceName,Bl=Ul.sourceName;new Promise(function(zl){zl(Fl(Ul.data))}).then(function(zl){Rl.postMessage({sourceName:Ll,targetName:Bl,callback:a.DATA,callbackId:Ul.callbackId,data:zl})},function(zl){Rl.postMessage({sourceName:Ll,targetName:Bl,callback:a.ERROR,callbackId:Ul.callbackId,reason:d(zl)})});return}if(Ul.streamId){this._createStreamSink(Ul);return}Fl(Ul.data)},Rl.addEventListener("message",this._onComObjOnMessage)}on(_,$l){const Rl=this.actionHandler;if(Rl[_])throw new Error(`There is already an actionName called "${_}"`);Rl[_]=$l}send(_,$l,Rl){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:$l},Rl)}sendWithPromise(_,$l,Rl){const Ml=this.callbackId++,Ul=(0,o.createPromiseCapability)();this.callbackCapabilities[Ml]=Ul;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:Ml,data:$l},Rl)}catch(Fl){Ul.reject(Fl)}return Ul.promise}sendWithStream(_,$l,Rl,Ml){const Ul=this.streamId++,Fl=this.sourceName,Ll=this.targetName,Bl=this.comObj;return new ReadableStream({start:zl=>{const Hl=(0,o.createPromiseCapability)();return this.streamControllers[Ul]={controller:zl,startCall:Hl,pullCall:null,cancelCall:null,isClosed:!1},Bl.postMessage({sourceName:Fl,targetName:Ll,action:_,streamId:Ul,data:$l,desiredSize:zl.desiredSize},Ml),Hl.promise},pull:zl=>{const Hl=(0,o.createPromiseCapability)();return this.streamControllers[Ul].pullCall=Hl,Bl.postMessage({sourceName:Fl,targetName:Ll,stream:c.PULL,streamId:Ul,desiredSize:zl.desiredSize}),Hl.promise},cancel:zl=>{(0,o.assert)(zl instanceof Error,"cancel must have a valid reason");const Hl=(0,o.createPromiseCapability)();return this.streamControllers[Ul].cancelCall=Hl,this.streamControllers[Ul].isClosed=!0,Bl.postMessage({sourceName:Fl,targetName:Ll,stream:c.CANCEL,streamId:Ul,reason:d(zl)}),Hl.promise}},Rl)}_createStreamSink(_){const $l=_.streamId,Rl=this.sourceName,Ml=_.sourceName,Ul=this.comObj,Fl=this,Ll=this.actionHandler[_.action],Bl={enqueue(zl,Hl=1,Wl){if(this.isCancelled)return;const Yl=this.desiredSize;this.desiredSize-=Hl,Yl>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.ENQUEUE,streamId:$l,chunk:zl},Wl)},close(){this.isCancelled||(this.isCancelled=!0,Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.CLOSE,streamId:$l}),delete Fl.streamSinks[$l])},error(zl){(0,o.assert)(zl instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.ERROR,streamId:$l,reason:d(zl)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};Bl.sinkCapability.resolve(),Bl.ready=Bl.sinkCapability.promise,this.streamSinks[$l]=Bl,new Promise(function(zl){zl(Ll(_.data,Bl))}).then(function(){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.START_COMPLETE,streamId:$l,success:!0})},function(zl){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.START_COMPLETE,streamId:$l,reason:d(zl)})})}_processStreamMessage(_){const $l=_.streamId,Rl=this.sourceName,Ml=_.sourceName,Ul=this.comObj,Fl=this.streamControllers[$l],Ll=this.streamSinks[$l];switch(_.stream){case c.START_COMPLETE:_.success?Fl.startCall.resolve():Fl.startCall.reject(d(_.reason));break;case c.PULL_COMPLETE:_.success?Fl.pullCall.resolve():Fl.pullCall.reject(d(_.reason));break;case c.PULL:if(!Ll){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.PULL_COMPLETE,streamId:$l,success:!0});break}Ll.desiredSize<=0&&_.desiredSize>0&&Ll.sinkCapability.resolve(),Ll.desiredSize=_.desiredSize,new Promise(function(Bl){Bl(Ll.onPull&&Ll.onPull())}).then(function(){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.PULL_COMPLETE,streamId:$l,success:!0})},function(Bl){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.PULL_COMPLETE,streamId:$l,reason:d(Bl)})});break;case c.ENQUEUE:if((0,o.assert)(Fl,"enqueue should have stream controller"),Fl.isClosed)break;Fl.controller.enqueue(_.chunk);break;case c.CLOSE:if((0,o.assert)(Fl,"close should have stream controller"),Fl.isClosed)break;Fl.isClosed=!0,Fl.controller.close(),this._deleteStreamController(Fl,$l);break;case c.ERROR:(0,o.assert)(Fl,"error should have stream controller"),Fl.controller.error(d(_.reason)),this._deleteStreamController(Fl,$l);break;case c.CANCEL_COMPLETE:_.success?Fl.cancelCall.resolve():Fl.cancelCall.reject(d(_.reason)),this._deleteStreamController(Fl,$l);break;case c.CANCEL:if(!Ll)break;new Promise(function(Bl){Bl(Ll.onCancel&&Ll.onCancel(d(_.reason)))}).then(function(){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.CANCEL_COMPLETE,streamId:$l,success:!0})},function(Bl){Ul.postMessage({sourceName:Rl,targetName:Ml,stream:c.CANCEL_COMPLETE,streamId:$l,reason:d(Bl)})}),Ll.sinkCapability.reject(d(_.reason)),Ll.isCancelled=!0,delete this.streamSinks[$l];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_,$l){await Promise.allSettled([_.startCall&&_.startCall.promise,_.pullCall&&_.pullCall.promise,_.cancelCall&&_.cancelCall.promise]),delete this.streamControllers[$l]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=h},(i,e,s)=>{var c,d;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var o=s(1);class a{constructor({parsedData:g,rawData:_}){Dp(this,c,void 0);Dp(this,d,void 0);Bp(this,c,g),Bp(this,d,_)}getRaw(){return mp(this,d)}get(g){var _;return(_=mp(this,c).get(g))!=null?_:null}getAll(){return(0,o.objectFromMap)(mp(this,c))}has(g){return mp(this,c).has(g)}}c=new WeakMap,d=new WeakMap,e.Metadata=a},(i,e,s)=>{var h,g,_,$l,Rl,Ml,Mm;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var o=s(1);const a=Symbol("INTERNAL");class c{constructor(Ll,Bl){Dp(this,h,!0);this.name=Ll,this.intent=Bl}get visible(){return mp(this,h)}_setVisible(Ll,Bl){Ll!==a&&(0,o.unreachable)("Internal method `_setVisible` called."),Bp(this,h,Bl)}}h=new WeakMap;class d{constructor(Ll){Dp(this,Ml);Dp(this,g,!0);Dp(this,_,new Map);Dp(this,$l,null);Dp(this,Rl,null);if(this.name=null,this.creator=null,Ll!==null){this.name=Ll.name,this.creator=Ll.creator,Bp(this,Rl,Ll.order);for(const Bl of Ll.groups)mp(this,_).set(Bl.id,new c(Bl.name,Bl.intent));if(Ll.baseState==="OFF")for(const Bl of mp(this,_).values())Bl._setVisible(a,!1);for(const Bl of Ll.on)mp(this,_).get(Bl)._setVisible(a,!0);for(const Bl of Ll.off)mp(this,_).get(Bl)._setVisible(a,!1);Bp(this,$l,new Map);for(const[Bl,zl]of mp(this,_))mp(this,$l).set(Bl,zl.visible)}}isVisible(Ll){if(mp(this,_).size===0)return!0;if(!Ll)return(0,o.warn)("Optional content group not defined."),!0;if(Ll.type==="OCG")return mp(this,_).has(Ll.id)?mp(this,_).get(Ll.id).visible:((0,o.warn)(`Optional content group not found: ${Ll.id}`),!0);if(Ll.type==="OCMD"){if(Ll.expression)return Mp(this,Ml,Mm).call(this,Ll.expression);if(!Ll.policy||Ll.policy==="AnyOn"){for(const Bl of Ll.ids){if(!mp(this,_).has(Bl))return(0,o.warn)(`Optional content group not found: ${Bl}`),!0;if(mp(this,_).get(Bl).visible)return!0}return!1}else if(Ll.policy==="AllOn"){for(const Bl of Ll.ids){if(!mp(this,_).has(Bl))return(0,o.warn)(`Optional content group not found: ${Bl}`),!0;if(!mp(this,_).get(Bl).visible)return!1}return!0}else if(Ll.policy==="AnyOff"){for(const Bl of Ll.ids){if(!mp(this,_).has(Bl))return(0,o.warn)(`Optional content group not found: ${Bl}`),!0;if(!mp(this,_).get(Bl).visible)return!0}return!1}else if(Ll.policy==="AllOff"){for(const Bl of Ll.ids){if(!mp(this,_).has(Bl))return(0,o.warn)(`Optional content group not found: ${Bl}`),!0;if(mp(this,_).get(Bl).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${Ll.policy}.`),!0}return(0,o.warn)(`Unknown group type ${Ll.type}.`),!0}setVisibility(Ll,Bl=!0){if(!mp(this,_).has(Ll)){(0,o.warn)(`Optional content group not found: ${Ll}`);return}mp(this,_).get(Ll)._setVisible(a,!!Bl),Bp(this,g,null)}get hasInitialVisibility(){if(mp(this,g)!==null)return mp(this,g);for(const[Ll,Bl]of mp(this,_)){const zl=mp(this,$l).get(Ll);if(Bl.visible!==zl)return Bp(this,g,!1)}return Bp(this,g,!0)}getOrder(){return mp(this,_).size?mp(this,Rl)?mp(this,Rl).slice():[...mp(this,_).keys()]:null}getGroups(){return mp(this,_).size>0?(0,o.objectFromMap)(mp(this,_)):null}getGroup(Ll){return mp(this,_).get(Ll)||null}}g=new WeakMap,_=new WeakMap,$l=new WeakMap,Rl=new WeakMap,Ml=new WeakSet,Mm=function(Ll){const Bl=Ll.length;if(Bl<2)return!0;const zl=Ll[0];for(let Hl=1;Hl<Bl;Hl++){const Wl=Ll[Hl];let Yl;if(Array.isArray(Wl))Yl=Mp(this,Ml,Mm).call(this,Wl);else if(mp(this,_).has(Wl))Yl=mp(this,_).get(Wl).visible;else return(0,o.warn)(`Optional content group not found: ${Wl}`),!0;switch(zl){case"And":if(!Yl)return!1;break;case"Or":if(Yl)return!0;break;case"Not":return!Yl;default:return!0}}return zl==="And"},e.OptionalContentConfig=d},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var o=s(1),a=s(8);class c{constructor(_,$l){(0,o.assert)($l,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_.progressiveDone||!1,this._contentDispositionFilename=_.contentDispositionFilename||null;const Rl=_.initialData;if((Rl==null?void 0:Rl.length)>0){const Ml=new Uint8Array(Rl).buffer;this._queuedChunks.push(Ml)}this._pdfDataRangeTransport=$l,this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._contentLength=_.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Ml,Ul)=>{this._onReceiveData({begin:Ml,chunk:Ul})}),this._pdfDataRangeTransport.addProgressListener((Ml,Ul)=>{this._onProgress({loaded:Ml,total:Ul})}),this._pdfDataRangeTransport.addProgressiveReadListener(Ml=>{this._onReceiveData({chunk:Ml})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(_){const $l=new Uint8Array(_.chunk).buffer;if(_.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue($l):this._queuedChunks.push($l);else{const Rl=this._rangeReaders.some(function(Ml){return Ml._begin!==_.begin?!1:(Ml._enqueue($l),!0)});(0,o.assert)(Rl,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _,$l;return($l=(_=this._fullRequestReader)==null?void 0:_._loaded)!=null?$l:0}_onProgress(_){if(_.total===void 0){const $l=this._rangeReaders[0];$l!=null&&$l.onProgress&&$l.onProgress({loaded:_.loaded})}else{const $l=this._fullRequestReader;$l!=null&&$l.onProgress&&$l.onProgress({loaded:_.loaded,total:_.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const $l=this._rangeReaders.indexOf(_);$l>=0&&this._rangeReaders.splice($l,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,$l){if($l<=this._progressiveDataLength)return null;const Rl=new h(this,_,$l);return this._pdfDataRangeTransport.requestDataRange(_,$l),this._rangeReaders.push(Rl),Rl}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const $l of this._rangeReaders.slice(0))$l.cancel(_);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=c;class d{constructor(_,$l,Rl=!1,Ml=null){this._stream=_,this._done=Rl||!1,this._filename=(0,a.isPdfFile)(Ml)?Ml:null,this._queuedChunks=$l||[],this._loaded=0;for(const Ul of this._queuedChunks)this._loaded+=Ul.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=(0,o.createPromiseCapability)();return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $l of this._requests)$l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(_,$l,Rl){this._stream=_,this._begin=$l,this._end=Rl,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const Rl of this._requests)Rl.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $l=this._queuedChunk;return this._queuedChunk=null,{value:$l,done:!1}}if(this._done)return{value:void 0,done:!0};const _=(0,o.createPromiseCapability)();return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const $l of this._requests)$l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var Rl;if(!g)return;let _=null;const $l=g.name;if($l==="#text")_=g.value;else if(s.shouldBuildText($l))(Rl=g==null?void 0:g.attributes)!=null&&Rl.textContent?_=g.attributes.textContent:g.value&&(_=g.value);else return;if(_!==null&&c.push({str:_}),!!g.children)for(const Ml of g.children)h(Ml)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}e.XfaText=s},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var o=s(9);const a=function(g){return new Promise((_,$l)=>{require$$5.readFile(g,(Ml,Ul)=>{if(Ml||!Ul){$l(new Error(Ml));return}_(new Uint8Array(Ul))})})};class c extends o.BaseCanvasFactory{_createCanvas(_,$l){return require$$5.createCanvas(_,$l)}}e.NodeCanvasFactory=c;class d extends o.BaseCMapReaderFactory{_fetchData(_,$l){return a(_).then(Rl=>({cMapData:Rl,compressionType:$l}))}}e.NodeCMapReaderFactory=d;class h extends o.BaseStandardFontDataFactory{_fetchData(_){return a(_)}}e.NodeStandardFontDataFactory=h},(i,e,s)=>{var g,_,$l,Rl,Ml,Ul,Fl,Ll,Bl,Nm,Hl,Jm,Yl,Lm,Gl,_g;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var o=s(7),a=s(1),c=s(23),d=s(24);const Kl=class{constructor(Zl){Dp(this,Bl);Dp(this,Hl);Dp(this,Yl);Dp(this,Gl);Dp(this,g,void 0);Dp(this,_,!1);Dp(this,$l,this.pointerup.bind(this));Dp(this,Rl,this.pointerdown.bind(this));Dp(this,Ml,new Map);Dp(this,Ul,!1);Dp(this,Fl,!1);Dp(this,Ll,void 0);Kl._initialized||(Kl._initialized=!0,c.FreeTextEditor.initialize(Zl.l10n),d.InkEditor.initialize(Zl.l10n),Zl.uiManager.registerEditorTypes([c.FreeTextEditor,d.InkEditor])),Bp(this,Ll,Zl.uiManager),this.annotationStorage=Zl.annotationStorage,this.pageIndex=Zl.pageIndex,this.div=Zl.div,Bp(this,g,Zl.accessibilityManager),mp(this,Ll).addLayer(this)}updateToolbar(Zl){mp(this,Ll).updateToolbar(Zl)}updateMode(Zl=mp(this,Ll).getMode()){Mp(this,Gl,_g).call(this),Zl===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),mp(this,Ll).unselectAll()}addInkEditorIfNeeded(Zl){if(!Zl&&mp(this,Ll).getMode()!==a.AnnotationEditorType.INK)return;if(!Zl){for(const op of mp(this,Ml).values())if(op.isEmpty()){op.setInBackground();return}}Mp(this,Yl,Lm).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Zl){mp(this,Ll).setEditingState(Zl)}addCommands(Zl){mp(this,Ll).addCommands(Zl)}enable(){this.div.style.pointerEvents="auto";for(const Zl of mp(this,Ml).values())Zl.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Zl of mp(this,Ml).values())Zl.disableEditing()}setActiveEditor(Zl){mp(this,Ll).getActive()!==Zl&&mp(this,Ll).setActiveEditor(Zl)}enableClick(){this.div.addEventListener("pointerdown",mp(this,Rl)),this.div.addEventListener("pointerup",mp(this,$l))}disableClick(){this.div.removeEventListener("pointerdown",mp(this,Rl)),this.div.removeEventListener("pointerup",mp(this,$l))}attach(Zl){mp(this,Ml).set(Zl.id,Zl)}detach(Zl){var tp;mp(this,Ml).delete(Zl.id),(tp=mp(this,g))==null||tp.removePointerInTextLayer(Zl.contentDiv)}remove(Zl){mp(this,Ll).removeEditor(Zl),this.detach(Zl),this.annotationStorage.remove(Zl.id),Zl.div.style.display="none",setTimeout(()=>{Zl.div.style.display="",Zl.div.remove(),Zl.isAttachedToDOM=!1,document.activeElement===document.body&&mp(this,Ll).focusMainContainer()},0),mp(this,Fl)||this.addInkEditorIfNeeded(!1)}add(Zl){if(Mp(this,Bl,Nm).call(this,Zl),mp(this,Ll).addEditor(Zl),this.attach(Zl),!Zl.isAttachedToDOM){const tp=Zl.render();this.div.append(tp),Zl.isAttachedToDOM=!0}this.moveEditorInDOM(Zl),Zl.onceAdded(),this.addToAnnotationStorage(Zl)}moveEditorInDOM(Zl){var tp;(tp=mp(this,g))==null||tp.moveElementInDOM(this.div,Zl.div,Zl.contentDiv,!0)}addToAnnotationStorage(Zl){!Zl.isEmpty()&&!this.annotationStorage.has(Zl.id)&&this.annotationStorage.setValue(Zl.id,Zl)}addOrRebuild(Zl){Zl.needsToBeRebuilt()?Zl.rebuild():this.add(Zl)}addANewEditor(Zl){const tp=()=>{this.addOrRebuild(Zl)},op=()=>{Zl.remove()};this.addCommands({cmd:tp,undo:op,mustExec:!0})}addUndoableEditor(Zl){const tp=()=>{this.addOrRebuild(Zl)},op=()=>{Zl.remove()};this.addCommands({cmd:tp,undo:op,mustExec:!1})}getNextId(){return mp(this,Ll).getId()}deserialize(Zl){switch(Zl.annotationType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(Zl,this);case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(Zl,this)}return null}setSelected(Zl){mp(this,Ll).setSelected(Zl)}toggleSelected(Zl){mp(this,Ll).toggleSelected(Zl)}isSelected(Zl){return mp(this,Ll).isSelected(Zl)}unselect(Zl){mp(this,Ll).unselect(Zl)}pointerup(Zl){const tp=o.KeyboardManager.platform.isMac;if(!(Zl.button!==0||Zl.ctrlKey&&tp)&&Zl.target===this.div&&!!mp(this,Ul)){if(Bp(this,Ul,!1),!mp(this,_)){Bp(this,_,!0);return}Mp(this,Yl,Lm).call(this,Zl)}}pointerdown(Zl){const tp=o.KeyboardManager.platform.isMac;if(Zl.button!==0||Zl.ctrlKey&&tp||Zl.target!==this.div)return;Bp(this,Ul,!0);const op=mp(this,Ll).getActive();Bp(this,_,!op||op.isEmpty())}drop(Zl){const tp=Zl.dataTransfer.getData("text/plain"),op=mp(this,Ll).getEditor(tp);if(!op)return;Zl.preventDefault(),Zl.dataTransfer.dropEffect="move",Mp(this,Bl,Nm).call(this,op);const bp=this.div.getBoundingClientRect(),ap=Zl.clientX-bp.x,hp=Zl.clientY-bp.y;op.translate(ap-op.startX,hp-op.startY),this.moveEditorInDOM(op),op.div.focus()}dragover(Zl){Zl.preventDefault()}destroy(){var Zl,tp;((Zl=mp(this,Ll).getActive())==null?void 0:Zl.parent)===this&&mp(this,Ll).setActiveEditor(null);for(const op of mp(this,Ml).values())(tp=mp(this,g))==null||tp.removePointerInTextLayer(op.contentDiv),op.isAttachedToDOM=!1,op.div.remove(),op.parent=null;this.div=null,mp(this,Ml).clear(),mp(this,Ll).removeLayer(this)}render(Zl){this.viewport=Zl.viewport,(0,o.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const tp of mp(this,Ll).getEditors(this.pageIndex))this.add(tp);this.updateMode()}update(Zl){this.viewport=Zl.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Zl,tp,op,bp]=this.viewport.viewBox,ap=op-Zl,hp=bp-tp;return[ap,hp]}get viewportBaseDimensions(){const{width:Zl,height:tp,rotation:op}=this.viewport;return op%180===0?[Zl,tp]:[tp,Zl]}setDimensions(){const{width:Zl,height:tp,rotation:op}=this.viewport,bp=op%180!==0,ap=Math.floor(Zl)+"px",hp=Math.floor(tp)+"px";this.div.style.width=bp?hp:ap,this.div.style.height=bp?ap:hp,this.div.setAttribute("data-main-rotation",op)}};let h=Kl;g=new WeakMap,_=new WeakMap,$l=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,Ul=new WeakMap,Fl=new WeakMap,Ll=new WeakMap,Bl=new WeakSet,Nm=function(Zl){var tp;Zl.parent!==this&&(this.attach(Zl),Zl.pageIndex=this.pageIndex,(tp=Zl.parent)==null||tp.detach(Zl),Zl.parent=this,Zl.div&&Zl.isAttachedToDOM&&(Zl.div.remove(),this.div.append(Zl.div)))},Hl=new WeakSet,Jm=function(Zl){switch(mp(this,Ll).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(Zl);case a.AnnotationEditorType.INK:return new d.InkEditor(Zl)}return null},Yl=new WeakSet,Lm=function(Zl){const tp=this.getNextId(),op=Mp(this,Hl,Jm).call(this,{parent:this,id:tp,x:Zl.offsetX,y:Zl.offsetY});return op&&this.add(op),op},Gl=new WeakSet,_g=function(){Bp(this,Fl,!0);for(const Zl of mp(this,Ml).values())Zl.isEmpty()&&Zl.remove();Bp(this,Fl,!1)},nm(h,"_initialized",!1),e.AnnotationEditorLayer=h},(i,e,s)=>{var h,g,_,$l,Rl,Ml,Ul,Fl,ey,Bl,ty,Hl,ny,Yl,Fm;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var o=s(1),a=s(7),c=s(6);const Gl=class extends c.AnnotationEditor{constructor(ru){super({...ru,name:"freeTextEditor"});Dp(this,Fl);Dp(this,Bl);Dp(this,Hl);Dp(this,Yl);Dp(this,h,this.editorDivBlur.bind(this));Dp(this,g,this.editorDivFocus.bind(this));Dp(this,_,this.editorDivKeydown.bind(this));Dp(this,$l,void 0);Dp(this,Rl,"");Dp(this,Ml,!1);Dp(this,Ul,void 0);Bp(this,$l,ru.color||Gl._defaultColor||c.AnnotationEditor._defaultLineColor),Bp(this,Ul,ru.fontSize||Gl._defaultFontSize)}static initialize(ru){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(tp=>[tp,ru.get(tp)]));const Zl=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Zl.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ru,Zl){switch(ru){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Gl._defaultFontSize=Zl;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Gl._defaultColor=Zl;break}}updateParams(ru,Zl){switch(ru){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Mp(this,Fl,ey).call(this,Zl);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Mp(this,Bl,ty).call(this,Zl);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,Gl._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,Gl._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,mp(this,Ul)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,mp(this,$l)]]}getInitialTranslation(){return[-Gl._internalPadding*this.parent.scaleFactor,-(Gl._internalPadding+mp(this,Ul))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",mp(this,_)),this.editorDiv.addEventListener("focus",mp(this,g)),this.editorDiv.addEventListener("blur",mp(this,h)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",mp(this,_)),this.editorDiv.removeEventListener("focus",mp(this,g)),this.editorDiv.removeEventListener("blur",mp(this,h)),this.div.focus(),this.isEditing=!1)}focusin(ru){super.focusin(ru),ru.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),mp(this,Ml)||(Bp(this,Ml,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Bp(this,Rl,Mp(this,Hl,ny).call(this).trimEnd()),Mp(this,Yl,Fm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ru){this.enableEditMode(),this.editorDiv.focus()}keydown(ru){ru.target===this.div&&ru.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ru){Gl._keyboardManager.exec(this,ru)}editorDivFocus(ru){this.isEditing=!0}editorDivBlur(ru){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ru,Zl;this.width&&(ru=this.x,Zl=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),Gl._l10nPromise.get("editor_free_text_aria_label").then(op=>{var bp;return(bp=this.editorDiv)==null?void 0:bp.setAttribute("aria-label",op)}),Gl._l10nPromise.get("free_text_default_content").then(op=>{var bp;return(bp=this.editorDiv)==null?void 0:bp.setAttribute("default-content",op)}),this.editorDiv.contentEditable=!0;const{style:tp}=this.editorDiv;if(tp.fontSize=`calc(${mp(this,Ul)}px * var(--scale-factor))`,tp.color=mp(this,$l),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[op,bp]=this.parent.viewportBaseDimensions;this.setAt(ru*op,Zl*bp,this.width*op,this.height*bp);for(const ap of mp(this,Rl).split(`
`)){const hp=document.createElement("div");hp.append(ap?document.createTextNode(ap):document.createElement("br")),this.editorDiv.append(hp)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ru,Zl){const tp=super.deserialize(ru,Zl);return Bp(tp,Ul,ru.fontSize),Bp(tp,$l,o.Util.makeHexColor(...ru.color)),Bp(tp,Rl,ru.value),tp}serialize(){if(this.isEmpty())return null;const ru=Gl._internalPadding*this.parent.scaleFactor,Zl=this.getRect(ru,ru),tp=c.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:o.AnnotationEditorType.FREETEXT,color:tp,fontSize:mp(this,Ul),value:mp(this,Rl),pageIndex:this.parent.pageIndex,rect:Zl,rotation:this.rotation}}};let d=Gl;h=new WeakMap,g=new WeakMap,_=new WeakMap,$l=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,Ul=new WeakMap,Fl=new WeakSet,ey=function(ru){const Zl=op=>{this.editorDiv.style.fontSize=`calc(${op}px * var(--scale-factor))`,this.translate(0,-(op-mp(this,Ul))*this.parent.scaleFactor),Bp(this,Ul,op),Mp(this,Yl,Fm).call(this)},tp=mp(this,Ul);this.parent.addCommands({cmd:()=>{Zl(ru)},undo:()=>{Zl(tp)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Bl=new WeakSet,ty=function(ru){const Zl=mp(this,$l);this.parent.addCommands({cmd:()=>{Bp(this,$l,ru),this.editorDiv.style.color=ru},undo:()=>{Bp(this,$l,Zl),this.editorDiv.style.color=Zl},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Hl=new WeakSet,ny=function(){const ru=this.editorDiv.getElementsByTagName("div");if(ru.length===0)return this.editorDiv.innerText;const Zl=[];for(let tp=0,op=ru.length;tp<op;tp++){const ap=ru[tp].firstChild;(ap==null?void 0:ap.nodeName)==="#text"?Zl.push(ap.data):Zl.push("")}return Zl.join(`
`)},Yl=new WeakSet,Fm=function(){const[ru,Zl]=this.parent.viewportBaseDimensions,tp=this.div.getBoundingClientRect();this.width=tp.width/ru,this.height=tp.height/Zl},nm(d,"_freeTextDefaultContent",""),nm(d,"_l10nPromise"),nm(d,"_internalPadding",0),nm(d,"_defaultColor",null),nm(d,"_defaultFontSize",10),nm(d,"_keyboardManager",new a.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Gl.prototype.commitOrRemove]])),nm(d,"_type","freetext"),e.FreeTextEditor=d},(i,e,s)=>{var _,$l,Rl,Ml,Ul,Fl,Ll,Bl,zl,Hl,Wl,Yl,Xl,Gl,_d,ry,ru,iy,tp,sy,bp,oy,hp,jm,rp,ay,$p,ly,dp,cy,Ql,pm,np,Um,fp,Tm,wp,Em,_f,bm,sp,Bm,pp,Cm,Op,zm,Pp,uy,kp,dy,Fp,hy,Np,Vm,Wp,Pm,Kp,_m,em,Wm;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return c.fitCurve}});var o=s(1),a=s(6),c=s(25),d=s(7);const h=16,Xp=class extends a.AnnotationEditor{constructor(Ip){super({...Ip,name:"inkEditor"});Dp(this,_d);Dp(this,ru);Dp(this,tp);Dp(this,bp);Dp(this,hp);Dp(this,rp);Dp(this,$p);Dp(this,dp);Dp(this,Ql);Dp(this,np);Dp(this,fp);Dp(this,wp);Dp(this,_f);Dp(this,sp);Dp(this,pp);Dp(this,Pp);Dp(this,kp);Dp(this,Fp);Dp(this,Np);Dp(this,Wp);Dp(this,Kp);Dp(this,em);Dp(this,_,0);Dp(this,$l,0);Dp(this,Rl,0);Dp(this,Ml,this.canvasPointermove.bind(this));Dp(this,Ul,this.canvasPointerleave.bind(this));Dp(this,Fl,this.canvasPointerup.bind(this));Dp(this,Ll,this.canvasPointerdown.bind(this));Dp(this,Bl,!1);Dp(this,zl,!1);Dp(this,Hl,null);Dp(this,Wl,null);Dp(this,Yl,0);Dp(this,Xl,0);Dp(this,Gl,null);this.color=Ip.color||null,this.thickness=Ip.thickness||null,this.opacity=Ip.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ip){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(jp=>[jp,Ip.get(jp)]))}static updateDefaultParams(Ip,jp){switch(Ip){case o.AnnotationEditorParamsType.INK_THICKNESS:Xp._defaultThickness=jp;break;case o.AnnotationEditorParamsType.INK_COLOR:Xp._defaultColor=jp;break;case o.AnnotationEditorParamsType.INK_OPACITY:Xp._defaultOpacity=jp/100;break}}updateParams(Ip,jp){switch(Ip){case o.AnnotationEditorParamsType.INK_THICKNESS:Mp(this,_d,ry).call(this,jp);break;case o.AnnotationEditorParamsType.INK_COLOR:Mp(this,ru,iy).call(this,jp);break;case o.AnnotationEditorParamsType.INK_OPACITY:Mp(this,tp,sy).call(this,jp);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,Xp._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,Xp._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(Xp._defaultOpacity*100)]]}get propertiesToUpdate(){var Ip;return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Xp._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||Xp._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Ip=this.opacity)!=null?Ip:Xp._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Mp(this,fp,Tm).call(this),Mp(this,wp,Em).call(this)),this.isAttachedToDOM||(this.parent.add(this),Mp(this,_f,bm).call(this)),Mp(this,Kp,_m).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,mp(this,Wl).disconnect(),Bp(this,Wl,null),super.remove())}enableEditMode(){mp(this,Bl)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",mp(this,Ll)),this.canvas.addEventListener("pointerup",mp(this,Fl)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",mp(this,Ll)),this.canvas.removeEventListener("pointerup",mp(this,Fl)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){mp(this,Bl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Bp(this,Bl,!0),this.div.classList.add("disabled"),Mp(this,Kp,_m).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Ip){super.focusin(Ip),this.enableEditMode()}canvasPointerdown(Ip){Ip.button!==0||!this.isInEditMode()||mp(this,Bl)||(this.setInForeground(),Ip.type!=="mouse"&&this.div.focus(),Ip.stopPropagation(),this.canvas.addEventListener("pointerleave",mp(this,Ul)),this.canvas.addEventListener("pointermove",mp(this,Ml)),Mp(this,rp,ay).call(this,Ip.offsetX,Ip.offsetY))}canvasPointermove(Ip){Ip.stopPropagation(),Mp(this,$p,ly).call(this,Ip.offsetX,Ip.offsetY)}canvasPointerup(Ip){Ip.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ip.stopPropagation(),Mp(this,np,Um).call(this,Ip),this.setInBackground())}canvasPointerleave(Ip){Mp(this,np,Um).call(this,Ip),this.setInBackground()}render(){if(this.div)return this.div;let Ip,jp;this.width&&(Ip=this.x,jp=this.y),super.render(),Xp._l10nPromise.get("editor_ink_aria_label").then(zp=>{var Hp;return(Hp=this.div)==null?void 0:Hp.setAttribute("aria-label",zp)});const[Cp,Tp,Ep,Up]=Mp(this,bp,oy).call(this);if(this.setAt(Cp,Tp,0,0),this.setDims(Ep,Up),Mp(this,fp,Tm).call(this),this.width){const[zp,Hp]=this.parent.viewportBaseDimensions;this.setAt(Ip*zp,jp*Hp,this.width*zp,this.height*Hp),Bp(this,zl,!0),Mp(this,_f,bm).call(this),this.setDims(this.width*zp,this.height*Hp),Mp(this,Ql,pm).call(this),Mp(this,em,Wm).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Mp(this,wp,Em).call(this),this.div}setDimensions(Ip,jp){const Cp=Math.round(Ip),Tp=Math.round(jp);if(mp(this,Yl)===Cp&&mp(this,Xl)===Tp)return;Bp(this,Yl,Cp),Bp(this,Xl,Tp),this.canvas.style.visibility="hidden",mp(this,_)&&Math.abs(mp(this,_)-Ip/jp)>.01&&(jp=Math.ceil(Ip/mp(this,_)),this.setDims(Ip,jp));const[Ep,Up]=this.parent.viewportBaseDimensions;this.width=Ip/Ep,this.height=jp/Up,mp(this,Bl)&&Mp(this,sp,Bm).call(this,Ip,jp),Mp(this,_f,bm).call(this),Mp(this,Ql,pm).call(this),this.canvas.style.visibility="visible"}static deserialize(Ip,jp){var im,Jp;const Cp=super.deserialize(Ip,jp);Cp.thickness=Ip.thickness,Cp.color=o.Util.makeHexColor(...Ip.color),Cp.opacity=Ip.opacity;const[Tp,Ep]=jp.pageDimensions,Up=Cp.width*Tp,zp=Cp.height*Ep,Hp=jp.scaleFactor,qp=Ip.thickness/2;Bp(Cp,_,Up/zp),Bp(Cp,Bl,!0),Bp(Cp,Yl,Math.round(Up)),Bp(Cp,Xl,Math.round(zp));for(const{bezier:Gp}of Ip.paths){const om=[];Cp.paths.push(om);let sm=Hp*(Gp[0]-qp),cm=Hp*(zp-Gp[1]-qp);for(let am=2,dm=Gp.length;am<dm;am+=6){const gm=Hp*(Gp[am]-qp),ym=Hp*(zp-Gp[am+1]-qp),fm=Hp*(Gp[am+2]-qp),lm=Hp*(zp-Gp[am+3]-qp),hm=Hp*(Gp[am+4]-qp),vm=Hp*(zp-Gp[am+5]-qp);om.push([[sm,cm],[gm,ym],[fm,lm],[hm,vm]]),sm=hm,cm=vm}const Zp=Mp(this,Op,zm).call(this,om);Cp.bezierPath2D.push(Zp)}const Qp=Mp(im=Cp,Np,Vm).call(im);return Bp(Cp,Rl,Math.max(h,Qp[2]-Qp[0])),Bp(Cp,$l,Math.max(h,Qp[3]-Qp[1])),Mp(Jp=Cp,sp,Bm).call(Jp,Up,zp),Cp}serialize(){if(this.isEmpty())return null;const Ip=this.getRect(0,0),jp=this.rotation%180===0?Ip[3]-Ip[1]:Ip[2]-Ip[0],Cp=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Cp,thickness:this.thickness,opacity:this.opacity,paths:Mp(this,Pp,uy).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,jp),pageIndex:this.parent.pageIndex,rect:Ip,rotation:this.rotation}}};let g=Xp;_=new WeakMap,$l=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,Ul=new WeakMap,Fl=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Wl=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,Gl=new WeakMap,_d=new WeakSet,ry=function(Ip){const jp=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Ip,Mp(this,Kp,_m).call(this)},undo:()=>{this.thickness=jp,Mp(this,Kp,_m).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ru=new WeakSet,iy=function(Ip){const jp=this.color;this.parent.addCommands({cmd:()=>{this.color=Ip,Mp(this,Ql,pm).call(this)},undo:()=>{this.color=jp,Mp(this,Ql,pm).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},tp=new WeakSet,sy=function(Ip){Ip/=100;const jp=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Ip,Mp(this,Ql,pm).call(this)},undo:()=>{this.opacity=jp,Mp(this,Ql,pm).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},bp=new WeakSet,oy=function(){const{width:Ip,height:jp,rotation:Cp}=this.parent.viewport;switch(Cp){case 90:return[0,Ip,Ip,jp];case 180:return[Ip,jp,Ip,jp];case 270:return[jp,0,Ip,jp];default:return[0,0,Ip,jp]}},hp=new WeakSet,jm=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,d.opacityToHex)(this.opacity)}`},rp=new WeakSet,ay=function(Ip,jp){var Cp;this.isEditing=!0,mp(this,zl)||(Bp(this,zl,!0),Mp(this,_f,bm).call(this),this.thickness||(this.thickness=Xp._defaultThickness),this.color||(this.color=Xp._defaultColor||a.AnnotationEditor._defaultLineColor),(Cp=this.opacity)!=null||(this.opacity=Xp._defaultOpacity)),this.currentPath.push([Ip,jp]),Bp(this,Hl,null),Mp(this,hp,jm).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ip,jp),Bp(this,Gl,()=>{!mp(this,Gl)||(mp(this,Hl)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Mp(this,Ql,pm).call(this),this.ctx.lineTo(...mp(this,Hl)),Bp(this,Hl,null),this.ctx.stroke()),window.requestAnimationFrame(mp(this,Gl)))}),window.requestAnimationFrame(mp(this,Gl))},$p=new WeakSet,ly=function(Ip,jp){const[Cp,Tp]=this.currentPath.at(-1);Ip===Cp&&jp===Tp||(this.currentPath.push([Ip,jp]),Bp(this,Hl,[Ip,jp]))},dp=new WeakSet,cy=function(Ip,jp){var qp;this.ctx.closePath(),Bp(this,Gl,null),Ip=Math.min(Math.max(Ip,0),this.canvas.width),jp=Math.min(Math.max(jp,0),this.canvas.height);const[Cp,Tp]=this.currentPath.at(-1);(Ip!==Cp||jp!==Tp)&&this.currentPath.push([Ip,jp]);let Ep;if(this.currentPath.length!==1)Ep=(0,c.fitCurve)(this.currentPath,30,null);else{const Qp=[Ip,jp];Ep=[[Qp,Qp.slice(),Qp.slice(),Qp]]}const Up=Mp(qp=Xp,Op,zm).call(qp,Ep);this.currentPath.length=0;const zp=()=>{this.paths.push(Ep),this.bezierPath2D.push(Up),this.rebuild()},Hp=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Mp(this,fp,Tm).call(this),Mp(this,wp,Em).call(this)),Mp(this,Kp,_m).call(this))};this.parent.addCommands({cmd:zp,undo:Hp,mustExec:!0})},Ql=new WeakSet,pm=function(){if(this.isEmpty()){Mp(this,pp,Cm).call(this);return}Mp(this,hp,jm).call(this);const{canvas:Ip,ctx:jp}=this;jp.setTransform(1,0,0,1,0,0),jp.clearRect(0,0,Ip.width,Ip.height),Mp(this,pp,Cm).call(this);for(const Cp of this.bezierPath2D)jp.stroke(Cp)},np=new WeakSet,Um=function(Ip){Mp(this,dp,cy).call(this,Ip.offsetX,Ip.offsetY),this.canvas.removeEventListener("pointerleave",mp(this,Ul)),this.canvas.removeEventListener("pointermove",mp(this,Ml)),this.parent.addToAnnotationStorage(this)},fp=new WeakSet,Tm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Xp._l10nPromise.get("editor_ink_canvas_aria_label").then(Ip=>{var jp;return(jp=this.canvas)==null?void 0:jp.setAttribute("aria-label",Ip)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},wp=new WeakSet,Em=function(){Bp(this,Wl,new ResizeObserver(Ip=>{const jp=Ip[0].contentRect;jp.width&&jp.height&&this.setDimensions(jp.width,jp.height)})),mp(this,Wl).observe(this.div)},_f=new WeakSet,bm=function(){if(!mp(this,zl))return;const[Ip,jp]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Ip),this.canvas.height=Math.ceil(this.height*jp),Mp(this,pp,Cm).call(this)},sp=new WeakSet,Bm=function(Ip,jp){const Cp=Mp(this,Wp,Pm).call(this),Tp=(Ip-Cp)/mp(this,Rl),Ep=(jp-Cp)/mp(this,$l);this.scaleFactor=Math.min(Tp,Ep)},pp=new WeakSet,Cm=function(){const Ip=Mp(this,Wp,Pm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ip,this.translationY*this.scaleFactor+Ip)},Op=new WeakSet,zm=function(Ip){const jp=new Path2D;for(let Cp=0,Tp=Ip.length;Cp<Tp;Cp++){const[Ep,Up,zp,Hp]=Ip[Cp];Cp===0&&jp.moveTo(...Ep),jp.bezierCurveTo(Up[0],Up[1],zp[0],zp[1],Hp[0],Hp[1])}return jp},Pp=new WeakSet,uy=function(Ip,jp,Cp,Tp){const Up=[],zp=this.thickness/2;let Hp,qp;for(const Qp of this.paths){Hp=[],qp=[];for(let im=0,Jp=Qp.length;im<Jp;im++){const[Gp,om,sm,cm]=Qp[im],Zp=Ip*(Gp[0]+jp)+zp,am=Tp-Ip*(Gp[1]+Cp)-zp,dm=Ip*(om[0]+jp)+zp,gm=Tp-Ip*(om[1]+Cp)-zp,ym=Ip*(sm[0]+jp)+zp,fm=Tp-Ip*(sm[1]+Cp)-zp,lm=Ip*(cm[0]+jp)+zp,hm=Tp-Ip*(cm[1]+Cp)-zp;im===0&&(Hp.push(Zp,am),qp.push(Zp,am)),Hp.push(dm,gm,ym,fm,lm,hm),Mp(this,kp,dy).call(this,Zp,am,dm,gm,ym,fm,lm,hm,4,qp)}Up.push({bezier:Hp,points:qp})}return Up},kp=new WeakSet,dy=function(Ip,jp,Cp,Tp,Ep,Up,zp,Hp,qp,Qp){if(Mp(this,Fp,hy).call(this,Ip,jp,Cp,Tp,Ep,Up,zp,Hp)){Qp.push(zp,Hp);return}for(let im=1;im<qp-1;im++){const Jp=im/qp,Gp=1-Jp;let om=Jp*Ip+Gp*Cp,sm=Jp*jp+Gp*Tp,cm=Jp*Cp+Gp*Ep,Zp=Jp*Tp+Gp*Up;const am=Jp*Ep+Gp*zp,dm=Jp*Up+Gp*Hp;om=Jp*om+Gp*cm,sm=Jp*sm+Gp*Zp,cm=Jp*cm+Gp*am,Zp=Jp*Zp+Gp*dm,om=Jp*om+Gp*cm,sm=Jp*sm+Gp*Zp,Qp.push(om,sm)}Qp.push(zp,Hp)},Fp=new WeakSet,hy=function(Ip,jp,Cp,Tp,Ep,Up,zp,Hp){const Qp=(3*Cp-2*Ip-zp)**2,im=(3*Tp-2*jp-Hp)**2,Jp=(3*Ep-Ip-2*zp)**2,Gp=(3*Up-jp-2*Hp)**2;return Math.max(Qp,Jp)+Math.max(im,Gp)<=10},Np=new WeakSet,Vm=function(){let Ip=1/0,jp=-1/0,Cp=1/0,Tp=-1/0;for(const Ep of this.paths)for(const[Up,zp,Hp,qp]of Ep){const Qp=o.Util.bezierBoundingBox(...Up,...zp,...Hp,...qp);Ip=Math.min(Ip,Qp[0]),Cp=Math.min(Cp,Qp[1]),jp=Math.max(jp,Qp[2]),Tp=Math.max(Tp,Qp[3])}return[Ip,Cp,jp,Tp]},Wp=new WeakSet,Pm=function(){return mp(this,Bl)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Kp=new WeakSet,_m=function(Ip=!1){if(this.isEmpty())return;if(!mp(this,Bl)){Mp(this,Ql,pm).call(this);return}const jp=Mp(this,Np,Vm).call(this),Cp=Mp(this,Wp,Pm).call(this);Bp(this,Rl,Math.max(h,jp[2]-jp[0])),Bp(this,$l,Math.max(h,jp[3]-jp[1]));const Tp=Math.ceil(Cp+mp(this,Rl)*this.scaleFactor),Ep=Math.ceil(Cp+mp(this,$l)*this.scaleFactor),[Up,zp]=this.parent.viewportBaseDimensions;this.width=Tp/Up,this.height=Ep/zp,Bp(this,_,Tp/Ep),Mp(this,em,Wm).call(this);const Hp=this.translationX,qp=this.translationY;this.translationX=-jp[0],this.translationY=-jp[1],Mp(this,_f,bm).call(this),Mp(this,Ql,pm).call(this),Bp(this,Yl,Tp),Bp(this,Xl,Ep),this.setDims(Tp,Ep);const Qp=Ip?Cp/this.scaleFactor/2:0;this.translate(Hp-this.translationX-Qp,qp-this.translationY-Qp)},em=new WeakSet,Wm=function(){const{style:Ip}=this.div;mp(this,_)>=1?(Ip.minHeight=`${h}px`,Ip.minWidth=`${Math.round(mp(this,_)*h)}px`):(Ip.minWidth=`${h}px`,Ip.minHeight=`${Math.round(h/mp(this,_))}px`)},Dp(g,Op),nm(g,"_defaultColor",null),nm(g,"_defaultOpacity",1),nm(g,"_defaultThickness",1),nm(g,"_l10nPromise"),nm(g,"_type","ink"),e.InkEditor=g},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const o=s(26);e.fitCurve=o},i=>{function e(Fl,Ll,Bl){if(!Array.isArray(Fl))throw new TypeError("First argument should be an array");if(Fl.forEach(Yl=>{if(!Array.isArray(Yl)||Yl.some(Xl=>typeof Xl!="number")||Yl.length!==Fl[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Fl=Fl.filter((Yl,Xl)=>Xl===0||!Yl.every((Gl,_d)=>Gl===Fl[Xl-1][_d])),Fl.length<2)return[];const zl=Fl.length,Hl=Rl(Fl[1],Fl[0]),Wl=Rl(Fl[zl-2],Fl[zl-1]);return s(Fl,Hl,Wl,Ll,Bl)}function s(Fl,Ll,Bl,zl,Hl){var Yl,Xl,Gl,_d,Kl,ru,Zl,tp,op,bp,ap,hp,gp;if(Fl.length===2)return hp=Ml.vectorLen(Ml.subtract(Fl[0],Fl[1]))/3,Yl=[Fl[0],Ml.addArrays(Fl[0],Ml.mulItems(Ll,hp)),Ml.addArrays(Fl[1],Ml.mulItems(Bl,hp)),Fl[1]],[Yl];if(Xl=h(Fl),[Yl,_d,ru]=o(Fl,Xl,Xl,Ll,Bl,Hl),_d===0||_d<zl)return[Yl];if(_d<zl*zl)for(Gl=Xl,Kl=_d,Zl=ru,gp=0;gp<20;gp++){if(Gl=c(Yl,Fl,Gl),[Yl,_d,ru]=o(Fl,Xl,Gl,Ll,Bl,Hl),_d<zl)return[Yl];if(ru===Zl){let rp=_d/Kl;if(rp>.9999&&rp<1.0001)break}Kl=_d,Zl=ru}return ap=[],tp=Ml.subtract(Fl[ru-1],Fl[ru+1]),tp.every(rp=>rp===0)&&(tp=Ml.subtract(Fl[ru-1],Fl[ru]),[tp[0],tp[1]]=[-tp[1],tp[0]]),op=Ml.normalize(tp),bp=Ml.mulItems(op,-1),ap=ap.concat(s(Fl.slice(0,ru+1),Ll,op,zl,Hl)),ap=ap.concat(s(Fl.slice(ru),bp,Bl,zl,Hl)),ap}function o(Fl,Ll,Bl,zl,Hl,Wl){var Yl,Xl,Gl;return Yl=a(Fl,Bl,zl,Hl),[Xl,Gl]=g(Fl,Yl,Ll),Wl&&Wl({bez:Yl,points:Fl,params:Ll,maxErr:Xl,maxPoint:Gl}),[Yl,Xl,Gl]}function a(Fl,Ll,Bl,zl){var Hl,Wl,Yl,Xl,Gl,_d,Kl,ru,Zl,tp,op,bp,ap,hp,gp,rp,up,$p=Fl[0],yp=Fl[Fl.length-1];for(Hl=[$p,null,null,yp],Wl=Ml.zeros_Xx2x2(Ll.length),ap=0,hp=Ll.length;ap<hp;ap++)rp=Ll[ap],up=1-rp,Yl=Wl[ap],Yl[0]=Ml.mulItems(Bl,3*rp*(up*up)),Yl[1]=Ml.mulItems(zl,3*up*(rp*rp));for(Xl=[[0,0],[0,0]],Gl=[0,0],ap=0,hp=Fl.length;ap<hp;ap++)rp=Ll[ap],Yl=Wl[ap],Xl[0][0]+=Ml.dot(Yl[0],Yl[0]),Xl[0][1]+=Ml.dot(Yl[0],Yl[1]),Xl[1][0]+=Ml.dot(Yl[0],Yl[1]),Xl[1][1]+=Ml.dot(Yl[1],Yl[1]),gp=Ml.subtract(Fl[ap],Ul.q([$p,$p,yp,yp],rp)),Gl[0]+=Ml.dot(Yl[0],gp),Gl[1]+=Ml.dot(Yl[1],gp);return _d=Xl[0][0]*Xl[1][1]-Xl[1][0]*Xl[0][1],Kl=Xl[0][0]*Gl[1]-Xl[1][0]*Gl[0],ru=Gl[0]*Xl[1][1]-Gl[1]*Xl[0][1],Zl=_d===0?0:ru/_d,tp=_d===0?0:Kl/_d,bp=Ml.vectorLen(Ml.subtract($p,yp)),op=1e-6*bp,Zl<op||tp<op?(Hl[1]=Ml.addArrays($p,Ml.mulItems(Bl,bp/3)),Hl[2]=Ml.addArrays(yp,Ml.mulItems(zl,bp/3))):(Hl[1]=Ml.addArrays($p,Ml.mulItems(Bl,Zl)),Hl[2]=Ml.addArrays(yp,Ml.mulItems(zl,tp))),Hl}function c(Fl,Ll,Bl){return Bl.map((zl,Hl)=>d(Fl,Ll[Hl],zl))}function d(Fl,Ll,Bl){var zl=Ml.subtract(Ul.q(Fl,Bl),Ll),Hl=Ul.qprime(Fl,Bl),Wl=Ml.mulMatrix(zl,Hl),Yl=Ml.sum(Ml.squareItems(Hl))+2*Ml.mulMatrix(zl,Ul.qprimeprime(Fl,Bl));return Yl===0?Bl:Bl-Wl/Yl}function h(Fl){var Ll=[],Bl,zl,Hl;return Fl.forEach((Wl,Yl)=>{Bl=Yl?zl+Ml.vectorLen(Ml.subtract(Wl,Hl)):0,Ll.push(Bl),zl=Bl,Hl=Wl}),Ll=Ll.map(Wl=>Wl/zl),Ll}function g(Fl,Ll,Bl){var zl,Hl,Wl,Yl,Xl,Gl,_d,Kl;Hl=0,Wl=Math.floor(Fl.length/2);const ru=_(Ll,10);for(Xl=0,Gl=Fl.length;Xl<Gl;Xl++)_d=Fl[Xl],Kl=$l(Ll,Bl[Xl],ru,10),Yl=Ml.subtract(Ul.q(Ll,Kl),_d),zl=Yl[0]*Yl[0]+Yl[1]*Yl[1],zl>Hl&&(Hl=zl,Wl=Xl);return[Hl,Wl]}var _=function(Fl,Ll){for(var Bl,zl=[0],Hl=Fl[0],Wl=0,Yl=1;Yl<=Ll;Yl++)Bl=Ul.q(Fl,Yl/Ll),Wl+=Ml.vectorLen(Ml.subtract(Bl,Hl)),zl.push(Wl),Hl=Bl;return zl=zl.map(Xl=>Xl/Wl),zl};function $l(Fl,Ll,Bl,zl){if(Ll<0)return 0;if(Ll>1)return 1;for(var Hl,Wl,Yl,Xl,Gl,_d=1;_d<=zl;_d++)if(Ll<=Bl[_d]){Xl=(_d-1)/zl,Yl=_d/zl,Wl=Bl[_d-1],Hl=Bl[_d],Gl=(Ll-Wl)/(Hl-Wl)*(Yl-Xl)+Xl;break}return Gl}function Rl(Fl,Ll){return Ml.normalize(Ml.subtract(Fl,Ll))}class Ml{static zeros_Xx2x2(Ll){for(var Bl=[];Ll--;)Bl.push([0,0]);return Bl}static mulItems(Ll,Bl){return Ll.map(zl=>zl*Bl)}static mulMatrix(Ll,Bl){return Ll.reduce((zl,Hl,Wl)=>zl+Hl*Bl[Wl],0)}static subtract(Ll,Bl){return Ll.map((zl,Hl)=>zl-Bl[Hl])}static addArrays(Ll,Bl){return Ll.map((zl,Hl)=>zl+Bl[Hl])}static addItems(Ll,Bl){return Ll.map(zl=>zl+Bl)}static sum(Ll){return Ll.reduce((Bl,zl)=>Bl+zl)}static dot(Ll,Bl){return Ml.mulMatrix(Ll,Bl)}static vectorLen(Ll){return Math.hypot(...Ll)}static divItems(Ll,Bl){return Ll.map(zl=>zl/Bl)}static squareItems(Ll){return Ll.map(Bl=>Bl*Bl)}static normalize(Ll){return this.divItems(Ll,this.vectorLen(Ll))}}class Ul{static q(Ll,Bl){var zl=1-Bl,Hl=Ml.mulItems(Ll[0],zl*zl*zl),Wl=Ml.mulItems(Ll[1],3*zl*zl*Bl),Yl=Ml.mulItems(Ll[2],3*zl*Bl*Bl),Xl=Ml.mulItems(Ll[3],Bl*Bl*Bl);return Ml.addArrays(Ml.addArrays(Hl,Wl),Ml.addArrays(Yl,Xl))}static qprime(Ll,Bl){var zl=1-Bl,Hl=Ml.mulItems(Ml.subtract(Ll[1],Ll[0]),3*zl*zl),Wl=Ml.mulItems(Ml.subtract(Ll[2],Ll[1]),6*zl*Bl),Yl=Ml.mulItems(Ml.subtract(Ll[3],Ll[2]),3*Bl*Bl);return Ml.addArrays(Ml.addArrays(Hl,Wl),Yl)}static qprimeprime(Ll,Bl){return Ml.addArrays(Ml.mulItems(Ml.addArrays(Ml.subtract(Ll[2],Ml.mulItems(Ll[1],2)),Ll[0]),6*(1-Bl)),Ml.mulItems(Ml.addArrays(Ml.subtract(Ll[3],Ml.mulItems(Ll[2],2)),Ll[1]),6*Bl))}}i.exports=e,i.exports.fitCubic=s,i.exports.createTangent=Rl},(i,e,s)=>{var Ql,Hm,np,qm,fp,Ym;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var o=s(1),a=s(8),c=s(5),d=s(28),h=s(29);const g=1e3,_=9,$l=new WeakSet;function Rl(xp){return{width:xp[2]-xp[0],height:xp[3]-xp[1]}}class Ml{static create(_f){switch(_f.data.annotationType){case o.AnnotationType.LINK:return new Fl(_f);case o.AnnotationType.TEXT:return new Ll(_f);case o.AnnotationType.WIDGET:switch(_f.data.fieldType){case"Tx":return new zl(_f);case"Btn":return _f.data.radioButton?new Wl(_f):_f.data.checkBox?new Hl(_f):new Yl(_f);case"Ch":return new Xl(_f)}return new Bl(_f);case o.AnnotationType.POPUP:return new Gl(_f);case o.AnnotationType.FREETEXT:return new Kl(_f);case o.AnnotationType.LINE:return new ru(_f);case o.AnnotationType.SQUARE:return new Zl(_f);case o.AnnotationType.CIRCLE:return new tp(_f);case o.AnnotationType.POLYLINE:return new op(_f);case o.AnnotationType.CARET:return new ap(_f);case o.AnnotationType.INK:return new hp(_f);case o.AnnotationType.POLYGON:return new bp(_f);case o.AnnotationType.HIGHLIGHT:return new gp(_f);case o.AnnotationType.UNDERLINE:return new rp(_f);case o.AnnotationType.SQUIGGLY:return new up(_f);case o.AnnotationType.STRIKEOUT:return new $p(_f);case o.AnnotationType.STAMP:return new yp(_f);case o.AnnotationType.FILEATTACHMENT:return new dp(_f);default:return new Ul(_f)}}}class Ul{constructor(_f,{isRenderable:ip=!1,ignoreBorder:sp=!1,createQuadrilaterals:lp=!1}={}){this.isRenderable=ip,this.data=_f.data,this.layer=_f.layer,this.page=_f.page,this.viewport=_f.viewport,this.linkService=_f.linkService,this.downloadManager=_f.downloadManager,this.imageResourcesPath=_f.imageResourcesPath,this.renderForms=_f.renderForms,this.svgFactory=_f.svgFactory,this.annotationStorage=_f.annotationStorage,this.enableScripting=_f.enableScripting,this.hasJSActions=_f.hasJSActions,this._fieldObjects=_f.fieldObjects,this._mouseState=_f.mouseState,ip&&(this.container=this._createContainer(sp)),lp&&(this.quadrilaterals=this._createQuadrilaterals(sp))}_createContainer(_f=!1){const ip=this.data,sp=this.page,lp=this.viewport,pp=document.createElement("section"),{width:Sp,height:Op}=Rl(ip.rect),[Lp,Pp,Ap,kp]=lp.viewBox,Rp=Ap-Lp,Fp=kp-Pp;pp.setAttribute("data-annotation-id",ip.id);const _p=o.Util.normalizeRect([ip.rect[0],sp.view[3]-ip.rect[1]+sp.view[1],ip.rect[2],sp.view[3]-ip.rect[3]+sp.view[1]]);if(!_f&&ip.borderStyle.width>0){pp.style.borderWidth=`${ip.borderStyle.width}px`;const Vp=ip.borderStyle.horizontalCornerRadius,Wp=ip.borderStyle.verticalCornerRadius;if(Vp>0||Wp>0){const Kp=`calc(${Vp}px * var(--scale-factor)) / calc(${Wp}px * var(--scale-factor))`;pp.style.borderRadius=Kp}else if(this instanceof Wl){const Kp=`calc(${Sp}px * var(--scale-factor)) / calc(${Op}px * var(--scale-factor))`;pp.style.borderRadius=Kp}switch(ip.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:pp.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:pp.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:pp.style.borderBottomStyle="solid";break}const Yp=ip.borderColor||null;Yp?pp.style.borderColor=o.Util.makeHexColor(Yp[0]|0,Yp[1]|0,Yp[2]|0):pp.style.borderWidth=0}pp.style.left=`${100*(_p[0]-Lp)/Rp}%`,pp.style.top=`${100*(_p[1]-Pp)/Fp}%`;const{rotation:Np}=ip;return ip.hasOwnCanvas||Np===0?(pp.style.width=`${100*Sp/Rp}%`,pp.style.height=`${100*Op/Fp}%`):this.setRotation(Np,pp),pp}setRotation(_f,ip=this.container){const[sp,lp,pp,Sp]=this.viewport.viewBox,Op=pp-sp,Lp=Sp-lp,{width:Pp,height:Ap}=Rl(this.data.rect);let kp,Rp;_f%180===0?(kp=100*Pp/Op,Rp=100*Ap/Lp):(kp=100*Ap/Op,Rp=100*Pp/Lp),ip.style.width=`${kp}%`,ip.style.height=`${Rp}%`,ip.setAttribute("data-main-rotation",(360-_f)%360)}get _commonActions(){const _f=(ip,sp,lp)=>{const pp=lp.detail[ip];lp.target.style[sp]=d.ColorConverters[`${pp[0]}_HTML`](pp.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:ip=>{const sp=ip.detail.display%2===1;this.container.style.visibility=sp?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:sp,print:ip.detail.display===0||ip.detail.display===3})},print:ip=>{this.annotationStorage.setValue(this.data.id,{print:ip.detail.print})},hidden:ip=>{this.container.style.visibility=ip.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ip.detail.hidden})},focus:ip=>{setTimeout(()=>ip.target.focus({preventScroll:!1}),0)},userName:ip=>{ip.target.title=ip.detail.userName},readonly:ip=>{ip.detail.readonly?ip.target.setAttribute("readonly",""):ip.target.removeAttribute("readonly")},required:ip=>{this._setRequired(ip.target,ip.detail.required)},bgColor:ip=>{_f("bgColor","backgroundColor",ip)},fillColor:ip=>{_f("fillColor","backgroundColor",ip)},fgColor:ip=>{_f("fgColor","color",ip)},textColor:ip=>{_f("textColor","color",ip)},borderColor:ip=>{_f("borderColor","borderColor",ip)},strokeColor:ip=>{_f("strokeColor","borderColor",ip)},rotation:ip=>{const sp=ip.detail.rotation;this.setRotation(sp),this.annotationStorage.setValue(this.data.id,{rotation:sp})}})}_dispatchEventFromSandbox(_f,ip){const sp=this._commonActions;for(const lp of Object.keys(ip.detail)){const pp=_f[lp]||sp[lp];pp&&pp(ip)}}_setDefaultPropertiesFromJS(_f){if(!this.enableScripting)return;const ip=this.annotationStorage.getRawValue(this.data.id);if(!ip)return;const sp=this._commonActions;for(const[lp,pp]of Object.entries(ip)){const Sp=sp[lp];if(Sp){const Op={detail:{[lp]:pp},target:_f};Sp(Op),delete ip[lp]}}}_createQuadrilaterals(_f=!1){if(!this.data.quadPoints)return null;const ip=[],sp=this.data.rect;for(const lp of this.data.quadPoints)this.data.rect=[lp[2].x,lp[2].y,lp[1].x,lp[1].y],ip.push(this._createContainer(_f));return this.data.rect=sp,ip}_createPopup(_f,ip){let sp=this.container;this.quadrilaterals&&(_f=_f||this.quadrilaterals,sp=this.quadrilaterals[0]),_f||(_f=document.createElement("div"),_f.className="popupTriggerArea",sp.append(_f));const pp=new _d({container:sp,trigger:_f,color:ip.color,titleObj:ip.titleObj,modificationDate:ip.modificationDate,contentsObj:ip.contentsObj,richText:ip.richText,hideWrapper:!0}).render();pp.style.left="100%",sp.append(pp)}_renderQuadrilaterals(_f){for(const ip of this.quadrilaterals)ip.className=_f;return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(_f,ip=null){const sp=[];if(this._fieldObjects){const lp=this._fieldObjects[_f];if(lp)for(const{page:pp,id:Sp,exportValues:Op}of lp){if(pp===-1||Sp===ip)continue;const Lp=typeof Op=="string"?Op:null,Pp=document.querySelector(`[data-element-id="${Sp}"]`);if(Pp&&!$l.has(Pp)){(0,o.warn)(`_getElementsByName - element not allowed: ${Sp}`);continue}sp.push({id:Sp,exportValue:Lp,domElement:Pp})}return sp}for(const lp of document.getElementsByName(_f)){const{id:pp,exportValue:Sp}=lp;pp!==ip&&(!$l.has(lp)||sp.push({id:pp,exportValue:Sp,domElement:lp}))}return sp}static get platform(){const _f=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:_f.includes("Win"),isMac:_f.includes("Mac")})}}class Fl extends Ul{constructor(_f,ip=null){super(_f,{isRenderable:!0,ignoreBorder:!!(ip!=null&&ip.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=_f.data.isTooltipOnly}render(){const{data:_f,linkService:ip}=this,sp=document.createElement("a");sp.setAttribute("data-element-id",_f.id);let lp=!1;return _f.url?(ip.addLinkAttributes(sp,_f.url,_f.newWindow),lp=!0):_f.action?(this._bindNamedAction(sp,_f.action),lp=!0):_f.dest?(this._bindLink(sp,_f.dest),lp=!0):(_f.actions&&(_f.actions.Action||_f.actions["Mouse Up"]||_f.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(sp,_f),lp=!0),_f.resetForm?(this._bindResetFormAction(sp,_f.resetForm),lp=!0):this.isTooltipOnly&&!lp&&(this._bindLink(sp,""),lp=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((pp,Sp)=>{const Op=Sp===0?sp:sp.cloneNode();return pp.append(Op),pp}):(this.container.className="linkAnnotation",lp&&this.container.append(sp),this.container)}_bindLink(_f,ip){_f.href=this.linkService.getDestinationHash(ip),_f.onclick=()=>(ip&&this.linkService.goToDestination(ip),!1),(ip||ip==="")&&(_f.className="internalLink")}_bindNamedAction(_f,ip){_f.href=this.linkService.getAnchorUrl(""),_f.onclick=()=>(this.linkService.executeNamedAction(ip),!1),_f.className="internalLink"}_bindJSAction(_f,ip){_f.href=this.linkService.getAnchorUrl("");const sp=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const lp of Object.keys(ip.actions)){const pp=sp.get(lp);!pp||(_f[pp]=()=>{var Sp;return(Sp=this.linkService.eventBus)==null||Sp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ip.id,name:lp}}),!1})}_f.onclick||(_f.onclick=()=>!1),_f.className="internalLink"}_bindResetFormAction(_f,ip){const sp=_f.onclick;if(sp||(_f.href=this.linkService.getAnchorUrl("")),_f.className="internalLink",!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),sp||(_f.onclick=()=>!1);return}_f.onclick=()=>{var Ap;sp&&sp();const{fields:lp,refs:pp,include:Sp}=ip,Op=[];if(lp.length!==0||pp.length!==0){const kp=new Set(pp);for(const Rp of lp){const Fp=this._fieldObjects[Rp]||[];for(const{id:_p}of Fp)kp.add(_p)}for(const Rp of Object.values(this._fieldObjects))for(const Fp of Rp)kp.has(Fp.id)===Sp&&Op.push(Fp)}else for(const kp of Object.values(this._fieldObjects))Op.push(...kp);const Lp=this.annotationStorage,Pp=[];for(const kp of Op){const{id:Rp}=kp;switch(Pp.push(Rp),kp.type){case"text":{const _p=kp.defaultValue||"";Lp.setValue(Rp,{value:_p});break}case"checkbox":case"radiobutton":{const _p=kp.defaultValue===kp.exportValues;Lp.setValue(Rp,{value:_p});break}case"combobox":case"listbox":{const _p=kp.defaultValue||"";Lp.setValue(Rp,{value:_p});break}default:continue}const Fp=document.querySelector(`[data-element-id="${Rp}"]`);if(Fp){if(!$l.has(Fp)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Rp}`);continue}}else continue;Fp.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ap=this.linkService.eventBus)==null||Ap.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Pp,name:"ResetForm"}})),!1}}}class Ll extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip})}render(){this.container.className="textAnnotation";const _f=document.createElement("img");return _f.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",_f.alt="[{{type}} Annotation]",_f.dataset.l10nId="text_annotation_type",_f.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(_f,this.data),this.container.append(_f),this.container}}class Bl extends Ul{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(_f){const{isWin:ip,isMac:sp}=Ul.platform;return ip&&_f.ctrlKey||sp&&_f.metaKey}_setEventListener(_f,ip,sp,lp){ip.includes("mouse")?_f.addEventListener(ip,pp=>{var Sp;(Sp=this.linkService.eventBus)==null||Sp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:sp,value:lp(pp),shift:pp.shiftKey,modifier:this._getKeyModifier(pp)}})}):_f.addEventListener(ip,pp=>{var Sp;(Sp=this.linkService.eventBus)==null||Sp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:sp,value:lp(pp)}})})}_setEventListeners(_f,ip,sp){var lp;for(const[pp,Sp]of ip)(Sp==="Action"||((lp=this.data.actions)==null?void 0:lp[Sp]))&&this._setEventListener(_f,pp,Sp,sp)}_setBackgroundColor(_f){const ip=this.data.backgroundColor||null;_f.style.backgroundColor=ip===null?"transparent":o.Util.makeHexColor(ip[0],ip[1],ip[2])}_setTextStyle(_f){const ip=["left","center","right"],{fontColor:sp}=this.data.defaultAppearanceData,lp=this.data.defaultAppearanceData.fontSize||_,pp=_f.style;let Sp;if(this.data.multiLine){const Op=Math.abs(this.data.rect[3]-this.data.rect[1]),Lp=Math.round(Op/(o.LINE_FACTOR*lp))||1,Pp=Op/Lp;Sp=Math.min(lp,Math.round(Pp/o.LINE_FACTOR))}else{const Op=Math.abs(this.data.rect[3]-this.data.rect[1]);Sp=Math.min(lp,Math.round(Op/o.LINE_FACTOR))}pp.fontSize=`calc(${Sp}px * var(--scale-factor))`,pp.color=o.Util.makeHexColor(sp[0],sp[1],sp[2]),this.data.textAlignment!==null&&(pp.textAlign=ip[this.data.textAlignment])}_setRequired(_f,ip){ip?_f.setAttribute("required",!0):_f.removeAttribute("required"),_f.setAttribute("aria-required",ip)}}class zl extends Bl{constructor(_f){const ip=_f.renderForms||!_f.data.hasAppearance&&!!_f.data.fieldValue;super(_f,{isRenderable:ip})}setPropertyOnSiblings(_f,ip,sp,lp){const pp=this.annotationStorage;for(const Sp of this._getElementsByName(_f.name,_f.id))Sp.domElement&&(Sp.domElement[ip]=sp),pp.setValue(Sp.id,{[lp]:sp})}render(){var lp;const _f=this.annotationStorage,ip=this.data.id;this.container.className="textWidgetAnnotation";let sp=null;if(this.renderForms){const pp=_f.getValue(ip,{value:this.data.fieldValue});let Sp=pp.formattedValue||pp.value||"";const Op=_f.getValue(ip,{charLimit:this.data.maxLen}).charLimit;Op&&Sp.length>Op&&(Sp=Sp.slice(0,Op));const Lp={userValue:Sp,formattedValue:null,valueOnFocus:""};this.data.multiLine?(sp=document.createElement("textarea"),sp.textContent=Sp,this.data.doNotScroll&&(sp.style.overflowY="hidden")):(sp=document.createElement("input"),sp.type="text",sp.setAttribute("value",Sp),this.data.doNotScroll&&(sp.style.overflowX="hidden")),$l.add(sp),sp.setAttribute("data-element-id",ip),sp.disabled=this.data.readOnly,sp.name=this.data.fieldName,sp.tabIndex=g,this._setRequired(sp,this.data.required),Op&&(sp.maxLength=Op),sp.addEventListener("input",Ap=>{_f.setValue(ip,{value:Ap.target.value}),this.setPropertyOnSiblings(sp,"value",Ap.target.value,"value")}),sp.addEventListener("resetform",Ap=>{var Rp;const kp=(Rp=this.data.defaultFieldValue)!=null?Rp:"";sp.value=Lp.userValue=kp,Lp.formattedValue=null});let Pp=Ap=>{const{formattedValue:kp}=Lp;kp!=null&&(Ap.target.value=kp),Ap.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){sp.addEventListener("focus",kp=>{Lp.userValue&&(kp.target.value=Lp.userValue),Lp.valueOnFocus=kp.target.value}),sp.addEventListener("updatefromsandbox",kp=>{const Rp={value(Fp){var _p;Lp.userValue=(_p=Fp.detail.value)!=null?_p:"",_f.setValue(ip,{value:Lp.userValue.toString()}),Fp.target.value=Lp.userValue},formattedValue(Fp){const{formattedValue:_p}=Fp.detail;Lp.formattedValue=_p,_p!=null&&Fp.target!==document.activeElement&&(Fp.target.value=_p),_f.setValue(ip,{formattedValue:_p})},selRange(Fp){Fp.target.setSelectionRange(...Fp.detail.selRange)},charLimit:Fp=>{var Wp;const{charLimit:_p}=Fp.detail,{target:Np}=Fp;if(_p===0){Np.removeAttribute("maxLength");return}Np.setAttribute("maxLength",_p);let Vp=Lp.userValue;!Vp||Vp.length<=_p||(Vp=Vp.slice(0,_p),Np.value=Lp.userValue=Vp,_f.setValue(ip,{value:Vp}),(Wp=this.linkService.eventBus)==null||Wp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ip,name:"Keystroke",value:Vp,willCommit:!0,commitKey:1,selStart:Np.selectionStart,selEnd:Np.selectionEnd}}))}};this._dispatchEventFromSandbox(Rp,kp)}),sp.addEventListener("keydown",kp=>{var _p;let Rp=-1;if(kp.key==="Escape"?Rp=0:kp.key==="Enter"?Rp=2:kp.key==="Tab"&&(Rp=3),Rp===-1)return;const{value:Fp}=kp.target;Lp.valueOnFocus!==Fp&&(Lp.userValue=Fp,(_p=this.linkService.eventBus)==null||_p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ip,name:"Keystroke",value:Fp,willCommit:!0,commitKey:Rp,selStart:kp.target.selectionStart,selEnd:kp.target.selectionEnd}}))});const Ap=Pp;Pp=null,sp.addEventListener("blur",kp=>{var Fp;const{value:Rp}=kp.target;Lp.userValue=Rp,this._mouseState.isDown&&Lp.valueOnFocus!==Rp&&((Fp=this.linkService.eventBus)==null||Fp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ip,name:"Keystroke",value:Rp,willCommit:!0,commitKey:1,selStart:kp.target.selectionStart,selEnd:kp.target.selectionEnd}})),Ap(kp)}),(lp=this.data.actions)!=null&&lp.Keystroke&&sp.addEventListener("beforeinput",kp=>{var Kp;const{data:Rp,target:Fp}=kp,{value:_p,selectionStart:Np,selectionEnd:Vp}=Fp;let Wp=Np,Yp=Vp;switch(kp.inputType){case"deleteWordBackward":{const tm=_p.substring(0,Np).match(/\w*[^\w]*$/);tm&&(Wp-=tm[0].length);break}case"deleteWordForward":{const tm=_p.substring(Np).match(/^[^\w]*\w*/);tm&&(Yp+=tm[0].length);break}case"deleteContentBackward":Np===Vp&&(Wp-=1);break;case"deleteContentForward":Np===Vp&&(Yp+=1);break}kp.preventDefault(),(Kp=this.linkService.eventBus)==null||Kp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ip,name:"Keystroke",value:_p,change:Rp||"",willCommit:!1,selStart:Wp,selEnd:Yp}})}),this._setEventListeners(sp,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kp=>kp.target.value)}if(Pp&&sp.addEventListener("blur",Pp),this.data.comb){const kp=(this.data.rect[2]-this.data.rect[0])/Op;sp.classList.add("comb"),sp.style.letterSpacing=`calc(${kp}px * var(--scale-factor) - 1ch)`}}else sp=document.createElement("div"),sp.textContent=this.data.fieldValue,sp.style.verticalAlign="middle",sp.style.display="table-cell";return this._setTextStyle(sp),this._setBackgroundColor(sp),this._setDefaultPropertiesFromJS(sp),this.container.append(sp),this.container}}class Hl extends Bl{constructor(_f){super(_f,{isRenderable:_f.renderForms})}render(){const _f=this.annotationStorage,ip=this.data,sp=ip.id;let lp=_f.getValue(sp,{value:ip.exportValue===ip.fieldValue}).value;typeof lp=="string"&&(lp=lp!=="Off",_f.setValue(sp,{value:lp})),this.container.className="buttonWidgetAnnotation checkBox";const pp=document.createElement("input");return $l.add(pp),pp.setAttribute("data-element-id",sp),pp.disabled=ip.readOnly,this._setRequired(pp,this.data.required),pp.type="checkbox",pp.name=ip.fieldName,lp&&pp.setAttribute("checked",!0),pp.setAttribute("exportValue",ip.exportValue),pp.tabIndex=g,pp.addEventListener("change",Sp=>{const{name:Op,checked:Lp}=Sp.target;for(const Pp of this._getElementsByName(Op,sp)){const Ap=Lp&&Pp.exportValue===ip.exportValue;Pp.domElement&&(Pp.domElement.checked=Ap),_f.setValue(Pp.id,{value:Ap})}_f.setValue(sp,{value:Lp})}),pp.addEventListener("resetform",Sp=>{const Op=ip.defaultFieldValue||"Off";Sp.target.checked=Op===ip.exportValue}),this.enableScripting&&this.hasJSActions&&(pp.addEventListener("updatefromsandbox",Sp=>{const Op={value(Lp){Lp.target.checked=Lp.detail.value!=="Off",_f.setValue(sp,{value:Lp.target.checked})}};this._dispatchEventFromSandbox(Op,Sp)}),this._setEventListeners(pp,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sp=>Sp.target.checked)),this._setBackgroundColor(pp),this._setDefaultPropertiesFromJS(pp),this.container.append(pp),this.container}}class Wl extends Bl{constructor(_f){super(_f,{isRenderable:_f.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const _f=this.annotationStorage,ip=this.data,sp=ip.id;let lp=_f.getValue(sp,{value:ip.fieldValue===ip.buttonValue}).value;typeof lp=="string"&&(lp=lp!==ip.buttonValue,_f.setValue(sp,{value:lp}));const pp=document.createElement("input");if($l.add(pp),pp.setAttribute("data-element-id",sp),pp.disabled=ip.readOnly,this._setRequired(pp,this.data.required),pp.type="radio",pp.name=ip.fieldName,lp&&pp.setAttribute("checked",!0),pp.tabIndex=g,pp.addEventListener("change",Sp=>{const{name:Op,checked:Lp}=Sp.target;for(const Pp of this._getElementsByName(Op,sp))_f.setValue(Pp.id,{value:!1});_f.setValue(sp,{value:Lp})}),pp.addEventListener("resetform",Sp=>{const Op=ip.defaultFieldValue;Sp.target.checked=Op!=null&&Op===ip.buttonValue}),this.enableScripting&&this.hasJSActions){const Sp=ip.buttonValue;pp.addEventListener("updatefromsandbox",Op=>{const Lp={value:Pp=>{const Ap=Sp===Pp.detail.value;for(const kp of this._getElementsByName(Pp.target.name)){const Rp=Ap&&kp.id===sp;kp.domElement&&(kp.domElement.checked=Rp),_f.setValue(kp.id,{value:Rp})}}};this._dispatchEventFromSandbox(Lp,Op)}),this._setEventListeners(pp,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Op=>Op.target.checked)}return this._setBackgroundColor(pp),this._setDefaultPropertiesFromJS(pp),this.container.append(pp),this.container}}class Yl extends Fl{constructor(_f){super(_f,{ignoreBorder:_f.data.hasAppearance})}render(){const _f=super.render();_f.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(_f.title=this.data.alternativeText);const ip=_f.lastChild;return this.enableScripting&&this.hasJSActions&&ip&&(this._setDefaultPropertiesFromJS(ip),ip.addEventListener("updatefromsandbox",sp=>{this._dispatchEventFromSandbox({},sp)})),_f}}class Xl extends Bl{constructor(_f){super(_f,{isRenderable:_f.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const _f=this.annotationStorage,ip=this.data.id,sp=_f.getValue(ip,{value:this.data.fieldValue}),lp=document.createElement("select");$l.add(lp),lp.setAttribute("data-element-id",ip),lp.disabled=this.data.readOnly,this._setRequired(lp,this.data.required),lp.name=this.data.fieldName,lp.tabIndex=g;let pp=this.data.combo&&this.data.options.length>0;this.data.combo||(lp.size=this.data.options.length,this.data.multiSelect&&(lp.multiple=!0)),lp.addEventListener("resetform",Pp=>{const Ap=this.data.defaultFieldValue;for(const kp of lp.options)kp.selected=kp.value===Ap});for(const Pp of this.data.options){const Ap=document.createElement("option");Ap.textContent=Pp.displayValue,Ap.value=Pp.exportValue,sp.value.includes(Pp.exportValue)&&(Ap.setAttribute("selected",!0),pp=!1),lp.append(Ap)}let Sp=null;if(pp){const Pp=document.createElement("option");Pp.value=" ",Pp.setAttribute("hidden",!0),Pp.setAttribute("selected",!0),lp.prepend(Pp),Sp=()=>{Pp.remove(),lp.removeEventListener("input",Sp),Sp=null},lp.addEventListener("input",Sp)}const Op=(Pp,Ap)=>{const kp=Ap?"value":"textContent",Rp=Pp.target.options;return Pp.target.multiple?Array.prototype.filter.call(Rp,Fp=>Fp.selected).map(Fp=>Fp[kp]):Rp.selectedIndex===-1?null:Rp[Rp.selectedIndex][kp]},Lp=Pp=>{const Ap=Pp.target.options;return Array.prototype.map.call(Ap,kp=>({displayValue:kp.textContent,exportValue:kp.value}))};return this.enableScripting&&this.hasJSActions?(lp.addEventListener("updatefromsandbox",Pp=>{const Ap={value(kp){Sp==null||Sp();const Rp=kp.detail.value,Fp=new Set(Array.isArray(Rp)?Rp:[Rp]);for(const _p of lp.options)_p.selected=Fp.has(_p.value);_f.setValue(ip,{value:Op(kp,!0)})},multipleSelection(kp){lp.multiple=!0},remove(kp){const Rp=lp.options,Fp=kp.detail.remove;Rp[Fp].selected=!1,lp.remove(Fp),Rp.length>0&&Array.prototype.findIndex.call(Rp,Np=>Np.selected)===-1&&(Rp[0].selected=!0),_f.setValue(ip,{value:Op(kp,!0),items:Lp(kp)})},clear(kp){for(;lp.length!==0;)lp.remove(0);_f.setValue(ip,{value:null,items:[]})},insert(kp){const{index:Rp,displayValue:Fp,exportValue:_p}=kp.detail.insert,Np=lp.children[Rp],Vp=document.createElement("option");Vp.textContent=Fp,Vp.value=_p,Np?Np.before(Vp):lp.append(Vp),_f.setValue(ip,{value:Op(kp,!0),items:Lp(kp)})},items(kp){const{items:Rp}=kp.detail;for(;lp.length!==0;)lp.remove(0);for(const Fp of Rp){const{displayValue:_p,exportValue:Np}=Fp,Vp=document.createElement("option");Vp.textContent=_p,Vp.value=Np,lp.append(Vp)}lp.options.length>0&&(lp.options[0].selected=!0),_f.setValue(ip,{value:Op(kp,!0),items:Lp(kp)})},indices(kp){const Rp=new Set(kp.detail.indices);for(const Fp of kp.target.options)Fp.selected=Rp.has(Fp.index);_f.setValue(ip,{value:Op(kp,!0)})},editable(kp){kp.target.disabled=!kp.detail.editable}};this._dispatchEventFromSandbox(Ap,Pp)}),lp.addEventListener("input",Pp=>{var Rp;const Ap=Op(Pp,!0),kp=Op(Pp,!1);_f.setValue(ip,{value:Ap}),(Rp=this.linkService.eventBus)==null||Rp.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ip,name:"Keystroke",value:kp,changeEx:Ap,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(lp,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Pp=>Pp.target.checked)):lp.addEventListener("input",function(Pp){_f.setValue(ip,{value:Op(Pp,!0)})}),this.data.combo&&this._setTextStyle(lp),this._setBackgroundColor(lp),this._setDefaultPropertiesFromJS(lp),this.container.append(lp),this.container}}class Gl extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip})}render(){const _f=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",_f.includes(this.data.parentType))return this.container;const ip=`[data-annotation-id="${this.data.parentId}"]`,sp=this.layer.querySelectorAll(ip);if(sp.length===0)return this.container;const lp=new _d({container:this.container,trigger:Array.from(sp),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),pp=this.page,Sp=o.Util.normalizeRect([this.data.parentRect[0],pp.view[3]-this.data.parentRect[1]+pp.view[1],this.data.parentRect[2],pp.view[3]-this.data.parentRect[3]+pp.view[1]]),Op=Sp[0]+this.data.parentRect[2]-this.data.parentRect[0],Lp=Sp[1],[Pp,Ap,kp,Rp]=this.viewport.viewBox,Fp=kp-Pp,_p=Rp-Ap;return this.container.style.left=`${100*(Op-Pp)/Fp}%`,this.container.style.top=`${100*(Lp-Ap)/_p}%`,this.container.append(lp.render()),this.container}}class _d{constructor(_f){this.container=_f.container,this.trigger=_f.trigger,this.color=_f.color,this.titleObj=_f.titleObj,this.modificationDate=_f.modificationDate,this.contentsObj=_f.contentsObj,this.richText=_f.richText,this.hideWrapper=_f.hideWrapper||!1,this.pinned=!1}render(){var Op,Lp;const ip=document.createElement("div");ip.className="popupWrapper",this.hideElement=this.hideWrapper?ip:this.container,this.hideElement.hidden=!0;const sp=document.createElement("div");sp.className="popup";const lp=this.color;if(lp){const Pp=.7*(255-lp[0])+lp[0],Ap=.7*(255-lp[1])+lp[1],kp=.7*(255-lp[2])+lp[2];sp.style.backgroundColor=o.Util.makeHexColor(Pp|0,Ap|0,kp|0)}const pp=document.createElement("h1");pp.dir=this.titleObj.dir,pp.textContent=this.titleObj.str,sp.append(pp);const Sp=a.PDFDateString.toDateObject(this.modificationDate);if(Sp){const Pp=document.createElement("span");Pp.className="popupDate",Pp.textContent="{{date}}, {{time}}",Pp.dataset.l10nId="annotation_date_string",Pp.dataset.l10nArgs=JSON.stringify({date:Sp.toLocaleDateString(),time:Sp.toLocaleTimeString()}),sp.append(Pp)}if(((Op=this.richText)==null?void 0:Op.str)&&(!((Lp=this.contentsObj)!=null&&Lp.str)||this.contentsObj.str===this.richText.str))h.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:sp}),sp.lastChild.className="richText popupContent";else{const Pp=this._formatContents(this.contentsObj);sp.append(Pp)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Pp of this.trigger)Pp.addEventListener("click",this._toggle.bind(this)),Pp.addEventListener("mouseover",this._show.bind(this,!1)),Pp.addEventListener("mouseout",this._hide.bind(this,!1));return sp.addEventListener("click",this._hide.bind(this,!0)),ip.append(sp),ip}_formatContents({str:_f,dir:ip}){const sp=document.createElement("p");sp.className="popupContent",sp.dir=ip;const lp=_f.split(/(?:\r\n?|\n)/);for(let pp=0,Sp=lp.length;pp<Sp;++pp){const Op=lp[pp];sp.append(document.createTextNode(Op)),pp<Sp-1&&sp.append(document.createElement("br"))}return sp}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(_f=!1){_f&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(_f=!0){_f&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Kl extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0}),this.textContent=_f.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const _f=document.createElement("div");_f.className="annotationTextContent",_f.setAttribute("role","comment");for(const ip of this.textContent){const sp=document.createElement("span");sp.textContent=ip,_f.append(sp)}this.container.append(_f)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ru extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const _f=this.data,{width:ip,height:sp}=Rl(_f.rect),lp=this.svgFactory.create(ip,sp,!0),pp=this.svgFactory.createElement("svg:line");return pp.setAttribute("x1",_f.rect[2]-_f.lineCoordinates[0]),pp.setAttribute("y1",_f.rect[3]-_f.lineCoordinates[1]),pp.setAttribute("x2",_f.rect[2]-_f.lineCoordinates[2]),pp.setAttribute("y2",_f.rect[3]-_f.lineCoordinates[3]),pp.setAttribute("stroke-width",_f.borderStyle.width||1),pp.setAttribute("stroke","transparent"),pp.setAttribute("fill","transparent"),lp.append(pp),this.container.append(lp),this._createPopup(pp,_f),this.container}}class Zl extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const _f=this.data,{width:ip,height:sp}=Rl(_f.rect),lp=this.svgFactory.create(ip,sp,!0),pp=_f.borderStyle.width,Sp=this.svgFactory.createElement("svg:rect");return Sp.setAttribute("x",pp/2),Sp.setAttribute("y",pp/2),Sp.setAttribute("width",ip-pp),Sp.setAttribute("height",sp-pp),Sp.setAttribute("stroke-width",pp||1),Sp.setAttribute("stroke","transparent"),Sp.setAttribute("fill","transparent"),lp.append(Sp),this.container.append(lp),this._createPopup(Sp,_f),this.container}}class tp extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const _f=this.data,{width:ip,height:sp}=Rl(_f.rect),lp=this.svgFactory.create(ip,sp,!0),pp=_f.borderStyle.width,Sp=this.svgFactory.createElement("svg:ellipse");return Sp.setAttribute("cx",ip/2),Sp.setAttribute("cy",sp/2),Sp.setAttribute("rx",ip/2-pp/2),Sp.setAttribute("ry",sp/2-pp/2),Sp.setAttribute("stroke-width",pp||1),Sp.setAttribute("stroke","transparent"),Sp.setAttribute("fill","transparent"),lp.append(Sp),this.container.append(lp),this._createPopup(Sp,_f),this.container}}class op extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const _f=this.data,{width:ip,height:sp}=Rl(_f.rect),lp=this.svgFactory.create(ip,sp,!0);let pp=[];for(const Op of _f.vertices){const Lp=Op.x-_f.rect[0],Pp=_f.rect[3]-Op.y;pp.push(Lp+","+Pp)}pp=pp.join(" ");const Sp=this.svgFactory.createElement(this.svgElementName);return Sp.setAttribute("points",pp),Sp.setAttribute("stroke-width",_f.borderStyle.width||1),Sp.setAttribute("stroke","transparent"),Sp.setAttribute("fill","transparent"),lp.append(Sp),this.container.append(lp),this._createPopup(Sp,_f),this.container}}class bp extends op{constructor(_f){super(_f),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ap extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class hp extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const _f=this.data,{width:ip,height:sp}=Rl(_f.rect),lp=this.svgFactory.create(ip,sp,!0);for(const pp of _f.inkLists){let Sp=[];for(const Lp of pp){const Pp=Lp.x-_f.rect[0],Ap=_f.rect[3]-Lp.y;Sp.push(`${Pp},${Ap}`)}Sp=Sp.join(" ");const Op=this.svgFactory.createElement(this.svgElementName);Op.setAttribute("points",Sp),Op.setAttribute("stroke-width",_f.borderStyle.width||1),Op.setAttribute("stroke","transparent"),Op.setAttribute("fill","transparent"),this._createPopup(Op,_f),lp.append(Op)}return this.container.append(lp),this.container}}class gp extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class rp extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class up extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $p extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class yp extends Ul{constructor(_f){var sp,lp,pp;const ip=!!(_f.data.hasPopup||((sp=_f.data.titleObj)==null?void 0:sp.str)||((lp=_f.data.contentsObj)==null?void 0:lp.str)||((pp=_f.data.richText)==null?void 0:pp.str));super(_f,{isRenderable:ip,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class dp extends Ul{constructor(_f){var lp;super(_f,{isRenderable:!0});const{filename:ip,content:sp}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(ip),this.content=sp,(lp=this.linkService.eventBus)==null||lp.dispatch("fileattachmentannotation",{source:this,filename:ip,content:sp})}render(){var ip,sp;this.container.className="fileAttachmentAnnotation";const _f=document.createElement("div");return _f.className="popupTriggerArea",_f.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((ip=this.data.titleObj)==null?void 0:ip.str)||((sp=this.data.contentsObj)==null?void 0:sp.str)||this.data.richText)&&this._createPopup(_f,this.data),this.container.append(_f),this.container}_download(){var _f;(_f=this.downloadManager)==null||_f.openOrDownloadData(this.container,this.content,this.filename)}}const wp=class{static render(_f){var Op,Lp;const{annotations:ip,div:sp,viewport:lp,accessibilityManager:pp}=_f;Mp(this,np,qm).call(this,sp,lp);let Sp=0;for(const Pp of ip){if(Pp.annotationType!==o.AnnotationType.POPUP){const{width:kp,height:Rp}=Rl(Pp.rect);if(kp<=0||Rp<=0)continue}const Ap=Ml.create({data:Pp,layer:sp,page:_f.page,viewport:lp,linkService:_f.linkService,downloadManager:_f.downloadManager,imageResourcesPath:_f.imageResourcesPath||"",renderForms:_f.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:_f.annotationStorage||new c.AnnotationStorage,enableScripting:_f.enableScripting,hasJSActions:_f.hasJSActions,fieldObjects:_f.fieldObjects,mouseState:_f.mouseState||{isDown:!1}});if(Ap.isRenderable){const kp=Ap.render();if(Pp.hidden&&(kp.style.visibility="hidden"),Array.isArray(kp))for(const Rp of kp)Rp.style.zIndex=Sp++,Mp(Op=wp,Ql,Hm).call(Op,Rp,Pp.id,sp,pp);else kp.style.zIndex=Sp++,Ap instanceof Gl?sp.prepend(kp):Mp(Lp=wp,Ql,Hm).call(Lp,kp,Pp.id,sp,pp)}}Mp(this,fp,Ym).call(this,sp,_f.annotationCanvasMap)}static update(_f){const{annotationCanvasMap:ip,div:sp,viewport:lp}=_f;Mp(this,np,qm).call(this,sp,lp),Mp(this,fp,Ym).call(this,sp,ip),sp.hidden=!1}};let ep=wp;Ql=new WeakSet,Hm=function(_f,ip,sp,lp){const pp=_f.firstChild||_f;pp.id=`${a.AnnotationPrefix}${ip}`,sp.append(_f),lp==null||lp.moveElementInDOM(sp,_f,pp,!1)},np=new WeakSet,qm=function(_f,{width:ip,height:sp,rotation:lp}){const{style:pp}=_f,Sp=lp%180!==0,Op=Math.floor(ip)+"px",Lp=Math.floor(sp)+"px";pp.width=Sp?Lp:Op,pp.height=Sp?Op:Lp,_f.setAttribute("data-main-rotation",lp)},fp=new WeakSet,Ym=function(_f,ip){if(!!ip){for(const[sp,lp]of ip){const pp=_f.querySelector(`[data-annotation-id="${sp}"]`);if(!pp)continue;const{firstChild:Sp}=pp;Sp?Sp.nodeName==="CANVAS"?Sp.replaceWith(lp):Sp.before(lp):pp.append(lp)}ip.clear()}},Dp(ep,Ql),Dp(ep,np),Dp(ep,fp),e.AnnotationLayer=ep},(i,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}class o{static CMYK_G([c,d,h,g]){return["G",1-Math.min(1,.3*c+.59*h+.11*d+g)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_HTML([c]){const d=s(c);return`#${d}${d}${d}`}static RGB_G([c,d,h]){return["G",.3*c+.59*d+.11*h]}static RGB_HTML([c,d,h]){const g=s(c),_=s(d),$l=s(h);return`#${g}${_}${$l}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,d,h,g]){return["RGB",1-Math.min(1,c+g),1-Math.min(1,h+g),1-Math.min(1,d+g)]}static CMYK_HTML(c){const d=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(d)}static RGB_CMYK([c,d,h]){const g=1-c,_=1-d,$l=1-h,Rl=Math.min(g,_,$l);return["CMYK",g,_,$l,Rl]}}e.ColorConverters=o},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var o=s(20);class a{static setupStorage(d,h,g,_,$l){const Rl=_.getValue(h,{value:null});switch(g.name){case"textarea":if(Rl.value!==null&&(d.textContent=Rl.value),$l==="print")break;d.addEventListener("input",Ml=>{_.setValue(h,{value:Ml.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(Rl.value===g.attributes.xfaOn?d.setAttribute("checked",!0):Rl.value===g.attributes.xfaOff&&d.removeAttribute("checked"),$l==="print")break;d.addEventListener("change",Ml=>{_.setValue(h,{value:Ml.target.checked?Ml.target.getAttribute("xfaOn"):Ml.target.getAttribute("xfaOff")})})}else{if(Rl.value!==null&&d.setAttribute("value",Rl.value),$l==="print")break;d.addEventListener("input",Ml=>{_.setValue(h,{value:Ml.target.value})})}break;case"select":if(Rl.value!==null)for(const Ml of g.children)Ml.attributes.value===Rl.value&&(Ml.attributes.selected=!0);d.addEventListener("input",Ml=>{const Ul=Ml.target.options,Fl=Ul.selectedIndex===-1?"":Ul[Ul.selectedIndex].value;_.setValue(h,{value:Fl})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:_,linkService:$l}){const{attributes:Rl}=h,Ml=d instanceof HTMLAnchorElement;Rl.type==="radio"&&(Rl.name=`${Rl.name}-${_}`);for(const[Ul,Fl]of Object.entries(Rl))if(Fl!=null)switch(Ul){case"class":Fl.length&&d.setAttribute(Ul,Fl.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",Fl);break;case"style":Object.assign(d.style,Fl);break;case"textContent":d.textContent=Fl;break;default:(!Ml||Ul!=="href"&&Ul!=="newWindow")&&d.setAttribute(Ul,Fl)}Ml&&$l.addLinkAttributes(d,Rl.href,Rl.newWindow),g&&Rl.dataId&&this.setupStorage(d,Rl.dataId,h,g)}static render(d){var Ll;const h=d.annotationStorage,g=d.linkService,_=d.xfaHtml,$l=d.intent||"display",Rl=document.createElement(_.name);_.attributes&&this.setAttributes({html:Rl,element:_,intent:$l,linkService:g});const Ml=[[_,-1,Rl]],Ul=d.div;if(Ul.append(Rl),d.viewport){const Bl=`matrix(${d.viewport.transform.join(",")})`;Ul.style.transform=Bl}$l!=="richText"&&Ul.setAttribute("class","xfaLayer xfaFont");const Fl=[];for(;Ml.length>0;){const[Bl,zl,Hl]=Ml.at(-1);if(zl+1===Bl.children.length){Ml.pop();continue}const Wl=Bl.children[++Ml.at(-1)[1]];if(Wl===null)continue;const{name:Yl}=Wl;if(Yl==="#text"){const Gl=document.createTextNode(Wl.value);Fl.push(Gl),Hl.append(Gl);continue}let Xl;if((Ll=Wl==null?void 0:Wl.attributes)!=null&&Ll.xmlns?Xl=document.createElementNS(Wl.attributes.xmlns,Yl):Xl=document.createElement(Yl),Hl.append(Xl),Wl.attributes&&this.setAttributes({html:Xl,element:Wl,storage:h,intent:$l,linkService:g}),Wl.children&&Wl.children.length>0)Ml.push([Wl,-1,Xl]);else if(Wl.value){const Gl=document.createTextNode(Wl.value);o.XfaText.shouldBuildText(Yl)&&Fl.push(Gl),Xl.append(Gl)}}for(const Bl of Ul.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Bl.setAttribute("readOnly",!0);return{textDivs:Fl}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}e.XfaLayer=a},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=Hl;var o=s(1),a=s(8);const c=1e5,d=30,h=.8,g=new Map,_=/^\s+$/g;function $l(Wl,Yl){const Xl=g.get(Wl);if(Xl)return Xl;Yl.save(),Yl.font=`${d}px ${Wl}`;const Gl=Yl.measureText("");let _d=Gl.fontBoundingBoxAscent,Kl=Math.abs(Gl.fontBoundingBoxDescent);if(_d){Yl.restore();const Zl=_d/(_d+Kl);return g.set(Wl,Zl),Zl}Yl.strokeStyle="red",Yl.clearRect(0,0,d,d),Yl.strokeText("g",0,0);let ru=Yl.getImageData(0,0,d,d).data;Kl=0;for(let Zl=ru.length-1-3;Zl>=0;Zl-=4)if(ru[Zl]>0){Kl=Math.ceil(Zl/4/d);break}Yl.clearRect(0,0,d,d),Yl.strokeText("A",0,d),ru=Yl.getImageData(0,0,d,d).data,_d=0;for(let Zl=0,tp=ru.length;Zl<tp;Zl+=4)if(ru[Zl]>0){_d=d-Math.floor(Zl/4/d);break}if(Yl.restore(),_d){const Zl=_d/(_d+Kl);return g.set(Wl,Zl),Zl}return g.set(Wl,h),h}function Rl(Wl,Yl,Xl,Gl){const _d=document.createElement("span"),Kl=Wl._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:Yl.str!=="",hasEOL:Yl.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:Yl.str!=="",hasEOL:Yl.hasEOL,fontSize:0};Wl._textDivs.push(_d);const ru=o.Util.transform(Wl._viewport.transform,Yl.transform);let Zl=Math.atan2(ru[1],ru[0]);const tp=Xl[Yl.fontName];tp.vertical&&(Zl+=Math.PI/2);const op=Math.hypot(ru[2],ru[3]),bp=op*$l(tp.fontFamily,Gl);let ap,hp;Zl===0?(ap=ru[4],hp=ru[5]-bp):(ap=ru[4]+bp*Math.sin(Zl),hp=ru[5]-bp*Math.cos(Zl)),_d.style.left=`${ap}px`,_d.style.top=`${hp}px`,_d.style.fontSize=`${op}px`,_d.style.fontFamily=tp.fontFamily,Kl.fontSize=op,_d.setAttribute("role","presentation"),_d.textContent=Yl.str,_d.dir=Yl.dir,Wl._fontInspectorEnabled&&(_d.dataset.fontName=Yl.fontName),Zl!==0&&(Kl.angle=Zl*(180/Math.PI));let gp=!1;if(Yl.str.length>1||Wl._enhanceTextSelection&&_.test(Yl.str))gp=!0;else if(Yl.str!==" "&&Yl.transform[0]!==Yl.transform[3]){const rp=Math.abs(Yl.transform[0]),up=Math.abs(Yl.transform[3]);rp!==up&&Math.max(rp,up)/Math.min(rp,up)>1.5&&(gp=!0)}if(gp&&(tp.vertical?Kl.canvasWidth=Yl.height*Wl._viewport.scale:Kl.canvasWidth=Yl.width*Wl._viewport.scale),Wl._textDivProperties.set(_d,Kl),Wl._textContentStream&&Wl._layoutText(_d),Wl._enhanceTextSelection&&Kl.hasText){let rp=1,up=0;Zl!==0&&(rp=Math.cos(Zl),up=Math.sin(Zl));const $p=(tp.vertical?Yl.height:Yl.width)*Wl._viewport.scale,yp=op;let dp,ep;Zl!==0?(dp=[rp,up,-up,rp,ap,hp],ep=o.Util.getAxialAlignedBoundingBox([0,0,$p,yp],dp)):ep=[ap,hp,ap+$p,hp+yp],Wl._bounds.push({left:ep[0],top:ep[1],right:ep[2],bottom:ep[3],div:_d,size:[$p,yp],m:dp})}}function Ml(Wl){if(Wl._canceled)return;const Yl=Wl._textDivs,Xl=Wl._capability,Gl=Yl.length;if(Gl>c){Wl._renderingDone=!0,Xl.resolve();return}if(!Wl._textContentStream)for(let _d=0;_d<Gl;_d++)Wl._layoutText(Yl[_d]);Wl._renderingDone=!0,Xl.resolve()}function Ul(Wl,Yl,Xl){let Gl=0;for(let _d=0;_d<Xl;_d++){const Kl=Wl[Yl++];Kl>0&&(Gl=Gl?Math.min(Kl,Gl):Kl)}return Gl}function Fl(Wl){const Yl=Wl._bounds,Xl=Wl._viewport,Gl=Ll(Xl.width,Xl.height,Yl);for(let _d=0;_d<Gl.length;_d++){const Kl=Yl[_d].div,ru=Wl._textDivProperties.get(Kl);if(ru.angle===0){ru.paddingLeft=Yl[_d].left-Gl[_d].left,ru.paddingTop=Yl[_d].top-Gl[_d].top,ru.paddingRight=Gl[_d].right-Yl[_d].right,ru.paddingBottom=Gl[_d].bottom-Yl[_d].bottom,Wl._textDivProperties.set(Kl,ru);continue}const Zl=Gl[_d],tp=Yl[_d],op=tp.m,bp=op[0],ap=op[1],hp=[[0,0],[0,tp.size[1]],[tp.size[0],0],tp.size],gp=new Float64Array(64);for(let up=0,$p=hp.length;up<$p;up++){const yp=o.Util.applyTransform(hp[up],op);gp[up+0]=bp&&(Zl.left-yp[0])/bp,gp[up+4]=ap&&(Zl.top-yp[1])/ap,gp[up+8]=bp&&(Zl.right-yp[0])/bp,gp[up+12]=ap&&(Zl.bottom-yp[1])/ap,gp[up+16]=ap&&(Zl.left-yp[0])/-ap,gp[up+20]=bp&&(Zl.top-yp[1])/bp,gp[up+24]=ap&&(Zl.right-yp[0])/-ap,gp[up+28]=bp&&(Zl.bottom-yp[1])/bp,gp[up+32]=bp&&(Zl.left-yp[0])/-bp,gp[up+36]=ap&&(Zl.top-yp[1])/-ap,gp[up+40]=bp&&(Zl.right-yp[0])/-bp,gp[up+44]=ap&&(Zl.bottom-yp[1])/-ap,gp[up+48]=ap&&(Zl.left-yp[0])/ap,gp[up+52]=bp&&(Zl.top-yp[1])/-bp,gp[up+56]=ap&&(Zl.right-yp[0])/ap,gp[up+60]=bp&&(Zl.bottom-yp[1])/-bp}const rp=1+Math.min(Math.abs(bp),Math.abs(ap));ru.paddingLeft=Ul(gp,32,16)/rp,ru.paddingTop=Ul(gp,48,16)/rp,ru.paddingRight=Ul(gp,0,16)/rp,ru.paddingBottom=Ul(gp,16,16)/rp,Wl._textDivProperties.set(Kl,ru)}}function Ll(Wl,Yl,Xl){const Gl=Xl.map(function(Kl,ru){return{x1:Kl.left,y1:Kl.top,x2:Kl.right,y2:Kl.bottom,index:ru,x1New:void 0,x2New:void 0}});Bl(Wl,Gl);const _d=new Array(Xl.length);for(const Kl of Gl){const ru=Kl.index;_d[ru]={left:Kl.x1New,top:0,right:Kl.x2New,bottom:0}}Xl.map(function(Kl,ru){const Zl=_d[ru],tp=Gl[ru];tp.x1=Kl.top,tp.y1=Wl-Zl.right,tp.x2=Kl.bottom,tp.y2=Wl-Zl.left,tp.index=ru,tp.x1New=void 0,tp.x2New=void 0}),Bl(Yl,Gl);for(const Kl of Gl){const ru=Kl.index;_d[ru].top=Kl.x1New,_d[ru].bottom=Kl.x2New}return _d}function Bl(Wl,Yl){Yl.sort(function(_d,Kl){return _d.x1-Kl.x1||_d.index-Kl.index});const Gl=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const _d of Yl){let Kl=0;for(;Kl<Gl.length&&Gl[Kl].end<=_d.y1;)Kl++;let ru=Gl.length-1;for(;ru>=0&&Gl[ru].start>=_d.y2;)ru--;let Zl,tp,op,bp,ap=-1/0;for(op=Kl;op<=ru;op++){Zl=Gl[op],tp=Zl.boundary;let rp;tp.x2>_d.x1?rp=tp.index>_d.index?tp.x1New:_d.x1:tp.x2New===void 0?rp=(tp.x2+_d.x1)/2:rp=tp.x2New,rp>ap&&(ap=rp)}for(_d.x1New=ap,op=Kl;op<=ru;op++)Zl=Gl[op],tp=Zl.boundary,tp.x2New===void 0?tp.x2>_d.x1?tp.index>_d.index&&(tp.x2New=tp.x2):tp.x2New=ap:tp.x2New>ap&&(tp.x2New=Math.max(ap,tp.x2));const hp=[];let gp=null;for(op=Kl;op<=ru;op++){Zl=Gl[op],tp=Zl.boundary;const rp=tp.x2>_d.x2?tp:_d;gp===rp?hp.at(-1).end=Zl.end:(hp.push({start:Zl.start,end:Zl.end,boundary:rp}),gp=rp)}for(Gl[Kl].start<_d.y1&&(hp[0].start=_d.y1,hp.unshift({start:Gl[Kl].start,end:_d.y1,boundary:Gl[Kl].boundary})),_d.y2<Gl[ru].end&&(hp.at(-1).end=_d.y2,hp.push({start:_d.y2,end:Gl[ru].end,boundary:Gl[ru].boundary})),op=Kl;op<=ru;op++){if(Zl=Gl[op],tp=Zl.boundary,tp.x2New!==void 0)continue;let rp=!1;for(bp=Kl-1;!rp&&bp>=0&&Gl[bp].start>=tp.y1;bp--)rp=Gl[bp].boundary===tp;for(bp=ru+1;!rp&&bp<Gl.length&&Gl[bp].end<=tp.y2;bp++)rp=Gl[bp].boundary===tp;for(bp=0;!rp&&bp<hp.length;bp++)rp=hp[bp].boundary===tp;rp||(tp.x2New=ap)}Array.prototype.splice.apply(Gl,[Kl,ru-Kl+1,...hp])}for(const _d of Gl){const Kl=_d.boundary;Kl.x2New===void 0&&(Kl.x2New=Math.max(Wl,Kl.x2))}}class zl{constructor({textContent:Yl,textContentStream:Xl,container:Gl,viewport:_d,textDivs:Kl,textContentItemsStr:ru,enhanceTextSelection:Zl}){var tp;Zl&&(0,a.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=Yl,this._textContentStream=Xl,this._container=Gl,this._document=Gl.ownerDocument,this._viewport=_d,this._textDivs=Kl||[],this._textContentItemsStr=ru||[],this._enhanceTextSelection=!!Zl,this._fontInspectorEnabled=!!((tp=globalThis.FontInspector)!=null&&tp.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(Yl,Xl){for(let Gl=0,_d=Yl.length;Gl<_d;Gl++){if(Yl[Gl].str===void 0){if(Yl[Gl].type==="beginMarkedContentProps"||Yl[Gl].type==="beginMarkedContent"){const Kl=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Yl[Gl].id!==null&&this._container.setAttribute("id",`${Yl[Gl].id}`),Kl.append(this._container)}else Yl[Gl].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Yl[Gl].str),Rl(this,Yl[Gl],Xl,this._layoutTextCtx)}}_layoutText(Yl){const Xl=this._textDivProperties.get(Yl);let Gl="";if(Xl.canvasWidth!==0&&Xl.hasText){const{fontFamily:_d}=Yl.style,{fontSize:Kl}=Xl;(Kl!==this._layoutTextLastFontSize||_d!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${Kl*this._devicePixelRatio}px ${_d}`,this._layoutTextLastFontSize=Kl,this._layoutTextLastFontFamily=_d);const{width:ru}=this._layoutTextCtx.measureText(Yl.textContent);if(ru>0){const Zl=this._devicePixelRatio*Xl.canvasWidth/ru;this._enhanceTextSelection&&(Xl.scale=Zl),Gl=`scaleX(${Zl})`}}if(Xl.angle!==0&&(Gl=`rotate(${Xl.angle}deg) ${Gl}`),Gl.length>0&&(this._enhanceTextSelection&&(Xl.originalTransform=Gl),Yl.style.transform=Gl),Xl.hasText&&this._container.append(Yl),Xl.hasEOL){const _d=document.createElement("br");_d.setAttribute("role","presentation"),this._container.append(_d)}}_render(Yl=0){const Xl=(0,o.createPromiseCapability)();let Gl=Object.create(null);const _d=this._document.createElement("canvas");if(_d.height=_d.width=d,this._layoutTextCtx=_d.getContext("2d",{alpha:!1}),this._textContent){const Kl=this._textContent.items,ru=this._textContent.styles;this._processItems(Kl,ru),Xl.resolve()}else if(this._textContentStream){const Kl=()=>{this._reader.read().then(({value:ru,done:Zl})=>{if(Zl){Xl.resolve();return}Object.assign(Gl,ru.styles),this._processItems(ru.items,Gl),Kl()},Xl.reject)};this._reader=this._textContentStream.getReader(),Kl()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Xl.promise.then(()=>{Gl=null,Yl?this._renderTimer=setTimeout(()=>{Ml(this),this._renderTimer=null},Yl):Ml(this)},this._capability.reject)}expandTextDivs(Yl=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(Fl(this),this._bounds=null);const Xl=[],Gl=[];for(let _d=0,Kl=this._textDivs.length;_d<Kl;_d++){const ru=this._textDivs[_d],Zl=this._textDivProperties.get(ru);!Zl.hasText||(Yl?(Xl.length=0,Gl.length=0,Zl.originalTransform&&Xl.push(Zl.originalTransform),Zl.paddingTop>0?(Gl.push(`${Zl.paddingTop}px`),Xl.push(`translateY(${-Zl.paddingTop}px)`)):Gl.push(0),Zl.paddingRight>0?Gl.push(`${Zl.paddingRight/Zl.scale}px`):Gl.push(0),Zl.paddingBottom>0?Gl.push(`${Zl.paddingBottom}px`):Gl.push(0),Zl.paddingLeft>0?(Gl.push(`${Zl.paddingLeft/Zl.scale}px`),Xl.push(`translateX(${-Zl.paddingLeft/Zl.scale}px)`)):Gl.push(0),ru.style.padding=Gl.join(" "),Xl.length&&(ru.style.transform=Xl.join(" "))):(ru.style.padding=null,ru.style.transform=Zl.originalTransform))}}}e.TextLayerRenderTask=zl;function Hl(Wl){const Yl=new zl({textContent:Wl.textContent,textContentStream:Wl.textContentStream,container:Wl.container,viewport:Wl.viewport,textDivs:Wl.textDivs,textContentItemsStr:Wl.textContentItemsStr,enhanceTextSelection:Wl.enhanceTextSelection});return Yl._render(Wl.timeout),Yl}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var o=s(8),a=s(1),c=s(3);let d=class{constructor(){(0,a.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=d;{let Hl=function(Kl){let ru=[];const Zl=[];for(const tp of Kl){if(tp.fn==="save"){ru.push({fnId:92,fn:"group",items:[]}),Zl.push(ru),ru=ru.at(-1).items;continue}tp.fn==="restore"?ru=Zl.pop():ru.push(tp)}return ru},Wl=function(Kl){if(Number.isInteger(Kl))return Kl.toString();const ru=Kl.toFixed(10);let Zl=ru.length-1;if(ru[Zl]!=="0")return ru;do Zl--;while(ru[Zl]==="0");return ru.substring(0,ru[Zl]==="."?Zl:Zl+1)},Yl=function(Kl){if(Kl[4]===0&&Kl[5]===0){if(Kl[1]===0&&Kl[2]===0)return Kl[0]===1&&Kl[3]===1?"":`scale(${Wl(Kl[0])} ${Wl(Kl[3])})`;if(Kl[0]===Kl[3]&&Kl[1]===-Kl[2]){const ru=Math.acos(Kl[0])*180/Math.PI;return`rotate(${Wl(ru)})`}}else if(Kl[0]===1&&Kl[1]===0&&Kl[2]===0&&Kl[3]===1)return`translate(${Wl(Kl[4])} ${Wl(Kl[5])})`;return`matrix(${Wl(Kl[0])} ${Wl(Kl[1])} ${Wl(Kl[2])} ${Wl(Kl[3])} ${Wl(Kl[4])} ${Wl(Kl[5])})`};var h=Hl,g=Wl,_=Yl;const $l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Rl="http://www.w3.org/XML/1998/namespace",Ml="http://www.w3.org/1999/xlink",Ul=["butt","round","square"],Fl=["miter","round","bevel"],Ll=function(Kl,ru="",Zl=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Zl)return URL.createObjectURL(new Blob([Kl],{type:ru}));const tp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let op=`data:${ru};base64,`;for(let bp=0,ap=Kl.length;bp<ap;bp+=3){const hp=Kl[bp]&255,gp=Kl[bp+1]&255,rp=Kl[bp+2]&255,up=hp>>2,$p=(hp&3)<<4|gp>>4,yp=bp+1<ap?(gp&15)<<2|rp>>6:64,dp=bp+2<ap?rp&63:64;op+=tp[up]+tp[$p]+tp[yp]+tp[dp]}return op},Bl=function(){const Kl=new Uint8Array([137,80,78,71,13,10,26,10]),ru=12,Zl=new Int32Array(256);for(let rp=0;rp<256;rp++){let up=rp;for(let $p=0;$p<8;$p++)up&1?up=3988292384^up>>1&2147483647:up=up>>1&2147483647;Zl[rp]=up}function tp(rp,up,$p){let yp=-1;for(let dp=up;dp<$p;dp++){const ep=(yp^rp[dp])&255,Ql=Zl[ep];yp=yp>>>8^Ql}return yp^-1}function op(rp,up,$p,yp){let dp=yp;const ep=up.length;$p[dp]=ep>>24&255,$p[dp+1]=ep>>16&255,$p[dp+2]=ep>>8&255,$p[dp+3]=ep&255,dp+=4,$p[dp]=rp.charCodeAt(0)&255,$p[dp+1]=rp.charCodeAt(1)&255,$p[dp+2]=rp.charCodeAt(2)&255,$p[dp+3]=rp.charCodeAt(3)&255,dp+=4,$p.set(up,dp),dp+=up.length;const Ql=tp($p,yp+4,dp);$p[dp]=Ql>>24&255,$p[dp+1]=Ql>>16&255,$p[dp+2]=Ql>>8&255,$p[dp+3]=Ql&255}function bp(rp,up,$p){let yp=1,dp=0;for(let ep=up;ep<$p;++ep)yp=(yp+(rp[ep]&255))%65521,dp=(dp+yp)%65521;return dp<<16|yp}function ap(rp){if(!c.isNodeJS)return hp(rp);try{let up;parseInt(process.versions.node)>=8?up=rp:up=Buffer.from(rp);const $p=require$$5.deflateSync(up,{level:9});return $p instanceof Uint8Array?$p:new Uint8Array($p)}catch(up){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+up)}return hp(rp)}function hp(rp){let up=rp.length;const $p=65535,yp=Math.ceil(up/$p),dp=new Uint8Array(2+up+yp*5+4);let ep=0;dp[ep++]=120,dp[ep++]=156;let Ql=0;for(;up>$p;)dp[ep++]=0,dp[ep++]=255,dp[ep++]=255,dp[ep++]=0,dp[ep++]=0,dp.set(rp.subarray(Ql,Ql+$p),ep),ep+=$p,Ql+=$p,up-=$p;dp[ep++]=1,dp[ep++]=up&255,dp[ep++]=up>>8&255,dp[ep++]=~up&65535&255,dp[ep++]=(~up&65535)>>8&255,dp.set(rp.subarray(Ql),ep),ep+=rp.length-Ql;const Jl=bp(rp,0,rp.length);return dp[ep++]=Jl>>24&255,dp[ep++]=Jl>>16&255,dp[ep++]=Jl>>8&255,dp[ep++]=Jl&255,dp}function gp(rp,up,$p,yp){const dp=rp.width,ep=rp.height;let Ql,Jl,np;const cp=rp.data;switch(up){case a.ImageKind.GRAYSCALE_1BPP:Jl=0,Ql=1,np=dp+7>>3;break;case a.ImageKind.RGB_24BPP:Jl=2,Ql=8,np=dp*3;break;case a.ImageKind.RGBA_32BPP:Jl=6,Ql=8,np=dp*4;break;default:throw new Error("invalid format")}const fp=new Uint8Array((1+np)*ep);let vp=0,wp=0;for(let pp=0;pp<ep;++pp)fp[vp++]=0,fp.set(cp.subarray(wp,wp+np),vp),wp+=np,vp+=np;if(up===a.ImageKind.GRAYSCALE_1BPP&&yp){vp=0;for(let pp=0;pp<ep;pp++){vp++;for(let Sp=0;Sp<np;Sp++)fp[vp++]^=255}}const xp=new Uint8Array([dp>>24&255,dp>>16&255,dp>>8&255,dp&255,ep>>24&255,ep>>16&255,ep>>8&255,ep&255,Ql,Jl,0,0,0]),_f=ap(fp),ip=Kl.length+ru*3+xp.length+_f.length,sp=new Uint8Array(ip);let lp=0;return sp.set(Kl,lp),lp+=Kl.length,op("IHDR",xp,sp,lp),lp+=ru+xp.length,op("IDATA",_f,sp,lp),lp+=ru+_f.length,op("IEND",new Uint8Array(0),sp,lp),Ll(sp,"image/png",$p)}return function(up,$p,yp){const dp=up.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:up.kind;return gp(up,dp,$p,yp)}}();class zl{constructor(){this.fontSizeScale=1,this.fontWeight=$l.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=$l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ru,Zl){this.x=ru,this.y=Zl}}let Xl=0,Gl=0,_d=0;e.SVGGraphics=d=class{constructor(Kl,ru,Zl=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new zl,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Kl,this.objs=ru,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Zl,this._operatorIdMapping=[];for(const tp in a.OPS)this._operatorIdMapping[a.OPS[tp]]=tp}save(){this.transformStack.push(this.transformMatrix);const Kl=this.current;this.extraStack.push(Kl),this.current=Kl.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Kl){this.save(),this.executeOpTree(Kl),this.restore()}loadDependencies(Kl){const ru=Kl.fnArray,Zl=Kl.argsArray;for(let tp=0,op=ru.length;tp<op;tp++)if(ru[tp]===a.OPS.dependency)for(const bp of Zl[tp]){const ap=bp.startsWith("g_")?this.commonObjs:this.objs,hp=new Promise(gp=>{ap.get(bp,gp)});this.current.dependencies.push(hp)}return Promise.all(this.current.dependencies)}transform(Kl,ru,Zl,tp,op,bp){const ap=[Kl,ru,Zl,tp,op,bp];this.transformMatrix=a.Util.transform(this.transformMatrix,ap),this.tgrp=null}getSVG(Kl,ru){this.viewport=ru;const Zl=this._initialize(ru);return this.loadDependencies(Kl).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Kl)),Zl))}convertOpList(Kl){const ru=this._operatorIdMapping,Zl=Kl.argsArray,tp=Kl.fnArray,op=[];for(let bp=0,ap=tp.length;bp<ap;bp++){const hp=tp[bp];op.push({fnId:hp,fn:ru[hp],args:Zl[bp]})}return Hl(op)}executeOpTree(Kl){for(const ru of Kl){const Zl=ru.fn,tp=ru.fnId,op=ru.args;switch(tp|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(op);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(op[0],op[1]);break;case a.OPS.setFont:this.setFont(op);break;case a.OPS.showText:this.showText(op[0]);break;case a.OPS.showSpacedText:this.showText(op[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(op[0],op[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(op[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(op[0]);break;case a.OPS.setHScale:this.setHScale(op[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(op[0],op[1],op[2],op[3],op[4],op[5]);break;case a.OPS.setTextRise:this.setTextRise(op[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(op[0]);break;case a.OPS.setLineWidth:this.setLineWidth(op[0]);break;case a.OPS.setLineJoin:this.setLineJoin(op[0]);break;case a.OPS.setLineCap:this.setLineCap(op[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(op[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(op[0],op[1],op[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(op[0],op[1],op[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(op);break;case a.OPS.setFillColorN:this.setFillColorN(op);break;case a.OPS.shadingFill:this.shadingFill(op[0]);break;case a.OPS.setDash:this.setDash(op[0],op[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(op[0]);break;case a.OPS.setFlatness:this.setFlatness(op[0]);break;case a.OPS.setGState:this.setGState(op[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(op[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(op[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(op[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(op[0],op[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(op[0],op[1],op[2],op[3],op[4],op[5]);break;case a.OPS.constructPath:this.constructPath(op[0],op[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(ru.items);break;default:(0,a.warn)(`Unimplemented operator ${Zl}`);break}}}setWordSpacing(Kl){this.current.wordSpacing=Kl}setCharSpacing(Kl){this.current.charSpacing=Kl}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Kl,ru,Zl,tp,op,bp){const ap=this.current;ap.textMatrix=ap.lineMatrix=[Kl,ru,Zl,tp,op,bp],ap.textMatrixScale=Math.hypot(Kl,ru),ap.x=ap.lineX=0,ap.y=ap.lineY=0,ap.xcoords=[],ap.ycoords=[],ap.tspan=this.svgFactory.createElement("svg:tspan"),ap.tspan.setAttributeNS(null,"font-family",ap.fontFamily),ap.tspan.setAttributeNS(null,"font-size",`${Wl(ap.fontSize)}px`),ap.tspan.setAttributeNS(null,"y",Wl(-ap.y)),ap.txtElement=this.svgFactory.createElement("svg:text"),ap.txtElement.append(ap.tspan)}beginText(){const Kl=this.current;Kl.x=Kl.lineX=0,Kl.y=Kl.lineY=0,Kl.textMatrix=a.IDENTITY_MATRIX,Kl.lineMatrix=a.IDENTITY_MATRIX,Kl.textMatrixScale=1,Kl.tspan=this.svgFactory.createElement("svg:tspan"),Kl.txtElement=this.svgFactory.createElement("svg:text"),Kl.txtgrp=this.svgFactory.createElement("svg:g"),Kl.xcoords=[],Kl.ycoords=[]}moveText(Kl,ru){const Zl=this.current;Zl.x=Zl.lineX+=Kl,Zl.y=Zl.lineY+=ru,Zl.xcoords=[],Zl.ycoords=[],Zl.tspan=this.svgFactory.createElement("svg:tspan"),Zl.tspan.setAttributeNS(null,"font-family",Zl.fontFamily),Zl.tspan.setAttributeNS(null,"font-size",`${Wl(Zl.fontSize)}px`),Zl.tspan.setAttributeNS(null,"y",Wl(-Zl.y))}showText(Kl){const ru=this.current,Zl=ru.font,tp=ru.fontSize;if(tp===0)return;const op=ru.fontSizeScale,bp=ru.charSpacing,ap=ru.wordSpacing,hp=ru.fontDirection,gp=ru.textHScale*hp,rp=Zl.vertical,up=rp?1:-1,$p=Zl.defaultVMetrics,yp=tp*ru.fontMatrix[0];let dp=0;for(const Jl of Kl){if(Jl===null){dp+=hp*ap;continue}else if(typeof Jl=="number"){dp+=up*Jl*tp/1e3;continue}const np=(Jl.isSpace?ap:0)+bp,cp=Jl.fontChar;let fp,vp,wp=Jl.width;if(rp){let _f;const ip=Jl.vmetric||$p;_f=Jl.vmetric?ip[1]:wp*.5,_f=-_f*yp;const sp=ip[2]*yp;wp=ip?-ip[0]:wp,fp=_f/op,vp=(dp+sp)/op}else fp=dp/op,vp=0;(Jl.isInFont||Zl.missingFile)&&(ru.xcoords.push(ru.x+fp),rp&&ru.ycoords.push(-ru.y+vp),ru.tspan.textContent+=cp);let xp;rp?xp=wp*yp-np*hp:xp=wp*yp+np*hp,dp+=xp}ru.tspan.setAttributeNS(null,"x",ru.xcoords.map(Wl).join(" ")),rp?ru.tspan.setAttributeNS(null,"y",ru.ycoords.map(Wl).join(" ")):ru.tspan.setAttributeNS(null,"y",Wl(-ru.y)),rp?ru.y-=dp:ru.x+=dp*gp,ru.tspan.setAttributeNS(null,"font-family",ru.fontFamily),ru.tspan.setAttributeNS(null,"font-size",`${Wl(ru.fontSize)}px`),ru.fontStyle!==$l.fontStyle&&ru.tspan.setAttributeNS(null,"font-style",ru.fontStyle),ru.fontWeight!==$l.fontWeight&&ru.tspan.setAttributeNS(null,"font-weight",ru.fontWeight);const ep=ru.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(ep===a.TextRenderingMode.FILL||ep===a.TextRenderingMode.FILL_STROKE?(ru.fillColor!==$l.fillColor&&ru.tspan.setAttributeNS(null,"fill",ru.fillColor),ru.fillAlpha<1&&ru.tspan.setAttributeNS(null,"fill-opacity",ru.fillAlpha)):ru.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?ru.tspan.setAttributeNS(null,"fill","transparent"):ru.tspan.setAttributeNS(null,"fill","none"),ep===a.TextRenderingMode.STROKE||ep===a.TextRenderingMode.FILL_STROKE){const Jl=1/(ru.textMatrixScale||1);this._setStrokeAttributes(ru.tspan,Jl)}let Ql=ru.textMatrix;ru.textRise!==0&&(Ql=Ql.slice(),Ql[5]+=ru.textRise),ru.txtElement.setAttributeNS(null,"transform",`${Yl(Ql)} scale(${Wl(gp)}, -1)`),ru.txtElement.setAttributeNS(Rl,"xml:space","preserve"),ru.txtElement.append(ru.tspan),ru.txtgrp.append(ru.txtElement),this._ensureTransformGroup().append(ru.txtElement)}setLeadingMoveText(Kl,ru){this.setLeading(-ru),this.moveText(Kl,ru)}addFontStyle(Kl){if(!Kl.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ru=Ll(Kl.data,Kl.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Kl.loadedName}"; src: url(${ru}); }
`}setFont(Kl){const ru=this.current,Zl=this.commonObjs.get(Kl[0]);let tp=Kl[1];ru.font=Zl,this.embedFonts&&!Zl.missingFile&&!this.embeddedFonts[Zl.loadedName]&&(this.addFontStyle(Zl),this.embeddedFonts[Zl.loadedName]=Zl),ru.fontMatrix=Zl.fontMatrix||a.FONT_IDENTITY_MATRIX;let op="normal";Zl.black?op="900":Zl.bold&&(op="bold");const bp=Zl.italic?"italic":"normal";tp<0?(tp=-tp,ru.fontDirection=-1):ru.fontDirection=1,ru.fontSize=tp,ru.fontFamily=Zl.loadedName,ru.fontWeight=op,ru.fontStyle=bp,ru.tspan=this.svgFactory.createElement("svg:tspan"),ru.tspan.setAttributeNS(null,"y",Wl(-ru.y)),ru.xcoords=[],ru.ycoords=[]}endText(){var ru;const Kl=this.current;Kl.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((ru=Kl.txtElement)==null?void 0:ru.hasChildNodes())&&(Kl.element=Kl.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Kl){Kl>0&&(this.current.lineWidth=Kl)}setLineCap(Kl){this.current.lineCap=Ul[Kl]}setLineJoin(Kl){this.current.lineJoin=Fl[Kl]}setMiterLimit(Kl){this.current.miterLimit=Kl}setStrokeAlpha(Kl){this.current.strokeAlpha=Kl}setStrokeRGBColor(Kl,ru,Zl){this.current.strokeColor=a.Util.makeHexColor(Kl,ru,Zl)}setFillAlpha(Kl){this.current.fillAlpha=Kl}setFillRGBColor(Kl,ru,Zl){this.current.fillColor=a.Util.makeHexColor(Kl,ru,Zl),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Kl){this.current.strokeColor=this._makeColorN_Pattern(Kl)}setFillColorN(Kl){this.current.fillColor=this._makeColorN_Pattern(Kl)}shadingFill(Kl){const ru=this.viewport.width,Zl=this.viewport.height,tp=a.Util.inverseTransform(this.transformMatrix),op=a.Util.applyTransform([0,0],tp),bp=a.Util.applyTransform([0,Zl],tp),ap=a.Util.applyTransform([ru,0],tp),hp=a.Util.applyTransform([ru,Zl],tp),gp=Math.min(op[0],bp[0],ap[0],hp[0]),rp=Math.min(op[1],bp[1],ap[1],hp[1]),up=Math.max(op[0],bp[0],ap[0],hp[0]),$p=Math.max(op[1],bp[1],ap[1],hp[1]),yp=this.svgFactory.createElement("svg:rect");yp.setAttributeNS(null,"x",gp),yp.setAttributeNS(null,"y",rp),yp.setAttributeNS(null,"width",up-gp),yp.setAttributeNS(null,"height",$p-rp),yp.setAttributeNS(null,"fill",this._makeShadingPattern(Kl)),this.current.fillAlpha<1&&yp.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(yp)}_makeColorN_Pattern(Kl){return Kl[0]==="TilingPattern"?this._makeTilingPattern(Kl):this._makeShadingPattern(Kl)}_makeTilingPattern(Kl){const ru=Kl[1],Zl=Kl[2],tp=Kl[3]||a.IDENTITY_MATRIX,[op,bp,ap,hp]=Kl[4],gp=Kl[5],rp=Kl[6],up=Kl[7],$p=`shading${_d++}`,[yp,dp,ep,Ql]=a.Util.normalizeRect([...a.Util.applyTransform([op,bp],tp),...a.Util.applyTransform([ap,hp],tp)]),[Jl,np]=a.Util.singularValueDecompose2dScale(tp),cp=gp*Jl,fp=rp*np,vp=this.svgFactory.createElement("svg:pattern");vp.setAttributeNS(null,"id",$p),vp.setAttributeNS(null,"patternUnits","userSpaceOnUse"),vp.setAttributeNS(null,"width",cp),vp.setAttributeNS(null,"height",fp),vp.setAttributeNS(null,"x",`${yp}`),vp.setAttributeNS(null,"y",`${dp}`);const wp=this.svg,xp=this.transformMatrix,_f=this.current.fillColor,ip=this.current.strokeColor,sp=this.svgFactory.create(ep-yp,Ql-dp);if(this.svg=sp,this.transformMatrix=tp,up===2){const lp=a.Util.makeHexColor(...ru);this.current.fillColor=lp,this.current.strokeColor=lp}return this.executeOpTree(this.convertOpList(Zl)),this.svg=wp,this.transformMatrix=xp,this.current.fillColor=_f,this.current.strokeColor=ip,vp.append(sp.childNodes[0]),this.defs.append(vp),`url(#${$p})`}_makeShadingPattern(Kl){switch(typeof Kl=="string"&&(Kl=this.objs.get(Kl)),Kl[0]){case"RadialAxial":const ru=`shading${_d++}`,Zl=Kl[3];let tp;switch(Kl[1]){case"axial":const op=Kl[4],bp=Kl[5];tp=this.svgFactory.createElement("svg:linearGradient"),tp.setAttributeNS(null,"id",ru),tp.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),tp.setAttributeNS(null,"x1",op[0]),tp.setAttributeNS(null,"y1",op[1]),tp.setAttributeNS(null,"x2",bp[0]),tp.setAttributeNS(null,"y2",bp[1]);break;case"radial":const ap=Kl[4],hp=Kl[5],gp=Kl[6],rp=Kl[7];tp=this.svgFactory.createElement("svg:radialGradient"),tp.setAttributeNS(null,"id",ru),tp.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),tp.setAttributeNS(null,"cx",hp[0]),tp.setAttributeNS(null,"cy",hp[1]),tp.setAttributeNS(null,"r",rp),tp.setAttributeNS(null,"fx",ap[0]),tp.setAttributeNS(null,"fy",ap[1]),tp.setAttributeNS(null,"fr",gp);break;default:throw new Error(`Unknown RadialAxial type: ${Kl[1]}`)}for(const op of Zl){const bp=this.svgFactory.createElement("svg:stop");bp.setAttributeNS(null,"offset",op[0]),bp.setAttributeNS(null,"stop-color",op[1]),tp.append(bp)}return this.defs.append(tp),`url(#${ru})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Kl[0]}`)}}setDash(Kl,ru){this.current.dashArray=Kl,this.current.dashPhase=ru}constructPath(Kl,ru){const Zl=this.current;let tp=Zl.x,op=Zl.y,bp=[],ap=0;for(const hp of Kl)switch(hp|0){case a.OPS.rectangle:tp=ru[ap++],op=ru[ap++];const gp=ru[ap++],rp=ru[ap++],up=tp+gp,$p=op+rp;bp.push("M",Wl(tp),Wl(op),"L",Wl(up),Wl(op),"L",Wl(up),Wl($p),"L",Wl(tp),Wl($p),"Z");break;case a.OPS.moveTo:tp=ru[ap++],op=ru[ap++],bp.push("M",Wl(tp),Wl(op));break;case a.OPS.lineTo:tp=ru[ap++],op=ru[ap++],bp.push("L",Wl(tp),Wl(op));break;case a.OPS.curveTo:tp=ru[ap+4],op=ru[ap+5],bp.push("C",Wl(ru[ap]),Wl(ru[ap+1]),Wl(ru[ap+2]),Wl(ru[ap+3]),Wl(tp),Wl(op)),ap+=6;break;case a.OPS.curveTo2:bp.push("C",Wl(tp),Wl(op),Wl(ru[ap]),Wl(ru[ap+1]),Wl(ru[ap+2]),Wl(ru[ap+3])),tp=ru[ap+2],op=ru[ap+3],ap+=4;break;case a.OPS.curveTo3:tp=ru[ap+2],op=ru[ap+3],bp.push("C",Wl(ru[ap]),Wl(ru[ap+1]),Wl(tp),Wl(op),Wl(tp),Wl(op)),ap+=4;break;case a.OPS.closePath:bp.push("Z");break}bp=bp.join(" "),Zl.path&&Kl.length>0&&Kl[0]!==a.OPS.rectangle&&Kl[0]!==a.OPS.moveTo?bp=Zl.path.getAttributeNS(null,"d")+bp:(Zl.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Zl.path)),Zl.path.setAttributeNS(null,"d",bp),Zl.path.setAttributeNS(null,"fill","none"),Zl.element=Zl.path,Zl.setCurrentPoint(tp,op)}endPath(){const Kl=this.current;if(Kl.path=null,!this.pendingClip)return;if(!Kl.element){this.pendingClip=null;return}const ru=`clippath${Xl++}`,Zl=this.svgFactory.createElement("svg:clipPath");Zl.setAttributeNS(null,"id",ru),Zl.setAttributeNS(null,"transform",Yl(this.transformMatrix));const tp=Kl.element.cloneNode(!0);if(this.pendingClip==="evenodd"?tp.setAttributeNS(null,"clip-rule","evenodd"):tp.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Zl.append(tp),this.defs.append(Zl),Kl.activeClipUrl){Kl.clipGroup=null;for(const op of this.extraStack)op.clipGroup=null;Zl.setAttributeNS(null,"clip-path",Kl.activeClipUrl)}Kl.activeClipUrl=`url(#${ru})`,this.tgrp=null}clip(Kl){this.pendingClip=Kl}closePath(){const Kl=this.current;if(Kl.path){const ru=`${Kl.path.getAttributeNS(null,"d")}Z`;Kl.path.setAttributeNS(null,"d",ru)}}setLeading(Kl){this.current.leading=-Kl}setTextRise(Kl){this.current.textRise=Kl}setTextRenderingMode(Kl){this.current.textRenderingMode=Kl}setHScale(Kl){this.current.textHScale=Kl/100}setRenderingIntent(Kl){}setFlatness(Kl){}setGState(Kl){for(const[ru,Zl]of Kl)switch(ru){case"LW":this.setLineWidth(Zl);break;case"LC":this.setLineCap(Zl);break;case"LJ":this.setLineJoin(Zl);break;case"ML":this.setMiterLimit(Zl);break;case"D":this.setDash(Zl[0],Zl[1]);break;case"RI":this.setRenderingIntent(Zl);break;case"FL":this.setFlatness(Zl);break;case"Font":this.setFont(Zl);break;case"CA":this.setStrokeAlpha(Zl);break;case"ca":this.setFillAlpha(Zl);break;default:(0,a.warn)(`Unimplemented graphic state operator ${ru}`);break}}fill(){const Kl=this.current;Kl.element&&(Kl.element.setAttributeNS(null,"fill",Kl.fillColor),Kl.element.setAttributeNS(null,"fill-opacity",Kl.fillAlpha),this.endPath())}stroke(){const Kl=this.current;Kl.element&&(this._setStrokeAttributes(Kl.element),Kl.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Kl,ru=1){const Zl=this.current;let tp=Zl.dashArray;ru!==1&&tp.length>0&&(tp=tp.map(function(op){return ru*op})),Kl.setAttributeNS(null,"stroke",Zl.strokeColor),Kl.setAttributeNS(null,"stroke-opacity",Zl.strokeAlpha),Kl.setAttributeNS(null,"stroke-miterlimit",Wl(Zl.miterLimit)),Kl.setAttributeNS(null,"stroke-linecap",Zl.lineCap),Kl.setAttributeNS(null,"stroke-linejoin",Zl.lineJoin),Kl.setAttributeNS(null,"stroke-width",Wl(ru*Zl.lineWidth)+"px"),Kl.setAttributeNS(null,"stroke-dasharray",tp.map(Wl).join(" ")),Kl.setAttributeNS(null,"stroke-dashoffset",Wl(ru*Zl.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Kl=this.svgFactory.createElement("svg:rect");Kl.setAttributeNS(null,"x","0"),Kl.setAttributeNS(null,"y","0"),Kl.setAttributeNS(null,"width","1px"),Kl.setAttributeNS(null,"height","1px"),Kl.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Kl)}paintImageXObject(Kl){const ru=Kl.startsWith("g_")?this.commonObjs.get(Kl):this.objs.get(Kl);if(!ru){(0,a.warn)(`Dependent image with object ID ${Kl} is not ready yet`);return}this.paintInlineImageXObject(ru)}paintInlineImageXObject(Kl,ru){const Zl=Kl.width,tp=Kl.height,op=Bl(Kl,this.forceDataSchema,!!ru),bp=this.svgFactory.createElement("svg:rect");bp.setAttributeNS(null,"x","0"),bp.setAttributeNS(null,"y","0"),bp.setAttributeNS(null,"width",Wl(Zl)),bp.setAttributeNS(null,"height",Wl(tp)),this.current.element=bp,this.clip("nonzero");const ap=this.svgFactory.createElement("svg:image");ap.setAttributeNS(Ml,"xlink:href",op),ap.setAttributeNS(null,"x","0"),ap.setAttributeNS(null,"y",Wl(-tp)),ap.setAttributeNS(null,"width",Wl(Zl)+"px"),ap.setAttributeNS(null,"height",Wl(tp)+"px"),ap.setAttributeNS(null,"transform",`scale(${Wl(1/Zl)} ${Wl(-1/tp)})`),ru?ru.append(ap):this._ensureTransformGroup().append(ap)}paintImageMaskXObject(Kl){const ru=this.current,Zl=Kl.width,tp=Kl.height,op=ru.fillColor;ru.maskId=`mask${Gl++}`;const bp=this.svgFactory.createElement("svg:mask");bp.setAttributeNS(null,"id",ru.maskId);const ap=this.svgFactory.createElement("svg:rect");ap.setAttributeNS(null,"x","0"),ap.setAttributeNS(null,"y","0"),ap.setAttributeNS(null,"width",Wl(Zl)),ap.setAttributeNS(null,"height",Wl(tp)),ap.setAttributeNS(null,"fill",op),ap.setAttributeNS(null,"mask",`url(#${ru.maskId})`),this.defs.append(bp),this._ensureTransformGroup().append(ap),this.paintInlineImageXObject(Kl,bp)}paintFormXObjectBegin(Kl,ru){if(Array.isArray(Kl)&&Kl.length===6&&this.transform(Kl[0],Kl[1],Kl[2],Kl[3],Kl[4],Kl[5]),ru){const Zl=ru[2]-ru[0],tp=ru[3]-ru[1],op=this.svgFactory.createElement("svg:rect");op.setAttributeNS(null,"x",ru[0]),op.setAttributeNS(null,"y",ru[1]),op.setAttributeNS(null,"width",Wl(Zl)),op.setAttributeNS(null,"height",Wl(tp)),this.current.element=op,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Kl){const ru=this.svgFactory.create(Kl.width,Kl.height),Zl=this.svgFactory.createElement("svg:defs");ru.append(Zl),this.defs=Zl;const tp=this.svgFactory.createElement("svg:g");return tp.setAttributeNS(null,"transform",Yl(Kl.transform)),ru.append(tp),this.svg=tp,ru}_ensureClipGroup(){if(!this.current.clipGroup){const Kl=this.svgFactory.createElement("svg:g");Kl.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Kl),this.current.clipGroup=Kl}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Yl(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var o=s(1),a=s(33);const c=require$$5,d=require$$5,h=require$$5,g=require$$5,_=/^file:\/\/\/[a-zA-Z]:\//;function $l(Wl){const Yl=g.parse(Wl);return Yl.protocol==="file:"||Yl.host?Yl:/^[a-z]:[/\\]/i.test(Wl)?g.parse(`file:///${Wl}`):(Yl.host||(Yl.protocol="file:"),Yl)}class Rl{constructor(Yl){this.source=Yl,this.url=$l(Yl.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Yl.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Yl,Xl;return(Xl=(Yl=this._fullRequestReader)==null?void 0:Yl._loaded)!=null?Xl:0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new zl(this):new Ll(this),this._fullRequestReader}getRangeReader(Yl,Xl){if(Xl<=this._progressiveDataLength)return null;const Gl=this.isFsUrl?new Hl(this,Yl,Xl):new Bl(this,Yl,Xl);return this._rangeRequestReaders.push(Gl),Gl}cancelAllRequests(Yl){this._fullRequestReader&&this._fullRequestReader.cancel(Yl);for(const Xl of this._rangeRequestReaders.slice(0))Xl.cancel(Yl)}}e.PDFNodeStream=Rl;class Ml{constructor(Yl){this._url=Yl.url,this._done=!1,this._storedError=null,this.onProgress=null;const Xl=Yl.source;this._contentLength=Xl.length,this._loaded=0,this._filename=null,this._disableRange=Xl.disableRange||!1,this._rangeChunkSize=Xl.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Xl.disableStream,this._isRangeSupported=!Xl.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Yl=this._readableStream.read();return Yl===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=Yl.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Yl).buffer,done:!1})}cancel(Yl){if(!this._readableStream){this._error(Yl);return}this._readableStream.destroy(Yl)}_error(Yl){this._storedError=Yl,this._readCapability.resolve()}_setReadableStream(Yl){this._readableStream=Yl,Yl.on("readable",()=>{this._readCapability.resolve()}),Yl.on("end",()=>{Yl.destroy(),this._done=!0,this._readCapability.resolve()}),Yl.on("error",Xl=>{this._error(Xl)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ul{constructor(Yl){this._url=Yl.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();const Xl=Yl.source;this._isStreamingSupported=!Xl.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Yl=this._readableStream.read();return Yl===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=Yl.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Yl).buffer,done:!1})}cancel(Yl){if(!this._readableStream){this._error(Yl);return}this._readableStream.destroy(Yl)}_error(Yl){this._storedError=Yl,this._readCapability.resolve()}_setReadableStream(Yl){this._readableStream=Yl,Yl.on("readable",()=>{this._readCapability.resolve()}),Yl.on("end",()=>{Yl.destroy(),this._done=!0,this._readCapability.resolve()}),Yl.on("error",Xl=>{this._error(Xl)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Fl(Wl,Yl){return{protocol:Wl.protocol,auth:Wl.auth,host:Wl.hostname,port:Wl.port,path:Wl.path,method:"GET",headers:Yl}}class Ll extends Ml{constructor(Yl){super(Yl);const Xl=Gl=>{if(Gl.statusCode===404){const Zl=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Zl,this._headersCapability.reject(Zl);return}this._headersCapability.resolve(),this._setReadableStream(Gl);const _d=Zl=>this._readableStream.headers[Zl.toLowerCase()],{allowRangeRequests:Kl,suggestedLength:ru}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:_d,isHttp:Yl.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Kl,this._contentLength=ru||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(_d)};this._request=null,this._url.protocol==="http:"?this._request=d.request(Fl(this._url,Yl.httpHeaders),Xl):this._request=h.request(Fl(this._url,Yl.httpHeaders),Xl),this._request.on("error",Gl=>{this._storedError=Gl,this._headersCapability.reject(Gl)}),this._request.end()}}class Bl extends Ul{constructor(Yl,Xl,Gl){super(Yl),this._httpHeaders={};for(const Kl in Yl.httpHeaders){const ru=Yl.httpHeaders[Kl];typeof ru>"u"||(this._httpHeaders[Kl]=ru)}this._httpHeaders.Range=`bytes=${Xl}-${Gl-1}`;const _d=Kl=>{if(Kl.statusCode===404){const ru=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ru;return}this._setReadableStream(Kl)};this._request=null,this._url.protocol==="http:"?this._request=d.request(Fl(this._url,this._httpHeaders),_d):this._request=h.request(Fl(this._url,this._httpHeaders),_d),this._request.on("error",Kl=>{this._storedError=Kl}),this._request.end()}}class zl extends Ml{constructor(Yl){super(Yl);let Xl=decodeURIComponent(this._url.path);_.test(this._url.href)&&(Xl=Xl.replace(/^\//,"")),c.lstat(Xl,(Gl,_d)=>{if(Gl){Gl.code==="ENOENT"&&(Gl=new o.MissingPDFException(`Missing PDF "${Xl}".`)),this._storedError=Gl,this._headersCapability.reject(Gl);return}this._contentLength=_d.size,this._setReadableStream(c.createReadStream(Xl)),this._headersCapability.resolve()})}}class Hl extends Ul{constructor(Yl,Xl,Gl){super(Yl);let _d=decodeURIComponent(this._url.path);_.test(this._url.href)&&(_d=_d.replace(/^\//,"")),this._setReadableStream(c.createReadStream(_d,{start:Xl,end:Gl-1}))}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=g,e.extractFilenameFromHeader=h,e.validateRangeRequestCapabilities=d,e.validateResponseStatus=_;var o=s(1),a=s(34),c=s(8);function d({getResponseHeader:$l,isHttp:Rl,rangeChunkSize:Ml,disableRange:Ul}){const Fl={allowRangeRequests:!1,suggestedLength:void 0},Ll=parseInt($l("Content-Length"),10);return!Number.isInteger(Ll)||(Fl.suggestedLength=Ll,Ll<=2*Ml)||Ul||!Rl||$l("Accept-Ranges")!=="bytes"||($l("Content-Encoding")||"identity")!=="identity"||(Fl.allowRangeRequests=!0),Fl}function h($l){const Rl=$l("Content-Disposition");if(Rl){let Ml=(0,a.getFilenameFromContentDispositionHeader)(Rl);if(Ml.includes("%"))try{Ml=decodeURIComponent(Ml)}catch{}if((0,c.isPdfFile)(Ml))return Ml}return null}function g($l,Rl){return $l===404||$l===0&&Rl.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+Rl+'".'):new o.UnexpectedResponseException(`Unexpected server response (${$l}) while retrieving PDF "${Rl}".`,$l)}function _($l){return $l===200||$l===206}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let Ll=Ml(h);return Ll=unescape(Ll),Ll=Ul(Ll),Ll=Fl(Ll),$l(Ll)}if(h=Rl(c),h){const Ll=Fl(h);return $l(Ll)}if(h=g("filename","i").exec(c),h){h=h[1];let Ll=Ml(h);return Ll=Fl(Ll),$l(Ll)}function g(Ll,Bl){return new RegExp("(?:^|;)\\s*"+Ll+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Bl)}function _(Ll,Bl){if(Ll){if(!/^[\x00-\xFF]+$/.test(Bl))return Bl;try{const zl=new TextDecoder(Ll,{fatal:!0}),Hl=(0,o.stringToBytes)(Bl);Bl=zl.decode(Hl),d=!1}catch{}}return Bl}function $l(Ll){return d&&/[\x80-\xff]/.test(Ll)&&(Ll=_("utf-8",Ll),d&&(Ll=_("iso-8859-1",Ll))),Ll}function Rl(Ll){const Bl=[];let zl;const Hl=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(zl=Hl.exec(Ll))!==null;){let[,Yl,Xl,Gl]=zl;if(Yl=parseInt(Yl,10),Yl in Bl){if(Yl===0)break;continue}Bl[Yl]=[Xl,Gl]}const Wl=[];for(let Yl=0;Yl<Bl.length&&Yl in Bl;++Yl){let[Xl,Gl]=Bl[Yl];Gl=Ml(Gl),Xl&&(Gl=unescape(Gl),Yl===0&&(Gl=Ul(Gl))),Wl.push(Gl)}return Wl.join("")}function Ml(Ll){if(Ll.startsWith('"')){const Bl=Ll.slice(1).split('\\"');for(let zl=0;zl<Bl.length;++zl){const Hl=Bl[zl].indexOf('"');Hl!==-1&&(Bl[zl]=Bl[zl].slice(0,Hl),Bl.length=zl+1),Bl[zl]=Bl[zl].replace(/\\(.)/g,"$1")}Ll=Bl.join('"')}return Ll}function Ul(Ll){const Bl=Ll.indexOf("'");if(Bl===-1)return Ll;const zl=Ll.slice(0,Bl),Wl=Ll.slice(Bl+1).replace(/^[^']*'/,"");return _(zl,Wl)}function Fl(Ll){return!Ll.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ll)?Ll:Ll.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Bl,zl,Hl,Wl){if(Hl==="q"||Hl==="Q")return Wl=Wl.replace(/_/g," "),Wl=Wl.replace(/=([0-9a-fA-F]{2})/g,function(Yl,Xl){return String.fromCharCode(parseInt(Xl,16))}),_(zl,Wl);try{Wl=atob(Wl)}catch{}return _(zl,Wl)})}return""}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var o=s(1),a=s(33);const c=200,d=206;function h(Ml){const Ul=Ml.response;return typeof Ul!="string"?Ul:(0,o.stringToBytes)(Ul).buffer}class g{constructor(Ul,Fl={}){this.url=Ul,this.isHttp=/^https?:/i.test(Ul),this.httpHeaders=this.isHttp&&Fl.httpHeaders||Object.create(null),this.withCredentials=Fl.withCredentials||!1,this.getXhr=Fl.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Ul,Fl,Ll){const Bl={begin:Ul,end:Fl};for(const zl in Ll)Bl[zl]=Ll[zl];return this.request(Bl)}requestFull(Ul){return this.request(Ul)}request(Ul){const Fl=this.getXhr(),Ll=this.currXhrId++,Bl=this.pendingRequests[Ll]={xhr:Fl};Fl.open("GET",this.url),Fl.withCredentials=this.withCredentials;for(const zl in this.httpHeaders){const Hl=this.httpHeaders[zl];typeof Hl>"u"||Fl.setRequestHeader(zl,Hl)}return this.isHttp&&"begin"in Ul&&"end"in Ul?(Fl.setRequestHeader("Range",`bytes=${Ul.begin}-${Ul.end-1}`),Bl.expectedStatus=d):Bl.expectedStatus=c,Fl.responseType="arraybuffer",Ul.onError&&(Fl.onerror=function(zl){Ul.onError(Fl.status)}),Fl.onreadystatechange=this.onStateChange.bind(this,Ll),Fl.onprogress=this.onProgress.bind(this,Ll),Bl.onHeadersReceived=Ul.onHeadersReceived,Bl.onDone=Ul.onDone,Bl.onError=Ul.onError,Bl.onProgress=Ul.onProgress,Fl.send(null),Ll}onProgress(Ul,Fl){var Bl;const Ll=this.pendingRequests[Ul];!Ll||(Bl=Ll.onProgress)==null||Bl.call(Ll,Fl)}onStateChange(Ul,Fl){var Yl,Xl,Gl;const Ll=this.pendingRequests[Ul];if(!Ll)return;const Bl=Ll.xhr;if(Bl.readyState>=2&&Ll.onHeadersReceived&&(Ll.onHeadersReceived(),delete Ll.onHeadersReceived),Bl.readyState!==4||!(Ul in this.pendingRequests))return;if(delete this.pendingRequests[Ul],Bl.status===0&&this.isHttp){(Yl=Ll.onError)==null||Yl.call(Ll,Bl.status);return}const zl=Bl.status||c;if(!(zl===c&&Ll.expectedStatus===d)&&zl!==Ll.expectedStatus){(Xl=Ll.onError)==null||Xl.call(Ll,Bl.status);return}const Wl=h(Bl);if(zl===d){const _d=Bl.getResponseHeader("Content-Range"),Kl=/bytes (\d+)-(\d+)\/(\d+)/.exec(_d);Ll.onDone({begin:parseInt(Kl[1],10),chunk:Wl})}else Wl?Ll.onDone({begin:0,chunk:Wl}):(Gl=Ll.onError)==null||Gl.call(Ll,Bl.status)}getRequestXhr(Ul){return this.pendingRequests[Ul].xhr}isPendingRequest(Ul){return Ul in this.pendingRequests}abortRequest(Ul){const Fl=this.pendingRequests[Ul].xhr;delete this.pendingRequests[Ul],Fl.abort()}}class _{constructor(Ul){this._source=Ul,this._manager=new g(Ul.url,{httpHeaders:Ul.httpHeaders,withCredentials:Ul.withCredentials}),this._rangeChunkSize=Ul.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Ul){const Fl=this._rangeRequestReaders.indexOf(Ul);Fl>=0&&this._rangeRequestReaders.splice(Fl,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $l(this._manager,this._source),this._fullRequestReader}getRangeReader(Ul,Fl){const Ll=new Rl(this._manager,Ul,Fl);return Ll.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ll),Ll}cancelAllRequests(Ul){var Fl;(Fl=this._fullRequestReader)==null||Fl.cancel(Ul);for(const Ll of this._rangeRequestReaders.slice(0))Ll.cancel(Ul)}}e.PDFNetworkStream=_;class $l{constructor(Ul,Fl){this._manager=Ul;const Ll={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Fl.url,this._fullRequestId=Ul.requestFull(Ll),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=Fl.disableRange||!1,this._contentLength=Fl.length,this._rangeChunkSize=Fl.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Ul=this._fullRequestId,Fl=this._manager.getRequestXhr(Ul),Ll=Hl=>Fl.getResponseHeader(Hl),{allowRangeRequests:Bl,suggestedLength:zl}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:Ll,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Bl&&(this._isRangeSupported=!0),this._contentLength=zl||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(Ll),this._isRangeSupported&&this._manager.abortRequest(Ul),this._headersReceivedCapability.resolve()}_onDone(Ul){if(Ul&&(this._requests.length>0?this._requests.shift().resolve({value:Ul.chunk,done:!1}):this._cachedChunks.push(Ul.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Fl of this._requests)Fl.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Ul){this._storedError=(0,a.createResponseStatusError)(Ul,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Fl of this._requests)Fl.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Ul){var Fl;(Fl=this.onProgress)==null||Fl.call(this,{loaded:Ul.loaded,total:Ul.lengthComputable?Ul.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ul=(0,o.createPromiseCapability)();return this._requests.push(Ul),Ul.promise}cancel(Ul){this._done=!0,this._headersReceivedCapability.reject(Ul);for(const Fl of this._requests)Fl.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Rl{constructor(Ul,Fl,Ll){this._manager=Ul;const Bl={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ul.url,this._requestId=Ul.requestRange(Fl,Ll,Bl),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Ul;(Ul=this.onClosed)==null||Ul.call(this,this)}_onDone(Ul){const Fl=Ul.chunk;this._requests.length>0?this._requests.shift().resolve({value:Fl,done:!1}):this._queuedChunk=Fl,this._done=!0;for(const Ll of this._requests)Ll.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Ul){this._storedError=(0,a.createResponseStatusError)(Ul,this._url);for(const Fl of this._requests)Fl.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Ul){var Fl;this.isStreamingSupported||(Fl=this.onProgress)==null||Fl.call(this,{loaded:Ul.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Fl=this._queuedChunk;return this._queuedChunk=null,{value:Fl,done:!1}}if(this._done)return{value:void 0,done:!0};const Ul=(0,o.createPromiseCapability)();return this._requests.push(Ul),Ul.promise}cancel(Ul){this._done=!0;for(const Fl of this._requests)Fl.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var o=s(1),a=s(33);function c($l,Rl,Ml){return{method:"GET",headers:$l,signal:Ml.signal,mode:"cors",credentials:Rl?"include":"same-origin",redirect:"follow"}}function d($l){const Rl=new Headers;for(const Ml in $l){const Ul=$l[Ml];typeof Ul>"u"||Rl.append(Ml,Ul)}return Rl}class h{constructor(Rl){this.source=Rl,this.isHttp=/^https?:/i.test(Rl.url),this.httpHeaders=this.isHttp&&Rl.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Rl,Ml;return(Ml=(Rl=this._fullRequestReader)==null?void 0:Rl._loaded)!=null?Ml:0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}getRangeReader(Rl,Ml){if(Ml<=this._progressiveDataLength)return null;const Ul=new _(this,Rl,Ml);return this._rangeRequestReaders.push(Ul),Ul}cancelAllRequests(Rl){this._fullRequestReader&&this._fullRequestReader.cancel(Rl);for(const Ml of this._rangeRequestReaders.slice(0))Ml.cancel(Rl)}}e.PDFFetchStream=h;class g{constructor(Rl){this._stream=Rl,this._reader=null,this._loaded=0,this._filename=null;const Ml=Rl.source;this._withCredentials=Ml.withCredentials||!1,this._contentLength=Ml.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=Ml.disableRange||!1,this._rangeChunkSize=Ml.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Ml.disableStream,this._isRangeSupported=!Ml.disableRange,this._headers=d(this._stream.httpHeaders);const Ul=Ml.url;fetch(Ul,c(this._headers,this._withCredentials,this._abortController)).then(Fl=>{if(!(0,a.validateResponseStatus)(Fl.status))throw(0,a.createResponseStatusError)(Fl.status,Ul);this._reader=Fl.body.getReader(),this._headersCapability.resolve();const Ll=Hl=>Fl.headers.get(Hl),{allowRangeRequests:Bl,suggestedLength:zl}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:Ll,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Bl,this._contentLength=zl||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(Ll),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:Rl,done:Ml}=await this._reader.read();return Ml?{value:Rl,done:Ml}:(this._loaded+=Rl.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Rl).buffer,done:!1})}cancel(Rl){this._reader&&this._reader.cancel(Rl),this._abortController.abort()}}class _{constructor(Rl,Ml,Ul){this._stream=Rl,this._reader=null,this._loaded=0;const Fl=Rl.source;this._withCredentials=Fl.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!Fl.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Ml}-${Ul-1}`);const Ll=Fl.url;fetch(Ll,c(this._headers,this._withCredentials,this._abortController)).then(Bl=>{if(!(0,a.validateResponseStatus)(Bl.status))throw(0,a.createResponseStatusError)(Bl.status,Ll);this._readCapability.resolve(),this._reader=Bl.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:Rl,done:Ml}=await this._reader.read();return Ml?{value:Rl,done:Ml}:(this._loaded+=Rl.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Rl).buffer,done:!1})}cancel(Rl){this._reader&&this._reader.cancel(Rl),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var e=__webpack_module_cache__[i];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return d.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return s.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return $l.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return Rl.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return _.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return s.version}});var e=__w_pdfjs_require__(1),s=__w_pdfjs_require__(4),o=__w_pdfjs_require__(8),a=__w_pdfjs_require__(22),c=__w_pdfjs_require__(7),d=__w_pdfjs_require__(27),h=__w_pdfjs_require__(15),g=__w_pdfjs_require__(3),_=__w_pdfjs_require__(30),$l=__w_pdfjs_require__(31),Rl=__w_pdfjs_require__(29);if(g.isNodeJS){const{PDFNodeStream:Ml}=__w_pdfjs_require__(32);(0,s.setPDFNetworkStreamFactory)(Ul=>new Ml(Ul))}else{const{PDFNetworkStream:Ml}=__w_pdfjs_require__(35),{PDFFetchStream:Ul}=__w_pdfjs_require__(36);(0,s.setPDFNetworkStreamFactory)(Fl=>(0,o.isValidFetchUrl)(Fl.url)?new Ul(Fl):new Ml(Fl))}})(),__webpack_exports__})())})(pdf);var keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],isProduction$1=!0,prefix="Invariant failed";function invariant(i,e){if(!i){if(isProduction$1)throw new Error(prefix);var s=typeof e=="function"?e():e,o=s?"".concat(prefix,": ").concat(s):prefix;throw new Error(o)}}var isProduction=!0;function warning(i,e){if(!isProduction){if(i)return;var s="Warning: "+e;typeof console<"u"&&console.warn(s);try{throw Error(s)}catch{}}}propTypes.exports.node,propTypes.exports.oneOf(["error","loading","no-data"]).isRequired;var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function i(){_classCallCheck$2(this,i),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass$1(i,[{key:"setDocument",value:function(s){this.pdfDocument=s}},{key:"setViewer",value:function(s){this.pdfViewer=s}},{key:"setExternalLinkRel",value:function(s){this.externalLinkRel=s}},{key:"setExternalLinkTarget",value:function(s){this.externalLinkTarget=s}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(s){this.pdfViewer.currentPageNumber=s}},{key:"rotation",get:function(){return 0},set:function(s){}},{key:"goToDestination",value:function(s){var o=this;new Promise(function(a){typeof s=="string"?o.pdfDocument.getDestination(s).then(a):Array.isArray(s)?a(s):s.then(a)}).then(function(a){invariant(Array.isArray(a),'"'.concat(a,'" is not a valid destination array.'));var c=a[0];new Promise(function(d){c instanceof Object?o.pdfDocument.getPageIndex(c).then(function(h){d(h)}).catch(function(){invariant(!1,'"'.concat(c,'" is not a valid page reference.'))}):typeof c=="number"?d(c):invariant(!1,'"'.concat(c,'" is not a valid destination reference.'))}).then(function(d){var h=d+1;invariant(h>=1&&h<=o.pagesCount,'"'.concat(h,'" is not a valid page number.')),o.pdfViewer.scrollPageIntoView({dest:s,pageIndex:d,pageNumber:h})})})}},{key:"navigateTo",value:function(s){this.goToDestination(s)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(s,o,a){s.href=o,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=a?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),i}(),isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}var eventProps=function(){var i={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(e){i[e]=propTypes.exports.func}),i}(),fileTypes=[propTypes.exports.string,propTypes.exports.instanceOf(ArrayBuffer),propTypes.exports.shape({data:propTypes.exports.oneOfType([propTypes.exports.object,propTypes.exports.string]),httpHeaders:propTypes.exports.object,range:propTypes.exports.object,url:propTypes.exports.string,withCredentials:propTypes.exports.bool})];typeof File<"u"&&fileTypes.push(propTypes.exports.instanceOf(File));typeof Blob<"u"&&fileTypes.push(propTypes.exports.instanceOf(Blob));var isClassName=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.string)]),isFile=propTypes.exports.oneOfType(fileTypes),isLinkService=propTypes.exports.instanceOf(LinkService);propTypes.exports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypes.exports.shape({commonObjs:propTypes.exports.shape({}).isRequired,getAnnotations:propTypes.exports.func.isRequired,getTextContent:propTypes.exports.func.isRequired,getViewport:propTypes.exports.func.isRequired,render:propTypes.exports.func.isRequired}),isPageIndex=function i(e,s,o){var a=e[s],c=e.pageNumber,d=e.pdf;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(s,"` of type `").concat(_typeof(a),"` supplied to `").concat(o,"`, expected `number`."));if(a<0)return new Error("Expected `".concat(s,"` to be greater or equal to 0."));var h=d.numPages;if(a+1>h)return new Error("Expected `".concat(s,"` to be less or equal to ").concat(h-1,"."))}else if(!isDefined(c))return new Error("`".concat(s,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(o,"`."));return null},isPageNumber=function i(e,s,o){var a=e[s],c=e.pageIndex,d=e.pdf;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(s,"` of type `").concat(_typeof(a),"` supplied to `").concat(o,"`, expected `number`."));if(a<1)return new Error("Expected `".concat(s,"` to be greater or equal to 1."));var h=d.numPages;if(a>h)return new Error("Expected `".concat(s,"` to be less or equal to ").concat(h,"."))}else if(!isDefined(c))return new Error("`".concat(s,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(o,"`."));return null},isPdf=propTypes.exports.oneOfType([propTypes.exports.shape({getDestination:propTypes.exports.func.isRequired,getOutline:propTypes.exports.func.isRequired,getPage:propTypes.exports.func.isRequired,numPages:propTypes.exports.number.isRequired}),propTypes.exports.bool]),isRef=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.shape({current:propTypes.exports.any})]),isRenderMode=propTypes.exports.oneOf(["canvas","none","svg"]),isRotate=propTypes.exports.oneOf([0,90,180,270]);function ownKeys$2(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread$2(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(s),!0).forEach(function(o){_defineProperty(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys$2(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}var isFunctionOrNode$1=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.node]);_objectSpread$2(_objectSpread$2({},eventProps),{},{children:propTypes.exports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypes.exports.string,externalLinkTarget:propTypes.exports.string,file:isFile,imageResourcesPath:propTypes.exports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadProgress:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,onPassword:propTypes.exports.func,onSourceError:propTypes.exports.func,onSourceSuccess:propTypes.exports.func,rotate:propTypes.exports.number});var isDestination=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.any)]);propTypes.exports.shape({dest:isDestination,items:propTypes.exports.arrayOf(propTypes.exports.shape({dest:isDestination,title:propTypes.exports.string})),title:propTypes.exports.string}).isRequired,propTypes.exports.func,isPdf.isRequired;function ownKeys$1(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread$1(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(s),!0).forEach(function(o){_defineProperty(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}_objectSpread$1({className:isClassName,inputRef:isRef,onItemClick:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,pdf:isPdf},eventProps);propTypes.exports.string,propTypes.exports.number,propTypes.exports.func,propTypes.exports.func,isPage.isRequired,propTypes.exports.bool,propTypes.exports.number.isRequired;propTypes.exports.func,propTypes.exports.func,isPage.isRequired,propTypes.exports.number.isRequired;propTypes.exports.func,propTypes.exports.func,propTypes.exports.func,propTypes.exports.func,propTypes.exports.func,isPage.isRequired,propTypes.exports.number;propTypes.exports.string,isLinkService.isRequired,propTypes.exports.func,propTypes.exports.func,propTypes.exports.func,propTypes.exports.func,propTypes.exports.bool,propTypes.exports.number;function ownKeys(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach(function(o){_defineProperty(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}var isFunctionOrNode=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.node]);_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypes.exports.string,children:propTypes.exports.node,className:isClassName,customTextRenderer:propTypes.exports.func,devicePixelRatio:propTypes.exports.number,error:isFunctionOrNode,height:propTypes.exports.number,imageResourcesPath:propTypes.exports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypes.exports.func,onGetTextSuccess:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,onRenderTextLayerError:propTypes.exports.func,onRenderTextLayerSuccess:propTypes.exports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypes.exports.func,renderAnnotationLayer:propTypes.exports.bool,renderForms:propTypes.exports.bool,renderInteractiveForms:propTypes.exports.bool,renderMode:isRenderMode,renderTextLayer:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number,unregisterPage:propTypes.exports.func,width:propTypes.exports.number});displayWorkerWarning();pdf.exports.GlobalWorkerOptions.workerSrc="pdf.worker.js";moment(hooks);const Citas$2=()=>{const[i,e]=react$1.exports.useState([]),[s,o]=react$1.exports.useState(!1),[a,c]=react$1.exports.useState(""),[d,h]=react$1.exports.useState([]),[g,_]=react$1.exports.useState([]);react$1.exports.useEffect(()=>{let Bl=localStorage.getItem("datos");Bl!=null?Bl===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[s]),react$1.exports.useEffect(()=>{let Bl=localStorage.getItem("usuario");Bl!=null&&(Bl=Bl.replace(/['"]+/g,"")),Bl!=null?(console.log(Bl),app.firestore().collection("users").doc(Bl).get().then(zl=>{zl.exists?(setRol(zl.data().rol),console.log("Document data:",zl.data().rol),zl.data().nombre!=null&&zl.data().apellido!=null&&zl.data().curp!=null&&zl.data().telefono!=null&&zl.data().id!=null&&zl.data().rol!=null?o(!0):o(!1)):(setUser(0),console.log("No such document!"))}).catch(zl=>{console.log("Error getting document:",zl)})):setRol(0)},[]);let $l=localStorage.getItem("usuario");$l=$l.replace(/['"]+/g,""),react$1.exports.useEffect(()=>{let Bl=localStorage.getItem("usuario");Bl!=null&&(Bl=Bl.replace(/['"]+/g,"")),Bl!=null&&(console.log(Bl),app.firestore().collection("Citas").where("id","==",Bl).get().then(zl=>{const Hl=[];console.log(zl),zl.forEach(Wl=>{Hl.push({...Wl.data(),id:Hl.length+1,uid:Wl.id})}),e(Hl),console.log(Hl)}))},[]),react$1.exports.useEffect(()=>{c(localStorage.getItem("correo"))},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Servicios").onSnapshot(Bl=>{const zl=[];Bl.forEach(Hl=>{console.log(Hl.data()),zl.push({...Hl.data(),id:Hl.id})}),console.log(zl),h(zl)})},[]),react$1.exports.useEffect(()=>{app.firestore().collection("Especialistas").onSnapshot(Bl=>{const zl=[];Bl.forEach(Hl=>{console.log(Hl.data()),zl.push({...Hl.data(),id:Hl.id})}),console.log(zl),_(zl)})},[]);function Rl(){var Bl=document.getElementById("exampleModalServicio");Bl.style.display="none"}function Ml(){var Bl=document.getElementById("exampleModalEspecialista");Bl.style.display="none"}const Ul=Bl=>{console.log(Bl);var zl=document.getElementById("exampleModalServicio"),Hl=document.getElementById("modal-bodyServicio");zl.style.display="block",zl.hidden=!1,app.firestore().collection("Servicios").doc(Bl).get().then(Wl=>{const Yl=[];console.log(Wl),Yl.push({...Wl.data(),id:Yl.length+1,uid:Wl.id}),console.log(Yl),Hl.innerHTML=`
      <p> <b>Nombre:</b> ${Yl[0].Description} </p>
      <p> <b>Precio:</b> ${Yl[0].Price} </p>
      <p> <b>informacion:</b> ${Yl[0].info} </p>
      `})},Fl=Bl=>{console.log(Bl);var zl=document.getElementById("exampleModalEspecialista"),Hl=document.getElementById("modal-bodyEspecialista");zl.style.display="block",zl.hidden=!1,app.firestore().collection("Especialistas").doc(Bl).get().then(Wl=>{const Yl=[];console.log(Wl),Yl.push({...Wl.data(),id:Yl.length+1,uid:Wl.id}),console.log(Yl),Hl.innerHTML=` 
      <p> <b>Nombre:</b> ${Yl[0].Name} </p>
      <p> <b>Especialidad:</b> ${Yl[0].Especialidad} </p>
      <p> <b>informacion:</b> ${Yl[0].info} </p>
      <p> <b>Consultorio:</b> ${Yl[0].ubicacion} </p>
      `})},Ll={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};return jsxs(Fragment,{children:[jsxs("div",{className:"container",children:[jsx("br",{}),jsxs("div",{className:"row",children:[jsx("section",{class:"page-section",id:"services",children:jsxs("div",{class:"container",children:[jsx("div",{className:"text-center",children:jsx("img",{src:".\\resourses\\banner2.jpg",class:"img-fluid",alt:"Responsive image"})}),jsx("br",{}),jsxs("div",{class:"row text-center",children:[jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-primary",children:[jsx("div",{className:"card-header bg-primary text-white",children:jsx("h4",{class:"my-3",children:"Nuestra Misi\xF3n"})}),jsx("p",{class:"text-muted mb-2",children:"Somos una instituci\xF3n privada en constante innovaci\xF3n que ofrece servicios de salud con altos est\xE1ndares de calidad, interesados en dar bienestar y confianza a pacientes y familiares."}),jsx("br",{})]})}),jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-danger",children:[jsx("div",{className:"card-header bg-danger text-white",children:jsx("h4",{class:"my-3",children:"Nuestra Visi\xF3n"})}),jsx("p",{class:"text-muted mb-2",children:"Ser la organizaci\xF3n privada de mayor referencia en el pa\xEDs que presta atenci\xF3n m\xE9dica con una cultura de calidad en el servicio, crecimiento e innovaci\xF3n constante con el mejor capital humano."})]})}),jsx("div",{class:"col-md-4",children:jsxs("div",{className:"card border-info",children:[jsx("div",{className:"card-header bg-info text-white mb-3",children:jsx("h4",{class:"my-3",children:"Nuestros Valores"})}),jsxs("ul",{class:"list mb-2",children:[jsx("li",{class:"list-group-item",children:"\u2022 Actitud de servicio"}),jsx("li",{class:"list-group-item",children:"\u2022 Honestidad"}),jsx("li",{class:"list-group-item",children:"\u2022 Lealtad"}),jsx("li",{class:"list-group-item",children:"\u2022 Respeto"})]})]})})]})]})}),jsxs("div",{className:"col-md-12",children:[jsx("div",{class:"text-center",children:jsx("h2",{class:"section-heading text-uppercase",children:"Servicios"})}),jsx("div",{className:"card-body",children:jsx(Carousel,{responsive:Ll,children:d.map(Bl=>jsx("div",{className:"card",style:{width:"18rem"},children:jsxs("center",{children:[jsx("img",{src:Bl.img,className:"card-img-top",alt:"...",style:{width:"10rem",height:"10rem"}}),jsxs("div",{className:"card-body",children:[jsxs("div",{className:"card-text",style:{height:"10rem"},children:[jsx("h5",{className:"card-title",children:Bl.Description}),jsxs("p",{className:"card-text",children:["$",Bl.Price]})]}),jsx("a",{href:"#",className:"btn btn-primary",onClick:()=>Ul(Bl.id),children:"Ver mas"})]})]})}))})})]})]}),jsx("br",{}),jsx("div",{className:"row",children:jsxs("div",{className:"col-md-12",children:[jsx("div",{class:"text-center",children:jsx("h2",{class:"section-heading text-uppercase",children:"Especialistas"})}),jsx("div",{className:"card-body",children:jsx(Carousel,{responsive:Ll,children:g.map(Bl=>jsx("div",{className:"card",style:{width:"18rem"},children:jsxs("center",{children:[jsx("img",{src:Bl.img,className:"card-img-top",alt:"...",style:{width:"10rem",height:"10rem"}}),jsxs("div",{className:"card-body",children:[jsxs("div",{className:"card-text",style:{height:"10rem"},children:[jsx("h5",{className:"card-title",children:Bl.Name}),jsx("p",{className:"card-text",children:Bl.Especialidad})]}),jsx("a",{href:"#",className:"btn btn-primary",onClick:()=>Fl(Bl.id),children:"Ver mas"})]})]})}))})})]})})]}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModalEspecialista",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("h5",{class:"modal-title",children:"ESPECIALISTA "}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:Ml,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-bodyEspecialista"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:Ml,children:"Close"})})]})})}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModalServicio",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("center",{children:jsx("h5",{class:"modal-title",children:"SERVICIO "})}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:Rl,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-bodyServicio"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:Rl,children:"Close"})})]})})})]})},localizer$1=moment(hooks),Citas$1=()=>{const[i,e]=react$1.exports.useState([]),[s,o]=react$1.exports.useState(0),[a,c]=react$1.exports.useState(0),[d,h]=react$1.exports.useState(!1),[g,_]=react$1.exports.useState(""),[$l,Rl]=react$1.exports.useState(""),[Ml,Ul]=react$1.exports.useState(""),[Fl,Ll]=react$1.exports.useState(""),[Bl,zl]=react$1.exports.useState(""),[Hl,Wl]=react$1.exports.useState(""),[Yl,Xl]=react$1.exports.useState(""),[Gl,_d]=react$1.exports.useState(""),[Kl,ru]=react$1.exports.useState(""),[Zl,tp]=react$1.exports.useState("");react$1.exports.useState(""),react$1.exports.useState([]),react$1.exports.useState([]);const[op,bp]=react$1.exports.useState(""),[ap,hp]=react$1.exports.useState("");react$1.exports.useEffect(()=>{let ep=localStorage.getItem("datos");ep!=null?ep===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[d]),react$1.exports.useEffect(()=>{let ep=localStorage.getItem("usuario");ep!=null&&(ep=ep.replace(/['"]+/g,"")),ep!=null?(console.log(ep),app.firestore().collection("users").doc(ep).get().then(Ql=>{Ql.exists?(c(Ql.data().rol),console.log("Document data:",Ql.data().rol),Ql.data().nombre!=null&&Ql.data().apellido!=null&&Ql.data().curp!=null&&Ql.data().telefono!=null&&Ql.data().id!=null&&Ql.data().rol!=null?h(!0):h(!1)):(o(0),console.log("No such document!"))}).catch(Ql=>{console.log("Error getting document:",Ql)})):c(0)},[]);let gp=localStorage.getItem("usuario");gp=gp.replace(/['"]+/g,""),react$1.exports.useEffect(()=>{let ep=localStorage.getItem("usuario");ep!=null&&(ep=ep.replace(/['"]+/g,"")),ep!=null&&(console.log(ep),app.firestore().collection("Citas").where("id","==",ep).get().then(Ql=>{const Jl=[];console.log(Ql),Ql.forEach(np=>{Jl.push({...np.data(),id:Jl.length+1,uid:np.id})}),e(Jl),console.log(Jl)}))},[]);function rp(){var ep=document.getElementById("exampleModal");ep.style.display="none"}const up=ep=>{ep.preventDefault();const Ql={nombrePa:g,apellidoP:$l,apellidoM:Ml,edad:Fl,domicilio:Bl,telefono:Hl,sexo:Yl,peso:Gl,altura:Kl,observaciones:Zl,userP:op,citaP:ap};app.firestore().collection("Expedientes").add(Ql).then(Jl=>{swal("Expediente agregado","El expediente se ha agregado correctamente","success"),document.getElementById("name").disabled=!0,document.getElementById("apellidoP").disabled=!0,document.getElementById("apellidoM").disabled=!0,document.getElementById("edad").disabled=!0,document.getElementById("domicilio").disabled=!0,document.getElementById("telefono").disabled=!0,document.getElementById("sexo").disabled=!0,document.getElementById("peso").disabled=!0,document.getElementById("altura").disabled=!0,document.getElementById("observaciones").disabled=!0,document.getElementById("btnGuardar").disabled=!0}).catch(Jl=>{swal("Error","No se ha podido agregar el expediente","error")})},$p=(ep,Ql)=>{console.log("citaaaaa",Ql),console.log(ep);var Jl=document.getElementById("exampleModal");document.getElementById("modal-body"),Jl.style.display="block",Jl.hidden=!1,bp(ep),hp(Ql),app.firestore().collection("Expedientes").where("citaP","==",Ql).get().then(np=>{np.size>0?np.forEach(cp=>{console.log(cp.data()),_(cp.data().nombrePa),Rl(cp.data().apellidoP),Ul(cp.data().apellidoM),Ll(cp.data().edad),zl(cp.data().domicilio),Wl(cp.data().telefono),Xl(cp.data().sexo),_d(cp.data().peso),ru(cp.data().altura),tp(cp.data().observaciones),document.getElementById("name").disabled=!0,document.getElementById("apellidoP").disabled=!0,document.getElementById("apellidoM").disabled=!0,document.getElementById("edad").disabled=!0,document.getElementById("domicilio").disabled=!0,document.getElementById("telefono").disabled=!0,document.getElementById("sexo").disabled=!0,document.getElementById("peso").disabled=!0,document.getElementById("altura").disabled=!0,document.getElementById("observaciones").disabled=!0,document.getElementById("btnGuardar").disabled=!0}):(_(""),Rl(""),Ul(""),Ll(""),zl(""),Wl(""),Xl(""),_d(""),ru(""),tp(""),document.getElementById("name").disabled=!1,document.getElementById("apellidoP").disabled=!1,document.getElementById("apellidoM").disabled=!1,document.getElementById("edad").disabled=!1,document.getElementById("domicilio").disabled=!1,document.getElementById("telefono").disabled=!1,document.getElementById("sexo").disabled=!1,document.getElementById("peso").disabled=!1,document.getElementById("altura").disabled=!1,document.getElementById("observaciones").disabled=!1,document.getElementById("btnGuardar").disabled=!1)}).catch(np=>{console.log("Error getting documents: ",np)})},yp=i.map(ep=>({title:jsx("a",{onClick:()=>$p(ep.usuario,ep.uid),className:"text-white",children:ep.paciente}),start:hooks(ep.fecha).toDate(),end:hooks(ep.fecha).toDate(),desc:ep.Description})),dp=(ep,Ql)=>{console.log("user",ep),app.firestore().collection("Expedientes").where("userP","==",ep).get().then(Jl=>{if(Jl.size>0){console.log("si hay expedientes");var np=window.open("","MsgWindow","width=200,height=100","top=100,left=100","fullscreen=yes");np.document.write("<html><head><title>Expediente</title><link href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65' crossorigin='anonymous'></head><body>"),Jl.forEach(cp=>{console.log(cp.data()),np.document.write("<table class='table table-bordered'>"),np.document.write("<thead>"),np.document.write("<tr>"),np.document.write("<th scope='col'>Nombre Completo</th>"),np.document.write("<th scope='col'>Edad</th>"),np.document.write("<th scope='col'>Domicilio</th>"),np.document.write("<th scope='col'>Telefono</th>"),np.document.write("<th scope='col'>Sexo</th>"),np.document.write("<th scope='col'>Peso</th>"),np.document.write("<th scope='col'>Altura</th>"),np.document.write("<th scope='col'>Observaciones</th>"),np.document.write("</tr>"),np.document.write("</thead>"),np.document.write("<tbody>"),np.document.write("<tr>"),np.document.write("<td>"+cp.data().nombrePa+" "+cp.data().apellidoP+" "+cp.data().apellidoM+"</td>"),np.document.write("<td>"+cp.data().edad+"</td>"),np.document.write("<td>"+cp.data().domicilio+"</td>"),np.document.write("<td>"+cp.data().telefono+"</td>"),np.document.write("<td>"+cp.data().sexo+"</td>"),np.document.write("<td>"+cp.data().peso+"</td>"),np.document.write("<td>"+cp.data().altura+"</td>"),np.document.write("<td>"+cp.data().observaciones+"</td>"),np.document.write("</tr>"),np.document.write("</tbody>"),np.document.write("</table>"),np.document.write(" <hr> ")}),np.document.write("<link href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65' crossorigin='anonymous'>"),np.document.write("</body></html>"),np.document.close(),np.focus(),np.print(),np.close()}else swal("No hay expedientes","No hay expedientes para este paciente","info")}).catch(Jl=>{swal("Error","Error al traer los expedientes","error")})};return jsxs(Fragment,{children:[jsx("div",{className:"container mt-5",children:jsx("div",{className:"row",children:jsxs("div",{className:"col-md-12",children:[jsx("h3",{className:"text-center",children:"Citas"}),jsx(Calendar$1,{localizer:localizer$1,views:["month"],events:yp,startAccessor:"start",endAccessor:"end",style:{height:700}})]})})}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModal",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("h5",{class:"modal-title",children:"Expediente   "}),jsx("button",{type:"button",class:"btn",onClick:()=>dp(op),"data-toggle":"tooltip","data-placement":"top",title:"Ver Expediente",children:jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4835/4835622.png",width:"20",height:"20",alt:""})}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:rp,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsxs("form",{onSubmit:up,children:[jsxs("div",{class:"modal-body",id:"modal-body",children:[jsxs("label",{className:"mx-1 d-grid gap-2",children:["Nombre(s): ","",jsx("input",{onChange:ep=>_(ep.target.value),name:"name",id:"name",type:"text",className:"form-control",value:g})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Apellido Paterno: ","",jsx("input",{onChange:ep=>Rl(ep.target.value),name:"apellidoP",id:"apellidoP",type:"text",className:"form-control",value:$l})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Apellido Materno: ","",jsx("input",{onChange:ep=>Ul(ep.target.value),name:"apellidoM",id:"apellidoM",type:"text",className:"form-control",value:Ml})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Edad: ","",jsx("input",{onChange:ep=>Ll(ep.target.value),name:"edad",id:"edad",type:"number",className:"form-control",value:Fl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Domicilio: ","",jsx("input",{onChange:ep=>zl(ep.target.value),name:"domicilio",id:"domicilio",type:"text",className:"form-control",value:Bl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Peso: ","",jsx("input",{onChange:ep=>_d(ep.target.value),name:"peso",id:"peso",type:"number",className:"form-control",value:Gl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Altura: ","",jsx("input",{onChange:ep=>ru(ep.target.value),name:"altura",id:"altura",type:"number",className:"form-control",value:Kl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Telefono: ","",jsx("input",{onChange:ep=>Wl(ep.target.value),name:"telefono",id:"telefono",type:"number",className:"form-control",value:Hl})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Sexo: ","",jsxs("select",{className:"form-control mb-2",onChange:ep=>Xl(ep.target.value),value:Yl,id:"sexo",children:[jsx("option",{value:"",children:"--Seleccione una opci\xF3n--"}),jsx("option",{value:"Femenino",children:"Femenino"}),jsx("option",{value:"Masculino",children:"Masculino"})]})]}),jsxs("label",{className:"mx-1 d-grid gap-2",children:["Observaciones: ","",jsx("input",{onChange:ep=>tp(ep.target.value),name:"observaciones",id:"observaciones",type:"text",className:"form-control",value:Zl})]})]}),jsxs("div",{class:"modal-footer",children:[jsx("button",{className:"btn btn-primary btn-block",onClick:up,id:"btnGuardar",children:"Guardar"}),jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:rp,children:"Close"})]})]})]})})})]})},localizer=moment(hooks),Citas=()=>{const[i,e]=react$1.exports.useState([]),[s,o]=react$1.exports.useState(0),[a,c]=react$1.exports.useState(0),[d,h]=react$1.exports.useState(!1);react$1.exports.useEffect(()=>{let Ml=localStorage.getItem("datos");Ml!=null?Ml===!1&&(window.location.href="/Perfil"):window.location.href="/Perfil"},[d]),react$1.exports.useEffect(()=>{let Ml=localStorage.getItem("usuario");Ml!=null&&(Ml=Ml.replace(/['"]+/g,"")),Ml!=null?(console.log(Ml),app.firestore().collection("users").doc(Ml).get().then(Ul=>{Ul.exists?(c(Ul.data().rol),console.log("Document data:",Ul.data().rol),Ul.data().nombre!=null&&Ul.data().apellido!=null&&Ul.data().curp!=null&&Ul.data().telefono!=null&&Ul.data().id!=null&&Ul.data().rol!=null?h(!0):h(!1)):(o(0),console.log("No such document!"))}).catch(Ul=>{console.log("Error getting document:",Ul)})):c(0)},[]);let g=localStorage.getItem("usuario");g=g.replace(/['"]+/g,""),react$1.exports.useEffect(()=>{let Ml=localStorage.getItem("usuario");Ml!=null&&(Ml=Ml.replace(/['"]+/g,"")),Ml!=null?(console.log(Ml),app.firestore().collection("Citas").get().then(Ul=>{const Fl=[];Ul.forEach(Ll=>{Fl.push({...Ll.data(),id:Fl.length+1,uid:Ll.id})}),e(Fl)})):e([])},[]);function _(){var Ml=document.getElementById("exampleModal");Ml.style.display="none"}const $l=Ml=>{console.log(i),console.log(Ml);var Ul=document.getElementById("exampleModal"),Fl=document.getElementById("modal-body");Ul.style.display="block",Ul.hidden=!1,app.firestore().collection("Citas").doc(Ml).get().then(Ll=>{const Bl=[];console.log(Ll),Bl.push({...Ll.data(),id:Bl.length+1,uid:Ll.id}),console.log(Bl),Fl.innerHTML=` <p> <b>Paciente:</b> ${Bl[0].paciente} </p>
            <p> <b>Fecha:</b> ${Bl[0].fecha} </p>
            <p> <b>Hora:</b> ${Bl[0].hora} </p>
            <p> <b>Doctor:</b> ${Bl[0].name} </p>
            <p> <b>Consultorio:</b> ${Bl[0].ubicacion} </p>
            `})},Rl=i.map(Ml=>({title:jsx("a",{onClick:()=>$l(Ml.uid),children:Ml.paciente}),start:hooks(Ml.fecha).toDate(),end:hooks(Ml.fecha).toDate(),desc:Ml.Description}));return jsxs(Fragment,{children:[jsx("div",{className:"container mt-5",children:jsx("div",{className:"row",children:jsxs("div",{className:"col-md-12",children:[jsx("h3",{className:"text-center",children:"Citas"}),jsx(Calendar$1,{localizer,views:["month"],events:Rl,startAccessor:"start",endAccessor:"end",style:{height:500}})]})})}),jsx("div",{class:"modal",tabindex:"-1",role:"dialog",id:"exampleModal",hidden:!0,children:jsx("div",{class:"modal-dialog",role:"document",children:jsxs("div",{class:"modal-content",children:[jsxs("div",{class:"modal-header",children:[jsx("h5",{class:"modal-title",children:"CITA "}),jsx("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:_,children:jsx("span",{"aria-hidden":"true",children:"\xD7"})})]}),jsx("div",{class:"modal-body",id:"modal-body"}),jsx("div",{class:"modal-footer",children:jsx("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:_,children:"Close"})})]})})})]})};function App(){const[i,e]=react$1.exports.useState(0),[s,o]=react$1.exports.useState(0),[a,c]=react$1.exports.useState(!1);return react$1.exports.useEffect(()=>{let d=localStorage.getItem("usuario");d!=null&&(d=d.replace(/['"]+/g,"")),d!=null?(console.log(d),app.firestore().collection("users").doc(d).get().then(h=>{h.exists?(o(h.data().rol),console.log("Document data:",h.data().rol),h.data().nombre!=null&&h.data().apellido!=null&&h.data().curp!=null&&h.data().telefono!=null&&h.data().id!=null&&h.data().rol!=null?(c(!0),localStorage.setItem("datos",!0)):c(!1)):(e(0),console.log("No such document!"))}).catch(h=>{console.log("Error getting document:",h)})):o(0)},[]),react$1.exports.useEffect(()=>{e(localStorage.getItem("usuario"))},[]),jsx("div",{className:"App",children:jsxs(BrowserRouter,{children:[jsx(NavBar,{}),i?jsx(Fragment,{children:s==="admin"?jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Usuario,{})}),jsx(Route,{path:"/Citas",element:jsx(Citas$4,{})}),jsx(Route,{path:"/Servicios",element:jsx(Servicios,{})}),jsx(Route,{path:"/Agenda",element:jsx(Citas,{})}),jsx(Route,{path:"/Especialistas",element:jsx(Especialistas,{})}),jsx(Route,{path:"/Expediente",element:jsx(Expedientes,{})}),jsx(Route,{path:"/Perfil",element:jsx(Perfil,{})}),jsx(Route,{path:"*",element:jsx("h1",{children:"404: Not Found"})})]}):s==="doctor"?jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Citas$2,{})}),jsx(Route,{path:"/Expediente",element:jsx(Expedientes,{})}),jsx(Route,{path:"/Perfil",element:jsx(Perfil,{})}),jsx(Route,{path:"/Agenda",element:jsx(Citas$1,{})}),jsx(Route,{path:"*",element:jsx("h1",{children:"404: Not Found"})})]}):jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Usuario$1,{})}),jsx(Route,{path:"/Citas",element:jsx(Citas$4,{})}),jsx(Route,{path:"/Agenda",element:jsx(Citas$3,{})}),jsx(Route,{path:"/Perfil",element:jsx(Perfil,{})}),jsx(Route,{path:"*",element:jsx("h1",{children:"404: Not Found"})})]})}):jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Login,{})}),jsx(Route,{path:"*",element:jsx(Login,{})})]})]})})}const ReloadPrompt$1="",scriptRel="modulepreload",assetsURL=function(i){return"/"+i},seen={},__vitePreload=function i(e,s,o){if(!s||s.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(s.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!o)for(let $l=a.length-1;$l>=0;$l--){const Rl=a[$l];if(Rl.href===c&&(!d||Rl.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":scriptRel,d||(_.as="script",_.crossOrigin=""),_.href=c,document.head.appendChild(_),d)return new Promise(($l,Rl)=>{_.addEventListener("load",$l),_.addEventListener("error",()=>Rl(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>e())};function registerSW(i={}){const{immediate:e=!1,onNeedRefresh:s,onOfflineReady:o,onRegistered:a,onRegisteredSW:c,onRegisterError:d}=i;let h,g;const _=async(Rl=!0)=>{await g};async function $l(){if("serviceWorker"in navigator){const{Workbox:Rl}=await __vitePreload(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);h=new Rl("/sw.js",{scope:"/",type:"classic"}),h.addEventListener("activated",Ml=>{!Ml.isUpdate&&Ml.isExternal||Ml.isUpdate?window.location.reload():o==null||o()}),h.register({immediate:e}).then(Ml=>{c?c("/sw.js",Ml):a==null||a(Ml)}).catch(Ml=>{d==null||d(Ml)})}}return g=$l(),_}function useRegisterSW(i={}){const{immediate:e=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:a,onRegisteredSW:c,onRegisterError:d}=i,[h,g]=react$1.exports.useState(!1),[_,$l]=react$1.exports.useState(!1),[Rl]=react$1.exports.useState(()=>registerSW({immediate:e,onOfflineReady(){$l(!0),o==null||o()},onNeedRefresh(){g(!0),s==null||s()},onRegistered:a,onRegisteredSW:c,onRegisterError:d}));return{needRefresh:[h,g],offlineReady:[_,$l],updateServiceWorker:Rl}}function ReloadPrompt(){const{offlineReady:[i,e],needRefresh:[s,o],updateServiceWorker:a}=useRegisterSW({onRegistered(d){console.log("SW Registered: "+d)},onRegisterError(d){console.log("SW registration error",d)}}),c=()=>{e(!1),o(!1)};return jsx("div",{className:"ReloadPrompt-container",children:(i||s)&&jsxs("div",{className:"ReloadPrompt-toast",children:[jsx("div",{className:"ReloadPrompt-message",children:i?jsx("span",{children:"App ready to work offline"}):jsx("span",{children:"New content available, click on reload button to update."})}),s&&jsx("button",{className:"ReloadPrompt-toast-button",onClick:()=>a(!0),children:"Reload"}),jsx("button",{className:"ReloadPrompt-toast-button",onClick:()=>c(),children:"Close"})]})})}client.createRoot(document.getElementById("root")).render(jsxs(React$6.StrictMode,{children:[jsx(ReloadPrompt,{}),jsx(App,{})]}))});export default gy();
